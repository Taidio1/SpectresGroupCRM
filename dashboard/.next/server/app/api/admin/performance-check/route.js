/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/performance-check/route";
exports.ids = ["app/api/admin/performance-check/route"];
exports.modules = {

/***/ "(rsc)/./app/api/admin/performance-check/route.ts":
/*!**************************************************!*\
  !*** ./app/api/admin/performance-check/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n/**\r\n * üîç PERFORMANCE MONITORING: System Performance Check\r\n * \r\n * Endpoint dla sprawdzania metryk wydajno≈õci systemu\r\n * \r\n * Zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\r\n */ function generateRecommendations(tableStats) {\n    const recommendations = [];\n    if (!tableStats || !Array.isArray(tableStats)) {\n        recommendations.push('Nie mo≈ºna sprawdziƒá statystyk tabel');\n        return recommendations;\n    }\n    // Sprawd≈∫ czy sƒÖ tabele do archiwizacji\n    const activeLogsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs');\n    if (activeLogsTable && activeLogsTable.record_count > 10000) {\n        recommendations.push(`Tabela activity_logs ma ${activeLogsTable.record_count} rekord√≥w - rozwa≈º archiwizacjƒô`);\n    }\n    // Sprawd≈∫ rozmiar g≈Ç√≥wnej tabeli\n    const clientsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs_archive');\n    if (clientsTable && clientsTable.record_count > 50000) {\n        recommendations.push('Tabela archiwalna jest du≈ºa - rozwa≈º czyszczenie bardzo starych danych');\n    }\n    if (recommendations.length === 0) {\n        recommendations.push('System wydajno≈õciowy dzia≈Ça optymalnie');\n    }\n    return recommendations;\n}\nasync function GET() {\n    try {\n        console.log('üîç ADMIN: Sprawdzanie metryk wydajno≈õci systemu...');\n        let tableStats = [];\n        let viewFreshness = {\n            lastUpdate: null,\n            minutesSinceUpdate: 0,\n            isStale: false\n        };\n        const errors = [];\n        // Sprawd≈∫ rozmiary tabel i statystyki (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            tableStats = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.getSystemMetrics();\n            console.log('‚úÖ Statystyki tabel pobrane pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk tabel:', error);\n            errors.push('Nie uda≈Ço siƒô pobraƒá statystyk tabel');\n            // Fallback data\n            tableStats = [\n                {\n                    table_name: 'fallback',\n                    record_count: 0,\n                    table_size: 'Brak danych',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n        // Sprawd≈∫ ostatnie od≈õwie≈ºenie materializowanych widok√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            viewFreshness = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.dashboardApi.checkViewFreshness();\n            console.log('‚úÖ ≈öwie≈ºo≈õƒá widok√≥w sprawdzona pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            errors.push('Nie uda≈Ço siƒô sprawdziƒá ≈õwie≈ºo≈õci widok√≥w');\n            // Fallback data\n            viewFreshness = {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n        // Generuj rekomendacje (zawsze dzia≈ÇajƒÖce)\n        const recommendations = generateRecommendations(tableStats);\n        // Dodaj informacje o b≈Çƒôdach do rekomendacji\n        if (errors.length > 0) {\n            recommendations.unshift(...errors.map((error)=>`‚ö†Ô∏è ${error}`));\n        }\n        console.log('‚úÖ ADMIN: Metryki wydajno≈õci pobrane (z eventualnymi ostrze≈ºeniami)');\n        const overallStatus = errors.length > 0 ? 'warning' : viewFreshness.isStale ? 'warning' : 'healthy';\n        return Response.json({\n            success: true,\n            timestamp: new Date().toISOString(),\n            tableStats,\n            viewFreshness,\n            recommendations,\n            systemHealth: {\n                viewsStale: viewFreshness.isStale,\n                tablesHealthy: tableStats && tableStats.length > 0,\n                overallStatus,\n                hasErrors: errors.length > 0,\n                errorCount: errors.length\n            }\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: Krytyczny b≈ÇƒÖd sprawdzania wydajno≈õci:', error);\n        let errorMessage = 'Krytyczny b≈ÇƒÖd systemu monitorowania wydajno≈õci';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString(),\n            recommendations: [\n                'Sprawd≈∫ po≈ÇƒÖczenie z bazƒÖ danych',\n                'Sprawd≈∫ uprawnienia u≈ºytkownika',\n                'Skontaktuj siƒô z administratorem systemu'\n            ],\n            systemHealth: {\n                viewsStale: true,\n                tablesHealthy: false,\n                overallStatus: 'error',\n                hasErrors: true,\n                errorCount: 1\n            }\n        }, {\n            status: 200\n        }) // Zwr√≥cƒô 200 ale z success: false ≈ºeby frontend m√≥g≈Ç obs≈Çu≈ºyƒá\n        ;\n    }\n}\n/**\r\n * üöÄ POST endpoint dla manualnej optymalizacji systemu\r\n */ async function POST() {\n    try {\n        console.log('üöÄ ADMIN: Uruchamiam pe≈ÇnƒÖ optymalizacjƒô systemu...');\n        const startTime = Date.now();\n        // Uruchom pe≈ÇnƒÖ optymalizacjƒô bazy danych\n        const optimizationResult = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.optimizeDatabase();\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n        console.log(`‚úÖ ADMIN: Optymalizacja zako≈Ñczona w ${duration}ms:`, optimizationResult);\n        return Response.json({\n            success: true,\n            message: optimizationResult,\n            duration: `${duration}ms`,\n            timestamp: new Date().toISOString(),\n            actions: [\n                'Zarchiwizowano stare logi',\n                'Od≈õwie≈ºono materializowane widoki',\n                'Zaktualizowano statystyki bazy danych'\n            ]\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: B≈ÇƒÖd optymalizacji systemu:', error);\n        let errorMessage = 'Nie uda≈Ço siƒô zoptymalizowaƒá systemu';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RDtBQUU5RDs7Ozs7O0NBTUMsR0FFRCxTQUFTRSx3QkFBd0JDLFVBQWlCO0lBQ2hELE1BQU1DLGtCQUE0QixFQUFFO0lBRXBDLElBQUksQ0FBQ0QsY0FBYyxDQUFDRSxNQUFNQyxPQUFPLENBQUNILGFBQWE7UUFDN0NDLGdCQUFnQkcsSUFBSSxDQUFDO1FBQ3JCLE9BQU9IO0lBQ1Q7SUFFQSx3Q0FBd0M7SUFDeEMsTUFBTUksa0JBQWtCTCxXQUFXTSxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFVBQVUsS0FBSztJQUNwRSxJQUFJSCxtQkFBbUJBLGdCQUFnQkksWUFBWSxHQUFHLE9BQU87UUFDM0RSLGdCQUFnQkcsSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUVDLGdCQUFnQkksWUFBWSxDQUFDLCtCQUErQixDQUFDO0lBQy9HO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1DLGVBQWVWLFdBQVdNLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsVUFBVSxLQUFLO0lBQ2pFLElBQUlFLGdCQUFnQkEsYUFBYUQsWUFBWSxHQUFHLE9BQU87UUFDckRSLGdCQUFnQkcsSUFBSSxDQUFDO0lBQ3ZCO0lBRUEsSUFBSUgsZ0JBQWdCVSxNQUFNLEtBQUssR0FBRztRQUNoQ1YsZ0JBQWdCRyxJQUFJLENBQUM7SUFDdkI7SUFFQSxPQUFPSDtBQUNUO0FBRU8sZUFBZVc7SUFDcEIsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFFWixJQUFJZCxhQUFhLEVBQUU7UUFDbkIsSUFBSWUsZ0JBQWdCO1lBQUVDLFlBQVk7WUFBdUJDLG9CQUFvQjtZQUFHQyxTQUFTO1FBQU07UUFDL0YsTUFBTUMsU0FBUyxFQUFFO1FBRWpCLHlEQUF5RDtRQUN6RCxJQUFJO1lBQ0ZuQixhQUFhLE1BQU1ILHlEQUFjQSxDQUFDdUIsZ0JBQWdCO1lBQ2xEUCxRQUFR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QUFFLE9BQU83QixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyx3Q0FBd0NBO1FBRXRELElBQUlrQixlQUFlO1FBQ25CLElBQUlsQixpQkFBaUJtQixPQUFPO1lBQzFCRCxlQUFlbEIsTUFBTW9CLE9BQU87UUFDOUIsT0FBTyxJQUFJLE9BQU9wQixVQUFVLFVBQVU7WUFDcENrQixlQUFlbEI7UUFDakI7UUFFQSxPQUFPUyxTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFgsT0FBT2tCO1lBQ1BOLFdBQVcsSUFBSVQsT0FBT0MsV0FBVztRQUNuQyxHQUFHO1lBQUVpQixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxra2FjcFxcRGVza3RvcFxcU3BlY3Jlc0NSTXYyXFxTcGVjdHJlc0dyb3VwQ1JNXFxkYXNoYm9hcmRcXGFwcFxcYXBpXFxhZG1pblxccGVyZm9ybWFuY2UtY2hlY2tcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHBlcmZvcm1hbmNlQXBpLCBkYXNoYm9hcmRBcGkgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XHJcblxyXG4vKipcclxuICog8J+UjSBQRVJGT1JNQU5DRSBNT05JVE9SSU5HOiBTeXN0ZW0gUGVyZm9ybWFuY2UgQ2hlY2tcclxuICogXHJcbiAqIEVuZHBvaW50IGRsYSBzcHJhd2R6YW5pYSBtZXRyeWsgd3lkYWpub8WbY2kgc3lzdGVtdVxyXG4gKiBcclxuICogWmdvZG5pZSB6IElOU1RSVUtDSkVfUEVSRk9STUFOQ0VfT1BUSU1JWkFUSU9OUy5tZFxyXG4gKi9cclxuXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmVjb21tZW5kYXRpb25zKHRhYmxlU3RhdHM6IGFueVtdKTogc3RyaW5nW10ge1xyXG4gIGNvbnN0IHJlY29tbWVuZGF0aW9uczogc3RyaW5nW10gPSBbXVxyXG4gIFxyXG4gIGlmICghdGFibGVTdGF0cyB8fCAhQXJyYXkuaXNBcnJheSh0YWJsZVN0YXRzKSkge1xyXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ05pZSBtb8W8bmEgc3ByYXdkemnEhyBzdGF0eXN0eWsgdGFiZWwnKVxyXG4gICAgcmV0dXJuIHJlY29tbWVuZGF0aW9uc1xyXG4gIH1cclxuICBcclxuICAvLyBTcHJhd2TFuiBjenkgc8SFIHRhYmVsZSBkbyBhcmNoaXdpemFjamlcclxuICBjb25zdCBhY3RpdmVMb2dzVGFibGUgPSB0YWJsZVN0YXRzLmZpbmQoc3RhdCA9PiBzdGF0LnRhYmxlX25hbWUgPT09ICdhY3Rpdml0eV9sb2dzJylcclxuICBpZiAoYWN0aXZlTG9nc1RhYmxlICYmIGFjdGl2ZUxvZ3NUYWJsZS5yZWNvcmRfY291bnQgPiAxMDAwMCkge1xyXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goYFRhYmVsYSBhY3Rpdml0eV9sb2dzIG1hICR7YWN0aXZlTG9nc1RhYmxlLnJlY29yZF9jb3VudH0gcmVrb3Jkw7N3IC0gcm96d2HFvCBhcmNoaXdpemFjasSZYClcclxuICB9XHJcbiAgXHJcbiAgLy8gU3ByYXdkxbogcm96bWlhciBnxYLDs3duZWogdGFiZWxpXHJcbiAgY29uc3QgY2xpZW50c1RhYmxlID0gdGFibGVTdGF0cy5maW5kKHN0YXQgPT4gc3RhdC50YWJsZV9uYW1lID09PSAnYWN0aXZpdHlfbG9nc19hcmNoaXZlJylcclxuICBpZiAoY2xpZW50c1RhYmxlICYmIGNsaWVudHNUYWJsZS5yZWNvcmRfY291bnQgPiA1MDAwMCkge1xyXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ1RhYmVsYSBhcmNoaXdhbG5hIGplc3QgZHXFvGEgLSByb3p3YcW8IGN6eXN6Y3plbmllIGJhcmR6byBzdGFyeWNoIGRhbnljaCcpXHJcbiAgfVxyXG4gIFxyXG4gIGlmIChyZWNvbW1lbmRhdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnU3lzdGVtIHd5ZGFqbm/Fm2Npb3d5IGR6aWHFgmEgb3B0eW1hbG5pZScpXHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiByZWNvbW1lbmRhdGlvbnNcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CflI0gQURNSU46IFNwcmF3ZHphbmllIG1ldHJ5ayB3eWRham5vxZtjaSBzeXN0ZW11Li4uJylcclxuICAgIFxyXG4gICAgbGV0IHRhYmxlU3RhdHMgPSBbXVxyXG4gICAgbGV0IHZpZXdGcmVzaG5lc3MgPSB7IGxhc3RVcGRhdGU6IG51bGwgYXMgc3RyaW5nIHwgbnVsbCwgbWludXRlc1NpbmNlVXBkYXRlOiAwLCBpc1N0YWxlOiBmYWxzZSB9XHJcbiAgICBjb25zdCBlcnJvcnMgPSBbXVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiByb3ptaWFyeSB0YWJlbCBpIHN0YXR5c3R5a2kgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcclxuICAgIHRyeSB7XHJcbiAgICAgIHRhYmxlU3RhdHMgPSBhd2FpdCBwZXJmb3JtYW5jZUFwaS5nZXRTeXN0ZW1NZXRyaWNzKClcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBTdGF0eXN0eWtpIHRhYmVsIHBvYnJhbmUgcG9tecWbbG5pZScpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIHRhYmVsOicsIGVycm9yKVxyXG4gICAgICBlcnJvcnMucHVzaCgnTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgc3RhdHlzdHlrIHRhYmVsJylcclxuICAgICAgLy8gRmFsbGJhY2sgZGF0YVxyXG4gICAgICB0YWJsZVN0YXRzID0gW3tcclxuICAgICAgICB0YWJsZV9uYW1lOiAnZmFsbGJhY2snLFxyXG4gICAgICAgIHJlY29yZF9jb3VudDogMCxcclxuICAgICAgICB0YWJsZV9zaXplOiAnQnJhayBkYW55Y2gnLFxyXG4gICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZMW6IG9zdGF0bmllIG9kxZt3aWXFvGVuaWUgbWF0ZXJpYWxpem93YW55Y2ggd2lkb2vDs3cgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcclxuICAgIHRyeSB7XHJcbiAgICAgIHZpZXdGcmVzaG5lc3MgPSBhd2FpdCBkYXNoYm9hcmRBcGkuY2hlY2tWaWV3RnJlc2huZXNzKClcclxuICAgICAgY29uc29sZS5sb2coJ+KchSDFmndpZcW8b8WbxIcgd2lkb2vDs3cgc3ByYXdkem9uYSBwb215xZtsbmllJylcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgc3ByYXdkemFuaWEgxZt3aWXFvG/Fm2NpIHdpZG9rw7N3OicsIGVycm9yKVxyXG4gICAgICBlcnJvcnMucHVzaCgnTmllIHVkYcWCbyBzacSZIHNwcmF3ZHppxIcgxZt3aWXFvG/Fm2NpIHdpZG9rw7N3JylcclxuICAgICAgLy8gRmFsbGJhY2sgZGF0YVxyXG4gICAgICB2aWV3RnJlc2huZXNzID0geyBcclxuICAgICAgICBsYXN0VXBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIFxyXG4gICAgICAgIG1pbnV0ZXNTaW5jZVVwZGF0ZTogMCwgXHJcbiAgICAgICAgaXNTdGFsZTogZmFsc2UgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gR2VuZXJ1aiByZWtvbWVuZGFjamUgKHphd3N6ZSBkemlhxYJhasSFY2UpXHJcbiAgICBjb25zdCByZWNvbW1lbmRhdGlvbnMgPSBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyh0YWJsZVN0YXRzKVxyXG4gICAgXHJcbiAgICAvLyBEb2RhaiBpbmZvcm1hY2plIG8gYsWCxJlkYWNoIGRvIHJla29tZW5kYWNqaVxyXG4gICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHJlY29tbWVuZGF0aW9ucy51bnNoaWZ0KC4uLmVycm9ycy5tYXAoZXJyb3IgPT4gYOKaoO+4jyAke2Vycm9yfWApKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIEFETUlOOiBNZXRyeWtpIHd5ZGFqbm/Fm2NpIHBvYnJhbmUgKHogZXZlbnR1YWxueW1pIG9zdHJ6ZcW8ZW5pYW1pKScpXHJcbiAgICBcclxuICAgIGNvbnN0IG92ZXJhbGxTdGF0dXMgPSBlcnJvcnMubGVuZ3RoID4gMCA/ICd3YXJuaW5nJyA6ICh2aWV3RnJlc2huZXNzLmlzU3RhbGUgPyAnd2FybmluZycgOiAnaGVhbHRoeScpXHJcbiAgICBcclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHRhYmxlU3RhdHMsXHJcbiAgICAgIHZpZXdGcmVzaG5lc3MsXHJcbiAgICAgIHJlY29tbWVuZGF0aW9ucyxcclxuICAgICAgc3lzdGVtSGVhbHRoOiB7XHJcbiAgICAgICAgdmlld3NTdGFsZTogdmlld0ZyZXNobmVzcy5pc1N0YWxlLFxyXG4gICAgICAgIHRhYmxlc0hlYWx0aHk6IHRhYmxlU3RhdHMgJiYgdGFibGVTdGF0cy5sZW5ndGggPiAwLFxyXG4gICAgICAgIG92ZXJhbGxTdGF0dXMsXHJcbiAgICAgICAgaGFzRXJyb3JzOiBlcnJvcnMubGVuZ3RoID4gMCxcclxuICAgICAgICBlcnJvckNvdW50OiBlcnJvcnMubGVuZ3RoXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEFETUlOOiBLcnl0eWN6bnkgYsWCxIVkIHNwcmF3ZHphbmlhIHd5ZGFqbm/Fm2NpOicsIGVycm9yKVxyXG4gICAgXHJcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ0tyeXR5Y3pueSBixYLEhWQgc3lzdGVtdSBtb25pdG9yb3dhbmlhIHd5ZGFqbm/Fm2NpJ1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogW1xyXG4gICAgICAgICdTcHJhd2TFuiBwb8WCxIVjemVuaWUgeiBiYXrEhSBkYW55Y2gnLCBcclxuICAgICAgICAnU3ByYXdkxbogdXByYXduaWVuaWEgdcW8eXRrb3duaWthJyxcclxuICAgICAgICAnU2tvbnRha3R1aiBzacSZIHogYWRtaW5pc3RyYXRvcmVtIHN5c3RlbXUnXHJcbiAgICAgIF0sXHJcbiAgICAgIHN5c3RlbUhlYWx0aDoge1xyXG4gICAgICAgIHZpZXdzU3RhbGU6IHRydWUsXHJcbiAgICAgICAgdGFibGVzSGVhbHRoeTogZmFsc2UsXHJcbiAgICAgICAgb3ZlcmFsbFN0YXR1czogJ2Vycm9yJyxcclxuICAgICAgICBoYXNFcnJvcnM6IHRydWUsXHJcbiAgICAgICAgZXJyb3JDb3VudDogMVxyXG4gICAgICB9XHJcbiAgICB9LCB7IHN0YXR1czogMjAwIH0pIC8vIFp3csOzY8SZIDIwMCBhbGUgeiBzdWNjZXNzOiBmYWxzZSDFvGVieSBmcm9udGVuZCBtw7NnxYIgb2JzxYJ1xbx5xIdcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDwn5qAIFBPU1QgZW5kcG9pbnQgZGxhIG1hbnVhbG5laiBvcHR5bWFsaXphY2ppIHN5c3RlbXVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+agCBBRE1JTjogVXJ1Y2hhbWlhbSBwZcWCbsSFIG9wdHltYWxpemFjasSZIHN5c3RlbXUuLi4nKVxyXG4gICAgXHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXHJcbiAgICBcclxuICAgIC8vIFVydWNob20gcGXFgm7EhSBvcHR5bWFsaXphY2rEmSBiYXp5IGRhbnljaFxyXG4gICAgY29uc3Qgb3B0aW1pemF0aW9uUmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VBcGkub3B0aW1pemVEYXRhYmFzZSgpXHJcbiAgICBcclxuICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWVcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYOKchSBBRE1JTjogT3B0eW1hbGl6YWNqYSB6YWtvxYRjem9uYSB3ICR7ZHVyYXRpb259bXM6YCwgb3B0aW1pemF0aW9uUmVzdWx0KVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IG9wdGltaXphdGlvblJlc3VsdCxcclxuICAgICAgZHVyYXRpb246IGAke2R1cmF0aW9ufW1zYCxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICAnWmFyY2hpd2l6b3dhbm8gc3RhcmUgbG9naScsXHJcbiAgICAgICAgJ09kxZt3aWXFvG9ubyBtYXRlcmlhbGl6b3dhbmUgd2lkb2tpJywgXHJcbiAgICAgICAgJ1pha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgYmF6eSBkYW55Y2gnXHJcbiAgICAgIF1cclxuICAgIH0pXHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEFETUlOOiBCxYLEhWQgb3B0eW1hbGl6YWNqaSBzeXN0ZW11OicsIGVycm9yKVxyXG4gICAgXHJcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ05pZSB1ZGHFgm8gc2nEmSB6b3B0eW1hbGl6b3dhxIcgc3lzdGVtdSdcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvclxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJwZXJmb3JtYW5jZUFwaSIsImRhc2hib2FyZEFwaSIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwidGFibGVTdGF0cyIsInJlY29tbWVuZGF0aW9ucyIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJhY3RpdmVMb2dzVGFibGUiLCJmaW5kIiwic3RhdCIsInRhYmxlX25hbWUiLCJyZWNvcmRfY291bnQiLCJjbGllbnRzVGFibGUiLCJsZW5ndGgiLCJHRVQiLCJjb25zb2xlIiwibG9nIiwidmlld0ZyZXNobmVzcyIsImxhc3RVcGRhdGUiLCJtaW51dGVzU2luY2VVcGRhdGUiLCJpc1N0YWxlIiwiZXJyb3JzIiwiZ2V0U3lzdGVtTWV0cmljcyIsImVycm9yIiwidGFibGVfc2l6ZSIsImxhc3RfdXBkYXRlZCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImNoZWNrVmlld0ZyZXNobmVzcyIsInVuc2hpZnQiLCJtYXAiLCJvdmVyYWxsU3RhdHVzIiwiUmVzcG9uc2UiLCJqc29uIiwic3VjY2VzcyIsInRpbWVzdGFtcCIsInN5c3RlbUhlYWx0aCIsInZpZXdzU3RhbGUiLCJ0YWJsZXNIZWFsdGh5IiwiaGFzRXJyb3JzIiwiZXJyb3JDb3VudCIsImVycm9yTWVzc2FnZSIsIkVycm9yIiwibWVzc2FnZSIsInN0YXR1cyIsIlBPU1QiLCJzdGFydFRpbWUiLCJub3ciLCJvcHRpbWl6YXRpb25SZXN1bHQiLCJvcHRpbWl6ZURhdGFiYXNlIiwiZW5kVGltZSIsImR1cmF0aW9uIiwiYWN0aW9ucyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/performance-check/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activityLogsApi: () => (/* binding */ activityLogsApi),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   callsApi: () => (/* binding */ callsApi),\n/* harmony export */   clientsApi: () => (/* binding */ clientsApi),\n/* harmony export */   csvImportApi: () => (/* binding */ csvImportApi),\n/* harmony export */   dashboardApi: () => (/* binding */ dashboardApi),\n/* harmony export */   getAvatarUrl: () => (/* binding */ getAvatarUrl),\n/* harmony export */   getCanvasClientsWithPriority: () => (/* binding */ getCanvasClientsWithPriority),\n/* harmony export */   getCanvasStatusColor: () => (/* binding */ getCanvasStatusColor),\n/* harmony export */   locationsApi: () => (/* binding */ locationsApi),\n/* harmony export */   notificationsApi: () => (/* binding */ notificationsApi),\n/* harmony export */   performanceApi: () => (/* binding */ performanceApi),\n/* harmony export */   permissionsApi: () => (/* binding */ permissionsApi),\n/* harmony export */   reportsApi: () => (/* binding */ reportsApi),\n/* harmony export */   storageApi: () => (/* binding */ storageApi),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   teamApi: () => (/* binding */ teamApi)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://pkhuggdkcglicghgxiyp.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBraHVnZ2RrY2dsaWNnaGd4aXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MTEwNzEsImV4cCI6MjA2NTQ4NzA3MX0.LbWtb-modRDlvnkGF5IswRHe1lJpd4zCMgkQ3_E0QQk\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Funkcja pomocnicza do generowania poprawnych URL-i avatar√≥w z Supabase Storage\nconst getAvatarUrl = (avatarUrl)=>{\n    if (!avatarUrl) return null;\n    // Je≈õli to ju≈º pe≈Çny URL (zaczyna siƒô od http), zwr√≥ƒá bez zmian\n    if (avatarUrl.startsWith('http')) {\n        return avatarUrl;\n    }\n    // Je≈õli to ≈õcie≈ºka w bucket'u (zawiera folder), wygeneruj publiczny URL\n    if (avatarUrl.includes('/')) {\n        try {\n            const { data } = supabase.storage.from('avatars').getPublicUrl(avatarUrl);\n            return data.publicUrl;\n        } catch (error) {\n            console.error('B≈ÇƒÖd generowania URL avatara:', error);\n            return null;\n        }\n    }\n    // Fallback - prawdopodobnie niepoprawny format\n    console.warn('Nierozpoznany format avatar_url:', avatarUrl);\n    return null;\n};\n// Storage API dla plik√≥w CSV\nconst storageApi = {\n    // Upload pliku CSV do bucket\n    async uploadCSV (file, user) {\n        try {\n            // Oczyszczenie nazwy pliku z problematycznych znak√≥w\n            const cleanFileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_') // ZastƒÖp wszystkie znaki specjalne podkre≈õleniami\n            .replace(/_{2,}/g, '_') // Zamie≈Ñ wielokrotne podkre≈õlenia na pojedyncze\n            .replace(/^_+|_+$/g, '') // Usu≈Ñ podkre≈õlenia z poczƒÖtku i ko≈Ñca\n            .toLowerCase() // Ma≈Çe litery dla consistency\n            ;\n            const fileName = `${user.id}_${Date.now()}_${cleanFileName}`;\n            const filePath = `csv-imports/${fileName}`;\n            console.log(`üìÅ Uploading CSV: ${filePath}`);\n            console.log(`üìÅ Original filename: ${file.name}`);\n            console.log(`üìÅ Cleaned filename: ${cleanFileName}`);\n            const { data, error } = await supabase.storage.from('csv-files').upload(filePath, file, {\n                cacheControl: '3600',\n                upsert: false\n            });\n            if (error) {\n                console.error('‚ùå Storage upload error:', error);\n                throw new Error(`B≈ÇƒÖd uploadu: ${error.message}`);\n            }\n            console.log('‚úÖ File uploaded successfully:', data.path);\n            return data.path;\n        } catch (error) {\n            console.error('‚ùå Upload failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz publiczny URL pliku\n    getPublicUrl (path) {\n        const { data } = supabase.storage.from('csv-files').getPublicUrl(path);\n        return data.publicUrl;\n    },\n    // Usu≈Ñ plik z bucket\n    async deleteFile (path) {\n        const { error } = await supabase.storage.from('csv-files').remove([\n            path\n        ]);\n        if (error) {\n            console.error('‚ùå File deletion error:', error);\n            throw new Error(`B≈ÇƒÖd usuwania pliku: ${error.message}`);\n        }\n    }\n};\n// CSV Import API\nconst csvImportApi = {\n    // Parsuj CSV i zwr√≥ƒá dane\n    parseCSV (csvText) {\n        const lines = csvText.split('\\n').filter((line)=>line.trim() !== '');\n        if (lines.length < 2) {\n            throw new Error('Plik CSV jest pusty lub zawiera tylko nag≈Ç√≥wki');\n        }\n        // Parsowanie z obs≈ÇugƒÖ cudzys≈Çow√≥w\n        const parseCSVLine = (line)=>{\n            const result = [];\n            let current = '';\n            let inQuotes = false;\n            for(let i = 0; i < line.length; i++){\n                const char = line[i];\n                if (char === '\"') {\n                    inQuotes = !inQuotes;\n                } else if (char === ',' && !inQuotes) {\n                    result.push(current.trim());\n                    current = '';\n                } else {\n                    current += char;\n                }\n            }\n            result.push(current.trim());\n            return result.map((cell)=>cell.replace(/^\"|\"$/g, '')) // Usu≈Ñ cudzys≈Çowy\n            ;\n        };\n        const headers = parseCSVLine(lines[0]);\n        const rows = lines.slice(1).map(parseCSVLine);\n        return {\n            headers,\n            rows\n        };\n    },\n    // Mapuj nag≈Ç√≥wki CSV na pola bazy danych\n    mapHeaders (headers) {\n        const mapping = {};\n        const fieldMappings = [\n            {\n                fields: [\n                    'first_name',\n                    'imiƒô',\n                    'name',\n                    'firstName'\n                ],\n                dbField: 'first_name'\n            },\n            {\n                fields: [\n                    'last_name',\n                    'nazwisko',\n                    'surname',\n                    'lastName'\n                ],\n                dbField: 'last_name'\n            },\n            {\n                fields: [\n                    'company_name',\n                    'firma',\n                    'company',\n                    'companyName',\n                    'nazwa'\n                ],\n                dbField: 'company_name'\n            },\n            {\n                fields: [\n                    'nip',\n                    'tax_id',\n                    'taxId'\n                ],\n                dbField: 'nip'\n            },\n            {\n                fields: [\n                    'phone',\n                    'telefon',\n                    'telephone'\n                ],\n                dbField: 'phone'\n            },\n            {\n                fields: [\n                    'email',\n                    'e-mail',\n                    'mail'\n                ],\n                dbField: 'email'\n            },\n            {\n                fields: [\n                    'website',\n                    'www',\n                    'strona',\n                    'url'\n                ],\n                dbField: 'website'\n            },\n            {\n                fields: [\n                    'notes',\n                    'notatka',\n                    'note',\n                    'comment'\n                ],\n                dbField: 'notes'\n            },\n            {\n                fields: [\n                    'status'\n                ],\n                dbField: 'status'\n            }\n        ];\n        for (const fieldMapping of fieldMappings){\n            for(let i = 0; i < headers.length; i++){\n                const header = headers[i].toLowerCase().trim();\n                if (fieldMapping.fields.some((field)=>header.includes(field))) {\n                    mapping[fieldMapping.dbField] = i;\n                    break;\n                }\n            }\n        }\n        return mapping;\n    },\n    // Waliduj wymagane pola\n    validateRequiredFields (mapping) {\n        const requiredFields = [\n            'company_name'\n        ];\n        const missingFields = requiredFields.filter((field)=>!(field in mapping));\n        if (missingFields.length > 0) {\n            throw new Error(`Brak wymaganych kolumn: ${missingFields.join(', ')}. Wymagane: Firma/Nazwa`);\n        }\n    },\n    // Sprawd≈∫ dostƒôpne kolumny i poka≈º informacje\n    analyzeColumns (mapping, headers) {\n        const allPossibleFields = [\n            {\n                field: 'first_name',\n                displayName: 'Imiƒô',\n                required: false\n            },\n            {\n                field: 'last_name',\n                displayName: 'Nazwisko',\n                required: false\n            },\n            {\n                field: 'company_name',\n                displayName: 'Firma/Nazwa',\n                required: true\n            },\n            {\n                field: 'phone',\n                displayName: 'Telefon',\n                required: false\n            },\n            {\n                field: 'email',\n                displayName: 'Email',\n                required: false\n            },\n            {\n                field: 'nip',\n                displayName: 'NIP',\n                required: false\n            },\n            {\n                field: 'website',\n                displayName: 'Strona WWW',\n                required: false\n            },\n            {\n                field: 'notes',\n                displayName: 'Notatki',\n                required: false\n            },\n            {\n                field: 'status',\n                displayName: 'Status',\n                required: false\n            }\n        ];\n        const found = [];\n        const missing = [];\n        const optional = [];\n        allPossibleFields.forEach(({ field, displayName, required })=>{\n            if (field in mapping) {\n                found.push(displayName);\n            } else if (required) {\n                missing.push(displayName);\n            } else {\n                optional.push(displayName);\n            }\n        });\n        return {\n            found,\n            missing,\n            optional\n        };\n    },\n    // Przekszta≈Çƒá wiersz CSV na obiekt klienta\n    rowToClient (row, mapping, user, locationId) {\n        const getField = (field, defaultValue = 'brak informacji')=>{\n            const index = mapping[field];\n            if (index === undefined) {\n                return defaultValue;\n            }\n            const value = (row[index] || '').trim();\n            return value === '' ? defaultValue : value;\n        };\n        // Walidacja statusu\n        const rawStatus = getField('status', 'canvas').toLowerCase();\n        const validStatuses = [\n            'canvas',\n            'brak_kontaktu',\n            'nie_zainteresowany',\n            'zdenerwowany',\n            'antysale',\n            'sale',\n            '$$'\n        ];\n        const status = validStatuses.includes(rawStatus) ? rawStatus : 'canvas';\n        return {\n            first_name: getField('first_name'),\n            last_name: getField('last_name'),\n            company_name: getField('company_name', ''),\n            nip: getField('nip'),\n            phone: getField('phone'),\n            email: getField('email'),\n            website: getField('website'),\n            notes: getField('notes'),\n            status,\n            edited_by: user.id,\n            edited_at: new Date().toISOString(),\n            owner_id: user.id,\n            location_id: locationId || user.location_id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url\n        };\n    },\n    // Import pe≈Çnego CSV do bazy danych\n    async importCSV (file, user, locationId, onProgress) {\n        try {\n            onProgress?.({\n                current: 0,\n                total: 100,\n                status: 'Uploading pliku...'\n            });\n            // 1. Upload pliku do Storage\n            const filePath = await storageApi.uploadCSV(file, user);\n            onProgress?.({\n                current: 20,\n                total: 100,\n                status: 'Parsowanie CSV...'\n            });\n            // 2. Czytanie i parsowanie CSV\n            const csvText = await file.text();\n            const { headers, rows } = csvImportApi.parseCSV(csvText);\n            onProgress?.({\n                current: 40,\n                total: 100,\n                status: 'Mapowanie kolumn...'\n            });\n            // 3. Mapowanie nag≈Ç√≥wk√≥w\n            const mapping = csvImportApi.mapHeaders(headers);\n            csvImportApi.validateRequiredFields(mapping);\n            // 4. Analiza dostƒôpnych kolumn\n            const columnAnalysis = csvImportApi.analyzeColumns(mapping, headers);\n            console.log('üìä CSV Headers:', headers);\n            console.log('üìä Field mapping:', mapping);\n            console.log('üìä Rows to import:', rows.length);\n            console.log('‚úÖ Znalezione kolumny:', columnAnalysis.found);\n            console.log('‚ùå BrakujƒÖce wymagane:', columnAnalysis.missing);\n            console.log('‚ö™ Opcjonalne (bƒôdƒÖ \"brak informacji\"):', columnAnalysis.optional);\n            onProgress?.({\n                current: 50,\n                total: 100,\n                status: `Importowanie ${rows.length} klient√≥w...`\n            });\n            // 4. Import wierszy do bazy\n            const results = {\n                success: 0,\n                errors: []\n            };\n            for(let i = 0; i < rows.length; i++){\n                try {\n                    const row = rows[i];\n                    // Sprawd≈∫ czy wiersz nie jest pusty\n                    if (row.every((cell)=>cell.trim() === '')) {\n                        continue;\n                    }\n                    const clientData = csvImportApi.rowToClient(row, mapping, user, locationId);\n                    // Walidacja podstawowych danych\n                    if (!clientData.company_name || clientData.company_name.trim() === '') {\n                        results.errors.push({\n                            row: i + 2,\n                            error: 'Brak wymaganych danych: firma/nazwa',\n                            data: row\n                        });\n                        continue;\n                    }\n                    // Dodaj klienta do bazy\n                    await clientsApi.createClient(clientData, user);\n                    results.success++;\n                    // Aktualizuj progress\n                    const progress = 50 + Math.floor(i / rows.length * 40);\n                    onProgress?.({\n                        current: progress,\n                        total: 100,\n                        status: `Zaimportowano ${results.success}/${rows.length} klient√≥w`\n                    });\n                } catch (error) {\n                    console.error(`‚ùå B≈ÇƒÖd importu wiersza ${i + 2}:`, error);\n                    results.errors.push({\n                        row: i + 2,\n                        error: error instanceof Error ? error.message : 'Nieznany b≈ÇƒÖd',\n                        data: rows[i]\n                    });\n                }\n            }\n            onProgress?.({\n                current: 95,\n                total: 100,\n                status: 'Finalizowanie...'\n            });\n            // 5. Opcjonalnie usu≈Ñ plik z Storage (lub zachowaj dla historii)\n            // await storageApi.deleteFile(filePath)\n            onProgress?.({\n                current: 100,\n                total: 100,\n                status: 'Zako≈Ñczono!'\n            });\n            console.log(`‚úÖ Import zako≈Ñczony: ${results.success} sukces, ${results.errors.length} b≈Çƒôd√≥w`);\n            return results;\n        } catch (error) {\n            console.error('‚ùå CSV Import failed:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje sprawdzania uprawnie≈Ñ z hierarchiƒÖ i lokalizacjƒÖ\nconst permissionsApi = {\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá klienta (zgodnie z RLS)\n    canView: (client, user)=>{\n        // Szef i admin widzƒÖ wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Sprawd≈∫ czy klient jest w tej samej lokalizacji co u≈ºytkownik\n        const sameLocation = client.location_id === user.location_id;\n        if (!sameLocation) {\n            return false;\n        }\n        switch(user.role){\n            case 'pracownik':\n                // Pracownik widzi tylko swoich klient√≥w w swojej lokalizacji\n                return client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id;\n            case 'junior_manager':\n            case 'manager':\n            case 'project_manager':\n                // Mened≈ºerowie widzƒÖ wszystkich klient√≥w w swojej lokalizacji\n                return true;\n            default:\n                return false;\n        }\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe edytowaƒá klienta\n    canEdit: (client, user)=>{\n        // Takie same regu≈Çy jak canView\n        return permissionsApi.canView(client, user);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe usunƒÖƒá klienta\n    canDelete: (client, user)=>{\n        // Szef i admin mogƒÖ usuwaƒá wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Mened≈ºerowie mogƒÖ usuwaƒá w swojej lokalizacji\n        if ([\n            'manager',\n            'project_manager',\n            'junior_manager'\n        ].includes(user.role)) {\n            return client.location_id === user.location_id;\n        }\n        // Pracownicy nie mogƒÖ usuwaƒá\n        return false;\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe przypisywaƒá klient√≥w\n    canAssignClients: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe zmieniaƒá role innych u≈ºytkownik√≥w\n    canChangeRoles: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe dostƒôp do zaawansowanych raport√≥w\n    canAccessAdvancedReports: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá wszystkie lokalizacje\n    canViewAllLocations: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe filtrowaƒá po lokalizacjach\n    canFilterByLocation: (user)=>{\n        return [\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ poziom hierarchii - czy user1 mo≈ºe zarzƒÖdzaƒá user2\n    canManageUser: (user1, user2)=>{\n        // Admin mo≈ºe zarzƒÖdzaƒá wszystkimi\n        if (user1.role === 'admin') return true;\n        // Szef mo≈ºe zarzƒÖdzaƒá wszystkimi opr√≥cz admin√≥w\n        if (user1.role === 'szef' && user2.role !== 'admin') return true;\n        // Inni mogƒÖ zarzƒÖdzaƒá tylko podw≈Çadnymi w tej samej lokalizacji\n        const sameLocation = user1.location_id === user2.location_id;\n        const higherInHierarchy = (user1.role_hierarchy_level || 99) < (user2.role_hierarchy_level || 99);\n        return sameLocation && higherInHierarchy;\n    }\n};\n// Funkcje API dla klient√≥w z systemem uprawnie≈Ñ\nconst clientsApi = {\n    // Funkcja testowa - podstawowe zapytanie do klient√≥w\n    async testBasicQuery () {\n        try {\n            console.log('üîç Testowe zapytanie do tabeli clients...');\n            const { data, error } = await supabase.from('clients').select('*').limit(5);\n            console.log('Wynik testu - data:', data);\n            console.log('Wynik testu - error:', error);\n            return {\n                data,\n                error\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testowego zapytania:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n    },\n    // Pobierz klient√≥w z filtrami uprawnie≈Ñ\n    // üöÄ NOWE: Funkcja z paginacjƒÖ zwracajƒÖca obiekt z metadanymi\n    async getClientsPaginated (user, filters) {\n        try {\n            console.log('üîÑ Rozpoczynam pobieranie klient√≥w dla u≈ºytkownika:', user.id, user.role);\n            // U≈ºyj JOIN aby pobraƒá klient√≥w z danymi w≈Ça≈õcicieli i lokalizacji w jednym zapytaniu\n            // üöÄ OPTYMALIZACJA: Wybierz tylko niezbƒôdne pola + lokalizacja + reminder\n            let query = supabase.from('clients').select(`\n          id,\n          first_name,\n          last_name,\n          company_name,\n          nip,\n          phone,\n          email,\n          website,\n          status,\n          notes,\n          reminder,\n          owner_id,\n          location_id,\n          edited_by,\n          edited_at,\n          created_at,\n          updated_at,\n          status_changed_at,\n          last_phone_click,\n          last_edited_by_name,\n          last_edited_by_avatar_url,\n          owner:users!owner_id (\n            id,\n            full_name,\n            email,\n            avatar_url\n          ),\n          location:locations!location_id (\n            id,\n            name,\n            code,\n            currency,\n            timezone\n          )\n        `, {\n                count: 'exact'\n            });\n            // üöÄ SORTOWANIE: Obs≈Çuga dynamicznego sortowania\n            const sortField = filters?.sortBy || 'updated_at';\n            const isAscending = filters?.sortDirection === 'asc';\n            query = query.order(sortField, {\n                ascending: isAscending\n            });\n            // Dodatkowe filtry\n            if (filters?.date) {\n                query = query.gte('updated_at', filters.date);\n            }\n            if (filters?.status) {\n                query = query.eq('status', filters.status);\n            }\n            if (filters?.employee) {\n                query = query.eq('edited_by', filters.employee);\n            }\n            // üöÄ NOWE: Filtr wyszukiwania\n            if (filters?.search) {\n                const searchTerm = filters.search.toLowerCase();\n                query = query.or(`first_name.ilike.%${searchTerm}%,last_name.ilike.%${searchTerm}%,company_name.ilike.%${searchTerm}%,phone.ilike.%${searchTerm}%,email.ilike.%${searchTerm}%`);\n            }\n            // üöÄ NOWE: Filtr lokalizacji\n            if (filters?.location) {\n                query = query.eq('location_id', filters.location);\n            }\n            // üöÄ NOWE: Paginacja\n            if (filters?.page && filters?.pageSize) {\n                const from = (filters.page - 1) * filters.pageSize;\n                const to = from + filters.pageSize - 1;\n                query = query.range(from, to);\n                console.log(`üìÑ Paginacja: strona ${filters.page}, rozmiar ${filters.pageSize}, zakres: ${from}-${to}`);\n            }\n            console.log('üîÑ Wykonujƒô zapytanie z JOIN i liczeniem...');\n            const { data: clients, error, count } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania clients:', error);\n                throw error;\n            }\n            if (!clients || clients.length === 0) {\n                console.log('‚ÑπÔ∏è Brak klient√≥w w bazie danych');\n                return {\n                    clients: [],\n                    total: 0,\n                    page: filters?.page || 1,\n                    pageSize: filters?.pageSize || 0\n                };\n            }\n            // Przekszta≈Çƒá dane - Supabase JOIN zwraca owner i location jako tablice, ale potrzebujemy pojedynczych obiekt√≥w\n            const transformedClients = clients.map((client)=>({\n                    ...client,\n                    owner: client.owner && Array.isArray(client.owner) && client.owner.length > 0 ? client.owner[0] // We≈∫ pierwszy element z tablicy\n                     : client.owner && !Array.isArray(client.owner) ? client.owner // Ju≈º jest pojedynczym obiektem\n                     : null,\n                    location: client.location && Array.isArray(client.location) && client.location.length > 0 ? client.location[0] // We≈∫ pierwszy element z tablicy\n                     : client.location && !Array.isArray(client.location) ? client.location // Ju≈º jest pojedynczym obiektem\n                     : null // Brak lokalizacji\n                }));\n            // DEBUG: Sprawd≈∫ dane w≈Ça≈õcicieli\n            const clientsWithOwners = transformedClients.filter((client)=>client.owner);\n            const clientsWithoutOwners = transformedClients.filter((client)=>!client.owner);\n            console.log('‚úÖ Klienci z w≈Ça≈õcicielami:', clientsWithOwners.length);\n            console.log('‚ùå Klienci bez w≈Ça≈õcicieli:', clientsWithoutOwners.length);\n            if (clientsWithOwners.length > 0) {\n                console.log('üë§ Przyk≈Çad klienta z w≈Ça≈õcicielem:', {\n                    client: `${clientsWithOwners[0].first_name} ${clientsWithOwners[0].last_name}`,\n                    owner_id: clientsWithOwners[0].owner_id,\n                    owner_name: clientsWithOwners[0].owner?.full_name,\n                    owner_email: clientsWithOwners[0].owner?.email\n                });\n            }\n            // üöÄ NOWE: Zwr√≥ƒá dane z informacjƒÖ o paginacji\n            return {\n                clients: transformedClients,\n                total: count || transformedClients.length,\n                page: filters?.page || 1,\n                pageSize: filters?.pageSize || transformedClients.length\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClientsPaginated:', error);\n            throw error;\n        }\n    },\n    // üîÑ KOMPATYBILNO≈öƒÜ: Stara funkcja zwracajƒÖca tylko tablicƒô klient√≥w\n    async getClients (user, filters) {\n        try {\n            const result = await this.getClientsPaginated(user, filters);\n            return result.clients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClients:', error);\n            throw error;\n        }\n    },\n    // Dodaj nowego klienta z automatycznym przypisaniem w≈Ça≈õciciela\n    async createClient (client, user) {\n        // ZABEZPIECZENIE: Upewnij siƒô ≈ºe status nie jest pusty\n        const safeStatus = client.status || 'canvas';\n        const clientToCreate = {\n            ...client,\n            status: safeStatus,\n            owner_id: user.id,\n            location_id: client.location_id || user.location_id,\n            edited_by: user.id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url,\n            // Je≈õli status to \"canvas\", ustaw status_changed_at\n            ...safeStatus === 'canvas' && {\n                status_changed_at: new Date().toISOString()\n            },\n            // Konwertuj undefined reminder na null dla bazy danych\n            reminder: client.reminder || null\n        };\n        console.log('üìä Tworzenie klienta z danymi:', clientToCreate);\n        const { data, error } = await supabase.from('clients').insert([\n            clientToCreate\n        ]).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd createClient:', error);\n            throw error;\n        }\n        return data;\n    },\n    // Zaktualizuj klienta z sprawdzeniem uprawnie≈Ñ\n    async updateClient (id, updates, user) {\n        try {\n            console.log('üîÑ updateClient START:', {\n                id,\n                updates,\n                user: user.email\n            });\n            // Pobierz aktualny stan klienta aby sprawdziƒá czy status siƒô zmienia\n            const { data: currentClient, error: fetchError } = await supabase.from('clients').select('status, owner_id').eq('id', id).single();\n            if (fetchError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktualnego klienta:', fetchError);\n                throw new Error(`Nie mo≈ºna pobraƒá aktualnego stanu klienta: ${fetchError.message}`);\n            }\n            console.log('‚úÖ Aktualny stan klienta:', currentClient);\n            // NOWA LOGIKA: Ka≈ºda osoba kt√≥ra edytuje klienta zostaje jego w≈Ça≈õcicielem\n            let updatedData = {\n                ...updates\n            };\n            // ZABEZPIECZENIE: Je≈õli status jest w aktualizacji, upewnij siƒô ≈ºe nie jest pusty\n            if ('status' in updatedData && !updatedData.status) {\n                console.log('‚ö†Ô∏è UWAGA: Pusty status w aktualizacji - ustawiam domy≈õlny \"canvas\"');\n                updatedData.status = 'canvas';\n            }\n            // Sprawd≈∫ czy status siƒô zmienia\n            const statusChanged = updatedData.status && updatedData.status !== currentClient.status;\n            if (statusChanged) {\n                updatedData.status_changed_at = new Date().toISOString();\n                console.log(`üìä Status zmieniony z \"${currentClient.status}\" na \"${updates.status}\" - ustawiam status_changed_at`);\n                // Powiadomienie o zmianie na canvas\n                if (updates.status === 'canvas') {\n                    console.log('üîî POWIADOMIENIE: Klient przeszed≈Ç na status CANVAS - start trackingu czasu!');\n                }\n            }\n            // Zawsze przypisz edytujƒÖcego jako w≈Ça≈õciciela\n            updatedData.owner_id = user.id;\n            console.log(`üéØ Przypisujƒô klienta ${id} do u≈ºytkownika ${user.id} (${user.email}) jako w≈Ça≈õciciela`);\n            // Zapisz informacje o edytorze (szczeg√≥lnie wa≈ºne dla pracownik√≥w)\n            updatedData.last_edited_by_name = user.full_name;\n            updatedData.last_edited_by_avatar_url = user.avatar_url;\n            console.log(`üë§ Zapisujƒô dane edytora: ${user.full_name} (rola: ${user.role})`);\n            // Je≈õli to pracownik i zmienia status - dodatkowy log\n            if (user.role === 'pracownik' && statusChanged) {\n                console.log(`üë∑ Pracownik ${user.email} zmienia status z \"${currentClient.status}\" na \"${updates.status}\"`);\n            }\n            console.log('üîÑ Dane do aktualizacji:', updatedData);\n            // Przygotuj finalne dane do UPDATE\n            const finalData = {\n                ...updatedData,\n                edited_by: user.id,\n                updated_at: new Date().toISOString(),\n                // Konwertuj undefined reminder na null dla bazy danych\n                ...updatedData.reminder !== undefined && {\n                    reminder: updatedData.reminder || null\n                }\n            };\n            console.log('üîÑ Finalne dane do UPDATE:', finalData);\n            // Bezpo≈õrednia aktualizacja\n            const { data, error } = await supabase.from('clients').update(finalData).eq('id', id).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd UPDATE clients:', error);\n                console.error('‚ùå Kod b≈Çƒôdu:', error.code);\n                console.error('‚ùå Szczeg√≥≈Çy:', error.details);\n                console.error('‚ùå Hint:', error.hint);\n                throw new Error(`B≈ÇƒÖd aktualizacji: ${error.message} (kod: ${error.code})`);\n            }\n            console.log('‚úÖ updateClient SUCCESS:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå updateClient FAILED:', error);\n            throw error;\n        }\n    },\n    // Aktualizuj czas ostatniego klikniƒôcia telefonu\n    async updateLastPhoneClick (clientId, user) {\n        console.log('üìû Aktualizujƒô czas ostatniego klikniƒôcia telefonu:', clientId);\n        const { data, error } = await supabase.from('clients').update({\n            last_phone_click: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd updateLastPhoneClick:', error);\n            throw error;\n        }\n        // Zaloguj w activity_logs\n        try {\n            await activityLogsApi.createLog({\n                client_id: clientId,\n                changed_by: user.id,\n                change_type: 'update',\n                field_changed: 'last_phone_click',\n                old_value: undefined,\n                new_value: data.last_phone_click\n            });\n        } catch (logError) {\n            console.error('‚ùå B≈ÇƒÖd logowania activity_logs (updateLastPhoneClick):', logError);\n        }\n        return data;\n    },\n    // Usu≈Ñ klienta z sprawdzeniem uprawnie≈Ñ\n    async deleteClient (id, user) {\n        // Bezpo≈õrednie usuniƒôcie bez sprawdzania uprawnie≈Ñ\n        const { error } = await supabase.from('clients').delete().eq('id', id);\n        if (error) throw error;\n    },\n    // Przypisz klienta do innego u≈ºytkownika (tylko manager+)\n    async assignClient (clientId, newOwnerId, user) {\n        if (!permissionsApi.canAssignClients(user)) {\n            throw new Error('Brak uprawnie≈Ñ do przypisywania klient√≥w');\n        }\n        const { data, error } = await supabase.from('clients').update({\n            owner_id: newOwnerId,\n            edited_by: user.id,\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja do czyszczenia nieistniejƒÖcych owner_id\n    async cleanupInvalidOwnerIds () {\n        try {\n            console.log('üßπ Rozpoczynam czyszczenie nieistniejƒÖcych owner_id...');\n            // Pobierz wszystkich klient√≥w z owner_id\n            const { data: allClients, error: clientsError } = await supabase.from('clients').select('id, owner_id, first_name, last_name').not('owner_id', 'is', null);\n            if (clientsError) throw clientsError;\n            console.log('üìä Znaleziono klient√≥w z owner_id:', allClients?.length || 0);\n            if (!allClients || allClients.length === 0) {\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Pobierz wszystkie unikalne owner_id\n            const ownerIds = [\n                ...new Set(allClients.map((c)=>c.owner_id))\n            ];\n            console.log('üîç Sprawdzam owner_id:', ownerIds);\n            // Sprawd≈∫ kt√≥re u≈ºytkownicy istniejƒÖ\n            const { data: existingUsers, error: usersError } = await supabase.from('users').select('id').in('id', ownerIds);\n            if (usersError) throw usersError;\n            const existingUserIds = (existingUsers || []).map((u)=>u.id);\n            console.log('‚úÖ IstniejƒÖcy u≈ºytkownicy:', existingUserIds);\n            // Znajd≈∫ klient√≥w z nieistniejƒÖcymi owner_id\n            const clientsToClean = allClients.filter((client)=>client.owner_id && !existingUserIds.includes(client.owner_id));\n            console.log('üßπ Klienci do wyczyszczenia:', clientsToClean.length);\n            if (clientsToClean.length === 0) {\n                console.log('‚úÖ Brak klient√≥w do wyczyszczenia');\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Wyczy≈õƒá owner_id dla problematycznych klient√≥w\n            const cleanupResults = [];\n            const errors = [];\n            for (const client of clientsToClean){\n                try {\n                    console.log(`üßπ Czyszczƒô owner_id dla ${client.first_name} ${client.last_name} (${client.owner_id})`);\n                    const { error } = await supabase.from('clients').update({\n                        owner_id: null\n                    }).eq('id', client.id);\n                    if (error) {\n                        console.error(`‚ùå B≈ÇƒÖd czyszczenia ${client.id}:`, error);\n                        errors.push({\n                            client: client.id,\n                            error: error.message\n                        });\n                    } else {\n                        cleanupResults.push(client.id);\n                    }\n                } catch (err) {\n                    console.error(`‚ùå WyjƒÖtek podczas czyszczenia ${client.id}:`, err);\n                    errors.push({\n                        client: client.id,\n                        error: String(err)\n                    });\n                }\n            }\n            console.log(`‚úÖ Wyczyszczono ${cleanupResults.length} klient√≥w`);\n            if (errors.length > 0) {\n                console.error(`‚ùå B≈Çƒôdy przy ${errors.length} klientach:`, errors);\n            }\n            return {\n                cleaned: cleanupResults.length,\n                errors,\n                cleanedClients: clientsToClean.filter((c)=>cleanupResults.includes(c.id))\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupInvalidOwnerIds:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na zmiany w czasie rzeczywistym\n    subscribeToChanges (callback) {\n        return supabase.channel('clients_changes').on('postgres_changes', {\n            event: '*',\n            schema: 'public',\n            table: 'clients'\n        }, callback).subscribe();\n    },\n    // Subskrypcja na zmiany owner_id dla real-time aktualizacji\n    subscribeToOwnerChanges (callback) {\n        try {\n            // Sprawd≈∫ czy callback jest funkcjƒÖ\n            if (typeof callback !== 'function') {\n                console.error('‚ùå Callback nie jest funkcjƒÖ w subscribeToOwnerChanges');\n                throw new Error('Callback musi byƒá funkcjƒÖ');\n            }\n            console.log('üì° Tworzƒô kana≈Ç Supabase dla owner changes...');\n            // Najpierw sprawd≈∫ czy real-time jest w≈ÇƒÖczony i dostƒôpny\n            const channelName = `clients_owner_changes_${Date.now()}`;\n            console.log('üì° Nazwa kana≈Çu:', channelName);\n            const channel = supabase.channel(channelName).on('postgres_changes', {\n                event: 'UPDATE',\n                schema: 'public',\n                table: 'clients',\n                filter: 'owner_id=neq.null' // Tylko gdy owner_id siƒô zmienia\n            }, (payload)=>{\n                try {\n                    console.log('üì° Real-time payload otrzymany:', {\n                        eventType: payload.eventType,\n                        table: payload.table,\n                        changes: payload.new ? {\n                            id: payload.new.id,\n                            owner_id: payload.new.owner_id,\n                            first_name: payload.new.first_name,\n                            last_name: payload.new.last_name\n                        } : 'brak danych'\n                    });\n                    if (typeof callback === 'function') {\n                        callback(payload);\n                    } else {\n                        console.error('‚ùå Callback nie jest funkcjƒÖ podczas wywo≈Çania');\n                    }\n                } catch (callbackError) {\n                    console.error('‚ùå B≈ÇƒÖd w callback:', callbackError);\n                }\n            }).subscribe((status, err)=>{\n                console.log('üì° Subskrypcja owner_changes status:', status);\n                if (status === 'SUBSCRIBED') {\n                    console.log('‚úÖ Subskrypcja owner_changes aktywna');\n                } else if (status === 'CLOSED') {\n                    console.warn('‚ö†Ô∏è Subskrypcja owner_changes zamkniƒôta - prawdopodobnie problem z autoryzacjƒÖ real-time');\n                    console.warn('üí° Real-time mo≈ºe byƒá wy≈ÇƒÖczony w ustawieniach Supabase lub brakuje uprawnie≈Ñ');\n                } else if (status === 'CHANNEL_ERROR') {\n                    console.error('‚ùå B≈ÇƒÖd kana≈Çu real-time:', err);\n                    console.error('üí° Sprawd≈∫ ustawienia real-time w Supabase Dashboard');\n                } else if (status === 'TIMED_OUT') {\n                    console.warn('‚è∞ Timeout subskrypcji - problemy z po≈ÇƒÖczeniem WebSocket');\n                } else {\n                    console.log('üì° Status subskrypcji:', status);\n                }\n            });\n            // Sprawd≈∫ stan kana≈Çu po kr√≥tkim czasie\n            setTimeout(()=>{\n                if (channel.state === 'closed') {\n                    console.warn('‚ö†Ô∏è Kana≈Ç real-time zosta≈Ç zamkniƒôty - prawdopodobnie RLS blokuje real-time lub feature jest wy≈ÇƒÖczony');\n                }\n            }, 2000);\n            console.log('‚úÖ Kana≈Ç owner changes utworzony');\n            return channel;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w subscribeToOwnerChanges:', error);\n            console.warn('üí° Real-time nie bƒôdzie dzia≈Çaƒá - aplikacja bƒôdzie u≈ºywaƒá okresowego od≈õwie≈ºania');\n            // Zwr√≥ƒá mock object aby nie powodowaƒá b≈Çƒôd√≥w\n            return {\n                unsubscribe: ()=>{\n                    console.log('üßπ Mock unsubscribe dla b≈Çƒôdnego kana≈Çu');\n                }\n            };\n        }\n    },\n    // Pobierz klient√≥w z przypomnieniami na konkretny dzie≈Ñ\n    async getClientsWithReminders (user, targetDate) {\n        try {\n            const today = targetDate || new Date().toISOString().split('T')[0] // format YYYY-MM-DD\n            ;\n            console.log(`üìÖ Pobieranie klient√≥w z przypomnieniami na: ${today}`);\n            // Pobierz wszystkich klient√≥w u≈ºytkownika (bez paginacji)\n            const allClients = await this.getClients(user);\n            // Filtruj tylko tych z przypomnieniami na dzi≈õ\n            const clientsWithTodayReminders = allClients.filter((client)=>{\n                // Sprawd≈∫ czy klient ma aktywne przypomnienie\n                const reminder = client.reminder || {\n                    enabled: false,\n                    date: '',\n                    time: '',\n                    note: ''\n                };\n                return reminder.enabled && reminder.date === today;\n            });\n            // Sortuj wed≈Çug godziny przypomnienia\n            const sortedClients = clientsWithTodayReminders.sort((a, b)=>{\n                const timeA = a.reminder?.time || '00:00';\n                const timeB = b.reminder?.time || '00:00';\n                return timeA.localeCompare(timeB);\n            });\n            console.log(`‚úÖ Znaleziono ${sortedClients.length} klient√≥w z przypomnieniami na ${today}`);\n            return sortedClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z przypomnieniami:', error);\n            throw error;\n        }\n    },\n    // Pobierz przypomnienia pogrupowane wed≈Çug slot√≥w czasowych dla dashboardu\n    async getDailyScheduleWithClients (user, targetDate) {\n        try {\n            const clientsWithReminders = await this.getClientsWithReminders(user, targetDate);\n            // Definicja slot√≥w czasowych (zgodnie z obecnƒÖ strukturƒÖ dashboardu)\n            const timeSlots = [\n                {\n                    time: '8:00 - 10:00',\n                    type: 'canvas',\n                    color: '#06b6d4',\n                    startTime: '08:00',\n                    endTime: '10:00',\n                    statuses: [\n                        'canvas'\n                    ]\n                },\n                {\n                    time: '10:10 - 12:00',\n                    type: 'sales',\n                    color: '#10b981',\n                    startTime: '10:10',\n                    endTime: '12:00',\n                    statuses: [\n                        'sale'\n                    ]\n                },\n                {\n                    time: '12:30 - 15:00',\n                    type: 'antysales',\n                    color: '#f59e0b',\n                    startTime: '12:30',\n                    endTime: '15:00',\n                    statuses: [\n                        'antysale'\n                    ]\n                },\n                {\n                    time: '15:10 - 16:30',\n                    type: 'canvas + sales',\n                    color: '#8b5cf6',\n                    startTime: '15:10',\n                    endTime: '16:30',\n                    statuses: [\n                        'canvas',\n                        'sale'\n                    ]\n                }\n            ];\n            // Przypisz klient√≥w do odpowiednich slot√≥w na podstawie TYLKO czasu przypomnienia\n            const slotsWithClients = timeSlots.map((slot)=>{\n                const slotClients = clientsWithReminders.filter((client)=>{\n                    const reminderTime = client.reminder?.time || '00:00';\n                    const [hours, minutes] = reminderTime.split(':').map(Number);\n                    const reminderMinutes = hours * 60 + minutes;\n                    const [startHours, startMins] = slot.startTime.split(':').map(Number);\n                    const [endHours, endMins] = slot.endTime.split(':').map(Number);\n                    const startMinutes = startHours * 60 + startMins;\n                    const endMinutes = endHours * 60 + endMins;\n                    // Sprawd≈∫ czy godzina przypomnienia mie≈õci siƒô w slocie czasowym\n                    const timeInSlot = reminderMinutes >= startMinutes && reminderMinutes <= endMinutes;\n                    console.log(`üïê Klient ${client.first_name} ${client.last_name}: czas ${reminderTime} (${reminderMinutes}min) vs slot ${slot.time} (${startMinutes}-${endMinutes}min) = ${timeInSlot ? 'PASUJE' : 'NIE PASUJE'}`);\n                    return timeInSlot;\n                });\n                console.log(`üìä Slot ${slot.time}: ${slotClients.length} klient√≥w`);\n                return {\n                    ...slot,\n                    clients: slotClients\n                };\n            });\n            console.log(`üìä Plan dnia z ${slotsWithClients.reduce((sum, slot)=>sum + slot.clients.length, 0)} klientami`);\n            return slotsWithClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd tworzenia planu dnia:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje API dla log√≥w aktywno≈õci\nconst activityLogsApi = {\n    // Pobierz logi aktywno≈õci\n    async getLogs (clientId) {\n        let query = supabase.from('activity_logs').select(`\n        *,\n        clients(first_name, last_name)\n      `).order('timestamp', {\n            ascending: false\n        }).limit(50);\n        if (clientId) {\n            query = query.eq('client_id', clientId);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz historiƒô zmian dla konkretnego klienta\n    async getClientHistory (clientId) {\n        try {\n            console.log('Pobieranie historii dla klienta:', clientId);\n            // Sprawd≈∫ czy u≈ºytkownik jest zalogowany\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Aktualny u≈ºytkownik:', user?.id);\n            if (!user) {\n                console.error('U≈ºytkownik nie jest zalogowany');\n                return [];\n            }\n            const { data, error } = await supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          change_type,\n          field_changed,\n          old_value,\n          new_value,\n          timestamp\n        `).eq('client_id', clientId).order('timestamp', {\n                ascending: false\n            }).limit(20);\n            if (error) {\n                console.error('B≈ÇƒÖd query activity_logs:', error);\n                console.error('Szczeg√≥≈Çy b≈Çƒôdu:', JSON.stringify(error, null, 2));\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS')) {\n                    console.error('Problem z Row Level Security - u≈ºytkownik mo≈ºe nie mieƒá dostƒôpu');\n                }\n                // Zwr√≥ƒá pustƒÖ tablicƒô zamiast rzucania b≈Çƒôdem\n                return [];\n            }\n            console.log('Pobrano logi:', data?.length || 0);\n            // Je≈õli nie ma log√≥w, zwr√≥ƒá pustƒÖ tablicƒô\n            if (!data || data.length === 0) {\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach osobno z avatarami\n            const userIds = [\n                ...new Set(data.map((log)=>log.changed_by).filter(Boolean))\n            ];\n            console.log('Pobieranie u≈ºytkownik√≥w:', userIds);\n            const { data: users, error: usersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', userIds);\n            if (usersError) {\n                console.error('B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', usersError);\n            // Kontynuuj bez danych u≈ºytkownik√≥w\n            }\n            console.log('Pobrano u≈ºytkownik√≥w:', users?.length || 0);\n            // Mapuj u≈ºytkownik√≥w do s≈Çownika dla szybkiego dostƒôpu\n            const usersMap = (users || []).reduce((acc, user)=>{\n                acc[user.id] = user;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane z informacjami o edytorze\n            const result = data.map((log)=>{\n                const user = usersMap[log.changed_by];\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    changed_by: log.changed_by,\n                    change_type: log.change_type,\n                    field_changed: log.field_changed,\n                    old_value: log.old_value,\n                    new_value: log.new_value,\n                    timestamp: log.timestamp,\n                    editor_name: user?.full_name || log.changed_by || 'Nieznany u≈ºytkownik',\n                    editor_role: user?.role || 'unknown',\n                    editor_avatar: user?.avatar_url || null\n                };\n            });\n            console.log('Zwracanie historii:', result.length, 'wpis√≥w');\n            return result;\n        } catch (error) {\n            console.error('B≈ÇƒÖd w getClientHistory:', error);\n            throw error;\n        }\n    },\n    // Dodaj log aktywno≈õci\n    async createLog (log) {\n        const { data, error } = await supabase.from('activity_logs').insert([\n            {\n                ...log,\n                timestamp: new Date().toISOString()\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja testowa do sprawdzania dostƒôpu do activity_logs\n    async testActivityLogsAccess () {\n        try {\n            console.log('Testowanie dostƒôpu do activity_logs...');\n            // Sprawd≈∫ autoryzacjƒô\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Test - u≈ºytkownik:', user?.id, user?.email);\n            if (!user) {\n                return {\n                    success: false,\n                    error: 'Brak autoryzacji - u≈ºytkownik nie jest zalogowany'\n                };\n            }\n            // Sprawd≈∫ czy u≈ºytkownik istnieje w tabeli users\n            const { data: userProfile, error: userError } = await supabase.from('users').select('id, email, role').eq('id', user.id).single();\n            console.log('Test - profil u≈ºytkownika:', userProfile);\n            console.log('Test - b≈ÇƒÖd profilu:', userError);\n            if (userError || !userProfile) {\n                return {\n                    success: false,\n                    error: 'U≈ºytkownik nie istnieje w tabeli users'\n                };\n            }\n            // Testuj dostƒôp do activity_logs\n            const { data, error, count } = await supabase.from('activity_logs').select('*', {\n                count: 'exact'\n            }).limit(1);\n            console.log('Test activity_logs - data:', data);\n            console.log('Test activity_logs - error:', error);\n            console.log('Test activity_logs - count:', count);\n            return {\n                success: !error,\n                data,\n                error,\n                count,\n                user: userProfile\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testu activity_logs:', error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n};\n// Funkcje API dla raport√≥w\nconst reportsApi = {\n    // Pobierz statystyki tylko pracownik√≥w z prowizjƒÖ\n    async getEmployeeStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk pracownik√≥w...');\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            const { data: allEmployees, error: usersError } = await supabase.from('users').select(`\n          id,\n          full_name,\n          email,\n          avatar_url,\n          role\n        `).eq('role', 'pracownik').order('full_name', {\n                ascending: true\n            });\n            if (usersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                throw usersError;\n            }\n            if (!allEmployees || allEmployees.length === 0) {\n                console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                return [];\n            }\n            console.log('‚úÖ Pobrano wszystkich pracownik√≥w:', allEmployees.length, allEmployees.map((e)=>e.full_name));\n            // KROK 2: Pobierz statystyki z tabeli employee_stats dla tych pracownik√≥w\n            const employeeIds = allEmployees.map((emp)=>emp.id);\n            let existingStats = [];\n            try {\n                const { data, error: statsError } = await supabase.from('employee_stats').select('*').in('user_id', employeeIds);\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania employee_stats:', statsError);\n                } else {\n                    existingStats = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá employee_stats:', error);\n            }\n            console.log('‚úÖ Pobrano statystyki dla pracownik√≥w:', existingStats?.length || 0);\n            // KROK 3: Pobierz dzisiejsze statystyki z tabeli clients (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const today = new Date().toISOString().split('T')[0];\n            let todayClients = [];\n            try {\n                const { data, error: clientsError } = await supabase.from('clients').select('status, edited_by, created_at, updated_at').gte('updated_at', `${today}T00:00:00`).lt('updated_at', `${today}T23:59:59`);\n                if (clientsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w z dzisiaj:', clientsError);\n                } else {\n                    todayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá dzisiejszych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano dzisiejszych klient√≥w:', todayClients.length);\n            // KROK 4: Pobierz wczorajsze statystyki dla kar (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            const yesterdayStr = yesterday.toISOString().split('T')[0];\n            let yesterdayClients = [];\n            try {\n                const { data, error: yesterdayError } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${yesterdayStr}T00:00:00`).lt('updated_at', `${yesterdayStr}T23:59:59`);\n                if (yesterdayError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania wczorajszych klient√≥w:', yesterdayError);\n                } else {\n                    yesterdayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá wczorajszych klient√≥w:', error);\n            }\n            // KROK 5: Pobierz WSZYSTKICH klient√≥w przypisanych do pracownik√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            let allOwnedClients = [];\n            try {\n                const { data, error: ownedError } = await supabase.from('clients').select('status, owner_id').not('owner_id', 'is', null).in('owner_id', employeeIds);\n                if (ownedError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w przypisanych:', ownedError);\n                } else {\n                    allOwnedClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá przypisanych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano wszystkich przypisanych klient√≥w:', allOwnedClients.length);\n            // KROK 6: Agreguj dzisiejsze statystyki per pracownik\n            const todayStats = todayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (!userId) return acc;\n                if (!acc[userId]) {\n                    acc[userId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        other: 0\n                    };\n                }\n                acc[userId].total++;\n                if (client.status === 'canvas') acc[userId].canvas++;\n                else if (client.status === 'antysale') acc[userId].antysale++;\n                else if (client.status === 'sale') acc[userId].sale++;\n                else acc[userId].other++;\n                return acc;\n            }, {});\n            // KROK 7: Agreguj wczorajsze statystyki per pracownik\n            const yesterdayStats = yesterdayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (userId) {\n                    acc[userId] = (acc[userId] || 0) + 1;\n                }\n                return acc;\n            }, {});\n            // KROK 8: Agreguj statusy WSZYSTKICH przypisanych klient√≥w per pracownik\n            const ownedClientsStats = allOwnedClients.reduce((acc, client)=>{\n                const ownerId = client.owner_id;\n                if (!ownerId) return acc;\n                if (!acc[ownerId]) {\n                    acc[ownerId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        brak_kontaktu: 0,\n                        nie_zainteresowany: 0,\n                        zdenerwowany: 0,\n                        '$$': 0\n                    };\n                }\n                acc[ownerId].total++;\n                switch(client.status){\n                    case 'canvas':\n                        acc[ownerId].canvas++;\n                        break;\n                    case 'antysale':\n                        acc[ownerId].antysale++;\n                        break;\n                    case 'sale':\n                        acc[ownerId].sale++;\n                        break;\n                    case 'brak_kontaktu':\n                        acc[ownerId].brak_kontaktu++;\n                        break;\n                    case 'nie_zainteresowany':\n                        acc[ownerId].nie_zainteresowany++;\n                        break;\n                    case 'zdenerwowany':\n                        acc[ownerId].zdenerwowany++;\n                        break;\n                    case '$$':\n                        acc[ownerId]['$$']++;\n                        break;\n                }\n                return acc;\n            }, {});\n            console.log('üìä Statystyki przypisanych klient√≥w:', ownedClientsStats);\n            // KROK 9: Stw√≥rz mapƒô statystyk employee_stats\n            const statsMap = new Map();\n            existingStats.forEach((stat)=>{\n                statsMap.set(stat.user_id, stat);\n            });\n            // KROK 10: Kombinuj dane - dla WSZYSTKICH pracownik√≥w (zawsze zwraca listƒô)\n            const enhancedStats = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                // Pobierz statystyki z employee_stats lub utw√≥rz domy≈õlne\n                const basicStat = statsMap.get(userId) || {\n                    id: 'temp_' + userId,\n                    user_id: userId,\n                    daily_target: 20,\n                    commission_rate: 3.0,\n                    monthly_canvas: 0,\n                    monthly_antysale: 0,\n                    monthly_sale: 0,\n                    total_commissions: 0,\n                    total_penalties: 0,\n                    custom_clients_count: 0,\n                    custom_total_payments: 0,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                const todayForUser = todayStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0\n                };\n                const yesterdayForUser = yesterdayStats[userId] || 0;\n                const ownedForUser = ownedClientsStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0,\n                    brak_kontaktu: 0,\n                    nie_zainteresowany: 0,\n                    zdenerwowany: 0,\n                    '$$': 0\n                };\n                // Oblicz karƒô za wczoraj\n                const yesterdayShortage = Math.max(0, basicStat.daily_target - yesterdayForUser);\n                const penalty = yesterdayShortage * 15;\n                // Oblicz prowizjƒô na podstawie przypisanych klient√≥w Sale\n                const commission = ownedForUser.sale * basicStat.commission_rate / 100 * 100;\n                console.log(`üë§ Pracownik ${employee.full_name}: Canvas=${ownedForUser.canvas}, AntyS=${ownedForUser.antysale}, Sale=${ownedForUser.sale}`);\n                return {\n                    ...basicStat,\n                    // WA≈ªNE: Do≈ÇƒÖcz dane u≈ºytkownika\n                    user: {\n                        id: employee.id,\n                        full_name: employee.full_name,\n                        email: employee.email,\n                        avatar_url: employee.avatar_url,\n                        role: employee.role\n                    },\n                    daily_achieved: todayForUser.total,\n                    yesterday_shortage: yesterdayShortage,\n                    status_changes_today: {\n                        canvas: todayForUser.canvas,\n                        antysale: todayForUser.antysale,\n                        sale: todayForUser.sale,\n                        other: todayForUser.other\n                    },\n                    // U≈ºywaj statystyk opartych na owner_id (przypisanych klient√≥w)\n                    monthly_canvas: ownedForUser.canvas,\n                    monthly_antysale: ownedForUser.antysale,\n                    monthly_sale: ownedForUser.sale,\n                    total_commissions: commission,\n                    total_penalties: penalty\n                };\n            });\n            console.log('‚úÖ Przygotowano rozszerzone statystyki dla wszystkich pracownik√≥w:', enhancedStats.length);\n            console.log('üë• Lista pracownik√≥w:', enhancedStats.map((s)=>s.user?.full_name).join(', '));\n            return enhancedStats;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk pracownik√≥w:', error);\n            // W przypadku b≈Çƒôdu, zwr√≥ƒá pustƒÖ listƒô zamiast rzucaƒá b≈ÇƒÖd\n            return [];\n        }\n    },\n    // Podsumowanie dnia\n    async getDailySummary (date) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${date}T00:00:00`).lt('updated_at', `${date}T23:59:59`);\n        if (error) throw error;\n        // Agregacja danych\n        const statusBreakdown = data.reduce((acc, client)=>{\n            acc[client.status] = (acc[client.status] || 0) + 1;\n            return acc;\n        }, {});\n        const employeeStats = data.reduce((acc, client)=>{\n            acc[client.edited_by] = (acc[client.edited_by] || 0) + 1;\n            return acc;\n        }, {});\n        return {\n            totalClients: data.length,\n            statusBreakdown,\n            employeeStats\n        };\n    },\n    // Podsumowanie tygodniowe\n    async getWeeklySummary (startDate, endDate) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by, updated_at').gte('updated_at', startDate).lt('updated_at', endDate);\n        if (error) throw error;\n        return data;\n    },\n    // Aktualizuj statystyki pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeStats (userId, updates, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').update(updates).eq('user_id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Edytuj ilo≈õƒá klient√≥w i sumƒô wp≈Çat pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeClientStats (userId, clientsCount, totalPayments, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        try {\n            console.log(`üìù Aktualizujƒô statystyki pracownika ${userId}: klienci=${clientsCount}, wp≈Çaty=${totalPayments}`);\n            // METODA 1: Spr√≥buj prostƒÖ aktualizacjƒô w employee_stats\n            try {\n                console.log('üìù Pr√≥ba prostej aktualizacji w employee_stats');\n                const legacyUpdates = {\n                    custom_clients_count: clientsCount,\n                    custom_total_payments: totalPayments,\n                    updated_at: new Date().toISOString()\n                };\n                const { data, error } = await supabase.from('employee_stats').update(legacyUpdates).eq('user_id', userId).select(`\n            *,\n            user:users!user_id (\n              id,\n              full_name,\n              email,\n              avatar_url,\n              role\n            )\n          `).single();\n                if (!error && data) {\n                    console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 1)');\n                    console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                    return data;\n                } else {\n                    console.warn('‚ö†Ô∏è Metoda 1 nie zadzia≈Ça≈Ça:', error);\n                    throw error;\n                }\n            } catch (method1Error) {\n                console.warn('‚ö†Ô∏è Metoda 1 (prosta aktualizacja) nie zadzia≈Ça≈Ça:', method1Error);\n                // METODA 2: Spr√≥buj INSERT z ON CONFLICT\n                try {\n                    console.log('üìù Pr√≥ba INSERT z ON CONFLICT w employee_stats');\n                    const insertData = {\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                    const { data, error } = await supabase.from('employee_stats').upsert(insertData, {\n                        onConflict: 'user_id',\n                        ignoreDuplicates: false\n                    }).select(`\n              *,\n              user:users!user_id (\n                id,\n                full_name,\n                email,\n                avatar_url,\n                role\n              )\n            `).single();\n                    if (!error && data) {\n                        console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 2)');\n                        console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                        return data;\n                    } else {\n                        console.warn('‚ö†Ô∏è Metoda 2 nie zadzia≈Ça≈Ça:', error);\n                        throw error;\n                    }\n                } catch (method2Error) {\n                    console.warn('‚ö†Ô∏è Metoda 2 (upsert) nie zadzia≈Ça≈Ça:', method2Error);\n                    // METODA 3: Zaktualizuj tylko w pamiƒôci (fallback)\n                    console.log('üìù Fallback - zwracam symulowane dane');\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString(),\n                        user: {\n                            id: userId,\n                            full_name: 'Pracownik',\n                            email: 'brak@email.com',\n                            avatar_url: null,\n                            role: 'pracownik'\n                        }\n                    };\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w updateEmployeeClientStats:', error);\n            throw error;\n        }\n    },\n    // Stw√≥rz statystyki dla nowego pracownika\n    async createEmployeeStats (userId, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do tworzenia statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').insert([\n            {\n                user_id: userId,\n                daily_target: 20,\n                commission_rate: 3.0\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // üìä Nowa funkcja: Pobierz statystyki wykorzystania bazy (klienci z/bez w≈Ça≈õciciela)\n    async getDatabaseUtilization () {\n        try {\n            console.log('üìä Pobieranie statystyk wykorzystania bazy...');\n            // Zlicz wszystkich klient√≥w\n            const { count: totalCount, error: totalError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (totalError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania ≈ÇƒÖcznej liczby klient√≥w:', totalError);\n                throw totalError;\n            }\n            // Zlicz klient√≥w z w≈Ça≈õcicielem (owner_id != null)\n            const { count: withOwnerCount, error: withOwnerError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (withOwnerError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z w≈Ça≈õcicielem:', withOwnerError);\n                throw withOwnerError;\n            }\n            // Oblicz klient√≥w bez w≈Ça≈õciciela\n            const withoutOwnerCount = (totalCount || 0) - (withOwnerCount || 0);\n            // Oblicz procent wykorzystania\n            const utilizationPercentage = totalCount ? Math.round((withOwnerCount || 0) / totalCount * 100) : 0;\n            const result = {\n                withOwner: withOwnerCount || 0,\n                withoutOwner: withoutOwnerCount,\n                total: totalCount || 0,\n                utilizationPercentage\n            };\n            console.log('üìä Statystyki wykorzystania bazy:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk wykorzystania bazy:', error);\n            throw error;\n        }\n    },\n    // üîÑ ADMIN: Resetuj w≈Ça≈õcicieli wszystkich klient√≥w\n    async resetAllClientOwners (currentUser) {\n        // Sprawd≈∫ uprawnienia - tylko admin\n        if (currentUser.role !== 'admin') {\n            throw new Error('Brak uprawnie≈Ñ! Tylko administrator mo≈ºe resetowaƒá w≈Ça≈õcicieli klient√≥w.');\n        }\n        try {\n            console.log('üîÑ Rozpoczynam resetowanie w≈Ça≈õcicieli klient√≥w...');\n            // Pobierz liczbƒô klient√≥w z w≈Ça≈õcicielem przed resetowaniem\n            const { count: beforeCount, error: beforeError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (beforeError) {\n                console.error('‚ùå B≈ÇƒÖd sprawdzania stanu przed resetowaniem:', beforeError);\n                throw beforeError;\n            }\n            // Resetuj owner_id dla wszystkich klient√≥w\n            const { data, error } = await supabase.from('clients').update({\n                owner_id: null\n            }).not('owner_id', 'is', null) // Tylko te kt√≥re majƒÖ w≈Ça≈õciciela\n            .select('id, first_name, last_name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli:', error);\n                throw error;\n            }\n            const resetCount = data?.length || 0;\n            // Loguj akcjƒô do activity_logs\n            try {\n                await activityLogsApi.createLog({\n                    client_id: 'bulk_action',\n                    changed_by: currentUser.id,\n                    change_type: 'update',\n                    field_changed: 'owner_id',\n                    old_value: 'various',\n                    new_value: 'null (reset by admin)'\n                });\n            } catch (logError) {\n                console.error('‚ö†Ô∏è Nie uda≈Ço siƒô zalogowaƒá akcji:', logError);\n            // Nie przerywamy procesu z powodu b≈Çƒôdu logowania\n            }\n            console.log(`‚úÖ Zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w`);\n            return {\n                success: resetCount,\n                message: `Pomy≈õlnie zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w. Wszyscy klienci sƒÖ teraz bez przypisanego w≈Ça≈õciciela.`\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli klient√≥w:', error);\n            throw error;\n        }\n    },\n    // Pobierz statystyki aktywno≈õci pracownik√≥w z tabeli employee_statistics\n    async getEmployeeActivityStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk aktywno≈õci pracownik√≥w...');\n            // Sprawd≈∫ uprawnienia\n            if (!user || ![\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                console.warn('‚ö†Ô∏è Brak uprawnie≈Ñ do podglƒÖdu statystyk aktywno≈õci');\n                return [];\n            }\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            let allEmployees = [];\n            try {\n                const { data: employees, error: usersError } = await supabase.from('users').select(`\n            id,\n            full_name,\n            email,\n            avatar_url,\n            role\n          `).eq('role', 'pracownik').order('full_name', {\n                    ascending: true\n                });\n                if (usersError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                    return [];\n                }\n                allEmployees = employees || [];\n                console.log(`üë• Znaleziono pracownik√≥w: ${allEmployees.length}`);\n                if (allEmployees.length === 0) {\n                    console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                    return [];\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', error);\n                return [];\n            }\n            // KROK 2: Pobierz statystyki aktywno≈õci - z obs≈ÇugƒÖ b≈Çƒôd√≥w RLS\n            let activityStats = [];\n            try {\n                const employeeIds = allEmployees.map((emp)=>emp.id);\n                console.log(`üîç Pobieranie statystyk dla ID: ${employeeIds.slice(0, 3).join(', ')}... (${employeeIds.length} total)`);\n                const { data: stats, error: statsError } = await supabase.from('employee_statistics').select('*').eq('period_type', 'monthly').in('user_id', employeeIds).order('period_end', {\n                    ascending: false\n                });\n                if (statsError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', statsError);\n                    // Je≈õli to b≈ÇƒÖd RLS (403), nie przerywaj - u≈ºyj domy≈õlnych danych\n                    if (statsError.code === 'PGRST116' || statsError.message?.includes('RLS') || statsError.message?.includes('permission')) {\n                        console.warn('üîí Problem z RLS - u≈ºywam domy≈õlnych danych aktywno≈õci');\n                        activityStats = [];\n                    } else {\n                        console.error('üí• Krytyczny b≈ÇƒÖd pobierania statystyk - przerywam');\n                        return [];\n                    }\n                } else {\n                    activityStats = stats || [];\n                    console.log(`üìä Znaleziono rekord√≥w aktywno≈õci: ${activityStats.length}`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania o statystyki aktywno≈õci:', error);\n                activityStats = [];\n            }\n            // KROK 3: Stw√≥rz mapƒô najnowszych statystyk dla ka≈ºdego pracownika\n            const latestStatsMap = new Map();\n            if (activityStats && activityStats.length > 0) {\n                activityStats.forEach((stat)=>{\n                    const userId = stat.user_id;\n                    if (!latestStatsMap.has(userId)) {\n                        latestStatsMap.set(userId, stat);\n                    }\n                });\n                console.log(`üó∫Ô∏è Zmapowano statystyki dla ${latestStatsMap.size} pracownik√≥w`);\n            } else {\n                console.log('‚ö†Ô∏è Brak danych aktywno≈õci - u≈ºyjƒô domy≈õlnych warto≈õci');\n            }\n            // KROK 4: Kombinuj dane pracownik√≥w ze statystykami aktywno≈õci\n            const result = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                const activityStat = latestStatsMap.get(userId);\n                if (activityStat) {\n                    // Mamy statystyki - u≈ºyj prawdziwych danych\n                    return {\n                        ...activityStat,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                } else {\n                    // Brak statystyk - stw√≥rz domy≈õlne dane\n                    const currentDate = new Date();\n                    const currentMonth = currentDate.getMonth() + 1;\n                    const currentYear = currentDate.getFullYear();\n                    const monthStart = `${currentYear}-${currentMonth.toString().padStart(2, '0')}-01`;\n                    const monthEnd = new Date(currentYear, currentMonth, 0).toISOString().split('T')[0];\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        period_type: 'monthly',\n                        period_start: monthStart,\n                        period_end: monthEnd,\n                        total_work_minutes: 0,\n                        average_daily_minutes: 0,\n                        expected_work_minutes: 176 * 60,\n                        efficiency_percentage: 0,\n                        total_activities: 0,\n                        average_daily_activities: 0,\n                        days_worked: 0,\n                        days_absent: 0,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                }\n            });\n            console.log(`‚úÖ Przygotowano statystyki aktywno≈õci dla wszystkich pracownik√≥w: ${result.length}`);\n            console.log(`üë• Lista pracownik√≥w: ${result.map((s)=>s.user?.full_name).join(', ')}`);\n            // Poka≈º statystyki podsumowujƒÖce\n            const withData = result.filter((r)=>r.total_work_minutes > 0).length;\n            const withoutData = result.length - withData;\n            console.log(`üìä Pracownicy z danymi: ${withData}, bez danych: ${withoutData}`);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', error);\n            // Graceful fallback - zwr√≥ƒá pustƒÖ tablicƒô zamiast crashowaƒá\n            console.log('üîÑ Graceful fallback - zwracam pustƒÖ tablicƒô');\n            return [];\n        }\n    },\n    // Pobierz trendy sprzeda≈ºowe z ostatnich 7 dni\n    async getSalesTrends (user) {\n        try {\n            console.log('üìà Pobieranie trend√≥w sprzeda≈ºowych z ostatnich 7 dni...');\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            const { data, error } = await supabase.from('clients').select('status, updated_at, status_changed_at, owner_id, edited_by').gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').in('status', [\n                'canvas',\n                'sale',\n                'antysale'\n            ]).order('updated_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Pobrano ${data?.length || 0} rekord√≥w z ostatnich 7 dni`);\n            // Filtruj klient√≥w wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            let filteredData = data || [];\n            if (user.role === 'pracownik') {\n                filteredData = filteredData.filter((client)=>client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id);\n            }\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trends = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trends[dayName] = {\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                };\n            }\n            // Grupuj dane wed≈Çug dni\n            filteredData.forEach((client)=>{\n                const date = new Date(client.updated_at);\n                const dayName = dayNames[date.getDay()];\n                if (trends[dayName]) {\n                    if (client.status === 'canvas') trends[dayName].canvas++;\n                    else if (client.status === 'sale') trends[dayName].sale++;\n                    else if (client.status === 'antysale') trends[dayName].antysale++;\n                }\n            });\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: trends[dayName].canvas,\n                    sale: trends[dayName].sale,\n                    antysale: trends[dayName].antysale\n                });\n            }\n            console.log('‚úÖ Trendy sprzeda≈ºowe przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                });\n            }\n            return result;\n        }\n    },\n    // Pobierz statystyki klikniƒôƒá telefonu tylko dla pracownik√≥w\n    async getPhoneClicksStats (user) {\n        try {\n            console.log('üìû Pobieranie statystyk klikniƒôƒá telefonu...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                return {\n                    totalPhoneCalls: 0,\n                    totalPhoneCallsToday: 0\n                };\n            }\n            // Pobierz wszystkie klikniƒôcia telefonu z activity_logs tylko dla pracownik√≥w\n            const { data: allPhoneClicks, error: allClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds);\n            if (allClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', allClicksError);\n                throw allClicksError;\n            }\n            const totalPhoneCalls = allPhoneClicks?.length || 0;\n            // Pobierz dzisiejsze klikniƒôcia telefonu\n            const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n            ;\n            const { data: todayPhoneClicks, error: todayClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', `${today}T00:00:00`).lt('timestamp', `${today}T23:59:59`);\n            if (todayClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych klikniƒôƒá telefonu:', todayClicksError);\n                throw todayClicksError;\n            }\n            const totalPhoneCallsToday = todayPhoneClicks?.length || 0;\n            console.log(`‚úÖ Statystyki klikniƒôƒá telefonu: ≈ÇƒÖcznie ${totalPhoneCalls}, dzi≈õ ${totalPhoneCallsToday}`);\n            return {\n                totalPhoneCalls,\n                totalPhoneCallsToday\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk klikniƒôƒá telefonu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá zerowe statystyki\n            return {\n                totalPhoneCalls: 0,\n                totalPhoneCallsToday: 0\n            };\n        }\n    },\n    // Pobierz dane trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni\n    async getTeamPerformanceTrends (user) {\n        try {\n            console.log('üìä Pobieranie trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                // Zwr√≥ƒá puste dane dla ostatnich 7 dni\n                const dayNames = [\n                    'Ndz',\n                    'Pon',\n                    'Wt',\n                    '≈ör',\n                    'Czw',\n                    'Pt',\n                    'Sob'\n                ];\n                const result = [];\n                for(let i = 6; i >= 0; i--){\n                    const date = new Date();\n                    date.setDate(date.getDate() - i);\n                    const dayName = dayNames[date.getDay()];\n                    result.push({\n                        day: dayName,\n                        telefony: 0,\n                        konwersja: 0,\n                        klienci: 0\n                    });\n                }\n                return result;\n            }\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            // 1. Pobierz klikniƒôcia telefonu z activity_logs (tylko pracownicy)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', startDate.toISOString().split('T')[0]).lte('timestamp', endDate.toISOString().split('T')[0] + 'T23:59:59');\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            // 2. Pobierz zmiany klient√≥w z ostatnich 7 dni (tylko przez pracownik√≥w)\n            const { data: clientChanges, error: changesError } = await supabase.from('clients').select('updated_at, status, edited_by').in('edited_by', employeeIds).gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').order('updated_at', {\n                ascending: true\n            });\n            if (changesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania zmian klient√≥w:', changesError);\n                throw changesError;\n            }\n            console.log(`‚úÖ Pobrano ${phoneClicks?.length || 0} klikniƒôƒá telefonu i ${clientChanges?.length || 0} zmian klient√≥w`);\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trendsData = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trendsData[dayName] = {\n                    telefony: 0,\n                    klienci: 0,\n                    sales: 0\n                };\n            }\n            // Grupuj klikniƒôcia telefonu wed≈Çug dni\n            if (phoneClicks && Array.isArray(phoneClicks)) {\n                phoneClicks.forEach((click)=>{\n                    const date = new Date(click.timestamp);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].telefony++;\n                    }\n                });\n            }\n            // Grupuj zmiany klient√≥w wed≈Çug dni\n            if (clientChanges && Array.isArray(clientChanges)) {\n                clientChanges.forEach((change)=>{\n                    const date = new Date(change.updated_at);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].klienci++;\n                        if (change.status === 'sale') {\n                            trendsData[dayName].sales++;\n                        }\n                    }\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                const dayData = trendsData[dayName];\n                // Oblicz konwersjƒô (procent sales wzglƒôdem wszystkich klient√≥w)\n                const konwersja = dayData.klienci > 0 ? Math.round(dayData.sales / dayData.klienci * 100) : 0;\n                result.push({\n                    day: dayName,\n                    telefony: dayData.telefony,\n                    konwersja: konwersja,\n                    klienci: dayData.klienci\n                });\n            }\n            console.log('‚úÖ Trendy wydajno≈õci zespo≈Çu przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w wydajno≈õci zespo≈Çu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    telefony: 0,\n                    konwersja: 0,\n                    klienci: 0\n                });\n            }\n            return result;\n        }\n    },\n    // API dla statystyk osobistych pracownika\n    async getMyPersonalStats (user) {\n        try {\n            console.log('üìä Pobieranie osobistych statystyk pracownika:', user.id, user.role);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                console.error('‚ùå Nieautoryzowana rola:', user.role);\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            console.log('‚úÖ U≈ºytkownik autoryzowany jako pracownik');\n            const currentDate = new Date();\n            const currentMonth = currentDate.toISOString().slice(0, 7) // YYYY-MM\n            ;\n            // Ustaw pierwszy i ostatni dzie≈Ñ miesiƒÖca prawid≈Çowo\n            const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n            const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0, 23, 59, 59);\n            // 1. Pobierz liczbƒô telefon√≥w w tym miesiƒÖcu (klikniƒôcia telefonu)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('id, timestamp').eq('changed_by', user.id).eq('field_changed', 'last_phone_click').gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString());\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            const phoneCallsThisMonth = phoneClicks?.length || 0;\n            console.log(`üìû Znaleziono ${phoneCallsThisMonth} klikniƒôƒá telefonu w tym miesiƒÖcu`);\n            // 2. Pobierz klient√≥w przypisanych do pracownika\n            console.log('üë• Pobieranie klient√≥w przypisanych do pracownika...');\n            const { data: myClients, error: clientsError } = await supabase.from('clients').select('id, status, first_name, last_name, company_name').eq('owner_id', user.id);\n            if (clientsError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w:', clientsError);\n                throw clientsError;\n            }\n            const clients = myClients || [];\n            const totalClients = clients.length;\n            console.log(`üë§ Pracownik ma ${totalClients} przypisanych klient√≥w`);\n            // 3. Agreguj statusy klient√≥w\n            console.log('üìä Agregowanie status√≥w klient√≥w...');\n            const statusMap = new Map();\n            clients.forEach((client)=>{\n                const status = client.status;\n                statusMap.set(status, (statusMap.get(status) || 0) + 1);\n            });\n            console.log('üìà Statusy klient√≥w:', Object.fromEntries(statusMap));\n            // Mapuj statusy na kolory\n            const statusColors = {\n                canvas: '#06b6d4',\n                sale: '#10b981',\n                antysale: '#f59e0b',\n                brak_kontaktu: '#6b7280',\n                nie_zainteresowany: '#ef4444',\n                zdenerwowany: '#dc2626',\n                '$$': '#fbbf24'\n            };\n            const clientStats = Array.from(statusMap.entries()).map(([status, count])=>({\n                    status,\n                    count,\n                    color: statusColors[status] || '#64748b'\n                }));\n            // 4. Pobierz prowizjƒô z tabeli employee_stats\n            console.log('üí∞ Pobieranie prowizji z tabeli employee_stats...');\n            let commissionTotal = 0 // w EUR\n            ;\n            try {\n                const { data: employeeStats, error: statsError } = await supabase.from('employee_stats').select('total_commissions').eq('user_id', user.id).single();\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è Nie znaleziono statystyk pracownika, prowizja = 0:', statsError);\n                    commissionTotal = 0;\n                } else {\n                    // total_commissions ju≈º jest w EUR - u≈ºywaj bezpo≈õrednio\n                    commissionTotal = employeeStats.total_commissions || 0;\n                    console.log(`üí∞ Prowizja pobrana z bazy: ${commissionTotal} EUR`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania prowizji z employee_stats:', error);\n                commissionTotal = 0;\n            }\n            // 5. Pobierz godziny pracy z tego miesiƒÖca na podstawie activity_logs\n            console.log('‚è∞ Pobieranie aktywno≈õci z tego miesiƒÖca...');\n            console.log(`üìÖ Zakres dat: ${startOfMonth.toISOString()} - ${endOfMonth.toISOString()}`);\n            const { data: activities, error: activitiesError } = await supabase.from('activity_logs').select('timestamp').eq('changed_by', user.id).gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString()).order('timestamp', {\n                ascending: true\n            });\n            if (activitiesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci:', activitiesError);\n                throw activitiesError;\n            }\n            console.log(`‚è∞ Znaleziono ${activities?.length || 0} aktywno≈õci w tym miesiƒÖcu`);\n            // Grupuj aktywno≈õci wed≈Çug dni i oblicz godziny pracy\n            console.log('üìÖ Grupowanie aktywno≈õci wed≈Çug dni...');\n            const dailyActivities = new Map();\n            if (activities && activities.length > 0) {\n                activities.forEach((activity)=>{\n                    const date = new Date(activity.timestamp);\n                    const day = date.toISOString().split('T')[0] // YYYY-MM-DD\n                    ;\n                    const hour = date.getHours();\n                    if (!dailyActivities.has(day)) {\n                        dailyActivities.set(day, new Set());\n                    }\n                    dailyActivities.get(day).add(hour);\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu\n            const workingHoursThisMonth = Array.from(dailyActivities.entries()).map(([day, hours])=>({\n                    day: new Date(day).toLocaleDateString('pl-PL', {\n                        weekday: 'short',\n                        day: 'numeric'\n                    }),\n                    hours: hours.size,\n                    sortDate: new Date(day) // Dodaj pole do sortowania\n                })).sort((a, b)=>a.sortDate.getTime() - b.sortDate.getTime()).map(({ day, hours })=>({\n                    day,\n                    hours\n                })) // Usu≈Ñ pole sortDate z wynikowych danych\n            ;\n            const totalWorkingHours = Array.from(dailyActivities.values()).reduce((sum, hours)=>sum + hours.size, 0);\n            const totalWorkingDays = dailyActivities.size;\n            console.log('‚úÖ Statystyki osobiste przygotowane:', {\n                phoneCallsThisMonth,\n                totalClients,\n                commissionTotal,\n                totalWorkingHours,\n                totalWorkingDays\n            });\n            return {\n                phoneCallsThisMonth,\n                clientStats,\n                totalClients,\n                commissionTotal,\n                workingHoursThisMonth,\n                totalWorkingHours,\n                totalWorkingDays\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania osobistych statystyk:', error);\n            // Szczeg√≥≈Çowe informacje o b≈Çƒôdzie\n            if (error && typeof error === 'object') {\n                console.error('üìã Szczeg√≥≈Çy b≈Çƒôdu:', {\n                    message: error.message,\n                    code: error.code,\n                    details: error.details,\n                    hint: error.hint,\n                    stack: error.stack\n                });\n            }\n            // Je≈õli to b≈ÇƒÖd RLS lub uprawnie≈Ñ, zwr√≥ƒá pustƒÖ strukturƒô zamiast crashowaƒá\n            if (error && typeof error === 'object' && (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission'))) {\n                console.warn('üîí Problem z uprawnieniami - zwracam domy≈õlne dane');\n                return {\n                    phoneCallsThisMonth: 0,\n                    clientStats: [],\n                    totalClients: 0,\n                    commissionTotal: 0,\n                    workingHoursThisMonth: [],\n                    totalWorkingHours: 0,\n                    totalWorkingDays: 0\n                };\n            }\n            throw error;\n        }\n    },\n    // Funkcje do zarzƒÖdzania godzinami pracy pracownika\n    async saveWorkingHours (user, date, hours) {\n        try {\n            console.log(`‚è∞ Zapisywanie godzin pracy: ${hours}h dla dnia ${date}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // ENHANCED DEBUG: Sprawd≈∫ czy to dzie≈Ñ roboczy (pon-pt) - bezpieczne parsowanie daty\n            console.log(`üîç DEBUG: Input date string: \"${date}\"`);\n            const dateParts = date.split('-') // \"2025-06-02\" -> [\"2025\", \"06\", \"02\"]\n            ;\n            console.log(`üîç DEBUG: Date parts:`, dateParts);\n            const year = parseInt(dateParts[0]);\n            const month = parseInt(dateParts[1]) - 1 // -1 bo JavaScript u≈ºywa 0-11 dla miesiƒôcy\n            ;\n            const day = parseInt(dateParts[2]);\n            console.log(`üîç DEBUG: Parsed components: year=${year}, month=${month} (JS format), day=${day}`);\n            const dateObj = new Date(year, month, day);\n            const dayOfWeek = dateObj.getDay();\n            console.log(`üîç DEBUG: Created Date object: ${dateObj.toISOString()}`);\n            console.log(`üîç DEBUG: Date in local format: ${dateObj.toLocaleDateString('pl-PL', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n            })}`);\n            console.log(`üóìÔ∏è Sprawdzanie dnia roboczego: ${date} => dayOfWeek=${dayOfWeek} (${[\n                'niedziela',\n                'poniedzia≈Çek',\n                'wtorek',\n                '≈õroda',\n                'czwartek',\n                'piƒÖtek',\n                'sobota'\n            ][dayOfWeek]})`);\n            if (dayOfWeek === 0 || dayOfWeek === 6) {\n                console.error(`‚ùå B≈ÅƒÑD: Pr√≥ba zapisania godzin dla weekendu! Dzie≈Ñ tygodnia: ${dayOfWeek} (${[\n                    'niedziela',\n                    'poniedzia≈Çek',\n                    'wtorek',\n                    '≈õroda',\n                    'czwartek',\n                    'piƒÖtek',\n                    'sobota'\n                ][dayOfWeek]})`);\n                throw new Error('Mo≈ºna wpisywaƒá godziny tylko dla dni roboczych (pon-pt)');\n            }\n            console.log(`‚úÖ Dzie≈Ñ roboczy potwierdzony: ${[\n                'niedziela',\n                'poniedzia≈Çek',\n                'wtorek',\n                '≈õroda',\n                'czwartek',\n                'piƒÖtek',\n                'sobota'\n            ][dayOfWeek]}`);\n            // Walidacja godzin (0-12)\n            if (hours < 0 || hours > 12) {\n                throw new Error('Liczba godzin musi byƒá miƒôdzy 0 a 12');\n            }\n            // Upsert godzin pracy w bazie danych (tabela ju≈º istnieje)\n            const { error } = await supabase.from('working_hours').upsert({\n                user_id: user.id,\n                work_date: date,\n                hours_worked: hours,\n                updated_at: new Date().toISOString()\n            }, {\n                onConflict: 'user_id,work_date'\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapisywania godzin pracy do bazy:', error);\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage fallback)`);\n                return;\n            }\n            console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (baza danych working_hours)`);\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w saveWorkingHours:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage ultimate fallback)`);\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô zapisaƒá nawet do localStorage:', storageError);\n                throw error;\n            }\n        }\n    },\n    async getWorkingHoursForMonth (user, year, month) {\n        try {\n            console.log(`‚è∞ Pobieranie godzin pracy dla ${year}-${month}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Oblicz pierwszy i ostatni dzie≈Ñ miesiƒÖca (poprawka strefy czasowej)\n            const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;\n            const endDate = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n            console.log(`üìÖ Pobieranie godzin dla zakresu: ${startDate} - ${endDate}`);\n            // Pobierz godziny pracy z tabeli working_hours (tabela ju≈º istnieje)\n            const { data, error } = await supabase.from('working_hours').select('work_date, hours_worked').eq('user_id', user.id).gte('work_date', startDate).lte('work_date', endDate);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania godzin pracy z bazy:', error);\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDate && date <= endDate) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            }\n            // Konwertuj na obiekt date -> hours\n            const hoursMap = {};\n            if (data) {\n                data.forEach((entry)=>{\n                    hoursMap[entry.work_date] = entry.hours_worked;\n                });\n            }\n            console.log(`‚úÖ Pobrano godziny pracy z tabeli working_hours dla ${data?.length || 0} dni`);\n            return hoursMap;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getWorkingHoursForMonth:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const startDateStr = `${year}-${month.toString().padStart(2, '0')}-01`;\n                const endDateStr = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDateStr && date <= endDateStr) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage ultimate fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô pobraƒá nawet z localStorage:', storageError);\n                return {};\n            }\n        }\n    },\n    // üöÄ NOWE FUNKCJE PERFORMANCE - Materializowane Widoki\n    // Zastƒôpuje ciƒô≈ºkie JOIN'y - teraz natychmiastowe ≈Çadowanie\n    async getMonthlyEmployeePerformance (year, month) {\n        try {\n            console.log(`üìä Pobieranie wydajno≈õci pracownik√≥w dla ${year}-${month} (zoptymalizowane)...`);\n            const { data, error } = await supabase.rpc('get_monthly_employee_performance', {\n                target_year: year,\n                target_month: month\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania wydajno≈õci pracownik√≥w:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Wydajno≈õƒá pracownik√≥w pobrana: ${data?.length || 0} rekord√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getMonthlyEmployeePerformance failed:', error);\n            throw error;\n        }\n    },\n    // Szybkie statystyki zespo≈Çu na podstawie materializowanych widok√≥w\n    async getTeamSummary (year, month) {\n        try {\n            const { data, error } = await supabase.from('mv_monthly_employee_stats').select('*').eq('year', year).eq('month', month).order('owned_sales', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamSummary failed:', error);\n            throw error;\n        }\n    },\n    // Performance analytics - top performers\n    async getTopPerformers (limit = 10) {\n        try {\n            const { data, error } = await supabase.rpc('get_top_performers', {\n                limit_count: limit\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTopPerformers failed:', error);\n            throw error;\n        }\n    }\n};\n// API dla lokalizacji/kraj√≥w\nconst locationsApi = {\n    // Pobierz wszystkie lokalizacje (podstawowe informacje - dla rejestracji)\n    async getAllLocations () {\n        try {\n            const { data, error } = await supabase.from('locations').select(`\n          id,\n          name,\n          code,\n          currency,\n          timezone,\n          region,\n          created_at,\n          updated_at\n        `).order('name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania lokalizacji:', error);\n                throw error;\n            }\n            console.log('‚úÖ Pobrano lokalizacje:', data?.length || 0);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllLocations failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz wszystkie lokalizacje z pe≈Çnymi informacjami (dla zalogowanych u≈ºytkownik√≥w)\n    async getAllLocationsWithManagers () {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).order('name');\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = data?.map((location)=>({\n                ...location,\n                project_manager: location.project_manager && Array.isArray(location.project_manager) && location.project_manager.length > 0 ? location.project_manager[0] // We≈∫ pierwszy element z tablicy\n                 : location.project_manager && !Array.isArray(location.project_manager) ? location.project_manager // Ju≈º jest pojedynczym obiektem\n                 : null // Brak project managera\n            }));\n        return transformedData;\n    },\n    // Pobierz dostƒôpne lokalizacje dla u≈ºytkownika\n    async getUserAccessibleLocations (userId) {\n        try {\n            // Najpierw spr√≥buj u≈ºyƒá funkcji SQL (je≈õli istnieje)\n            const { data, error } = await supabase.rpc('get_user_accessible_locations', {\n                user_id: userId\n            });\n            if (error) {\n                console.warn('üîÑ Funkcja SQL get_user_accessible_locations nie istnieje, u≈ºywam fallback logiki');\n                throw error;\n            }\n            return data;\n        } catch (error) {\n            console.warn('‚ö†Ô∏è B≈ÇƒÖd wywo≈Çania funkcji SQL, u≈ºywam JavaScript fallback:', error);\n            // Fallback - implementacja logiki w JavaScript\n            try {\n                // Pobierz u≈ºytkownika\n                const { data: user, error: userError } = await supabase.from('users').select('role, location_id').eq('id', userId).single();\n                if (userError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá danych u≈ºytkownika:', userError);\n                    return this.getAllLocations() // Fallback - zwr√≥ƒá wszystkie\n                    ;\n                }\n                // Sprawd≈∫ rolƒô u≈ºytkownika\n                if (user.role === 'admin' || user.role === 'szef') {\n                    // Admin i szef widzƒÖ wszystkie lokalizacje\n                    console.log('üëë Admin/Szef - zwracam wszystkie lokalizacje');\n                    return this.getAllLocations();\n                } else {\n                    // Pozostali widzƒÖ tylko swojƒÖ lokalizacjƒô\n                    if (!user.location_id) {\n                        console.warn('‚ö†Ô∏è U≈ºytkownik nie ma przypisanej lokalizacji');\n                        return [];\n                    }\n                    console.log('üë§ Zwyk≈Çy u≈ºytkownik - zwracam lokalizacjƒô:', user.location_id);\n                    const { data: location, error: locationError } = await supabase.from('locations').select('*').eq('id', user.location_id).single();\n                    if (locationError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá lokalizacji u≈ºytkownika:', locationError);\n                        return [];\n                    }\n                    return [\n                        location\n                    ];\n                }\n            } catch (fallbackError) {\n                console.error('‚ùå Fallback logic failed:', fallbackError);\n                // Ostateczny fallback - wszystkie lokalizacje\n                return this.getAllLocations();\n            }\n        }\n    },\n    // Pobierz lokalizacjƒô po ID\n    async getLocationById (id) {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).eq('id', id).single();\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = {\n            ...data,\n            project_manager: data.project_manager && Array.isArray(data.project_manager) && data.project_manager.length > 0 ? data.project_manager[0] // We≈∫ pierwszy element z tablicy\n             : data.project_manager && !Array.isArray(data.project_manager) ? data.project_manager // Ju≈º jest pojedynczym obiektem\n             : null // Brak project managera\n        };\n        return transformedData;\n    },\n    // Aktualizuj project managera dla lokalizacji\n    async updateLocationProjectManager (locationId, projectManagerId, currentUser) {\n        if (!permissionsApi.canChangeRoles(currentUser)) {\n            throw new Error('Brak uprawnie≈Ñ do zmiany project managera');\n        }\n        const { data, error } = await supabase.from('locations').update({\n            project_manager_id: projectManagerId,\n            updated_at: new Date().toISOString()\n        }).eq('id', locationId).select().single();\n        if (error) throw error;\n        return data;\n    }\n};\n// Funkcje autoryzacji\nconst authApi = {\n    // Zaloguj u≈ºytkownika\n    async signIn (email, password) {\n        const { data, error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Zarejestruj nowego u≈ºytkownika\n    async signUp (email, password, fullName, locationId) {\n        const { data, error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: {\n                    full_name: fullName,\n                    location_id: locationId\n                }\n            }\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Wyloguj u≈ºytkownika\n    async signOut () {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n    },\n    // Pobierz aktualnego u≈ºytkownika\n    async getCurrentUser () {\n        const { data: { user } } = await supabase.auth.getUser();\n        return user;\n    },\n    // Pobierz profil u≈ºytkownika z rolƒÖ\n    async getUserProfile (userId) {\n        const { data, error } = await supabase.from('users').select('*').eq('id', userId).single();\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz wszystkich u≈ºytkownik√≥w (dla opcji filtrowania)\n    async getAllUsers () {\n        try {\n            console.log('üë• getAllUsers START - sprawdzam RLS...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsers - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            console.log('üë• getAllUsers - b≈ÇƒÖd:', error);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsers:', error);\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí Problem z Row Level Security - pracownik nie mo≈ºe widzieƒá innych u≈ºytkownik√≥w');\n                }\n                throw error;\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w - mo≈ºe RLS blokuje dostƒôp');\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllUsers FAILED:', error);\n            throw error;\n        }\n    },\n    // Sprawd≈∫ sesjƒô u≈ºytkownika\n    async getSession () {\n        const { data: { session } } = await supabase.auth.getSession();\n        return session;\n    },\n    // Nas≈Çuchuj zmian w autoryzacji\n    onAuthStateChange (callback) {\n        return supabase.auth.onAuthStateChange(callback);\n    },\n    // Zaktualizuj jƒôzyk u≈ºytkownika\n    async updateUserLanguage (userId, language) {\n        const { data, error } = await supabase.from('users').update({\n            language\n        }).eq('id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Zaktualizuj profil u≈ºytkownika (w tym rolƒô)\n    async updateUser (userId, updates, currentUser) {\n        console.log('üë• updateUser START - aktualizacja u≈ºytkownika:', userId, updates);\n        // Sprawd≈∫ uprawnienia\n        if (!permissionsApi.canChangeRoles(currentUser)) {\n            throw new Error('Brak uprawnie≈Ñ do edycji u≈ºytkownik√≥w');\n        }\n        // Dodatkowa weryfikacja dla zmian r√≥l\n        if (updates.role) {\n            const { data: targetUser, error: fetchError } = await supabase.from('users').select('*').eq('id', userId).single();\n            if (fetchError) throw fetchError;\n            // Sprawd≈∫ czy u≈ºytkownik mo≈ºe zmieniaƒá rolƒô docelowego u≈ºytkownika\n            if (!permissionsApi.canManageUser(currentUser, targetUser)) {\n                throw new Error('Brak uprawnie≈Ñ do zmiany roli tego u≈ºytkownika');\n            }\n            console.log(`üîÑ Zmiana roli: ${targetUser.role} ‚Üí ${updates.role}`);\n        }\n        // Wykonaj aktualizacjƒô\n        const { data, error } = await supabase.from('users').update({\n            ...updates,\n            updated_at: new Date().toISOString()\n        }).eq('id', userId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd aktualizacji u≈ºytkownika:', error);\n            throw error;\n        }\n        console.log('‚úÖ U≈ºytkownik zaktualizowany pomy≈õlnie:', data.full_name);\n        return data;\n    },\n    // Promuj junior_manager do project_manager (dedykowana funkcja)\n    async promoteToProjectManager (userId, currentUser) {\n        console.log('üöÄ promoteToProjectManager START - promowanie do PM:', userId);\n        // Sprawd≈∫ czy aktualny u≈ºytkownik ma uprawnienia (tylko Szef i Admin)\n        if (![\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Tylko Szef i Administrator mogƒÖ promowaƒá u≈ºytkownik√≥w do roli Project Manager');\n        }\n        // Pobierz docelowego u≈ºytkownika\n        const { data: targetUser, error: fetchError } = await supabase.from('users').select('*').eq('id', userId).single();\n        if (fetchError) throw fetchError;\n        // Sprawd≈∫ czy ma rolƒô junior_manager\n        if (targetUser.role !== 'junior_manager') {\n            throw new Error('Mo≈ºna promowaƒá tylko u≈ºytkownik√≥w z rolƒÖ Junior Manager');\n        }\n        console.log(`üîÑ Promowanie: ${targetUser.full_name} (${targetUser.role} ‚Üí project_manager)`);\n        // Wykonaj promocjƒô\n        const { data, error } = await supabase.from('users').update({\n            role: 'project_manager',\n            role_hierarchy_level: 1,\n            updated_at: new Date().toISOString()\n        }).eq('id', userId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd promowania u≈ºytkownika:', error);\n            throw error;\n        }\n        console.log(`‚úÖ ${targetUser.full_name} zosta≈Ç promowany do Project Manager`);\n        return data;\n    },\n    // Przypisz junior_manager (wraz z podw≈Çadnymi) do project_manager - UPROSZCZONA WERSJA\n    async assignJuniorManagerToProjectManager (juniorManagerId, projectManagerId, currentUser) {\n        console.log('üîó assignJuniorManagerToProjectManager START (uproszczona wersja):', {\n            juniorManagerId,\n            projectManagerId\n        });\n        // Sprawd≈∫ uprawnienia - tylko Szef i Admin mogƒÖ zarzƒÖdzaƒá hierarchiƒÖ\n        if (![\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            console.error('‚ùå Brak uprawnie≈Ñ - u≈ºytkownik:', currentUser.email, 'rola:', currentUser.role);\n            throw new Error('Tylko Szef i Administrator mogƒÖ zarzƒÖdzaƒá hierarchiƒô manager√≥w');\n        }\n        try {\n            // Krok 1: Sprawd≈∫ czy Junior Manager istnieje\n            const { data: juniorManager, error: juniorError } = await supabase.from('users').select('id, full_name, role, manager_id').eq('id', juniorManagerId).eq('role', 'junior_manager').single();\n            if (juniorError || !juniorManager) {\n                throw new Error('Nie znaleziono Junior Manager o podanym ID');\n            }\n            // Krok 2: Sprawd≈∫ czy Project Manager istnieje\n            const { data: projectManager, error: projectError } = await supabase.from('users').select('id, full_name, role').eq('id', projectManagerId).eq('role', 'project_manager').single();\n            if (projectError || !projectManager) {\n                throw new Error('Nie znaleziono Project Manager o podanym ID');\n            }\n            console.log(`üîó Przypisujƒô ${juniorManager.full_name} do ${projectManager.full_name}`);\n            // Krok 3: Znajd≈∫ pracownik√≥w Junior Managera (bez u≈ºywania funkcji hierarchicznych)\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id, full_name, role, manager_id').eq('manager_id', juniorManagerId).eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n            // Kontynuuj mimo b≈Çƒôdu - mo≈ºe nie ma pracownik√≥w\n            }\n            const employeesList = employees || [];\n            console.log(`üë• Znaleziono ${employeesList.length} pracownik√≥w pod ${juniorManager.full_name}`);\n            // Krok 4: Aktualizuj Junior Manager - PROSTA AKTUALIZACJA\n            console.log('üîÑ Aktualizujƒô manager_id dla junior managera');\n            const { data: updatedJuniorManager, error: updateError } = await supabase.from('users').update({\n                manager_id: projectManagerId,\n                updated_at: new Date().toISOString()\n            }).eq('id', juniorManagerId).select('id, full_name, role, manager_id').single();\n            if (updateError) {\n                console.error('‚ùå B≈ÇƒÖd aktualizacji junior managera:', updateError);\n                throw new Error(`B≈ÇƒÖd aktualizacji: ${updateError.message}`);\n            }\n            // Krok 5: Przenie≈õ pracownik√≥w (je≈õli istniejƒÖ)\n            let updatedEmployees = [];\n            if (employeesList.length > 0) {\n                console.log('üîÑ Przenoszƒô pracownik√≥w pod Project Manager');\n                for (const employee of employeesList){\n                    const { data: updatedEmployee, error: moveError } = await supabase.from('users').update({\n                        manager_id: projectManagerId,\n                        updated_at: new Date().toISOString()\n                    }).eq('id', employee.id).select('id, full_name, role, manager_id').single();\n                    if (moveError) {\n                        console.error(`‚ùå B≈ÇƒÖd przenoszenia pracownika ${employee.full_name}:`, moveError);\n                    } else if (updatedEmployee) {\n                        updatedEmployees.push(updatedEmployee);\n                    }\n                }\n                console.log(`üì¶ Przeniesiono ${updatedEmployees.length}/${employeesList.length} pracownik√≥w`);\n            }\n            const message = `Junior Manager ${juniorManager.full_name} zosta≈Ç przypisany do Project Manager ${projectManager.full_name}. ${updatedEmployees.length > 0 ? `Przeniesiono r√≥wnie≈º ${updatedEmployees.length} pracownik√≥w.` : ''}`;\n            console.log(`‚úÖ SUKCES: ${message}`);\n            return {\n                juniorManager: updatedJuniorManager,\n                affectedEmployees: updatedEmployees,\n                message\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÅƒÑD w assignJuniorManagerToProjectManager:', error);\n            throw error;\n        }\n    },\n    // Pobierz hierarchiƒô manager√≥w z podw≈Çadnymi\n    async getManagerHierarchy (managerId) {\n        console.log('üèóÔ∏è getManagerHierarchy START:', managerId);\n        // Pobierz managera\n        const { data: manager, error: managerError } = await supabase.from('users').select('*').eq('id', managerId).single();\n        if (managerError) throw managerError;\n        // Pobierz bezpo≈õrednich podw≈Çadnych\n        const { data: directReports, error: directError } = await supabase.from('users').select('*').eq('manager_id', managerId);\n        if (directError) throw directError;\n        // Pobierz wszystkich podw≈Çadnych (recursive dla junior manager√≥w)\n        let allSubordinates = [\n            ...directReports || []\n        ];\n        for (const subordinate of directReports || []){\n            if (subordinate.role === 'junior_manager') {\n                const { data: subEmployees, error: subError } = await supabase.from('users').select('*').eq('manager_id', subordinate.id);\n                if (!subError && subEmployees) {\n                    allSubordinates.push(...subEmployees);\n                }\n            }\n        }\n        console.log(`üìä Manager ${manager.full_name}: ${directReports?.length || 0} bezpo≈õrednich, ${allSubordinates.length} ≈ÇƒÖcznie`);\n        return {\n            manager: manager,\n            directReports: directReports || [],\n            allSubordinates: allSubordinates\n        };\n    },\n    // Pobierz wszystkich dostƒôpnych project manager√≥w\n    async getAvailableProjectManagers () {\n        const { data, error } = await supabase.from('users').select('*').eq('role', 'project_manager').eq('is_active', true).order('full_name');\n        if (error) throw error;\n        return data || [];\n    },\n    // Pobierz wszystkich junior manager√≥w bez przypisanego project managera\n    async getUnassignedJuniorManagers () {\n        const { data, error } = await supabase.from('users').select('*').eq('role', 'junior_manager').is('manager_id', null).eq('is_active', true).order('full_name');\n        if (error) throw error;\n        return data || [];\n    },\n    // Bezpieczne pobieranie u≈ºytkownik√≥w do wy≈õwietlania (odporne na RLS)\n    async getAllUsersForDisplay () {\n        try {\n            console.log('üë• getAllUsersForDisplay START - bezpieczne pobieranie...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            if (!user) {\n                console.log('‚ùå Brak zalogowanego u≈ºytkownika');\n                return [];\n            }\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsersForDisplay - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsersForDisplay:', error);\n                // Je≈õli to problem z RLS, zwr√≥ƒá przynajmniej aktualnego u≈ºytkownika\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí RLS blokuje dostƒôp - zwracam tylko aktualnego u≈ºytkownika');\n                    // Pobierz profil aktualnego u≈ºytkownika\n                    try {\n                        const userProfile = await this.getUserProfile(user.id);\n                        console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                        return [\n                            userProfile\n                        ];\n                    } catch (profileError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                        return [];\n                    }\n                }\n                // Inny b≈ÇƒÖd - zwr√≥ƒá pustƒÖ tablicƒô\n                console.error('‚ùå Inny b≈ÇƒÖd - zwracam pustƒÖ tablicƒô');\n                return [];\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Udane pobranie u≈ºytkownik√≥w:', data.length);\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n                return data;\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w');\n                // Fallback - przynajmniej aktualny u≈ºytkownik\n                try {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                } catch (profileError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                    return [];\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå getAllUsersForDisplay CRITICAL ERROR:', error);\n            // Krytyczny fallback - spr√≥buj przynajmniej pobraƒá aktualnego u≈ºytkownika\n            try {\n                const { data: { user } } = await supabase.auth.getUser();\n                if (user) {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Krytyczny fallback: zwracam aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                }\n            } catch (criticalError) {\n                console.error('‚ùå Krytyczny b≈ÇƒÖd fallback:', criticalError);\n            }\n            return [];\n        }\n    }\n};\n// Funkcja do okre≈õlania koloru statusu \"canvas\" na podstawie czasu\nconst getCanvasStatusColor = (statusChangedAt)=>{\n    if (!statusChangedAt) {\n        return {\n            color: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\n            description: 'Nowy',\n            priority: 'low'\n        };\n    }\n    const now = new Date();\n    const statusDate = new Date(statusChangedAt);\n    const daysDiff = Math.floor((now.getTime() - statusDate.getTime()) / (1000 * 60 * 60 * 24));\n    if (daysDiff <= 2) {\n        // 0-2 dni - zielony (≈õwie≈ºy)\n        return {\n            color: 'bg-green-500/20 text-green-400 border-green-500/30',\n            description: `≈öwie≈ºy (${daysDiff}d)`,\n            priority: 'low'\n        };\n    } else if (daysDiff <= 4) {\n        // 2-4 dni - ≈º√≥≈Çty (uwaga)\n        return {\n            color: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n            description: `Wymaga uwagi (${daysDiff}d)`,\n            priority: 'medium'\n        };\n    } else {\n        // 5+ dni - czerwony (pilny)\n        return {\n            color: 'bg-red-500/20 text-red-400 border-red-500/30',\n            description: `Pilny (${daysDiff}d)`,\n            priority: 'high'\n        };\n    }\n};\n// Funkcja do pobierania klient√≥w z oznaczeniami priorytet√≥w\nconst getCanvasClientsWithPriority = async (user)=>{\n    try {\n        const clients = await clientsApi.getClients(user);\n        const canvasClients = clients.filter((client)=>client.status === 'canvas');\n        const priorityStats = {\n            high: 0,\n            medium: 0,\n            low: 0,\n            total: canvasClients.length\n        };\n        canvasClients.forEach((client)=>{\n            const { priority } = getCanvasStatusColor(client.status_changed_at);\n            priorityStats[priority]++;\n        });\n        return {\n            clients: canvasClients,\n            stats: priorityStats\n        };\n    } catch (error) {\n        console.error('B≈ÇƒÖd pobierania klient√≥w canvas:', error);\n        return {\n            clients: [],\n            stats: {\n                high: 0,\n                medium: 0,\n                low: 0,\n                total: 0\n            }\n        };\n    }\n};\n// üöÄ NOWE API PERFORMANCE - Materializowane Widoki i Optymalizacje\n// Dodane zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\nconst dashboardApi = {\n    // Zastƒôpuje wolne zapytania dashboard - teraz ~10ms zamiast ~200ms\n    async getDashboardMetrics () {\n        try {\n            console.log('‚ö° Pobieranie szybkich metryk dashboard z materializowanego widoku...');\n            const { data, error } = await supabase.rpc('get_dashboard_metrics');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania metryk dashboard:', error);\n                throw error;\n            }\n            console.log('‚úÖ Dashboard metrics pobrane w trybie express:', data?.length || 0, 'metryk');\n            return data;\n        } catch (error) {\n            console.error('‚ùå getDashboardMetrics failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie czy materializowane widoki sƒÖ ≈õwie≈ºe\n    async checkViewFreshness () {\n        try {\n            // Sprawd≈∫ czy tabela mv_dashboard_summary istnieje\n            const { data, error } = await supabase.from('mv_dashboard_summary').select('last_updated').limit(1).single();\n            if (error) {\n                console.warn('‚ö†Ô∏è Materialized view mv_dashboard_summary nie istnieje lub brak uprawnie≈Ñ:', error);\n                // Fallback - u≈ºyj aktualnego czasu\n                return {\n                    lastUpdate: new Date().toISOString(),\n                    minutesSinceUpdate: 0,\n                    isStale: false // Za≈Ço≈º ≈ºe dane sƒÖ ≈õwie≈ºe je≈õli nie ma widoku\n                };\n            }\n            const lastUpdate = new Date(data.last_updated);\n            const now = new Date();\n            const minutesSinceUpdate = Math.floor((now.getTime() - lastUpdate.getTime()) / (1000 * 60));\n            return {\n                lastUpdate: data.last_updated,\n                minutesSinceUpdate,\n                isStale: minutesSinceUpdate > 30 // Uznaj za nieaktualne po 30 minutach\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            // Graceful fallback\n            return {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n    }\n};\n// üöÄ NOWE FUNKCJE PERFORMANCE dodane do istniejƒÖcego reportsApi\nconst teamApi = {\n    // Szybki przeglƒÖd aktywno≈õci zespo≈Çu\n    async getTeamActivityOverview () {\n        try {\n            console.log('üë• Pobieranie przeglƒÖdu aktywno≈õci zespo≈Çu (zoptymalizowane)...');\n            const { data, error } = await supabase.from('mv_activity_summary').select('*').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]).order('activities_24h', {\n                ascending: false\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci zespo≈Çu:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Aktywno≈õƒá zespo≈Çu pobrana: ${data?.length || 0} u≈ºytkownik√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamActivityOverview failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie aktywnych u≈ºytkownik√≥w w czasie rzeczywistym\n    async getActiveUsersNow () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('user_id, full_name, activity_status, last_activity').eq('activity_status', 'active').order('last_activity', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getActiveUsersNow failed:', error);\n            throw error;\n        }\n    },\n    // Statystyki produktywno≈õci zespo≈Çu\n    async getProductivityStats () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('activities_24h, activities_7d, phone_clicks, status_changes').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]);\n            if (error) throw error;\n            // Oblicz ≈õrednie\n            const totalUsers = data.length;\n            const avgDaily = data.reduce((sum, user)=>sum + user.activities_24h, 0) / totalUsers;\n            const avgWeekly = data.reduce((sum, user)=>sum + user.activities_7d, 0) / totalUsers;\n            return {\n                totalUsers,\n                avgDailyActivities: Math.round(avgDaily),\n                avgWeeklyActivities: Math.round(avgWeekly),\n                totalDailyActivities: data.reduce((sum, user)=>sum + user.activities_24h, 0),\n                totalWeeklyActivities: data.reduce((sum, user)=>sum + user.activities_7d, 0)\n            };\n        } catch (error) {\n            console.error('‚ùå getProductivityStats failed:', error);\n            throw error;\n        }\n    }\n};\n// üîß PERFORMANCE MONITORING API\nconst performanceApi = {\n    // Sprawdzenie metryk wydajno≈õci systemu\n    async getSystemMetrics () {\n        try {\n            console.log('üîç Pobieranie metryk wydajno≈õci systemu...');\n            const tableStats = [];\n            // Pomocnicza funkcja do bezpiecznego pobierania statystyk tabeli\n            const getTableStats = async (tableName)=>{\n                try {\n                    const { count, error } = await supabase.from(tableName).select('*', {\n                        count: 'exact',\n                        head: true\n                    });\n                    if (error) {\n                        console.warn(`‚ö†Ô∏è Nie mo≈ºna pobraƒá statystyk tabeli ${tableName}:`, error.message);\n                        return null;\n                    }\n                    return {\n                        table_name: tableName,\n                        record_count: count || 0,\n                        table_size: 'N/A',\n                        last_updated: new Date().toISOString()\n                    };\n                } catch (err) {\n                    console.warn(`‚ö†Ô∏è B≈ÇƒÖd tabeli ${tableName}:`, err);\n                    return null;\n                }\n            };\n            // Sprawd≈∫ ka≈ºdƒÖ tabelƒô oddzielnie\n            const tables = [\n                'clients',\n                'users',\n                'activity_logs',\n                'activity_logs_archive'\n            ];\n            for (const tableName of tables){\n                const stats = await getTableStats(tableName);\n                if (stats) {\n                    tableStats.push(stats);\n                }\n            }\n            // Je≈õli nie uda≈Ço siƒô pobraƒá ≈ºadnych statystyk, zwr√≥ƒá podstawowe informacje\n            if (tableStats.length === 0) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá statystyk ≈ºadnej tabeli - zwracam dane przyk≈Çadowe');\n                tableStats.push({\n                    table_name: 'system_info',\n                    record_count: 0,\n                    table_size: 'Brak dostƒôpu',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            console.log(`‚úÖ Pobrano statystyki ${tableStats.length} tabel`);\n            return tableStats;\n        } catch (error) {\n            console.error('‚ùå getSystemMetrics failed:', error);\n            // Graceful fallback - zwr√≥ƒá podstawowe dane zamiast rzucaƒá b≈ÇƒÖd\n            return [\n                {\n                    table_name: 'error_fallback',\n                    record_count: 0,\n                    table_size: 'B≈ÇƒÖd po≈ÇƒÖczenia',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n    },\n    // Manualne od≈õwie≈ºenie materializowanych widok√≥w\n    async refreshMaterializedViews () {\n        try {\n            console.log('üîÑ Manualnie od≈õwie≈ºam materializowane widoki...');\n            const { data, error } = await supabase.rpc('refresh_all_materialized_views');\n            if (error) throw error;\n            console.log('‚úÖ Widoki od≈õwie≈ºone:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå refreshMaterializedViews failed:', error);\n            throw error;\n        }\n    },\n    // Archiwizacja starych log√≥w\n    async archiveOldLogs () {\n        try {\n            console.log('üì¶ Uruchamiam archiwizacjƒô starych log√≥w...');\n            const { data, error } = await supabase.rpc('archive_old_activity_logs');\n            if (error) throw error;\n            console.log(`‚úÖ Zarchiwizowano ${data} starych log√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå archiveOldLogs failed:', error);\n            throw error;\n        }\n    },\n    // Optymalizacja bazy danych\n    async optimizeDatabase () {\n        try {\n            console.log('üöÄ Uruchamiam optymalizacjƒô bazy danych...');\n            const { data, error } = await supabase.rpc('optimize_database_performance');\n            if (error) throw error;\n            console.log('‚úÖ Baza danych zoptymalizowana:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå optimizeDatabase failed:', error);\n            throw error;\n        }\n    }\n};\nconst callsApi = {\n    /**\r\n   * üìû POBIERZ HISTORIƒò PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera historiƒô po≈ÇƒÖcze≈Ñ telefonicznych z activity_logs\r\n   * Uwzglƒôdnia uprawnienia u≈ºytkownika:\r\n   * - Admin/Szef: wszystkie po≈ÇƒÖczenia z wybranego kraju\r\n   * - Project Manager/Junior Manager: wszystkie z ich lokalizacji\r\n   * - Pracownik: tylko swoje po≈ÇƒÖczenia\r\n   */ async getCalls (user, filter = {}) {\n        try {\n            console.log('üìû Pobieranie historii po≈ÇƒÖcze≈Ñ...', {\n                user: user.role,\n                filter\n            });\n            let query = supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          timestamp,\n          clients!inner (\n            id,\n            first_name,\n            last_name,\n            company_name,\n            phone,\n            location_id,\n            location:locations (\n              id,\n              name,\n              code\n            )\n          )\n        `).eq('field_changed', 'last_phone_click').order('timestamp', {\n                ascending: false\n            }).limit(filter.limit || 100);\n            // Filtrowanie wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            if (user.role === 'pracownik') {\n                // Pracownik widzi tylko swoje po≈ÇƒÖczenia\n                query = query.eq('changed_by', user.id);\n            } else if ([\n                'junior_manager',\n                'manager',\n                'project_manager'\n            ].includes(user.role)) {\n                // Mened≈ºerowie widzƒÖ po≈ÇƒÖczenia z ich lokalizacji\n                if (filter.locationId) {\n                    // Je≈õli wybrano konkretnƒÖ lokalizacjƒô, filtruj po niej\n                    query = query.eq('clients.location_id', filter.locationId);\n                } else if (user.location_id) {\n                    // Je≈õli nie wybrano lokalizacji, poka≈º z lokalizacji u≈ºytkownika\n                    query = query.eq('clients.location_id', user.location_id);\n                }\n            } else if ([\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                // Szef i admin widzƒÖ wszystko, opcjonalnie filtrowane po lokalizacji\n                if (filter.locationId) {\n                    query = query.eq('clients.location_id', filter.locationId);\n                }\n            }\n            // Dodatkowe filtry czasowe\n            if (filter.startDate) {\n                query = query.gte('timestamp', filter.startDate);\n            }\n            if (filter.endDate) {\n                query = query.lte('timestamp', filter.endDate);\n            }\n            const { data: callLogs, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania po≈ÇƒÖcze≈Ñ:', error);\n                throw error;\n            }\n            if (!callLogs || callLogs.length === 0) {\n                console.log('üìû Brak po≈ÇƒÖcze≈Ñ dla podanych kryteri√≥w');\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach (dzwoniƒÖcych)\n            const callerIds = [\n                ...new Set(callLogs.map((log)=>log.changed_by))\n            ];\n            const { data: callers, error: callersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', callerIds);\n            if (callersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', callersError);\n            // Kontynuuj bez szczeg√≥≈Ç√≥w u≈ºytkownik√≥w\n            }\n            // Stw√≥rz mapƒô u≈ºytkownik√≥w\n            const callersMap = (callers || []).reduce((acc, caller)=>{\n                acc[caller.id] = caller;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane na format CallRecord\n            const callRecords = callLogs.map((log)=>{\n                const client = Array.isArray(log.clients) ? log.clients[0] : log.clients;\n                const caller = callersMap[log.changed_by];\n                const location = Array.isArray(client?.location) ? client.location[0] : client?.location;\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    client_name: client ? `${client.first_name} ${client.last_name}`.trim() : 'Nieznany klient',\n                    client_company: client?.company_name || 'Brak informacji',\n                    client_phone: client?.phone || 'Brak telefonu',\n                    called_by: log.changed_by,\n                    caller_name: caller?.full_name || 'Nieznany u≈ºytkownik',\n                    caller_role: caller?.role || 'unknown',\n                    caller_avatar: caller?.avatar_url || null,\n                    call_timestamp: log.timestamp,\n                    location_id: client?.location_id || null,\n                    location_name: location?.name || null,\n                    location_code: location?.code || null\n                };\n            });\n            console.log(`‚úÖ Pobrano ${callRecords.length} rekord√≥w po≈ÇƒÖcze≈Ñ`);\n            return callRecords;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w callsApi.getCalls:', error);\n            throw error;\n        }\n    },\n    /**\r\n   * üìä POBIERZ STATYSTYKI PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera statystyki po≈ÇƒÖcze≈Ñ dla wybranego okresu\r\n   */ async getCallsStats (user, filter = {}) {\n        try {\n            console.log('üìä Pobieranie statystyk po≈ÇƒÖcze≈Ñ...');\n            const now = new Date();\n            const today = now.toISOString().split('T')[0];\n            const weekStart = new Date(now.setDate(now.getDate() - now.getDay())).toISOString().split('T')[0];\n            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1).toISOString();\n            // Pobierz wszystkie po≈ÇƒÖczenia zgodnie z uprawnieniami\n            const allCalls = await callsApi.getCalls(user, {\n                ...filter,\n                limit: 1000\n            });\n            // Zlicz statystyki\n            const totalCalls = allCalls.length;\n            const callsToday = allCalls.filter((call)=>call.call_timestamp.startsWith(today)).length;\n            const callsThisWeek = allCalls.filter((call)=>call.call_timestamp >= weekStart).length;\n            const callsThisMonth = allCalls.filter((call)=>call.call_timestamp >= monthStart).length;\n            // Top dzwoniƒÖcy\n            const callerCounts = allCalls.reduce((acc, call)=>{\n                const key = call.called_by;\n                if (!acc[key]) {\n                    acc[key] = {\n                        name: call.caller_name,\n                        role: call.caller_role,\n                        avatar: call.caller_avatar,\n                        count: 0\n                    };\n                }\n                acc[key].count++;\n                return acc;\n            }, {});\n            const topCallers = Object.values(callerCounts).sort((a, b)=>b.count - a.count).slice(0, 5);\n            return {\n                totalCalls,\n                callsToday,\n                callsThisWeek,\n                callsThisMonth,\n                topCallers\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk po≈ÇƒÖcze≈Ñ:', error);\n            return {\n                totalCalls: 0,\n                callsToday: 0,\n                callsThisWeek: 0,\n                callsThisMonth: 0,\n                topCallers: []\n            };\n        }\n    }\n};\n// üì° NOTIFICATIONS API - System powiadomie≈Ñ\nconst notificationsApi = {\n    // Pobierz powiadomienia dla u≈ºytkownika\n    async getNotifications (user, options) {\n        try {\n            let query = supabase.from('notifications').select(`\n          id,\n          user_id,\n          client_id,\n          type,\n          title,\n          message,\n          read,\n          urgent,\n          metadata,\n          created_at,\n          expires_at,\n          client:clients (\n            id,\n            first_name,\n            last_name,\n            company_name\n          )\n        `).eq('user_id', user.id).order('created_at', {\n                ascending: false\n            });\n            // Filtruj tylko nieprzeczytane\n            if (options?.unreadOnly) {\n                query = query.eq('read', false);\n            }\n            // Filtruj po typie\n            if (options?.type) {\n                query = query.eq('type', options.type);\n            }\n            // Limit\n            if (options?.limit) {\n                query = query.limit(options.limit);\n            }\n            const { data, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania powiadomie≈Ñ:', error);\n                throw error;\n            }\n            return (data || []).map((notification)=>({\n                    ...notification,\n                    // Przekszta≈Çƒá dane klienta z JOIN\n                    client: notification.client && Array.isArray(notification.client) && notification.client.length > 0 ? notification.client[0] : notification.client && !Array.isArray(notification.client) ? notification.client : undefined\n                }));\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getNotifications:', error);\n            throw error;\n        }\n    },\n    // Pobierz liczbƒô nieprzeczytanych powiadomie≈Ñ\n    async getUnreadCount (user) {\n        try {\n            const { count, error } = await supabase.from('notifications').select('*', {\n                count: 'exact',\n                head: true\n            }).eq('user_id', user.id).eq('read', false);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania liczby nieprzeczytanych:', error);\n                throw error;\n            }\n            return count || 0;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getUnreadCount:', error);\n            return 0;\n        }\n    },\n    // Oznacz powiadomienie jako przeczytane\n    async markAsRead (notificationId) {\n        try {\n            const { error } = await supabase.rpc('mark_notification_as_read', {\n                notification_id: notificationId\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd oznaczania jako przeczytane:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w markAsRead:', error);\n            throw error;\n        }\n    },\n    // Oznacz wszystkie powiadomienia jako przeczytane\n    async markAllAsRead (user) {\n        try {\n            const { data, error } = await supabase.rpc('mark_all_notifications_as_read');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd oznaczania wszystkich jako przeczytane:', error);\n                throw error;\n            }\n            return data || 0;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w markAllAsRead:', error);\n            throw error;\n        }\n    },\n    // Utw√≥rz nowe powiadomienie\n    async createNotification (notification) {\n        try {\n            const { data, error } = await supabase.from('notifications').insert([\n                notification\n            ]).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd tworzenia powiadomienia:', error);\n                throw error;\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w createNotification:', error);\n            throw error;\n        }\n    },\n    // Usu≈Ñ powiadomienie\n    async deleteNotification (notificationId) {\n        try {\n            const { error } = await supabase.from('notifications').delete().eq('id', notificationId);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd usuwania powiadomienia:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w deleteNotification:', error);\n            throw error;\n        }\n    },\n    // Wyczy≈õƒá stare powiadomienia\n    async cleanupOldNotifications () {\n        try {\n            const { error } = await supabase.rpc('cleanup_old_notifications');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd czyszczenia starych powiadomie≈Ñ:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupOldNotifications:', error);\n            throw error;\n        }\n    },\n    // Pobierz dzisiejsze przypomnienia dla dashboard\n    async getTodayReminders (user) {\n        try {\n            const today = new Date().toISOString().split('T')[0];\n            const { data, error } = await supabase.from('notifications').select(`\n          id,\n          user_id,\n          client_id,\n          type,\n          title,\n          message,\n          read,\n          urgent,\n          metadata,\n          created_at,\n          expires_at,\n          client:clients (\n            id,\n            first_name,\n            last_name,\n            company_name\n          )\n        `).eq('user_id', user.id).eq('type', 'reminder').gte('created_at', `${today}T00:00:00.000Z`).lt('created_at', `${today}T23:59:59.999Z`).order('created_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych przypomnie≈Ñ:', error);\n                throw error;\n            }\n            return (data || []).map((notification)=>({\n                    ...notification,\n                    client: notification.client && Array.isArray(notification.client) && notification.client.length > 0 ? notification.client[0] : notification.client && !Array.isArray(notification.client) ? notification.client : undefined\n                }));\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getTodayReminders:', error);\n            return [];\n        }\n    },\n    // Uruchom funkcje generowania powiadomie≈Ñ (do testowania)\n    async triggerReminderCheck () {\n        try {\n            const { error } = await supabase.rpc('create_reminder_notifications');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd uruchamiania sprawdzania przypomnie≈Ñ:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w triggerReminderCheck:', error);\n            throw error;\n        }\n    },\n    async triggerAntisaleCheck () {\n        try {\n            const { error } = await supabase.rpc('create_antysale_warnings');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd uruchamiania sprawdzania antysale:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w triggerAntisaleCheck:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na real-time powiadomienia\n    subscribeToNotifications (userId, callback) {\n        return supabase.channel(`notifications_${userId}`).on('postgres_changes', {\n            event: 'INSERT',\n            schema: 'public',\n            table: 'notifications',\n            filter: `user_id=eq.${userId}`\n        }, (payload)=>{\n            callback(payload.new);\n        }).subscribe();\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ1I7UUFFRixFQUFFLE9BQU9BLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXlvQjtRQUNKLElBQUk7WUFDRixNQUFNLEVBQUV6b0IsS0FBSyxFQUFFLEdBQUcsTUFBTVYsU0FBU3VmLEdBQUcsQ0FBQztZQUVyQyxJQUFJN2UsT0FBTztnQkFDVEMsUUFBUUQsS0FBSyxDQUFDLDZDQUE2Q0E7Z0JBQzNELE1BQU1BO1lBQ1I7UUFFRixFQUFFLE9BQU9BLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLGtDQUFrQ0E7WUFDaEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEseUNBQXlDO0lBQ3pDMG9CLDBCQUF5QnZWLE1BQWMsRUFBRTdGLFFBQThDO1FBQ3JGLE9BQU9oTyxTQUNKaU8sT0FBTyxDQUFDLENBQUMsY0FBYyxFQUFFNEYsUUFBUSxFQUNqQzNGLEVBQUUsQ0FBQyxvQkFDRjtZQUNFQyxPQUFPO1lBQ1BDLFFBQVE7WUFDUkMsT0FBTztZQUNQN0wsUUFBUSxDQUFDLFdBQVcsRUFBRXFSLFFBQVE7UUFDaEMsR0FDQSxDQUFDcEY7WUFDQ1QsU0FBU1MsUUFBUUcsR0FBRztRQUN0QixHQUVETixTQUFTO0lBQ2Q7QUFDRixFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGtrYWNwXFxEZXNrdG9wXFxTcGVjcmVzQ1JNdjJcXFNwZWN0cmVzR3JvdXBDUk1cXGRhc2hib2FyZFxcbGliXFxzdXBhYmFzZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3VwYWJhc2UtanMnXHJcblxyXG5jb25zdCBzdXBhYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCB8fCAnaHR0cHM6Ly9wa2h1Z2dka2NnbGljZ2hneGl5cC5zdXBhYmFzZS5jbydcclxuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkgfHwgJ2V5SmhiR2NpT2lKSVV6STFOaUlzSW5SNWNDSTZJa3BYVkNKOS5leUpwYzNNaU9pSnpkWEJoWW1GelpTSXNJbkpsWmlJNkluQnJhSFZuWjJSclkyZHNhV05uYUdkNGFYbHdJaXdpY205c1pTSTZJbUZ1YjI0aUxDSnBZWFFpT2pFM05EazVNVEV3TnpFc0ltVjRjQ0k2TWpBMk5UUTROekEzTVgwLkxiV3RiLW1vZFJEbHZua0dGNUlzd1JIZTFsSnBkNHpDTWdrUTNfRTBRUWsnXHJcblxyXG5leHBvcnQgY29uc3Qgc3VwYWJhc2UgPSBjcmVhdGVDbGllbnQoc3VwYWJhc2VVcmwsIHN1cGFiYXNlQW5vbktleSlcclxuXHJcbi8vIEZ1bmtjamEgcG9tb2NuaWN6YSBkbyBnZW5lcm93YW5pYSBwb3ByYXdueWNoIFVSTC1pIGF2YXRhcsOzdyB6IFN1cGFiYXNlIFN0b3JhZ2VcclxuZXhwb3J0IGNvbnN0IGdldEF2YXRhclVybCA9IChhdmF0YXJVcmw/OiBzdHJpbmcgfCBudWxsKTogc3RyaW5nIHwgbnVsbCA9PiB7XHJcbiAgaWYgKCFhdmF0YXJVcmwpIHJldHVybiBudWxsXHJcbiAgXHJcbiAgLy8gSmXFm2xpIHRvIGp1xbwgcGXFgm55IFVSTCAoemFjenluYSBzacSZIG9kIGh0dHApLCB6d3LDs8SHIGJleiB6bWlhblxyXG4gIGlmIChhdmF0YXJVcmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XHJcbiAgICByZXR1cm4gYXZhdGFyVXJsXHJcbiAgfVxyXG4gIFxyXG4gIC8vIEplxZtsaSB0byDFm2NpZcW8a2EgdyBidWNrZXQndSAoemF3aWVyYSBmb2xkZXIpLCB3eWdlbmVydWogcHVibGljem55IFVSTFxyXG4gIGlmIChhdmF0YXJVcmwuaW5jbHVkZXMoJy8nKSkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlXHJcbiAgICAgICAgLmZyb20oJ2F2YXRhcnMnKVxyXG4gICAgICAgIC5nZXRQdWJsaWNVcmwoYXZhdGFyVXJsKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGEucHVibGljVXJsXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgZ2VuZXJvd2FuaWEgVVJMIGF2YXRhcmE6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiBudWxsXHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC8vIEZhbGxiYWNrIC0gcHJhd2RvcG9kb2JuaWUgbmllcG9wcmF3bnkgZm9ybWF0XHJcbiAgY29uc29sZS53YXJuKCdOaWVyb3pwb3puYW55IGZvcm1hdCBhdmF0YXJfdXJsOicsIGF2YXRhclVybClcclxuICByZXR1cm4gbnVsbFxyXG59XHJcblxyXG4vLyBTdG9yYWdlIEFQSSBkbGEgcGxpa8OzdyBDU1ZcclxuZXhwb3J0IGNvbnN0IHN0b3JhZ2VBcGkgPSB7XHJcbiAgLy8gVXBsb2FkIHBsaWt1IENTViBkbyBidWNrZXRcclxuICBhc3luYyB1cGxvYWRDU1YoZmlsZTogRmlsZSwgdXNlcjogVXNlcik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBPY3p5c3pjemVuaWUgbmF6d3kgcGxpa3UgeiBwcm9ibGVtYXR5Y3pueWNoIHpuYWvDs3dcclxuICAgICAgY29uc3QgY2xlYW5GaWxlTmFtZSA9IGZpbGUubmFtZVxyXG4gICAgICAgIC5yZXBsYWNlKC9bXmEtekEtWjAtOS4tXS9nLCAnXycpIC8vIFphc3TEhXAgd3N6eXN0a2llIHpuYWtpIHNwZWNqYWxuZSBwb2RrcmXFm2xlbmlhbWlcclxuICAgICAgICAucmVwbGFjZSgvX3syLH0vZywgJ18nKSAvLyBaYW1pZcWEIHdpZWxva3JvdG5lIHBvZGtyZcWbbGVuaWEgbmEgcG9qZWR5bmN6ZVxyXG4gICAgICAgIC5yZXBsYWNlKC9eXyt8XyskL2csICcnKSAvLyBVc3XFhCBwb2RrcmXFm2xlbmlhIHogcG9jesSFdGt1IGkga2/FhGNhXHJcbiAgICAgICAgLnRvTG93ZXJDYXNlKCkgLy8gTWHFgmUgbGl0ZXJ5IGRsYSBjb25zaXN0ZW5jeVxyXG4gICAgICBcclxuICAgICAgY29uc3QgZmlsZU5hbWUgPSBgJHt1c2VyLmlkfV8ke0RhdGUubm93KCl9XyR7Y2xlYW5GaWxlTmFtZX1gXHJcbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gYGNzdi1pbXBvcnRzLyR7ZmlsZU5hbWV9YFxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYPCfk4EgVXBsb2FkaW5nIENTVjogJHtmaWxlUGF0aH1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TgSBPcmlnaW5hbCBmaWxlbmFtZTogJHtmaWxlLm5hbWV9YClcclxuICAgICAgY29uc29sZS5sb2coYPCfk4EgQ2xlYW5lZCBmaWxlbmFtZTogJHtjbGVhbkZpbGVOYW1lfWApXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXHJcbiAgICAgICAgLmZyb20oJ2Nzdi1maWxlcycpXHJcbiAgICAgICAgLnVwbG9hZChmaWxlUGF0aCwgZmlsZSwge1xyXG4gICAgICAgICAgY2FjaGVDb250cm9sOiAnMzYwMCcsXHJcbiAgICAgICAgICB1cHNlcnQ6IGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTdG9yYWdlIHVwbG9hZCBlcnJvcjonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYELFgsSFZCB1cGxvYWR1OiAke2Vycm9yLm1lc3NhZ2V9YClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBGaWxlIHVwbG9hZGVkIHN1Y2Nlc3NmdWxseTonLCBkYXRhLnBhdGgpXHJcbiAgICAgIHJldHVybiBkYXRhLnBhdGhcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgVXBsb2FkIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIFBvYmllcnogcHVibGljem55IFVSTCBwbGlrdVxyXG4gIGdldFB1YmxpY1VybChwYXRoOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlXHJcbiAgICAgIC5mcm9tKCdjc3YtZmlsZXMnKVxyXG4gICAgICAuZ2V0UHVibGljVXJsKHBhdGgpXHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhLnB1YmxpY1VybFxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gVXN1xYQgcGxpayB6IGJ1Y2tldFxyXG4gIGFzeW5jIGRlbGV0ZUZpbGUocGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXHJcbiAgICAgIC5mcm9tKCdjc3YtZmlsZXMnKVxyXG4gICAgICAucmVtb3ZlKFtwYXRoXSlcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGaWxlIGRlbGV0aW9uIGVycm9yOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYELFgsSFZCB1c3V3YW5pYSBwbGlrdTogJHtlcnJvci5tZXNzYWdlfWApXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBDU1YgSW1wb3J0IEFQSVxyXG5leHBvcnQgY29uc3QgY3N2SW1wb3J0QXBpID0ge1xyXG4gIC8vIFBhcnN1aiBDU1YgaSB6d3LDs8SHIGRhbmVcclxuICBwYXJzZUNTVihjc3ZUZXh0OiBzdHJpbmcpOiB7IGhlYWRlcnM6IHN0cmluZ1tdLCByb3dzOiBzdHJpbmdbXVtdIH0ge1xyXG4gICAgY29uc3QgbGluZXMgPSBjc3ZUZXh0LnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSAhPT0gJycpXHJcbiAgICBcclxuICAgIGlmIChsaW5lcy5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxpayBDU1YgamVzdCBwdXN0eSBsdWIgemF3aWVyYSB0eWxrbyBuYWfFgsOzd2tpJylcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUGFyc293YW5pZSB6IG9ic8WCdWfEhSBjdWR6eXPFgm93w7N3XHJcbiAgICBjb25zdCBwYXJzZUNTVkxpbmUgPSAobGluZTogc3RyaW5nKTogc3RyaW5nW10gPT4ge1xyXG4gICAgICBjb25zdCByZXN1bHQ6IHN0cmluZ1tdID0gW11cclxuICAgICAgbGV0IGN1cnJlbnQgPSAnJ1xyXG4gICAgICBsZXQgaW5RdW90ZXMgPSBmYWxzZVxyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2hhciA9IGxpbmVbaV1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoY2hhciA9PT0gJ1wiJykge1xyXG4gICAgICAgICAgaW5RdW90ZXMgPSAhaW5RdW90ZXNcclxuICAgICAgICB9IGVsc2UgaWYgKGNoYXIgPT09ICcsJyAmJiAhaW5RdW90ZXMpIHtcclxuICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQudHJpbSgpKVxyXG4gICAgICAgICAgY3VycmVudCA9ICcnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGN1cnJlbnQgKz0gY2hhclxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmVzdWx0LnB1c2goY3VycmVudC50cmltKCkpXHJcbiAgICAgIHJldHVybiByZXN1bHQubWFwKGNlbGwgPT4gY2VsbC5yZXBsYWNlKC9eXCJ8XCIkL2csICcnKSkgLy8gVXN1xYQgY3VkenlzxYJvd3lcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgaGVhZGVycyA9IHBhcnNlQ1NWTGluZShsaW5lc1swXSlcclxuICAgIGNvbnN0IHJvd3MgPSBsaW5lcy5zbGljZSgxKS5tYXAocGFyc2VDU1ZMaW5lKVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBoZWFkZXJzLCByb3dzIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIE1hcHVqIG5hZ8WCw7N3a2kgQ1NWIG5hIHBvbGEgYmF6eSBkYW55Y2hcclxuICBtYXBIZWFkZXJzKGhlYWRlcnM6IHN0cmluZ1tdKTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB7XHJcbiAgICBjb25zdCBtYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cclxuICAgIFxyXG4gICAgY29uc3QgZmllbGRNYXBwaW5ncyA9IFtcclxuICAgICAgeyBmaWVsZHM6IFsnZmlyc3RfbmFtZScsICdpbWnEmScsICduYW1lJywgJ2ZpcnN0TmFtZSddLCBkYkZpZWxkOiAnZmlyc3RfbmFtZScgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnbGFzdF9uYW1lJywgJ25hendpc2tvJywgJ3N1cm5hbWUnLCAnbGFzdE5hbWUnXSwgZGJGaWVsZDogJ2xhc3RfbmFtZScgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnY29tcGFueV9uYW1lJywgJ2Zpcm1hJywgJ2NvbXBhbnknLCAnY29tcGFueU5hbWUnLCAnbmF6d2EnXSwgZGJGaWVsZDogJ2NvbXBhbnlfbmFtZScgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnbmlwJywgJ3RheF9pZCcsICd0YXhJZCddLCBkYkZpZWxkOiAnbmlwJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydwaG9uZScsICd0ZWxlZm9uJywgJ3RlbGVwaG9uZSddLCBkYkZpZWxkOiAncGhvbmUnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ2VtYWlsJywgJ2UtbWFpbCcsICdtYWlsJ10sIGRiRmllbGQ6ICdlbWFpbCcgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnd2Vic2l0ZScsICd3d3cnLCAnc3Ryb25hJywgJ3VybCddLCBkYkZpZWxkOiAnd2Vic2l0ZScgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnbm90ZXMnLCAnbm90YXRrYScsICdub3RlJywgJ2NvbW1lbnQnXSwgZGJGaWVsZDogJ25vdGVzJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydzdGF0dXMnXSwgZGJGaWVsZDogJ3N0YXR1cycgfVxyXG4gICAgXVxyXG4gICAgXHJcbiAgICBmb3IgKGNvbnN0IGZpZWxkTWFwcGluZyBvZiBmaWVsZE1hcHBpbmdzKSB7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaGVhZGVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGhlYWRlciA9IGhlYWRlcnNbaV0udG9Mb3dlckNhc2UoKS50cmltKClcclxuICAgICAgICBpZiAoZmllbGRNYXBwaW5nLmZpZWxkcy5zb21lKGZpZWxkID0+IGhlYWRlci5pbmNsdWRlcyhmaWVsZCkpKSB7XHJcbiAgICAgICAgICBtYXBwaW5nW2ZpZWxkTWFwcGluZy5kYkZpZWxkXSA9IGlcclxuICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBtYXBwaW5nXHJcbiAgfSxcclxuICBcclxuICAvLyBXYWxpZHVqIHd5bWFnYW5lIHBvbGFcclxuICB2YWxpZGF0ZVJlcXVpcmVkRmllbGRzKG1hcHBpbmc6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4pOiB2b2lkIHtcclxuICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gWydjb21wYW55X25hbWUnXVxyXG4gICAgY29uc3QgbWlzc2luZ0ZpZWxkcyA9IHJlcXVpcmVkRmllbGRzLmZpbHRlcihmaWVsZCA9PiAhKGZpZWxkIGluIG1hcHBpbmcpKVxyXG4gICAgXHJcbiAgICBpZiAobWlzc2luZ0ZpZWxkcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQnJhayB3eW1hZ2FueWNoIGtvbHVtbjogJHttaXNzaW5nRmllbGRzLmpvaW4oJywgJyl9LiBXeW1hZ2FuZTogRmlybWEvTmF6d2FgKVxyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gU3ByYXdkxbogZG9zdMSZcG5lIGtvbHVtbnkgaSBwb2thxbwgaW5mb3JtYWNqZVxyXG4gIGFuYWx5emVDb2x1bW5zKG1hcHBpbmc6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIGhlYWRlcnM6IHN0cmluZ1tdKTogeyBmb3VuZDogc3RyaW5nW10sIG1pc3Npbmc6IHN0cmluZ1tdLCBvcHRpb25hbDogc3RyaW5nW10gfSB7XHJcbiAgICBjb25zdCBhbGxQb3NzaWJsZUZpZWxkcyA9IFtcclxuICAgICAgeyBmaWVsZDogJ2ZpcnN0X25hbWUnLCBkaXNwbGF5TmFtZTogJ0ltacSZJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdsYXN0X25hbWUnLCBkaXNwbGF5TmFtZTogJ05hendpc2tvJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdjb21wYW55X25hbWUnLCBkaXNwbGF5TmFtZTogJ0Zpcm1hL05hendhJywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICAgICAgeyBmaWVsZDogJ3Bob25lJywgZGlzcGxheU5hbWU6ICdUZWxlZm9uJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdlbWFpbCcsIGRpc3BsYXlOYW1lOiAnRW1haWwnLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ25pcCcsIGRpc3BsYXlOYW1lOiAnTklQJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICd3ZWJzaXRlJywgZGlzcGxheU5hbWU6ICdTdHJvbmEgV1dXJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdub3RlcycsIGRpc3BsYXlOYW1lOiAnTm90YXRraScsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnc3RhdHVzJywgZGlzcGxheU5hbWU6ICdTdGF0dXMnLCByZXF1aXJlZDogZmFsc2UgfVxyXG4gICAgXVxyXG4gICAgXHJcbiAgICBjb25zdCBmb3VuZDogc3RyaW5nW10gPSBbXVxyXG4gICAgY29uc3QgbWlzc2luZzogc3RyaW5nW10gPSBbXVxyXG4gICAgY29uc3Qgb3B0aW9uYWw6IHN0cmluZ1tdID0gW11cclxuICAgIFxyXG4gICAgYWxsUG9zc2libGVGaWVsZHMuZm9yRWFjaCgoeyBmaWVsZCwgZGlzcGxheU5hbWUsIHJlcXVpcmVkIH0pID0+IHtcclxuICAgICAgaWYgKGZpZWxkIGluIG1hcHBpbmcpIHtcclxuICAgICAgICBmb3VuZC5wdXNoKGRpc3BsYXlOYW1lKVxyXG4gICAgICB9IGVsc2UgaWYgKHJlcXVpcmVkKSB7XHJcbiAgICAgICAgbWlzc2luZy5wdXNoKGRpc3BsYXlOYW1lKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG9wdGlvbmFsLnB1c2goZGlzcGxheU5hbWUpXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiB7IGZvdW5kLCBtaXNzaW5nLCBvcHRpb25hbCB9XHJcbiAgfSxcclxuICBcclxuICAvLyBQcnpla3N6dGHFgsSHIHdpZXJzeiBDU1YgbmEgb2JpZWt0IGtsaWVudGFcclxuICByb3dUb0NsaWVudChyb3c6IHN0cmluZ1tdLCBtYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCB1c2VyOiBVc2VyLCBsb2NhdGlvbklkPzogc3RyaW5nKTogT21pdDxDbGllbnQsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+IHtcclxuICAgIGNvbnN0IGdldEZpZWxkID0gKGZpZWxkOiBzdHJpbmcsIGRlZmF1bHRWYWx1ZTogc3RyaW5nID0gJ2JyYWsgaW5mb3JtYWNqaScpOiBzdHJpbmcgPT4ge1xyXG4gICAgICBjb25zdCBpbmRleCA9IG1hcHBpbmdbZmllbGRdXHJcbiAgICAgIGlmIChpbmRleCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxyXG4gICAgICB9XHJcbiAgICAgIGNvbnN0IHZhbHVlID0gKHJvd1tpbmRleF0gfHwgJycpLnRyaW0oKVxyXG4gICAgICByZXR1cm4gdmFsdWUgPT09ICcnID8gZGVmYXVsdFZhbHVlIDogdmFsdWVcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gV2FsaWRhY2phIHN0YXR1c3VcclxuICAgIGNvbnN0IHJhd1N0YXR1cyA9IGdldEZpZWxkKCdzdGF0dXMnLCAnY2FudmFzJykudG9Mb3dlckNhc2UoKVxyXG4gICAgY29uc3QgdmFsaWRTdGF0dXNlcyA9IFsnY2FudmFzJywgJ2JyYWtfa29udGFrdHUnLCAnbmllX3phaW50ZXJlc293YW55JywgJ3pkZW5lcndvd2FueScsICdhbnR5c2FsZScsICdzYWxlJywgJyQkJ10gYXMgY29uc3RcclxuICAgIGNvbnN0IHN0YXR1cyA9IHZhbGlkU3RhdHVzZXMuaW5jbHVkZXMocmF3U3RhdHVzIGFzIGFueSkgPyByYXdTdGF0dXMgYXMgQ2xpZW50WydzdGF0dXMnXSA6ICdjYW52YXMnXHJcbiAgICBcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGZpcnN0X25hbWU6IGdldEZpZWxkKCdmaXJzdF9uYW1lJyksIC8vIE9wY2pvbmFsbmUgLSBtb8W8ZSBiecSHIFwiYnJhayBpbmZvcm1hY2ppXCJcclxuICAgICAgbGFzdF9uYW1lOiBnZXRGaWVsZCgnbGFzdF9uYW1lJyksIC8vIE9wY2pvbmFsbmUgLSBtb8W8ZSBiecSHIFwiYnJhayBpbmZvcm1hY2ppXCJcclxuICAgICAgY29tcGFueV9uYW1lOiBnZXRGaWVsZCgnY29tcGFueV9uYW1lJywgJycpLCAvLyBXeW1hZ2FuZSAtIG5pZSBtb8W8ZSBiecSHIFwiYnJhayBpbmZvcm1hY2ppXCJcclxuICAgICAgbmlwOiBnZXRGaWVsZCgnbmlwJyksXHJcbiAgICAgIHBob25lOiBnZXRGaWVsZCgncGhvbmUnKSxcclxuICAgICAgZW1haWw6IGdldEZpZWxkKCdlbWFpbCcpLFxyXG4gICAgICB3ZWJzaXRlOiBnZXRGaWVsZCgnd2Vic2l0ZScpLFxyXG4gICAgICBub3RlczogZ2V0RmllbGQoJ25vdGVzJyksXHJcbiAgICAgIHN0YXR1cyxcclxuICAgICAgZWRpdGVkX2J5OiB1c2VyLmlkLFxyXG4gICAgICBlZGl0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgb3duZXJfaWQ6IHVzZXIuaWQsXHJcbiAgICAgIGxvY2F0aW9uX2lkOiBsb2NhdGlvbklkIHx8IHVzZXIubG9jYXRpb25faWQsIC8vIFXFvHlqIHd5YnJhbmVqIGxva2FsaXphY2ppIGx1YiBsb2thbGl6YWNqaSB1xbx5dGtvd25pa2FcclxuICAgICAgbGFzdF9lZGl0ZWRfYnlfbmFtZTogdXNlci5mdWxsX25hbWUsIC8vIFphcGlzeiBkYW5lIGltcG9ydGVyYVxyXG4gICAgICBsYXN0X2VkaXRlZF9ieV9hdmF0YXJfdXJsOiB1c2VyLmF2YXRhcl91cmxcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIEltcG9ydCBwZcWCbmVnbyBDU1YgZG8gYmF6eSBkYW55Y2hcclxuICBhc3luYyBpbXBvcnRDU1YoZmlsZTogRmlsZSwgdXNlcjogVXNlciwgbG9jYXRpb25JZD86IHN0cmluZywgb25Qcm9ncmVzcz86IChwcm9ncmVzczogeyBjdXJyZW50OiBudW1iZXIsIHRvdGFsOiBudW1iZXIsIHN0YXR1czogc3RyaW5nIH0pID0+IHZvaWQpOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyLCBlcnJvcnM6IGFueVtdIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ1VwbG9hZGluZyBwbGlrdS4uLicgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIDEuIFVwbG9hZCBwbGlrdSBkbyBTdG9yYWdlXHJcbiAgICAgIGNvbnN0IGZpbGVQYXRoID0gYXdhaXQgc3RvcmFnZUFwaS51cGxvYWRDU1YoZmlsZSwgdXNlcilcclxuICAgICAgXHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDIwLCB0b3RhbDogMTAwLCBzdGF0dXM6ICdQYXJzb3dhbmllIENTVi4uLicgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIDIuIEN6eXRhbmllIGkgcGFyc293YW5pZSBDU1ZcclxuICAgICAgY29uc3QgY3N2VGV4dCA9IGF3YWl0IGZpbGUudGV4dCgpXHJcbiAgICAgIGNvbnN0IHsgaGVhZGVycywgcm93cyB9ID0gY3N2SW1wb3J0QXBpLnBhcnNlQ1NWKGNzdlRleHQpXHJcbiAgICAgIFxyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiA0MCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnTWFwb3dhbmllIGtvbHVtbi4uLicgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIDMuIE1hcG93YW5pZSBuYWfFgsOzd2vDs3dcclxuICAgICAgY29uc3QgbWFwcGluZyA9IGNzdkltcG9ydEFwaS5tYXBIZWFkZXJzKGhlYWRlcnMpXHJcbiAgICAgIGNzdkltcG9ydEFwaS52YWxpZGF0ZVJlcXVpcmVkRmllbGRzKG1hcHBpbmcpXHJcbiAgICAgIFxyXG4gICAgICAvLyA0LiBBbmFsaXphIGRvc3TEmXBueWNoIGtvbHVtblxyXG4gICAgICBjb25zdCBjb2x1bW5BbmFseXNpcyA9IGNzdkltcG9ydEFwaS5hbmFseXplQ29sdW1ucyhtYXBwaW5nLCBoZWFkZXJzKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogQ1NWIEhlYWRlcnM6JywgaGVhZGVycylcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogRmllbGQgbWFwcGluZzonLCBtYXBwaW5nKVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBSb3dzIHRvIGltcG9ydDonLCByb3dzLmxlbmd0aClcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBabmFsZXppb25lIGtvbHVtbnk6JywgY29sdW1uQW5hbHlzaXMuZm91bmQpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgQnJha3VqxIVjZSB3eW1hZ2FuZTonLCBjb2x1bW5BbmFseXNpcy5taXNzaW5nKVxyXG4gICAgICBjb25zb2xlLmxvZygn4pqqIE9wY2pvbmFsbmUgKGLEmWTEhSBcImJyYWsgaW5mb3JtYWNqaVwiKTonLCBjb2x1bW5BbmFseXNpcy5vcHRpb25hbClcclxuICAgICAgXHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDUwLCB0b3RhbDogMTAwLCBzdGF0dXM6IGBJbXBvcnRvd2FuaWUgJHtyb3dzLmxlbmd0aH0ga2xpZW50w7N3Li4uYCB9KVxyXG4gICAgICBcclxuICAgICAgLy8gNC4gSW1wb3J0IHdpZXJzenkgZG8gYmF6eVxyXG4gICAgICBjb25zdCByZXN1bHRzID0geyBzdWNjZXNzOiAwLCBlcnJvcnM6IFtdIGFzIGFueVtdIH1cclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCByb3cgPSByb3dzW2ldXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFNwcmF3ZMW6IGN6eSB3aWVyc3ogbmllIGplc3QgcHVzdHlcclxuICAgICAgICAgIGlmIChyb3cuZXZlcnkoY2VsbCA9PiBjZWxsLnRyaW0oKSA9PT0gJycpKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGNsaWVudERhdGEgPSBjc3ZJbXBvcnRBcGkucm93VG9DbGllbnQocm93LCBtYXBwaW5nLCB1c2VyLCBsb2NhdGlvbklkKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBXYWxpZGFjamEgcG9kc3Rhd293eWNoIGRhbnljaFxyXG4gICAgICAgICAgaWYgKCFjbGllbnREYXRhLmNvbXBhbnlfbmFtZSB8fCBjbGllbnREYXRhLmNvbXBhbnlfbmFtZS50cmltKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2goe1xyXG4gICAgICAgICAgICAgIHJvdzogaSArIDIsIC8vICsyIGJvIGxpY3p5bXkgb2QgMSBpIHBvbWlqYW15IG5hZ8WCw7N3ZWtcclxuICAgICAgICAgICAgICBlcnJvcjogJ0JyYWsgd3ltYWdhbnljaCBkYW55Y2g6IGZpcm1hL25hendhJyxcclxuICAgICAgICAgICAgICBkYXRhOiByb3dcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gRG9kYWoga2xpZW50YSBkbyBiYXp5XHJcbiAgICAgICAgICBhd2FpdCBjbGllbnRzQXBpLmNyZWF0ZUNsaWVudChjbGllbnREYXRhLCB1c2VyKVxyXG4gICAgICAgICAgcmVzdWx0cy5zdWNjZXNzKytcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQWt0dWFsaXp1aiBwcm9ncmVzc1xyXG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSA1MCArIE1hdGguZmxvb3IoKGkgLyByb3dzLmxlbmd0aCkgKiA0MClcclxuICAgICAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IHByb2dyZXNzLCB0b3RhbDogMTAwLCBzdGF0dXM6IGBaYWltcG9ydG93YW5vICR7cmVzdWx0cy5zdWNjZXNzfS8ke3Jvd3MubGVuZ3RofSBrbGllbnTDs3dgIH0pXHJcbiAgICAgICAgICBcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIELFgsSFZCBpbXBvcnR1IHdpZXJzemEgJHtpICsgMn06YCwgZXJyb3IpXHJcbiAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKHtcclxuICAgICAgICAgICAgcm93OiBpICsgMixcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ05pZXpuYW55IGLFgsSFZCcsXHJcbiAgICAgICAgICAgIGRhdGE6IHJvd3NbaV1cclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiA5NSwgdG90YWw6IDEwMCwgc3RhdHVzOiAnRmluYWxpem93YW5pZS4uLicgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIDUuIE9wY2pvbmFsbmllIHVzdcWEIHBsaWsgeiBTdG9yYWdlIChsdWIgemFjaG93YWogZGxhIGhpc3RvcmlpKVxyXG4gICAgICAvLyBhd2FpdCBzdG9yYWdlQXBpLmRlbGV0ZUZpbGUoZmlsZVBhdGgpXHJcbiAgICAgIFxyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiAxMDAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ1pha2/FhGN6b25vIScgfSlcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgSW1wb3J0IHpha2/FhGN6b255OiAke3Jlc3VsdHMuc3VjY2Vzc30gc3VrY2VzLCAke3Jlc3VsdHMuZXJyb3JzLmxlbmd0aH0gYsWCxJlkw7N3YClcclxuICAgICAgcmV0dXJuIHJlc3VsdHNcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQ1NWIEltcG9ydCBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBUeXB5IGRsYSBiYXp5IGRhbnljaCB6Z29kbmllIHogRVRBUEVNIDUgaSA2IHogUkVBRE1FICsgU3RydWt0dXJhREIudHh0XHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50IHtcclxuICBpZDogc3RyaW5nXHJcbiAgZmlyc3RfbmFtZTogc3RyaW5nXHJcbiAgbGFzdF9uYW1lOiBzdHJpbmdcclxuICBjb21wYW55X25hbWU6IHN0cmluZ1xyXG4gIG5pcDogc3RyaW5nXHJcbiAgcGhvbmU6IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBub3Rlczogc3RyaW5nXHJcbiAgd2Vic2l0ZTogc3RyaW5nXHJcbiAgc3RhdHVzOiAnY2FudmFzJyB8ICdicmFrX2tvbnRha3R1JyB8ICduaWVfemFpbnRlcmVzb3dhbnknIHwgJ3pkZW5lcndvd2FueScgfCAnYW50eXNhbGUnIHwgJ3NhbGUnIHwgJyQkJyB8ICdub3d5J1xyXG4gIGVkaXRlZF9ieTogc3RyaW5nXHJcbiAgZWRpdGVkX2F0OiBzdHJpbmdcclxuICBvd25lcl9pZD86IHN0cmluZyAvLyBEb2RhbmUgZGxhIHN5c3RlbXUgdXByYXduaWXFhFxyXG4gIGxvY2F0aW9uX2lkPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgc3lzdGVtdSBsb2thbGl6YWNqaVxyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHN0YXR1c19jaGFuZ2VkX2F0Pzogc3RyaW5nIC8vIEN6YXMgb3N0YXRuaWVqIHptaWFueSBzdGF0dXN1XHJcbiAgbGFzdF9waG9uZV9jbGljaz86IHN0cmluZyAvLyBDemFzIG9zdGF0bmllZ28ga2xpa25pxJljaWEgdyB0ZWxlZm9uXHJcbiAgbGFzdF9lZGl0ZWRfYnlfbmFtZT86IHN0cmluZyAvLyBQZcWCbmUgaW1pxJkgaSBuYXp3aXNrbyBvc3RhdG5pZWdvIGVkeXRvcmFcclxuICBsYXN0X2VkaXRlZF9ieV9hdmF0YXJfdXJsPzogc3RyaW5nIC8vIEF2YXRhciBVUkwgb3N0YXRuaWVnbyBlZHl0b3JhXHJcbiAgb3duZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gIH0gLy8gSW5mb3JtYWNqZSBvIHfFgmHFm2NpY2llbHUga2xpZW50YVxyXG4gIGxvY2F0aW9uPzogTG9jYXRpb24gLy8gSW5mb3JtYWNqZSBvIGxva2FsaXphY2ppIGtsaWVudGFcclxuICByZW1pbmRlcj86IHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW5cclxuICAgIGRhdGU6IHN0cmluZ1xyXG4gICAgdGltZTogc3RyaW5nXHJcbiAgICBub3RlOiBzdHJpbmdcclxuICB9IC8vIFByenlwb21uaWVuaWUgZGxhIGtsaWVudGFcclxufVxyXG5cclxuLy8g8J+agCBOT1dZOiBJbnRlcmZhY2UgZGxhIHBhZ2lub3dhbnljaCB3eW5pa8Ozd1xyXG5leHBvcnQgaW50ZXJmYWNlIFBhZ2luYXRlZENsaWVudHNSZXN1bHQge1xyXG4gIGNsaWVudHM6IENsaWVudFtdXHJcbiAgdG90YWw6IG51bWJlclxyXG4gIHBhZ2U6IG51bWJlclxyXG4gIHBhZ2VTaXplOiBudW1iZXJcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBBY3Rpdml0eUxvZyB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIGNsaWVudF9pZDogc3RyaW5nXHJcbiAgY2hhbmdlZF9ieTogc3RyaW5nXHJcbiAgY2hhbmdlX3R5cGU6ICdjcmVhdGUnIHwgJ3VwZGF0ZScgfCAnZGVsZXRlJ1xyXG4gIGZpZWxkX2NoYW5nZWQ6IHN0cmluZ1xyXG4gIG9sZF92YWx1ZT86IHN0cmluZ1xyXG4gIG5ld192YWx1ZT86IHN0cmluZ1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nXHJcbn1cclxuXHJcbi8vIEludGVyZmVqcyBkbGEgbG9rYWxpemFjamkva3JhasOzd1xyXG5leHBvcnQgaW50ZXJmYWNlIExvY2F0aW9uIHtcclxuICBpZDogc3RyaW5nXHJcbiAgbmFtZTogc3RyaW5nXHJcbiAgY29kZTogc3RyaW5nIC8vICdQTCcsICdTSydcclxuICBjdXJyZW5jeTogc3RyaW5nIC8vICdQTE4nLCAnRVVSJ1xyXG4gIHRpbWV6b25lOiBzdHJpbmcgLy8gJ0V1cm9wZS9XYXJzYXcnLCAnRXVyb3BlL0JyYXRpc2xhdmEnXHJcbiAgcmVnaW9uPzogc3RyaW5nXHJcbiAgcHJvamVjdF9tYW5hZ2VyX2lkPzogc3RyaW5nXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgcHJvamVjdF9tYW5hZ2VyPzoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIGVtYWlsOiBzdHJpbmdcclxuICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gIHJvbGU6ICdhZG1pbicgfCAnbWFuYWdlcicgfCAncHJhY293bmlrJyB8ICdzemVmJyB8ICdwcm9qZWN0X21hbmFnZXInIHwgJ2p1bmlvcl9tYW5hZ2VyJ1xyXG4gIHBob25lPzogc3RyaW5nIFxyXG4gIGJpbz86IHN0cmluZyBcclxuICBhdmF0YXJfdXJsPzogc3RyaW5nIFxyXG4gIGxhbmd1YWdlPzogJ3BsJyB8ICdlbicgfCAnc2snXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgLy8gTm93ZSBwb2xhIGhpZXJhcmNoaWN6bmUgeiBtaWdyYWNqaVxyXG4gIGxvY2F0aW9uX2lkPzogc3RyaW5nXHJcbiAgbWFuYWdlcl9pZD86IHN0cmluZ1xyXG4gIHJvbGVfaGllcmFyY2h5X2xldmVsPzogbnVtYmVyXHJcbiAgdGVycml0b3J5Pzogc3RyaW5nXHJcbiAgc3RhcnRfZGF0ZT86IHN0cmluZ1xyXG4gIGlzX2FjdGl2ZT86IGJvb2xlYW5cclxuICAvLyBSb3pzemVyem9uZSBpbmZvcm1hY2plIGRsYSBKT0lOXHJcbiAgbG9jYXRpb24/OiBMb2NhdGlvblxyXG4gIG1hbmFnZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gIH1cclxuICAvLyDwn4aVIEluZm9ybWFjamUgbyBwb2R3xYJhZG55Y2ggKGRsYSBtZW5lZMW8ZXLDs3cpXHJcbiAgc3Vib3JkaW5hdGVzPzogVXNlcltdXHJcbiAgdG90YWxTdWJvcmRpbmF0ZXM/OiBudW1iZXJcclxufVxyXG5cclxuLy8gSW50ZXJmYWNlIGRsYSBwb3dpYWRvbWllxYRcclxuZXhwb3J0IGludGVyZmFjZSBOb3RpZmljYXRpb24ge1xyXG4gIGlkOiBzdHJpbmdcclxuICB1c2VyX2lkOiBzdHJpbmdcclxuICBjbGllbnRfaWQ/OiBzdHJpbmdcclxuICB0eXBlOiAncmVtaW5kZXInIHwgJ2FudHlzYWxlX3dhcm5pbmcnIHwgJ3N5c3RlbScgfCAnbWFudWFsJ1xyXG4gIHRpdGxlOiBzdHJpbmdcclxuICBtZXNzYWdlOiBzdHJpbmdcclxuICByZWFkOiBib29sZWFuXHJcbiAgdXJnZW50OiBib29sZWFuXHJcbiAgbWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIGFueT5cclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICBleHBpcmVzX2F0Pzogc3RyaW5nXHJcbiAgLy8gUm96c3plcnpvbmUgZGFuZSB6IEpPSU5cclxuICBjbGllbnQ/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmaXJzdF9uYW1lOiBzdHJpbmdcclxuICAgIGxhc3RfbmFtZTogc3RyaW5nXHJcbiAgICBjb21wYW55X25hbWU6IHN0cmluZ1xyXG4gIH1cclxufVxyXG5cclxuLy8gSW50ZXJmZWpzIGRsYSBoaXN0b3JpaSB6bWlhbiB6IGRvZGF0a293eW1pIGluZm9ybWFjamFtaVxyXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudEhpc3Rvcnkge1xyXG4gIGlkOiBzdHJpbmdcclxuICBjbGllbnRfaWQ6IHN0cmluZ1xyXG4gIGNoYW5nZWRfYnk6IHN0cmluZ1xyXG4gIGNoYW5nZV90eXBlOiAnY3JlYXRlJyB8ICd1cGRhdGUnIHwgJ2RlbGV0ZSdcclxuICBmaWVsZF9jaGFuZ2VkOiBzdHJpbmdcclxuICBvbGRfdmFsdWU/OiBzdHJpbmdcclxuICBuZXdfdmFsdWU/OiBzdHJpbmdcclxuICB0aW1lc3RhbXA6IHN0cmluZ1xyXG4gIGVkaXRvcl9uYW1lPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgVUlcclxuICBlZGl0b3Jfcm9sZT86IHN0cmluZyAvLyBEb2RhbmUgZGxhIFVJXHJcbiAgZWRpdG9yX2F2YXRhcj86IHN0cmluZyAvLyBEb2RhbmUgZGxhIFVJIC0gYXZhdGFyIGVkeXRvcmFcclxufVxyXG5cclxuLy8gRnVua2NqZSBzcHJhd2R6YW5pYSB1cHJhd25pZcWEIHogaGllcmFyY2hpxIUgaSBsb2thbGl6YWNqxIVcclxuZXhwb3J0IGNvbnN0IHBlcm1pc3Npb25zQXBpID0ge1xyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSB3aWR6aWXEhyBrbGllbnRhICh6Z29kbmllIHogUkxTKVxyXG4gIGNhblZpZXc6IChjbGllbnQ6IENsaWVudCwgdXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgLy8gU3plZiBpIGFkbWluIHdpZHrEhSB3c3p5c3Rrb1xyXG4gICAgaWYgKFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbogY3p5IGtsaWVudCBqZXN0IHcgdGVqIHNhbWVqIGxva2FsaXphY2ppIGNvIHXFvHl0a293bmlrXHJcbiAgICBjb25zdCBzYW1lTG9jYXRpb24gPSBjbGllbnQubG9jYXRpb25faWQgPT09IHVzZXIubG9jYXRpb25faWRcclxuICAgIGlmICghc2FtZUxvY2F0aW9uKSB7XHJcbiAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBzd2l0Y2ggKHVzZXIucm9sZSkge1xyXG4gICAgICBjYXNlICdwcmFjb3duaWsnOlxyXG4gICAgICAgIC8vIFByYWNvd25payB3aWR6aSB0eWxrbyBzd29pY2gga2xpZW50w7N3IHcgc3dvamVqIGxva2FsaXphY2ppXHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vd25lcl9pZCA9PT0gdXNlci5pZCB8fCBcclxuICAgICAgICAgICAgICAgY2xpZW50Lm93bmVyX2lkID09PSBudWxsIHx8IFxyXG4gICAgICAgICAgICAgICBjbGllbnQuZWRpdGVkX2J5ID09PSB1c2VyLmlkXHJcbiAgICAgIGNhc2UgJ2p1bmlvcl9tYW5hZ2VyJzpcclxuICAgICAgY2FzZSAnbWFuYWdlcic6XHJcbiAgICAgIGNhc2UgJ3Byb2plY3RfbWFuYWdlcic6XHJcbiAgICAgICAgLy8gTWVuZWTFvGVyb3dpZSB3aWR6xIUgd3N6eXN0a2ljaCBrbGllbnTDs3cgdyBzd29qZWogbG9rYWxpemFjamlcclxuICAgICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHJldHVybiBmYWxzZVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSBlZHl0b3dhxIcga2xpZW50YVxyXG4gIGNhbkVkaXQ6IChjbGllbnQ6IENsaWVudCwgdXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgLy8gVGFraWUgc2FtZSByZWd1xYJ5IGphayBjYW5WaWV3XHJcbiAgICByZXR1cm4gcGVybWlzc2lvbnNBcGkuY2FuVmlldyhjbGllbnQsIHVzZXIpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHVzdW7EhcSHIGtsaWVudGFcclxuICBjYW5EZWxldGU6IChjbGllbnQ6IENsaWVudCwgdXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgLy8gU3plZiBpIGFkbWluIG1vZ8SFIHVzdXdhxIcgd3N6eXN0a29cclxuICAgIGlmIChbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIE1lbmVkxbxlcm93aWUgbW9nxIUgdXN1d2HEhyB3IHN3b2plaiBsb2thbGl6YWNqaVxyXG4gICAgaWYgKFsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgIHJldHVybiBjbGllbnQubG9jYXRpb25faWQgPT09IHVzZXIubG9jYXRpb25faWRcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gUHJhY293bmljeSBuaWUgbW9nxIUgdXN1d2HEh1xyXG4gICAgcmV0dXJuIGZhbHNlXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHByenlwaXN5d2HEhyBrbGllbnTDs3dcclxuICBjYW5Bc3NpZ25DbGllbnRzOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIFsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgem1pZW5pYcSHIHJvbGUgaW5ueWNoIHXFvHl0a293bmlrw7N3XHJcbiAgY2FuQ2hhbmdlUm9sZXM6ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSBkb3N0xJlwIGRvIHphYXdhbnNvd2FueWNoIHJhcG9ydMOzd1xyXG4gIGNhbkFjY2Vzc0FkdmFuY2VkUmVwb3J0czogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHdpZHppZcSHIHdzenlzdGtpZSBsb2thbGl6YWNqZVxyXG4gIGNhblZpZXdBbGxMb2NhdGlvbnM6ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSBmaWx0cm93YcSHIHBvIGxva2FsaXphY2phY2hcclxuICBjYW5GaWx0ZXJCeUxvY2F0aW9uOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIFsncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogcG96aW9tIGhpZXJhcmNoaWkgLSBjenkgdXNlcjEgbW/FvGUgemFyesSFZHphxIcgdXNlcjJcclxuICBjYW5NYW5hZ2VVc2VyOiAodXNlcjE6IFVzZXIsIHVzZXIyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICAvLyBBZG1pbiBtb8W8ZSB6YXJ6xIVkemHEhyB3c3p5c3RraW1pXHJcbiAgICBpZiAodXNlcjEucm9sZSA9PT0gJ2FkbWluJykgcmV0dXJuIHRydWVcclxuICAgIFxyXG4gICAgLy8gU3plZiBtb8W8ZSB6YXJ6xIVkemHEhyB3c3p5c3RraW1pIG9wcsOzY3ogYWRtaW7Ds3dcclxuICAgIGlmICh1c2VyMS5yb2xlID09PSAnc3plZicgJiYgdXNlcjIucm9sZSAhPT0gJ2FkbWluJykgcmV0dXJuIHRydWVcclxuICAgIFxyXG4gICAgLy8gSW5uaSBtb2fEhSB6YXJ6xIVkemHEhyB0eWxrbyBwb2R3xYJhZG55bWkgdyB0ZWogc2FtZWogbG9rYWxpemFjamlcclxuICAgIGNvbnN0IHNhbWVMb2NhdGlvbiA9IHVzZXIxLmxvY2F0aW9uX2lkID09PSB1c2VyMi5sb2NhdGlvbl9pZFxyXG4gICAgY29uc3QgaGlnaGVySW5IaWVyYXJjaHkgPSAodXNlcjEucm9sZV9oaWVyYXJjaHlfbGV2ZWwgfHwgOTkpIDwgKHVzZXIyLnJvbGVfaGllcmFyY2h5X2xldmVsIHx8IDk5KVxyXG4gICAgXHJcbiAgICByZXR1cm4gc2FtZUxvY2F0aW9uICYmIGhpZ2hlckluSGllcmFyY2h5XHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbnRlcmZlanMgZGxhIHNsb3R1IGN6YXNvd2VnbyB3IHBsYW5pZSBkbmlhXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlTY2hlZHVsZVNsb3Qge1xyXG4gIHRpbWU6IHN0cmluZ1xyXG4gIHR5cGU6IHN0cmluZ1xyXG4gIGNvbG9yOiBzdHJpbmdcclxuICBzdGFydFRpbWU6IHN0cmluZ1xyXG4gIGVuZFRpbWU6IHN0cmluZ1xyXG4gIHN0YXR1c2VzOiBzdHJpbmdbXVxyXG4gIGNsaWVudHM6IENsaWVudFdpdGhSZW1pbmRlcltdXHJcbn1cclxuXHJcbi8vIEludGVyZmVqcyBkbGEga2xpZW50YSB6IHByenlwb21uaWVuaWFtXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50V2l0aFJlbWluZGVyIGV4dGVuZHMgQ2xpZW50IHtcclxuICByZW1pbmRlcj86IHtcclxuICAgIGVuYWJsZWQ6IGJvb2xlYW5cclxuICAgIGRhdGU6IHN0cmluZ1xyXG4gICAgdGltZTogc3RyaW5nXHJcbiAgICBub3RlOiBzdHJpbmdcclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamUgQVBJIGRsYSBrbGllbnTDs3cgeiBzeXN0ZW1lbSB1cHJhd25pZcWEXHJcbmV4cG9ydCBjb25zdCBjbGllbnRzQXBpID0ge1xyXG4gIC8vIEZ1bmtjamEgdGVzdG93YSAtIHBvZHN0YXdvd2UgemFweXRhbmllIGRvIGtsaWVudMOzd1xyXG4gIGFzeW5jIHRlc3RCYXNpY1F1ZXJ5KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gVGVzdG93ZSB6YXB5dGFuaWUgZG8gdGFiZWxpIGNsaWVudHMuLi4nKVxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAubGltaXQoNSlcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdXeW5payB0ZXN0dSAtIGRhdGE6JywgZGF0YSlcclxuICAgICAgY29uc29sZS5sb2coJ1d5bmlrIHRlc3R1IC0gZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4geyBkYXRhLCBlcnJvciB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgdGVzdG93ZWdvIHphcHl0YW5pYTonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgZXJyb3IgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnoga2xpZW50w7N3IHogZmlsdHJhbWkgdXByYXduaWXFhFxyXG4gIC8vIPCfmoAgTk9XRTogRnVua2NqYSB6IHBhZ2luYWNqxIUgendyYWNhasSFY2Egb2JpZWt0IHogbWV0YWRhbnltaVxyXG4gIGFzeW5jIGdldENsaWVudHNQYWdpbmF0ZWQodXNlcjogVXNlciwgZmlsdGVycz86IHsgXHJcbiAgICBkYXRlPzogc3RyaW5nXHJcbiAgICBzdGF0dXM/OiBzdHJpbmdcclxuICAgIGVtcGxveWVlPzogc3RyaW5nIFxyXG4gICAgcGFnZT86IG51bWJlclxyXG4gICAgcGFnZVNpemU/OiBudW1iZXJcclxuICAgIHNlYXJjaD86IHN0cmluZ1xyXG4gICAgbG9jYXRpb24/OiBzdHJpbmdcclxuICAgIHNvcnRCeT86IHN0cmluZ1xyXG4gICAgc29ydERpcmVjdGlvbj86ICdhc2MnIHwgJ2Rlc2MnXHJcbiAgfSk6IFByb21pc2U8UGFnaW5hdGVkQ2xpZW50c1Jlc3VsdD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgUm96cG9jenluYW0gcG9iaWVyYW5pZSBrbGllbnTDs3cgZGxhIHXFvHl0a293bmlrYTonLCB1c2VyLmlkLCB1c2VyLnJvbGUpXHJcbiAgICAgIFxyXG4gICAgICAvLyBVxbx5aiBKT0lOIGFieSBwb2JyYcSHIGtsaWVudMOzdyB6IGRhbnltaSB3xYJhxZtjaWNpZWxpIGkgbG9rYWxpemFjamkgdyBqZWRueW0gemFweXRhbml1XHJcbiAgICAgIC8vIPCfmoAgT1BUWU1BTElaQUNKQTogV3liaWVyeiB0eWxrbyBuaWV6YsSZZG5lIHBvbGEgKyBsb2thbGl6YWNqYSArIHJlbWluZGVyXHJcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBmaXJzdF9uYW1lLFxyXG4gICAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgICAgY29tcGFueV9uYW1lLFxyXG4gICAgICAgICAgbmlwLFxyXG4gICAgICAgICAgcGhvbmUsXHJcbiAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgIHdlYnNpdGUsXHJcbiAgICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgICBub3RlcyxcclxuICAgICAgICAgIHJlbWluZGVyLFxyXG4gICAgICAgICAgb3duZXJfaWQsXHJcbiAgICAgICAgICBsb2NhdGlvbl9pZCxcclxuICAgICAgICAgIGVkaXRlZF9ieSxcclxuICAgICAgICAgIGVkaXRlZF9hdCxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICB1cGRhdGVkX2F0LFxyXG4gICAgICAgICAgc3RhdHVzX2NoYW5nZWRfYXQsXHJcbiAgICAgICAgICBsYXN0X3Bob25lX2NsaWNrLFxyXG4gICAgICAgICAgbGFzdF9lZGl0ZWRfYnlfbmFtZSxcclxuICAgICAgICAgIGxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmwsXHJcbiAgICAgICAgICBvd25lcjp1c2VycyFvd25lcl9pZCAoXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICBhdmF0YXJfdXJsXHJcbiAgICAgICAgICApLFxyXG4gICAgICAgICAgbG9jYXRpb246bG9jYXRpb25zIWxvY2F0aW9uX2lkIChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICAgIGNvZGUsXHJcbiAgICAgICAgICAgIGN1cnJlbmN5LFxyXG4gICAgICAgICAgICB0aW1lem9uZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGAsIHsgY291bnQ6ICdleGFjdCcgfSlcclxuXHJcbiAgICAgIC8vIPCfmoAgU09SVE9XQU5JRTogT2JzxYJ1Z2EgZHluYW1pY3puZWdvIHNvcnRvd2FuaWFcclxuICAgICAgY29uc3Qgc29ydEZpZWxkID0gZmlsdGVycz8uc29ydEJ5IHx8ICd1cGRhdGVkX2F0J1xyXG4gICAgICBjb25zdCBpc0FzY2VuZGluZyA9IGZpbHRlcnM/LnNvcnREaXJlY3Rpb24gPT09ICdhc2MnXHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkub3JkZXIoc29ydEZpZWxkLCB7IGFzY2VuZGluZzogaXNBc2NlbmRpbmcgfSlcclxuXHJcbiAgICAgIC8vIERvZGF0a293ZSBmaWx0cnlcclxuICAgICAgaWYgKGZpbHRlcnM/LmRhdGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgndXBkYXRlZF9hdCcsIGZpbHRlcnMuZGF0ZSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGZpbHRlcnM/LnN0YXR1cykge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ3N0YXR1cycsIGZpbHRlcnMuc3RhdHVzKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVycz8uZW1wbG95ZWUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdlZGl0ZWRfYnknLCBmaWx0ZXJzLmVtcGxveWVlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDwn5qAIE5PV0U6IEZpbHRyIHd5c3p1a2l3YW5pYVxyXG4gICAgICBpZiAoZmlsdGVycz8uc2VhcmNoKSB7XHJcbiAgICAgICAgY29uc3Qgc2VhcmNoVGVybSA9IGZpbHRlcnMuc2VhcmNoLnRvTG93ZXJDYXNlKClcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lm9yKGBmaXJzdF9uYW1lLmlsaWtlLiUke3NlYXJjaFRlcm19JSxsYXN0X25hbWUuaWxpa2UuJSR7c2VhcmNoVGVybX0lLGNvbXBhbnlfbmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUscGhvbmUuaWxpa2UuJSR7c2VhcmNoVGVybX0lLGVtYWlsLmlsaWtlLiUke3NlYXJjaFRlcm19JWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIPCfmoAgTk9XRTogRmlsdHIgbG9rYWxpemFjamlcclxuICAgICAgaWYgKGZpbHRlcnM/LmxvY2F0aW9uKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnbG9jYXRpb25faWQnLCBmaWx0ZXJzLmxvY2F0aW9uKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDwn5qAIE5PV0U6IFBhZ2luYWNqYVxyXG4gICAgICBpZiAoZmlsdGVycz8ucGFnZSAmJiBmaWx0ZXJzPy5wYWdlU2l6ZSkge1xyXG4gICAgICAgIGNvbnN0IGZyb20gPSAoZmlsdGVycy5wYWdlIC0gMSkgKiBmaWx0ZXJzLnBhZ2VTaXplXHJcbiAgICAgICAgY29uc3QgdG8gPSBmcm9tICsgZmlsdGVycy5wYWdlU2l6ZSAtIDFcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LnJhbmdlKGZyb20sIHRvKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OEIFBhZ2luYWNqYTogc3Ryb25hICR7ZmlsdGVycy5wYWdlfSwgcm96bWlhciAke2ZpbHRlcnMucGFnZVNpemV9LCB6YWtyZXM6ICR7ZnJvbX0tJHt0b31gKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBXeWtvbnVqxJkgemFweXRhbmllIHogSk9JTiBpIGxpY3plbmllbS4uLicpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY2xpZW50cywgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBxdWVyeVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB6YXB5dGFuaWEgY2xpZW50czonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgaWYgKCFjbGllbnRzIHx8IGNsaWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBCcmFrIGtsaWVudMOzdyB3IGJhemllIGRhbnljaCcpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGNsaWVudHM6IFtdLFxyXG4gICAgICAgICAgdG90YWw6IDAsXHJcbiAgICAgICAgICBwYWdlOiBmaWx0ZXJzPy5wYWdlIHx8IDEsXHJcbiAgICAgICAgICBwYWdlU2l6ZTogZmlsdGVycz8ucGFnZVNpemUgfHwgMFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBkYW5lIC0gU3VwYWJhc2UgSk9JTiB6d3JhY2Egb3duZXIgaSBsb2NhdGlvbiBqYWtvIHRhYmxpY2UsIGFsZSBwb3RyemVidWplbXkgcG9qZWR5bmN6eWNoIG9iaWVrdMOzd1xyXG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZENsaWVudHMgPSBjbGllbnRzLm1hcCgoY2xpZW50OiBhbnkpID0+ICh7XHJcbiAgICAgICAgLi4uY2xpZW50LFxyXG4gICAgICAgIG93bmVyOiBjbGllbnQub3duZXIgJiYgQXJyYXkuaXNBcnJheShjbGllbnQub3duZXIpICYmIGNsaWVudC5vd25lci5sZW5ndGggPiAwIFxyXG4gICAgICAgICAgPyBjbGllbnQub3duZXJbMF0gLy8gV2XFuiBwaWVyd3N6eSBlbGVtZW50IHogdGFibGljeVxyXG4gICAgICAgICAgOiBjbGllbnQub3duZXIgJiYgIUFycmF5LmlzQXJyYXkoY2xpZW50Lm93bmVyKVxyXG4gICAgICAgICAgPyBjbGllbnQub3duZXIgLy8gSnXFvCBqZXN0IHBvamVkeW5jenltIG9iaWVrdGVtXHJcbiAgICAgICAgICA6IG51bGwsIC8vIEJyYWsgd8WCYcWbY2ljaWVsYVxyXG4gICAgICAgIGxvY2F0aW9uOiBjbGllbnQubG9jYXRpb24gJiYgQXJyYXkuaXNBcnJheShjbGllbnQubG9jYXRpb24pICYmIGNsaWVudC5sb2NhdGlvbi5sZW5ndGggPiAwIFxyXG4gICAgICAgICAgPyBjbGllbnQubG9jYXRpb25bMF0gLy8gV2XFuiBwaWVyd3N6eSBlbGVtZW50IHogdGFibGljeVxyXG4gICAgICAgICAgOiBjbGllbnQubG9jYXRpb24gJiYgIUFycmF5LmlzQXJyYXkoY2xpZW50LmxvY2F0aW9uKVxyXG4gICAgICAgICAgPyBjbGllbnQubG9jYXRpb24gLy8gSnXFvCBqZXN0IHBvamVkeW5jenltIG9iaWVrdGVtXHJcbiAgICAgICAgICA6IG51bGwgLy8gQnJhayBsb2thbGl6YWNqaVxyXG4gICAgICB9KSlcclxuICAgICAgXHJcbiAgICAgIC8vIERFQlVHOiBTcHJhd2TFuiBkYW5lIHfFgmHFm2NpY2llbGlcclxuICAgICAgY29uc3QgY2xpZW50c1dpdGhPd25lcnMgPSB0cmFuc2Zvcm1lZENsaWVudHMuZmlsdGVyKChjbGllbnQ6IENsaWVudCkgPT4gY2xpZW50Lm93bmVyKVxyXG4gICAgICBjb25zdCBjbGllbnRzV2l0aG91dE93bmVycyA9IHRyYW5zZm9ybWVkQ2xpZW50cy5maWx0ZXIoKGNsaWVudDogQ2xpZW50KSA9PiAhY2xpZW50Lm93bmVyKVxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEtsaWVuY2kgeiB3xYJhxZtjaWNpZWxhbWk6JywgY2xpZW50c1dpdGhPd25lcnMubGVuZ3RoKVxyXG4gICAgICBjb25zb2xlLmxvZygn4p2MIEtsaWVuY2kgYmV6IHfFgmHFm2NpY2llbGk6JywgY2xpZW50c1dpdGhvdXRPd25lcnMubGVuZ3RoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGNsaWVudHNXaXRoT3duZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBQcnp5a8WCYWQga2xpZW50YSB6IHfFgmHFm2NpY2llbGVtOicsIHtcclxuICAgICAgICAgIGNsaWVudDogYCR7Y2xpZW50c1dpdGhPd25lcnNbMF0uZmlyc3RfbmFtZX0gJHtjbGllbnRzV2l0aE93bmVyc1swXS5sYXN0X25hbWV9YCxcclxuICAgICAgICAgIG93bmVyX2lkOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcl9pZCxcclxuICAgICAgICAgIG93bmVyX25hbWU6IGNsaWVudHNXaXRoT3duZXJzWzBdLm93bmVyPy5mdWxsX25hbWUsXHJcbiAgICAgICAgICBvd25lcl9lbWFpbDogY2xpZW50c1dpdGhPd25lcnNbMF0ub3duZXI/LmVtYWlsXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g8J+agCBOT1dFOiBad3LDs8SHIGRhbmUgeiBpbmZvcm1hY2rEhSBvIHBhZ2luYWNqaVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGNsaWVudHM6IHRyYW5zZm9ybWVkQ2xpZW50cyBhcyBDbGllbnRbXSxcclxuICAgICAgICB0b3RhbDogY291bnQgfHwgdHJhbnNmb3JtZWRDbGllbnRzLmxlbmd0aCxcclxuICAgICAgICBwYWdlOiBmaWx0ZXJzPy5wYWdlIHx8IDEsXHJcbiAgICAgICAgcGFnZVNpemU6IGZpbHRlcnM/LnBhZ2VTaXplIHx8IHRyYW5zZm9ybWVkQ2xpZW50cy5sZW5ndGhcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGdldENsaWVudHNQYWdpbmF0ZWQ6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgLy8g8J+UhCBLT01QQVRZQklMTk/FmsSGOiBTdGFyYSBmdW5rY2phIHp3cmFjYWrEhWNhIHR5bGtvIHRhYmxpY8SZIGtsaWVudMOzd1xyXG4gIGFzeW5jIGdldENsaWVudHModXNlcjogVXNlciwgZmlsdGVycz86IHsgXHJcbiAgICBkYXRlPzogc3RyaW5nXHJcbiAgICBzdGF0dXM/OiBzdHJpbmdcclxuICAgIGVtcGxveWVlPzogc3RyaW5nIFxyXG4gICAgc2VhcmNoPzogc3RyaW5nXHJcbiAgICBsb2NhdGlvbj86IHN0cmluZ1xyXG4gICAgc29ydEJ5Pzogc3RyaW5nXHJcbiAgICBzb3J0RGlyZWN0aW9uPzogJ2FzYycgfCAnZGVzYydcclxuICB9KTogUHJvbWlzZTxDbGllbnRbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRDbGllbnRzUGFnaW5hdGVkKHVzZXIsIGZpbHRlcnMpXHJcbiAgICAgIHJldHVybiByZXN1bHQuY2xpZW50c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGdldENsaWVudHM6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gRG9kYWogbm93ZWdvIGtsaWVudGEgeiBhdXRvbWF0eWN6bnltIHByenlwaXNhbmllbSB3xYJhxZtjaWNpZWxhXHJcbiAgYXN5bmMgY3JlYXRlQ2xpZW50KGNsaWVudDogT21pdDxDbGllbnQsICdpZCcgfCAnY3JlYXRlZF9hdCcgfCAndXBkYXRlZF9hdCc+LCB1c2VyOiBVc2VyKSB7XHJcbiAgICAvLyBaQUJFWlBJRUNaRU5JRTogVXBld25paiBzacSZIMW8ZSBzdGF0dXMgbmllIGplc3QgcHVzdHlcclxuICAgIGNvbnN0IHNhZmVTdGF0dXMgPSBjbGllbnQuc3RhdHVzIHx8ICdjYW52YXMnXHJcbiAgICBcclxuICAgIGNvbnN0IGNsaWVudFRvQ3JlYXRlID0ge1xyXG4gICAgICAuLi5jbGllbnQsXHJcbiAgICAgIHN0YXR1czogc2FmZVN0YXR1cywgLy8gVcW8eWogYmV6cGllY3puZWdvIHN0YXR1c3VcclxuICAgICAgb3duZXJfaWQ6IHVzZXIuaWQsIC8vIEF1dG9tYXR5Y3puaWUgcHJ6eXBpc3ogd8WCYcWbY2ljaWVsYVxyXG4gICAgICBsb2NhdGlvbl9pZDogY2xpZW50LmxvY2F0aW9uX2lkIHx8IHVzZXIubG9jYXRpb25faWQsIC8vIFXFvHlqIGxva2FsaXphY2ppIGtsaWVudGEgbHViIHXFvHl0a293bmlrYVxyXG4gICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXHJcbiAgICAgIGxhc3RfZWRpdGVkX2J5X25hbWU6IHVzZXIuZnVsbF9uYW1lLCAvLyBaYXBpc3ogZGFuZSB0d8OzcmN5XHJcbiAgICAgIGxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmw6IHVzZXIuYXZhdGFyX3VybCxcclxuICAgICAgLy8gSmXFm2xpIHN0YXR1cyB0byBcImNhbnZhc1wiLCB1c3RhdyBzdGF0dXNfY2hhbmdlZF9hdFxyXG4gICAgICAuLi4oc2FmZVN0YXR1cyA9PT0gJ2NhbnZhcycgJiYgeyBzdGF0dXNfY2hhbmdlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpIH0pLFxyXG4gICAgICAvLyBLb253ZXJ0dWogdW5kZWZpbmVkIHJlbWluZGVyIG5hIG51bGwgZGxhIGJhenkgZGFueWNoXHJcbiAgICAgIHJlbWluZGVyOiBjbGllbnQucmVtaW5kZXIgfHwgbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKCfwn5OKIFR3b3J6ZW5pZSBrbGllbnRhIHogZGFueW1pOicsIGNsaWVudFRvQ3JlYXRlKVxyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC5pbnNlcnQoW2NsaWVudFRvQ3JlYXRlXSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBjcmVhdGVDbGllbnQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhIGFzIENsaWVudFxyXG4gIH0sXHJcblxyXG4gIC8vIFpha3R1YWxpenVqIGtsaWVudGEgeiBzcHJhd2R6ZW5pZW0gdXByYXduaWXFhFxyXG4gIGFzeW5jIHVwZGF0ZUNsaWVudChpZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPENsaWVudD4sIHVzZXI6IFVzZXIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIHVwZGF0ZUNsaWVudCBTVEFSVDonLCB7IGlkLCB1cGRhdGVzLCB1c2VyOiB1c2VyLmVtYWlsIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IGFrdHVhbG55IHN0YW4ga2xpZW50YSBhYnkgc3ByYXdkemnEhyBjenkgc3RhdHVzIHNpxJkgem1pZW5pYVxyXG4gICAgICBjb25zdCB7IGRhdGE6IGN1cnJlbnRDbGllbnQsIGVycm9yOiBmZXRjaEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIG93bmVyX2lkJylcclxuICAgICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmV0Y2hFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBha3R1YWxuZWdvIGtsaWVudGE6JywgZmV0Y2hFcnJvcilcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5pZSBtb8W8bmEgcG9icmHEhyBha3R1YWxuZWdvIHN0YW51IGtsaWVudGE6ICR7ZmV0Y2hFcnJvci5tZXNzYWdlfWApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQWt0dWFsbnkgc3RhbiBrbGllbnRhOicsIGN1cnJlbnRDbGllbnQpXHJcbiAgICAgIFxyXG4gICAgICAvLyBOT1dBIExPR0lLQTogS2HFvGRhIG9zb2JhIGt0w7NyYSBlZHl0dWplIGtsaWVudGEgem9zdGFqZSBqZWdvIHfFgmHFm2NpY2llbGVtXHJcbiAgICAgIGxldCB1cGRhdGVkRGF0YSA9IHsgLi4udXBkYXRlcyB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBaQUJFWlBJRUNaRU5JRTogSmXFm2xpIHN0YXR1cyBqZXN0IHcgYWt0dWFsaXphY2ppLCB1cGV3bmlqIHNpxJkgxbxlIG5pZSBqZXN0IHB1c3R5XHJcbiAgICAgIGlmICgnc3RhdHVzJyBpbiB1cGRhdGVkRGF0YSAmJiAhdXBkYXRlZERhdGEuc3RhdHVzKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBVV0FHQTogUHVzdHkgc3RhdHVzIHcgYWt0dWFsaXphY2ppIC0gdXN0YXdpYW0gZG9tecWbbG55IFwiY2FudmFzXCInKVxyXG4gICAgICAgIHVwZGF0ZWREYXRhLnN0YXR1cyA9ICdjYW52YXMnXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSBzdGF0dXMgc2nEmSB6bWllbmlhXHJcbiAgICAgIGNvbnN0IHN0YXR1c0NoYW5nZWQgPSB1cGRhdGVkRGF0YS5zdGF0dXMgJiYgdXBkYXRlZERhdGEuc3RhdHVzICE9PSBjdXJyZW50Q2xpZW50LnN0YXR1c1xyXG4gICAgICBpZiAoc3RhdHVzQ2hhbmdlZCkge1xyXG4gICAgICAgIHVwZGF0ZWREYXRhLnN0YXR1c19jaGFuZ2VkX2F0ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogU3RhdHVzIHptaWVuaW9ueSB6IFwiJHtjdXJyZW50Q2xpZW50LnN0YXR1c31cIiBuYSBcIiR7dXBkYXRlcy5zdGF0dXN9XCIgLSB1c3Rhd2lhbSBzdGF0dXNfY2hhbmdlZF9hdGApXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUG93aWFkb21pZW5pZSBvIHptaWFuaWUgbmEgY2FudmFzXHJcbiAgICAgICAgaWYgKHVwZGF0ZXMuc3RhdHVzID09PSAnY2FudmFzJykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CflJQgUE9XSUFET01JRU5JRTogS2xpZW50IHByemVzemVkxYIgbmEgc3RhdHVzIENBTlZBUyAtIHN0YXJ0IHRyYWNraW5ndSBjemFzdSEnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gWmF3c3plIHByenlwaXN6IGVkeXR1asSFY2VnbyBqYWtvIHfFgmHFm2NpY2llbGFcclxuICAgICAgdXBkYXRlZERhdGEub3duZXJfaWQgPSB1c2VyLmlkXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn46vIFByenlwaXN1asSZIGtsaWVudGEgJHtpZH0gZG8gdcW8eXRrb3duaWthICR7dXNlci5pZH0gKCR7dXNlci5lbWFpbH0pIGpha28gd8WCYcWbY2ljaWVsYWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBaYXBpc3ogaW5mb3JtYWNqZSBvIGVkeXRvcnplIChzemN6ZWfDs2xuaWUgd2HFvG5lIGRsYSBwcmFjb3duaWvDs3cpXHJcbiAgICAgIHVwZGF0ZWREYXRhLmxhc3RfZWRpdGVkX2J5X25hbWUgPSB1c2VyLmZ1bGxfbmFtZVxyXG4gICAgICB1cGRhdGVkRGF0YS5sYXN0X2VkaXRlZF9ieV9hdmF0YXJfdXJsID0gdXNlci5hdmF0YXJfdXJsXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFphcGlzdWrEmSBkYW5lIGVkeXRvcmE6ICR7dXNlci5mdWxsX25hbWV9IChyb2xhOiAke3VzZXIucm9sZX0pYClcclxuICAgICAgXHJcbiAgICAgIC8vIEplxZtsaSB0byBwcmFjb3duaWsgaSB6bWllbmlhIHN0YXR1cyAtIGRvZGF0a293eSBsb2dcclxuICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ3ByYWNvd25paycgJiYgc3RhdHVzQ2hhbmdlZCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5G3IFByYWNvd25payAke3VzZXIuZW1haWx9IHptaWVuaWEgc3RhdHVzIHogXCIke2N1cnJlbnRDbGllbnQuc3RhdHVzfVwiIG5hIFwiJHt1cGRhdGVzLnN0YXR1c31cImApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIERhbmUgZG8gYWt0dWFsaXphY2ppOicsIHVwZGF0ZWREYXRhKVxyXG4gICAgICBcclxuICAgICAgLy8gUHJ6eWdvdHVqIGZpbmFsbmUgZGFuZSBkbyBVUERBVEVcclxuICAgICAgY29uc3QgZmluYWxEYXRhID0ge1xyXG4gICAgICAgIC4uLnVwZGF0ZWREYXRhLFxyXG4gICAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgLy8gS29ud2VydHVqIHVuZGVmaW5lZCByZW1pbmRlciBuYSBudWxsIGRsYSBiYXp5IGRhbnljaFxyXG4gICAgICAgIC4uLih1cGRhdGVkRGF0YS5yZW1pbmRlciAhPT0gdW5kZWZpbmVkICYmIHsgcmVtaW5kZXI6IHVwZGF0ZWREYXRhLnJlbWluZGVyIHx8IG51bGwgfSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgRmluYWxuZSBkYW5lIGRvIFVQREFURTonLCBmaW5hbERhdGEpXHJcbiAgICAgIFxyXG4gICAgICAvLyBCZXpwb8WbcmVkbmlhIGFrdHVhbGl6YWNqYVxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAudXBkYXRlKGZpbmFsRGF0YSlcclxuICAgICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgICAgLnNlbGVjdCgpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIFVQREFURSBjbGllbnRzOicsIGVycm9yKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBLb2QgYsWCxJlkdTonLCBlcnJvci5jb2RlKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTemN6ZWfDs8WCeTonLCBlcnJvci5kZXRhaWxzKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBIaW50OicsIGVycm9yLmhpbnQpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgYWt0dWFsaXphY2ppOiAke2Vycm9yLm1lc3NhZ2V9IChrb2Q6ICR7ZXJyb3IuY29kZX0pYClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSB1cGRhdGVDbGllbnQgU1VDQ0VTUzonLCBkYXRhKVxyXG4gICAgICByZXR1cm4gZGF0YSBhcyBDbGllbnRcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgdXBkYXRlQ2xpZW50IEZBSUxFRDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBBa3R1YWxpenVqIGN6YXMgb3N0YXRuaWVnbyBrbGlrbmnEmWNpYSB0ZWxlZm9udVxyXG4gIGFzeW5jIHVwZGF0ZUxhc3RQaG9uZUNsaWNrKGNsaWVudElkOiBzdHJpbmcsIHVzZXI6IFVzZXIpIHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5OeIEFrdHVhbGl6dWrEmSBjemFzIG9zdGF0bmllZ28ga2xpa25pxJljaWEgdGVsZWZvbnU6JywgY2xpZW50SWQpXHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgbGFzdF9waG9uZV9jbGljazogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgY2xpZW50SWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdXBkYXRlTGFzdFBob25lQ2xpY2s6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcblxyXG4gICAgLy8gWmFsb2d1aiB3IGFjdGl2aXR5X2xvZ3NcclxuICAgIHRyeSB7XHJcbiAgICAgIGF3YWl0IGFjdGl2aXR5TG9nc0FwaS5jcmVhdGVMb2coe1xyXG4gICAgICAgIGNsaWVudF9pZDogY2xpZW50SWQsXHJcbiAgICAgICAgY2hhbmdlZF9ieTogdXNlci5pZCxcclxuICAgICAgICBjaGFuZ2VfdHlwZTogJ3VwZGF0ZScsXHJcbiAgICAgICAgZmllbGRfY2hhbmdlZDogJ2xhc3RfcGhvbmVfY2xpY2snLFxyXG4gICAgICAgIG9sZF92YWx1ZTogdW5kZWZpbmVkLFxyXG4gICAgICAgIG5ld192YWx1ZTogZGF0YS5sYXN0X3Bob25lX2NsaWNrXHJcbiAgICAgIH0pXHJcbiAgICB9IGNhdGNoIChsb2dFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGxvZ293YW5pYSBhY3Rpdml0eV9sb2dzICh1cGRhdGVMYXN0UGhvbmVDbGljayk6JywgbG9nRXJyb3IpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBkYXRhIGFzIENsaWVudFxyXG4gIH0sXHJcblxyXG4gIC8vIFVzdcWEIGtsaWVudGEgeiBzcHJhd2R6ZW5pZW0gdXByYXduaWXFhFxyXG4gIGFzeW5jIGRlbGV0ZUNsaWVudChpZDogc3RyaW5nLCB1c2VyOiBVc2VyKSB7XHJcbiAgICAvLyBCZXpwb8WbcmVkbmllIHVzdW5pxJljaWUgYmV6IHNwcmF3ZHphbmlhIHVwcmF3bmllxYRcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gIH0sXHJcblxyXG4gIC8vIFByenlwaXN6IGtsaWVudGEgZG8gaW5uZWdvIHXFvHl0a293bmlrYSAodHlsa28gbWFuYWdlcispXHJcbiAgYXN5bmMgYXNzaWduQ2xpZW50KGNsaWVudElkOiBzdHJpbmcsIG5ld093bmVySWQ6IHN0cmluZywgdXNlcjogVXNlcikge1xyXG4gICAgaWYgKCFwZXJtaXNzaW9uc0FwaS5jYW5Bc3NpZ25DbGllbnRzKHVzZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEIGRvIHByenlwaXN5d2FuaWEga2xpZW50w7N3JylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC51cGRhdGUoe1xyXG4gICAgICAgIG93bmVyX2lkOiBuZXdPd25lcklkLFxyXG4gICAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIGNsaWVudElkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhIGFzIENsaWVudFxyXG4gIH0sXHJcblxyXG4gIC8vIEZ1bmtjamEgZG8gY3p5c3pjemVuaWEgbmllaXN0bmllasSFY3ljaCBvd25lcl9pZFxyXG4gIGFzeW5jIGNsZWFudXBJbnZhbGlkT3duZXJJZHMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+nuSBSb3pwb2N6eW5hbSBjenlzemN6ZW5pZSBuaWVpc3RuaWVqxIVjeWNoIG93bmVyX2lkLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBrbGllbnTDs3cgeiBvd25lcl9pZFxyXG4gICAgICBjb25zdCB7IGRhdGE6IGFsbENsaWVudHMsIGVycm9yOiBjbGllbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBvd25lcl9pZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lJylcclxuICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2xpZW50c0Vycm9yKSB0aHJvdyBjbGllbnRzRXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFpuYWxlemlvbm8ga2xpZW50w7N3IHogb3duZXJfaWQ6JywgYWxsQ2xpZW50cz8ubGVuZ3RoIHx8IDApXHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWFsbENsaWVudHMgfHwgYWxsQ2xpZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4geyBjbGVhbmVkOiAwLCBlcnJvcnM6IFtdIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUgdW5pa2FsbmUgb3duZXJfaWRcclxuICAgICAgY29uc3Qgb3duZXJJZHMgPSBbLi4ubmV3IFNldChhbGxDbGllbnRzLm1hcChjID0+IGMub3duZXJfaWQpKV1cclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gU3ByYXdkemFtIG93bmVyX2lkOicsIG93bmVySWRzKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxboga3TDs3JlIHXFvHl0a293bmljeSBpc3RuaWVqxIVcclxuICAgICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ1VzZXJzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcclxuICAgICAgICAuaW4oJ2lkJywgb3duZXJJZHMpXHJcbiAgICAgIFxyXG4gICAgICBpZiAodXNlcnNFcnJvcikgdGhyb3cgdXNlcnNFcnJvclxyXG4gICAgICBcclxuICAgICAgY29uc3QgZXhpc3RpbmdVc2VySWRzID0gKGV4aXN0aW5nVXNlcnMgfHwgW10pLm1hcCh1ID0+IHUuaWQpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgSXN0bmllasSFY3kgdcW8eXRrb3duaWN5OicsIGV4aXN0aW5nVXNlcklkcylcclxuICAgICAgXHJcbiAgICAgIC8vIFpuYWpkxboga2xpZW50w7N3IHogbmllaXN0bmllasSFY3ltaSBvd25lcl9pZFxyXG4gICAgICBjb25zdCBjbGllbnRzVG9DbGVhbiA9IGFsbENsaWVudHMuZmlsdGVyKGNsaWVudCA9PiBcclxuICAgICAgICBjbGllbnQub3duZXJfaWQgJiYgIWV4aXN0aW5nVXNlcklkcy5pbmNsdWRlcyhjbGllbnQub3duZXJfaWQpXHJcbiAgICAgIClcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IEtsaWVuY2kgZG8gd3ljenlzemN6ZW5pYTonLCBjbGllbnRzVG9DbGVhbi5sZW5ndGgpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2xpZW50c1RvQ2xlYW4ubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KchSBCcmFrIGtsaWVudMOzdyBkbyB3eWN6eXN6Y3plbmlhJylcclxuICAgICAgICByZXR1cm4geyBjbGVhbmVkOiAwLCBlcnJvcnM6IFtdIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gV3ljennFm8SHIG93bmVyX2lkIGRsYSBwcm9ibGVtYXR5Y3pueWNoIGtsaWVudMOzd1xyXG4gICAgICBjb25zdCBjbGVhbnVwUmVzdWx0czogc3RyaW5nW10gPSBbXVxyXG4gICAgICBjb25zdCBlcnJvcnM6IGFueVtdID0gW11cclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgY2xpZW50IG9mIGNsaWVudHNUb0NsZWFuKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn6e5IEN6eXN6Y3rEmSBvd25lcl9pZCBkbGEgJHtjbGllbnQuZmlyc3RfbmFtZX0gJHtjbGllbnQubGFzdF9uYW1lfSAoJHtjbGllbnQub3duZXJfaWR9KWApXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAgICAgLnVwZGF0ZSh7IG93bmVyX2lkOiBudWxsIH0pXHJcbiAgICAgICAgICAgIC5lcSgnaWQnLCBjbGllbnQuaWQpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgQsWCxIVkIGN6eXN6Y3plbmlhICR7Y2xpZW50LmlkfTpgLCBlcnJvcilcclxuICAgICAgICAgICAgZXJyb3JzLnB1c2goeyBjbGllbnQ6IGNsaWVudC5pZCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNsZWFudXBSZXN1bHRzLnB1c2goY2xpZW50LmlkKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIFd5asSFdGVrIHBvZGN6YXMgY3p5c3pjemVuaWEgJHtjbGllbnQuaWR9OmAsIGVycilcclxuICAgICAgICAgIGVycm9ycy5wdXNoKHsgY2xpZW50OiBjbGllbnQuaWQsIGVycm9yOiBTdHJpbmcoZXJyKSB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBXeWN6eXN6Y3pvbm8gJHtjbGVhbnVwUmVzdWx0cy5sZW5ndGh9IGtsaWVudMOzd2ApXHJcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEmWR5IHByenkgJHtlcnJvcnMubGVuZ3RofSBrbGllbnRhY2g6YCwgZXJyb3JzKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICBjbGVhbmVkOiBjbGVhbnVwUmVzdWx0cy5sZW5ndGgsIFxyXG4gICAgICAgIGVycm9ycyxcclxuICAgICAgICBjbGVhbmVkQ2xpZW50czogY2xpZW50c1RvQ2xlYW4uZmlsdGVyKGMgPT4gY2xlYW51cFJlc3VsdHMuaW5jbHVkZXMoYy5pZCkpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgY2xlYW51cEludmFsaWRPd25lcklkczonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuXHJcblxyXG4gIC8vIFN1YnNrcnlwY2phIG5hIHptaWFueSB3IGN6YXNpZSByemVjenl3aXN0eW1cclxuICBzdWJzY3JpYmVUb0NoYW5nZXMoY2FsbGJhY2s6IChwYXlsb2FkOiBhbnkpID0+IHZvaWQpIHtcclxuICAgIHJldHVybiBzdXBhYmFzZVxyXG4gICAgICAuY2hhbm5lbCgnY2xpZW50c19jaGFuZ2VzJylcclxuICAgICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgXHJcbiAgICAgICAgeyBldmVudDogJyonLCBzY2hlbWE6ICdwdWJsaWMnLCB0YWJsZTogJ2NsaWVudHMnIH0sIFxyXG4gICAgICAgIGNhbGxiYWNrXHJcbiAgICAgIClcclxuICAgICAgLnN1YnNjcmliZSgpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3Vic2tyeXBjamEgbmEgem1pYW55IG93bmVyX2lkIGRsYSByZWFsLXRpbWUgYWt0dWFsaXphY2ppXHJcbiAgc3Vic2NyaWJlVG9Pd25lckNoYW5nZXMoY2FsbGJhY2s6IChwYXlsb2FkOiBhbnkpID0+IHZvaWQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSBjYWxsYmFjayBqZXN0IGZ1bmtjasSFXHJcbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQ2FsbGJhY2sgbmllIGplc3QgZnVua2NqxIUgdyBzdWJzY3JpYmVUb093bmVyQ2hhbmdlcycpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYWxsYmFjayBtdXNpIGJ5xIcgZnVua2NqxIUnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+ToSBUd29yesSZIGthbmHFgiBTdXBhYmFzZSBkbGEgb3duZXIgY2hhbmdlcy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBOYWpwaWVydyBzcHJhd2TFuiBjenkgcmVhbC10aW1lIGplc3Qgd8WCxIVjem9ueSBpIGRvc3TEmXBueVxyXG4gICAgICBjb25zdCBjaGFubmVsTmFtZSA9IGBjbGllbnRzX293bmVyX2NoYW5nZXNfJHtEYXRlLm5vdygpfWBcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk6EgTmF6d2Ega2FuYcWCdTonLCBjaGFubmVsTmFtZSlcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGNoYW5uZWwgPSBzdXBhYmFzZVxyXG4gICAgICAgIC5jaGFubmVsKGNoYW5uZWxOYW1lKVxyXG4gICAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxyXG4gICAgICAgICAgeyBcclxuICAgICAgICAgICAgZXZlbnQ6ICdVUERBVEUnLCBcclxuICAgICAgICAgICAgc2NoZW1hOiAncHVibGljJywgXHJcbiAgICAgICAgICAgIHRhYmxlOiAnY2xpZW50cycsXHJcbiAgICAgICAgICAgIGZpbHRlcjogJ293bmVyX2lkPW5lcS5udWxsJyAvLyBUeWxrbyBnZHkgb3duZXJfaWQgc2nEmSB6bWllbmlhXHJcbiAgICAgICAgICB9LCBcclxuICAgICAgICAgIChwYXlsb2FkKSA9PiB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmVhbC10aW1lIHBheWxvYWQgb3RyenltYW55OicsIHtcclxuICAgICAgICAgICAgICAgIGV2ZW50VHlwZTogcGF5bG9hZC5ldmVudFR5cGUsXHJcbiAgICAgICAgICAgICAgICB0YWJsZTogcGF5bG9hZC50YWJsZSxcclxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHBheWxvYWQubmV3ID8ge1xyXG4gICAgICAgICAgICAgICAgICBpZDogcGF5bG9hZC5uZXcuaWQsXHJcbiAgICAgICAgICAgICAgICAgIG93bmVyX2lkOiBwYXlsb2FkLm5ldy5vd25lcl9pZCxcclxuICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogcGF5bG9hZC5uZXcuZmlyc3RfbmFtZSxcclxuICAgICAgICAgICAgICAgICAgbGFzdF9uYW1lOiBwYXlsb2FkLm5ldy5sYXN0X25hbWVcclxuICAgICAgICAgICAgICAgIH0gOiAnYnJhayBkYW55Y2gnXHJcbiAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwYXlsb2FkKVxyXG4gICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQ2FsbGJhY2sgbmllIGplc3QgZnVua2NqxIUgcG9kY3phcyB3eXdvxYJhbmlhJylcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgY2FsbGJhY2s6JywgY2FsbGJhY2tFcnJvcilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgICAgICAuc3Vic2NyaWJlKChzdGF0dXMsIGVycikgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgU3Vic2tyeXBjamEgb3duZXJfY2hhbmdlcyBzdGF0dXM6Jywgc3RhdHVzKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnU1VCU0NSSUJFRCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBTdWJza3J5cGNqYSBvd25lcl9jaGFuZ2VzIGFrdHl3bmEnKVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdDTE9TRUQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFN1YnNrcnlwY2phIG93bmVyX2NoYW5nZXMgemFta25pxJl0YSAtIHByYXdkb3BvZG9ibmllIHByb2JsZW0geiBhdXRvcnl6YWNqxIUgcmVhbC10aW1lJylcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfwn5KhIFJlYWwtdGltZSBtb8W8ZSBiecSHIHd5xYLEhWN6b255IHcgdXN0YXdpZW5pYWNoIFN1cGFiYXNlIGx1YiBicmFrdWplIHVwcmF3bmllxYQnKVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdDSEFOTkVMX0VSUk9SJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGthbmHFgnUgcmVhbC10aW1lOicsIGVycilcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign8J+SoSBTcHJhd2TFuiB1c3Rhd2llbmlhIHJlYWwtdGltZSB3IFN1cGFiYXNlIERhc2hib2FyZCcpXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ1RJTUVEX09VVCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfij7AgVGltZW91dCBzdWJza3J5cGNqaSAtIHByb2JsZW15IHogcG/FgsSFY3plbmllbSBXZWJTb2NrZXQnKVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgU3RhdHVzIHN1YnNrcnlwY2ppOicsIHN0YXR1cylcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogc3RhbiBrYW5hxYJ1IHBvIGtyw7N0a2ltIGN6YXNpZVxyXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICBpZiAoY2hhbm5lbC5zdGF0ZSA9PT0gJ2Nsb3NlZCcpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEthbmHFgiByZWFsLXRpbWUgem9zdGHFgiB6YW1rbmnEmXR5IC0gcHJhd2RvcG9kb2JuaWUgUkxTIGJsb2t1amUgcmVhbC10aW1lIGx1YiBmZWF0dXJlIGplc3Qgd3nFgsSFY3pvbnknKVxyXG4gICAgICAgIH1cclxuICAgICAgfSwgMjAwMClcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgS2FuYcWCIG93bmVyIGNoYW5nZXMgdXR3b3J6b255JylcclxuICAgICAgcmV0dXJuIGNoYW5uZWxcclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgc3Vic2NyaWJlVG9Pd25lckNoYW5nZXM6JywgZXJyb3IpXHJcbiAgICAgIGNvbnNvbGUud2Fybign8J+SoSBSZWFsLXRpbWUgbmllIGLEmWR6aWUgZHppYcWCYcSHIC0gYXBsaWthY2phIGLEmWR6aWUgdcW8eXdhxIcgb2tyZXNvd2VnbyBvZMWbd2llxbxhbmlhJylcclxuICAgICAgXHJcbiAgICAgIC8vIFp3csOzxIcgbW9jayBvYmplY3QgYWJ5IG5pZSBwb3dvZG93YcSHIGLFgsSZZMOzd1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHVuc3Vic2NyaWJlOiAoKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+nuSBNb2NrIHVuc3Vic2NyaWJlIGRsYSBixYLEmWRuZWdvIGthbmHFgnUnKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnoga2xpZW50w7N3IHogcHJ6eXBvbW5pZW5pYW1pIG5hIGtvbmtyZXRueSBkemllxYRcclxuICBhc3luYyBnZXRDbGllbnRzV2l0aFJlbWluZGVycyh1c2VyOiBVc2VyLCB0YXJnZXREYXRlPzogc3RyaW5nKTogUHJvbWlzZTxDbGllbnRXaXRoUmVtaW5kZXJbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdG9kYXkgPSB0YXJnZXREYXRlIHx8IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIC8vIGZvcm1hdCBZWVlZLU1NLUREXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+ThSBQb2JpZXJhbmllIGtsaWVudMOzdyB6IHByenlwb21uaWVuaWFtaSBuYTogJHt0b2RheX1gKVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIGtsaWVudMOzdyB1xbx5dGtvd25pa2EgKGJleiBwYWdpbmFjamkpXHJcbiAgICAgIGNvbnN0IGFsbENsaWVudHMgPSBhd2FpdCB0aGlzLmdldENsaWVudHModXNlcilcclxuXHJcbiAgICAgIC8vIEZpbHRydWogdHlsa28gdHljaCB6IHByenlwb21uaWVuaWFtaSBuYSBkemnFm1xyXG4gICAgICBjb25zdCBjbGllbnRzV2l0aFRvZGF5UmVtaW5kZXJzID0gYWxsQ2xpZW50cy5maWx0ZXIoKGNsaWVudDogYW55KSA9PiB7XHJcbiAgICAgICAgLy8gU3ByYXdkxbogY3p5IGtsaWVudCBtYSBha3R5d25lIHByenlwb21uaWVuaWVcclxuICAgICAgICBjb25zdCByZW1pbmRlciA9IGNsaWVudC5yZW1pbmRlciB8fCB7XHJcbiAgICAgICAgICBlbmFibGVkOiBmYWxzZSxcclxuICAgICAgICAgIGRhdGU6ICcnLFxyXG4gICAgICAgICAgdGltZTogJycsXHJcbiAgICAgICAgICBub3RlOiAnJ1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlbWluZGVyLmVuYWJsZWQgJiYgcmVtaW5kZXIuZGF0ZSA9PT0gdG9kYXlcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIFNvcnR1aiB3ZWTFgnVnIGdvZHppbnkgcHJ6eXBvbW5pZW5pYVxyXG4gICAgICBjb25zdCBzb3J0ZWRDbGllbnRzID0gY2xpZW50c1dpdGhUb2RheVJlbWluZGVycy5zb3J0KChhOiBhbnksIGI6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRpbWVBID0gYS5yZW1pbmRlcj8udGltZSB8fCAnMDA6MDAnXHJcbiAgICAgICAgY29uc3QgdGltZUIgPSBiLnJlbWluZGVyPy50aW1lIHx8ICcwMDowMCdcclxuICAgICAgICByZXR1cm4gdGltZUEubG9jYWxlQ29tcGFyZSh0aW1lQilcclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWm5hbGV6aW9ubyAke3NvcnRlZENsaWVudHMubGVuZ3RofSBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWkgbmEgJHt0b2RheX1gKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHNvcnRlZENsaWVudHNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWk6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBwcnp5cG9tbmllbmlhIHBvZ3J1cG93YW5lIHdlZMWCdWcgc2xvdMOzdyBjemFzb3d5Y2ggZGxhIGRhc2hib2FyZHVcclxuICBhc3luYyBnZXREYWlseVNjaGVkdWxlV2l0aENsaWVudHModXNlcjogVXNlciwgdGFyZ2V0RGF0ZT86IHN0cmluZyk6IFByb21pc2U8RGFpbHlTY2hlZHVsZVNsb3RbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgY2xpZW50c1dpdGhSZW1pbmRlcnMgPSBhd2FpdCB0aGlzLmdldENsaWVudHNXaXRoUmVtaW5kZXJzKHVzZXIsIHRhcmdldERhdGUpXHJcbiAgICAgIFxyXG4gICAgICAvLyBEZWZpbmljamEgc2xvdMOzdyBjemFzb3d5Y2ggKHpnb2RuaWUgeiBvYmVjbsSFIHN0cnVrdHVyxIUgZGFzaGJvYXJkdSlcclxuICAgICAgY29uc3QgdGltZVNsb3RzID0gW1xyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICB0aW1lOiAnODowMCAtIDEwOjAwJywgXHJcbiAgICAgICAgICB0eXBlOiAnY2FudmFzJywgXHJcbiAgICAgICAgICBjb2xvcjogJyMwNmI2ZDQnLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMDg6MDAnLFxyXG4gICAgICAgICAgZW5kVGltZTogJzEwOjAwJyxcclxuICAgICAgICAgIHN0YXR1c2VzOiBbJ2NhbnZhcyddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgdGltZTogJzEwOjEwIC0gMTI6MDAnLCBcclxuICAgICAgICAgIHR5cGU6ICdzYWxlcycsIFxyXG4gICAgICAgICAgY29sb3I6ICcjMTBiOTgxJyxcclxuICAgICAgICAgIHN0YXJ0VGltZTogJzEwOjEwJyxcclxuICAgICAgICAgIGVuZFRpbWU6ICcxMjowMCcsXHJcbiAgICAgICAgICBzdGF0dXNlczogWydzYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICB0aW1lOiAnMTI6MzAgLSAxNTowMCcsIFxyXG4gICAgICAgICAgdHlwZTogJ2FudHlzYWxlcycsIFxyXG4gICAgICAgICAgY29sb3I6ICcjZjU5ZTBiJyxcclxuICAgICAgICAgIHN0YXJ0VGltZTogJzEyOjMwJyxcclxuICAgICAgICAgIGVuZFRpbWU6ICcxNTowMCcsXHJcbiAgICAgICAgICBzdGF0dXNlczogWydhbnR5c2FsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgdGltZTogJzE1OjEwIC0gMTY6MzAnLCBcclxuICAgICAgICAgIHR5cGU6ICdjYW52YXMgKyBzYWxlcycsIFxyXG4gICAgICAgICAgY29sb3I6ICcjOGI1Y2Y2JyxcclxuICAgICAgICAgIHN0YXJ0VGltZTogJzE1OjEwJyxcclxuICAgICAgICAgIGVuZFRpbWU6ICcxNjozMCcsXHJcbiAgICAgICAgICBzdGF0dXNlczogWydjYW52YXMnLCAnc2FsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgXVxyXG5cclxuICAgICAgLy8gUHJ6eXBpc3oga2xpZW50w7N3IGRvIG9kcG93aWVkbmljaCBzbG90w7N3IG5hIHBvZHN0YXdpZSBUWUxLTyBjemFzdSBwcnp5cG9tbmllbmlhXHJcbiAgICAgIGNvbnN0IHNsb3RzV2l0aENsaWVudHMgPSB0aW1lU2xvdHMubWFwKHNsb3QgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNsb3RDbGllbnRzID0gY2xpZW50c1dpdGhSZW1pbmRlcnMuZmlsdGVyKGNsaWVudCA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZW1pbmRlclRpbWUgPSBjbGllbnQucmVtaW5kZXI/LnRpbWUgfHwgJzAwOjAwJ1xyXG4gICAgICAgICAgY29uc3QgW2hvdXJzLCBtaW51dGVzXSA9IHJlbWluZGVyVGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpXHJcbiAgICAgICAgICBjb25zdCByZW1pbmRlck1pbnV0ZXMgPSBob3VycyAqIDYwICsgbWludXRlc1xyXG5cclxuICAgICAgICAgIGNvbnN0IFtzdGFydEhvdXJzLCBzdGFydE1pbnNdID0gc2xvdC5zdGFydFRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKVxyXG4gICAgICAgICAgY29uc3QgW2VuZEhvdXJzLCBlbmRNaW5zXSA9IHNsb3QuZW5kVGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpXHJcbiAgICAgICAgICBjb25zdCBzdGFydE1pbnV0ZXMgPSBzdGFydEhvdXJzICogNjAgKyBzdGFydE1pbnNcclxuICAgICAgICAgIGNvbnN0IGVuZE1pbnV0ZXMgPSBlbmRIb3VycyAqIDYwICsgZW5kTWluc1xyXG5cclxuICAgICAgICAgIC8vIFNwcmF3ZMW6IGN6eSBnb2R6aW5hIHByenlwb21uaWVuaWEgbWllxZtjaSBzacSZIHcgc2xvY2llIGN6YXNvd3ltXHJcbiAgICAgICAgICBjb25zdCB0aW1lSW5TbG90ID0gcmVtaW5kZXJNaW51dGVzID49IHN0YXJ0TWludXRlcyAmJiByZW1pbmRlck1pbnV0ZXMgPD0gZW5kTWludXRlc1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+VkCBLbGllbnQgJHtjbGllbnQuZmlyc3RfbmFtZX0gJHtjbGllbnQubGFzdF9uYW1lfTogY3phcyAke3JlbWluZGVyVGltZX0gKCR7cmVtaW5kZXJNaW51dGVzfW1pbikgdnMgc2xvdCAke3Nsb3QudGltZX0gKCR7c3RhcnRNaW51dGVzfS0ke2VuZE1pbnV0ZXN9bWluKSA9ICR7dGltZUluU2xvdCA/ICdQQVNVSkUnIDogJ05JRSBQQVNVSkUnfWApXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB0aW1lSW5TbG90XHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogU2xvdCAke3Nsb3QudGltZX06ICR7c2xvdENsaWVudHMubGVuZ3RofSBrbGllbnTDs3dgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5zbG90LFxyXG4gICAgICAgICAgY2xpZW50czogc2xvdENsaWVudHNcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBQbGFuIGRuaWEgeiAke3Nsb3RzV2l0aENsaWVudHMucmVkdWNlKChzdW0sIHNsb3QpID0+IHN1bSArIHNsb3QuY2xpZW50cy5sZW5ndGgsIDApfSBrbGllbnRhbWlgKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHNsb3RzV2l0aENsaWVudHNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdHdvcnplbmlhIHBsYW51IGRuaWE6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW5rY2plIEFQSSBkbGEgbG9nw7N3IGFrdHl3bm/Fm2NpXHJcbmV4cG9ydCBjb25zdCBhY3Rpdml0eUxvZ3NBcGkgPSB7XHJcbiAgLy8gUG9iaWVyeiBsb2dpIGFrdHl3bm/Fm2NpXHJcbiAgYXN5bmMgZ2V0TG9ncyhjbGllbnRJZD86IHN0cmluZykge1xyXG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICAqLFxyXG4gICAgICAgIGNsaWVudHMoZmlyc3RfbmFtZSwgbGFzdF9uYW1lKVxyXG4gICAgICBgKVxyXG4gICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAubGltaXQoNTApXHJcblxyXG4gICAgaWYgKGNsaWVudElkKSB7XHJcbiAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NsaWVudF9pZCcsIGNsaWVudElkKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogaGlzdG9yacSZIHptaWFuIGRsYSBrb25rcmV0bmVnbyBrbGllbnRhXHJcbiAgYXN5bmMgZ2V0Q2xpZW50SGlzdG9yeShjbGllbnRJZDogc3RyaW5nKTogUHJvbWlzZTxDbGllbnRIaXN0b3J5W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdQb2JpZXJhbmllIGhpc3RvcmlpIGRsYSBrbGllbnRhOicsIGNsaWVudElkKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIGplc3QgemFsb2dvd2FueVxyXG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgICBjb25zb2xlLmxvZygnQWt0dWFsbnkgdcW8eXRrb3duaWs6JywgdXNlcj8uaWQpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdVxbx5dGtvd25payBuaWUgamVzdCB6YWxvZ293YW55JylcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGNsaWVudF9pZCxcclxuICAgICAgICAgIGNoYW5nZWRfYnksXHJcbiAgICAgICAgICBjaGFuZ2VfdHlwZSxcclxuICAgICAgICAgIGZpZWxkX2NoYW5nZWQsXHJcbiAgICAgICAgICBvbGRfdmFsdWUsXHJcbiAgICAgICAgICBuZXdfdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXBcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5lcSgnY2xpZW50X2lkJywgY2xpZW50SWQpXHJcbiAgICAgICAgLm9yZGVyKCd0aW1lc3RhbXAnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgICAubGltaXQoMjApXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcXVlcnkgYWN0aXZpdHlfbG9nczonLCBlcnJvcilcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdTemN6ZWfDs8WCeSBixYLEmWR1OicsIEpTT04uc3RyaW5naWZ5KGVycm9yLCBudWxsLCAyKSlcclxuICAgICAgICBcclxuICAgICAgICAvLyBTcHJhd2TFuiBjenkgdG8gcHJvYmxlbSB6IFJMU1xyXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdSTFMnKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignUHJvYmxlbSB6IFJvdyBMZXZlbCBTZWN1cml0eSAtIHXFvHl0a293bmlrIG1vxbxlIG5pZSBtaWXEhyBkb3N0xJlwdScpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFp3csOzxIcgcHVzdMSFIHRhYmxpY8SZIHphbWlhc3Qgcnp1Y2FuaWEgYsWCxJlkZW1cclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1BvYnJhbm8gbG9naTonLCBkYXRhPy5sZW5ndGggfHwgMClcclxuXHJcbiAgICAgIC8vIEplxZtsaSBuaWUgbWEgbG9nw7N3LCB6d3LDs8SHIHB1c3TEhSB0YWJsaWPEmVxyXG4gICAgICBpZiAoIWRhdGEgfHwgZGF0YS5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiBpbmZvcm1hY2plIG8gdcW8eXRrb3duaWthY2ggb3NvYm5vIHogYXZhdGFyYW1pXHJcbiAgICAgIGNvbnN0IHVzZXJJZHMgPSBbLi4ubmV3IFNldChkYXRhLm1hcChsb2cgPT4gbG9nLmNoYW5nZWRfYnkpLmZpbHRlcihCb29sZWFuKSldXHJcbiAgICAgIGNvbnNvbGUubG9nKCdQb2JpZXJhbmllIHXFvHl0a293bmlrw7N3OicsIHVzZXJJZHMpXHJcblxyXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIHJvbGUsIGF2YXRhcl91cmwnKVxyXG4gICAgICAgIC5pbignaWQnLCB1c2VySWRzKVxyXG5cclxuICAgICAgaWYgKHVzZXJzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9iaWVyYW5pYSB1xbx5dGtvd25pa8OzdzonLCB1c2Vyc0Vycm9yKVxyXG4gICAgICAgIC8vIEtvbnR5bnV1aiBiZXogZGFueWNoIHXFvHl0a293bmlrw7N3XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdQb2JyYW5vIHXFvHl0a293bmlrw7N3OicsIHVzZXJzPy5sZW5ndGggfHwgMClcclxuXHJcbiAgICAgIC8vIE1hcHVqIHXFvHl0a293bmlrw7N3IGRvIHPFgm93bmlrYSBkbGEgc3p5YmtpZWdvIGRvc3TEmXB1XHJcbiAgICAgIGNvbnN0IHVzZXJzTWFwID0gKHVzZXJzIHx8IFtdKS5yZWR1Y2UoKGFjYywgdXNlcikgPT4ge1xyXG4gICAgICAgIGFjY1t1c2VyLmlkXSA9IHVzZXJcclxuICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIGFueT4pXHJcblxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgeiBpbmZvcm1hY2phbWkgbyBlZHl0b3J6ZVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBkYXRhLm1hcCgobG9nOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VyID0gdXNlcnNNYXBbbG9nLmNoYW5nZWRfYnldXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGlkOiBsb2cuaWQsXHJcbiAgICAgICAgICBjbGllbnRfaWQ6IGxvZy5jbGllbnRfaWQsXHJcbiAgICAgICAgICBjaGFuZ2VkX2J5OiBsb2cuY2hhbmdlZF9ieSxcclxuICAgICAgICAgIGNoYW5nZV90eXBlOiBsb2cuY2hhbmdlX3R5cGUsXHJcbiAgICAgICAgICBmaWVsZF9jaGFuZ2VkOiBsb2cuZmllbGRfY2hhbmdlZCxcclxuICAgICAgICAgIG9sZF92YWx1ZTogbG9nLm9sZF92YWx1ZSxcclxuICAgICAgICAgIG5ld192YWx1ZTogbG9nLm5ld192YWx1ZSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogbG9nLnRpbWVzdGFtcCxcclxuICAgICAgICAgIGVkaXRvcl9uYW1lOiB1c2VyPy5mdWxsX25hbWUgfHwgbG9nLmNoYW5nZWRfYnkgfHwgJ05pZXpuYW55IHXFvHl0a293bmlrJyxcclxuICAgICAgICAgIGVkaXRvcl9yb2xlOiB1c2VyPy5yb2xlIHx8ICd1bmtub3duJyxcclxuICAgICAgICAgIGVkaXRvcl9hdmF0YXI6IHVzZXI/LmF2YXRhcl91cmwgfHwgbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdad3JhY2FuaWUgaGlzdG9yaWk6JywgcmVzdWx0Lmxlbmd0aCwgJ3dwaXPDs3cnKVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHcgZ2V0Q2xpZW50SGlzdG9yeTonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBEb2RhaiBsb2cgYWt0eXdub8WbY2lcclxuICBhc3luYyBjcmVhdGVMb2cobG9nOiBPbWl0PEFjdGl2aXR5TG9nLCAnaWQnIHwgJ3RpbWVzdGFtcCc+KSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICAuLi5sb2csXHJcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfV0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGEgYXMgQWN0aXZpdHlMb2dcclxuICB9LFxyXG5cclxuICAvLyBGdW5rY2phIHRlc3Rvd2EgZG8gc3ByYXdkemFuaWEgZG9zdMSZcHUgZG8gYWN0aXZpdHlfbG9nc1xyXG4gIGFzeW5jIHRlc3RBY3Rpdml0eUxvZ3NBY2Nlc3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdG93YW5pZSBkb3N0xJlwdSBkbyBhY3Rpdml0eV9sb2dzLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGF1dG9yeXphY2rEmVxyXG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCAtIHXFvHl0a293bmlrOicsIHVzZXI/LmlkLCB1c2VyPy5lbWFpbClcclxuICAgICAgXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgICAgZXJyb3I6ICdCcmFrIGF1dG9yeXphY2ppIC0gdcW8eXRrb3duaWsgbmllIGplc3QgemFsb2dvd2FueScgXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgaXN0bmllamUgdyB0YWJlbGkgdXNlcnNcclxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VyUHJvZmlsZSwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBlbWFpbCwgcm9sZScpXHJcbiAgICAgICAgLmVxKCdpZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IC0gcHJvZmlsIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZSlcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSBixYLEhWQgcHJvZmlsdTonLCB1c2VyRXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICBpZiAodXNlckVycm9yIHx8ICF1c2VyUHJvZmlsZSkge1xyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgICAgZXJyb3I6ICdVxbx5dGtvd25payBuaWUgaXN0bmllamUgdyB0YWJlbGkgdXNlcnMnIFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gVGVzdHVqIGRvc3TEmXAgZG8gYWN0aXZpdHlfbG9nc1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yLCBjb3VudCB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcgfSlcclxuICAgICAgICAubGltaXQoMSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IGFjdGl2aXR5X2xvZ3MgLSBkYXRhOicsIGRhdGEpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IGFjdGl2aXR5X2xvZ3MgLSBlcnJvcjonLCBlcnJvcilcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgYWN0aXZpdHlfbG9ncyAtIGNvdW50OicsIGNvdW50KVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgc3VjY2VzczogIWVycm9yLCBcclxuICAgICAgICBkYXRhLCBcclxuICAgICAgICBlcnJvciwgXHJcbiAgICAgICAgY291bnQsXHJcbiAgICAgICAgdXNlcjogdXNlclByb2ZpbGVcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHRlc3R1IGFjdGl2aXR5X2xvZ3M6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBUeXB5IGRsYSBzdGF0eXN0eWsgcHJhY293bmlrw7N3XHJcbmV4cG9ydCBpbnRlcmZhY2UgRW1wbG95ZWVTdGF0cyB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIGRhaWx5X3RhcmdldDogbnVtYmVyXHJcbiAgY29tbWlzc2lvbl9yYXRlOiBudW1iZXJcclxuICBtb250aGx5X2NhbnZhczogbnVtYmVyXHJcbiAgbW9udGhseV9hbnR5c2FsZTogbnVtYmVyXHJcbiAgbW9udGhseV9zYWxlOiBudW1iZXJcclxuICB0b3RhbF9jb21taXNzaW9uczogbnVtYmVyXHJcbiAgdG90YWxfcGVuYWx0aWVzOiBudW1iZXJcclxuICAvLyBQb2xhIGRvIGVkeWNqaSByxJljem5lalxyXG4gIGN1c3RvbV9jbGllbnRzX2NvdW50PzogbnVtYmVyXHJcbiAgY3VzdG9tX3RvdGFsX3BheW1lbnRzPzogbnVtYmVyXHJcbiAgLy8gRG9kYXRrb3dlIGRhbmUgeiBKT0lOXHJcbiAgdXNlcj86IHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGZ1bGxfbmFtZTogc3RyaW5nXHJcbiAgICBlbWFpbDogc3RyaW5nXHJcbiAgICBhdmF0YXJfdXJsPzogc3RyaW5nXHJcbiAgICByb2xlOiBzdHJpbmdcclxuICB9XHJcbiAgLy8gT2JsaWN6b25lIG5hIHBvZHN0YXdpZSBkYW55Y2ggeiBjbGllbnRzXHJcbiAgZGFpbHlfYWNoaWV2ZWQ/OiBudW1iZXJcclxuICB5ZXN0ZXJkYXlfc2hvcnRhZ2U/OiBudW1iZXJcclxuICBzdGF0dXNfY2hhbmdlc190b2RheT86IFJlY29yZDxzdHJpbmcsIG51bWJlcj5cclxufVxyXG5cclxuLy8gRnVua2NqZSBBUEkgZGxhIHJhcG9ydMOzd1xyXG5leHBvcnQgY29uc3QgcmVwb3J0c0FwaSA9IHtcclxuICAvLyBQb2JpZXJ6IHN0YXR5c3R5a2kgdHlsa28gcHJhY293bmlrw7N3IHogcHJvd2l6asSFXHJcbiAgYXN5bmMgZ2V0RW1wbG95ZWVTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTxFbXBsb3llZVN0YXRzW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIHByYWNvd25pa8Ozdy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBLUk9LIDE6IFBvYmllcnogd3N6eXN0a2ljaCB1xbx5dGtvd25pa8OzdyB6IHJvbMSFICdwcmFjb3duaWsnXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsRW1wbG95ZWVzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICByb2xlXHJcbiAgICAgICAgYClcclxuICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcclxuICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAodXNlcnNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB1xbx5dGtvd25pa8Ozdy1wcmFjb3duaWvDs3c6JywgdXNlcnNFcnJvcilcclxuICAgICAgICB0aHJvdyB1c2Vyc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghYWxsRW1wbG95ZWVzIHx8IGFsbEVtcGxveWVlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEJyYWsgdcW8eXRrb3duaWvDs3cgeiByb2zEhSBwcmFjb3duaWsnKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gd3N6eXN0a2ljaCBwcmFjb3duaWvDs3c6JywgYWxsRW1wbG95ZWVzLmxlbmd0aCwgYWxsRW1wbG95ZWVzLm1hcChlID0+IGUuZnVsbF9uYW1lKSlcclxuXHJcbiAgICAgIC8vIEtST0sgMjogUG9iaWVyeiBzdGF0eXN0eWtpIHogdGFiZWxpIGVtcGxveWVlX3N0YXRzIGRsYSB0eWNoIHByYWNvd25pa8Ozd1xyXG4gICAgICBjb25zdCBlbXBsb3llZUlkcyA9IGFsbEVtcGxveWVlcy5tYXAoZW1wID0+IGVtcC5pZClcclxuICAgICAgbGV0IGV4aXN0aW5nU3RhdHM6IGFueVtdID0gW11cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogc3RhdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAgIC5pbigndXNlcl9pZCcsIGVtcGxveWVlSWRzKVxyXG5cclxuICAgICAgICBpZiAoc3RhdHNFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEgZW1wbG95ZWVfc3RhdHM6Jywgc3RhdHNFcnJvcilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgZXhpc3RpbmdTdGF0cyA9IGRhdGEgfHwgW11cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgZW1wbG95ZWVfc3RhdHM6JywgZXJyb3IpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUG9icmFubyBzdGF0eXN0eWtpIGRsYSBwcmFjb3duaWvDs3c6JywgZXhpc3RpbmdTdGF0cz8ubGVuZ3RoIHx8IDApXHJcblxyXG4gICAgICAvLyBLUk9LIDM6IFBvYmllcnogZHppc2llanN6ZSBzdGF0eXN0eWtpIHogdGFiZWxpIGNsaWVudHMgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcclxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgICBsZXQgdG9kYXlDbGllbnRzOiBhbnlbXSA9IFtdXHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IGNsaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5LCBjcmVhdGVkX2F0LCB1cGRhdGVkX2F0JylcclxuICAgICAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBgJHt0b2RheX1UMDA6MDA6MDBgKVxyXG4gICAgICAgICAgLmx0KCd1cGRhdGVkX2F0JywgYCR7dG9kYXl9VDIzOjU5OjU5YClcclxuXHJcbiAgICAgICAgaWYgKGNsaWVudHNFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHogZHppc2lhajonLCBjbGllbnRzRXJyb3IpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHRvZGF5Q2xpZW50cyA9IGRhdGEgfHwgW11cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgZHppc2llanN6eWNoIGtsaWVudMOzdzonLCBlcnJvcilcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIGR6aXNpZWpzenljaCBrbGllbnTDs3c6JywgdG9kYXlDbGllbnRzLmxlbmd0aClcclxuXHJcbiAgICAgIC8vIEtST0sgNDogUG9iaWVyeiB3Y3pvcmFqc3plIHN0YXR5c3R5a2kgZGxhIGthciAoeiBvYnPFgnVnxIUgYsWCxJlkw7N3KVxyXG4gICAgICBjb25zdCB5ZXN0ZXJkYXkgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKVxyXG4gICAgICBjb25zdCB5ZXN0ZXJkYXlTdHIgPSB5ZXN0ZXJkYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIGxldCB5ZXN0ZXJkYXlDbGllbnRzOiBhbnlbXSA9IFtdXHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHllc3RlcmRheUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnc3RhdHVzLCBlZGl0ZWRfYnknKVxyXG4gICAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIGAke3llc3RlcmRheVN0cn1UMDA6MDA6MDBgKVxyXG4gICAgICAgICAgLmx0KCd1cGRhdGVkX2F0JywgYCR7eWVzdGVyZGF5U3RyfVQyMzo1OTo1OWApXHJcblxyXG4gICAgICAgIGlmICh5ZXN0ZXJkYXlFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEgd2N6b3JhanN6eWNoIGtsaWVudMOzdzonLCB5ZXN0ZXJkYXlFcnJvcilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgeWVzdGVyZGF5Q2xpZW50cyA9IGRhdGEgfHwgW11cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgd2N6b3JhanN6eWNoIGtsaWVudMOzdzonLCBlcnJvcilcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS1JPSyA1OiBQb2JpZXJ6IFdTWllTVEtJQ0gga2xpZW50w7N3IHByenlwaXNhbnljaCBkbyBwcmFjb3duaWvDs3cgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcclxuICAgICAgbGV0IGFsbE93bmVkQ2xpZW50czogYW55W10gPSBbXVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBvd25lZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnc3RhdHVzLCBvd25lcl9pZCcpXHJcbiAgICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpXHJcbiAgICAgICAgICAuaW4oJ293bmVyX2lkJywgZW1wbG95ZWVJZHMpXHJcblxyXG4gICAgICAgIGlmIChvd25lZEVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgcHJ6eXBpc2FueWNoOicsIG93bmVkRXJyb3IpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFsbE93bmVkQ2xpZW50cyA9IGRhdGEgfHwgW11cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgcHJ6eXBpc2FueWNoIGtsaWVudMOzdzonLCBlcnJvcilcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIHdzenlzdGtpY2ggcHJ6eXBpc2FueWNoIGtsaWVudMOzdzonLCBhbGxPd25lZENsaWVudHMubGVuZ3RoKVxyXG5cclxuICAgICAgLy8gS1JPSyA2OiBBZ3JlZ3VqIGR6aXNpZWpzemUgc3RhdHlzdHlraSBwZXIgcHJhY293bmlrXHJcbiAgICAgIGNvbnN0IHRvZGF5U3RhdHMgPSB0b2RheUNsaWVudHMucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIGFueT4sIGNsaWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGNsaWVudC5lZGl0ZWRfYnlcclxuICAgICAgICBpZiAoIXVzZXJJZCkgcmV0dXJuIGFjY1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYWNjW3VzZXJJZF0pIHtcclxuICAgICAgICAgIGFjY1t1c2VySWRdID0geyB0b3RhbDogMCwgY2FudmFzOiAwLCBhbnR5c2FsZTogMCwgc2FsZTogMCwgb3RoZXI6IDAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBhY2NbdXNlcklkXS50b3RhbCsrXHJcbiAgICAgICAgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdjYW52YXMnKSBhY2NbdXNlcklkXS5jYW52YXMrK1xyXG4gICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdhbnR5c2FsZScpIGFjY1t1c2VySWRdLmFudHlzYWxlKytcclxuICAgICAgICBlbHNlIGlmIChjbGllbnQuc3RhdHVzID09PSAnc2FsZScpIGFjY1t1c2VySWRdLnNhbGUrK1xyXG4gICAgICAgIGVsc2UgYWNjW3VzZXJJZF0ub3RoZXIrK1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30pXHJcblxyXG4gICAgICAvLyBLUk9LIDc6IEFncmVndWogd2N6b3JhanN6ZSBzdGF0eXN0eWtpIHBlciBwcmFjb3duaWtcclxuICAgICAgY29uc3QgeWVzdGVyZGF5U3RhdHMgPSB5ZXN0ZXJkYXlDbGllbnRzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBjbGllbnQpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBjbGllbnQuZWRpdGVkX2J5XHJcbiAgICAgICAgaWYgKHVzZXJJZCkge1xyXG4gICAgICAgICAgYWNjW3VzZXJJZF0gPSAoYWNjW3VzZXJJZF0gfHwgMCkgKyAxXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30pXHJcblxyXG4gICAgICAvLyBLUk9LIDg6IEFncmVndWogc3RhdHVzeSBXU1pZU1RLSUNIIHByenlwaXNhbnljaCBrbGllbnTDs3cgcGVyIHByYWNvd25pa1xyXG4gICAgICBjb25zdCBvd25lZENsaWVudHNTdGF0cyA9IGFsbE93bmVkQ2xpZW50cy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgYW55PiwgY2xpZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3Qgb3duZXJJZCA9IGNsaWVudC5vd25lcl9pZFxyXG4gICAgICAgIGlmICghb3duZXJJZCkgcmV0dXJuIGFjY1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICghYWNjW293bmVySWRdKSB7XHJcbiAgICAgICAgICBhY2Nbb3duZXJJZF0gPSB7IHRvdGFsOiAwLCBjYW52YXM6IDAsIGFudHlzYWxlOiAwLCBzYWxlOiAwLCBicmFrX2tvbnRha3R1OiAwLCBuaWVfemFpbnRlcmVzb3dhbnk6IDAsIHpkZW5lcndvd2FueTogMCwgJyQkJzogMCB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGFjY1tvd25lcklkXS50b3RhbCsrXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3dpdGNoIChjbGllbnQuc3RhdHVzKSB7XHJcbiAgICAgICAgICBjYXNlICdjYW52YXMnOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uY2FudmFzKytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ2FudHlzYWxlJzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLmFudHlzYWxlKytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ3NhbGUnOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uc2FsZSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICdicmFrX2tvbnRha3R1JzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLmJyYWtfa29udGFrdHUrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnbmllX3phaW50ZXJlc293YW55JzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLm5pZV96YWludGVyZXNvd2FueSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICd6ZGVuZXJ3b3dhbnknOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uemRlbmVyd293YW55KytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJyQkJzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdWyckJCddKytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFN0YXR5c3R5a2kgcHJ6eXBpc2FueWNoIGtsaWVudMOzdzonLCBvd25lZENsaWVudHNTdGF0cylcclxuXHJcbiAgICAgIC8vIEtST0sgOTogU3R3w7NyeiBtYXDEmSBzdGF0eXN0eWsgZW1wbG95ZWVfc3RhdHNcclxuICAgICAgY29uc3Qgc3RhdHNNYXAgPSBuZXcgTWFwKClcclxuICAgICAgZXhpc3RpbmdTdGF0cy5mb3JFYWNoKHN0YXQgPT4ge1xyXG4gICAgICAgIHN0YXRzTWFwLnNldChzdGF0LnVzZXJfaWQsIHN0YXQpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBLUk9LIDEwOiBLb21iaW51aiBkYW5lIC0gZGxhIFdTWllTVEtJQ0ggcHJhY293bmlrw7N3ICh6YXdzemUgendyYWNhIGxpc3TEmSlcclxuICAgICAgY29uc3QgZW5oYW5jZWRTdGF0czogRW1wbG95ZWVTdGF0c1tdID0gYWxsRW1wbG95ZWVzLm1hcChlbXBsb3llZSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gZW1wbG95ZWUuaWRcclxuICAgICAgICBcclxuICAgICAgICAvLyBQb2JpZXJ6IHN0YXR5c3R5a2kgeiBlbXBsb3llZV9zdGF0cyBsdWIgdXR3w7NyeiBkb215xZtsbmVcclxuICAgICAgICBjb25zdCBiYXNpY1N0YXQgPSBzdGF0c01hcC5nZXQodXNlcklkKSB8fCB7XHJcbiAgICAgICAgICBpZDogJ3RlbXBfJyArIHVzZXJJZCxcclxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgIGRhaWx5X3RhcmdldDogMjAsXHJcbiAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcclxuICAgICAgICAgIG1vbnRobHlfY2FudmFzOiAwLFxyXG4gICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogMCxcclxuICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcclxuICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiAwLFxyXG4gICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiAwLFxyXG4gICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IDAsXHJcbiAgICAgICAgICBjdXN0b21fdG90YWxfcGF5bWVudHM6IDAsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgdG9kYXlGb3JVc2VyID0gdG9kYXlTdGF0c1t1c2VySWRdIHx8IHsgdG90YWw6IDAsIGNhbnZhczogMCwgYW50eXNhbGU6IDAsIHNhbGU6IDAgfVxyXG4gICAgICAgIGNvbnN0IHllc3RlcmRheUZvclVzZXIgPSB5ZXN0ZXJkYXlTdGF0c1t1c2VySWRdIHx8IDBcclxuICAgICAgICBjb25zdCBvd25lZEZvclVzZXIgPSBvd25lZENsaWVudHNTdGF0c1t1c2VySWRdIHx8IHsgXHJcbiAgICAgICAgICB0b3RhbDogMCwgXHJcbiAgICAgICAgICBjYW52YXM6IDAsIFxyXG4gICAgICAgICAgYW50eXNhbGU6IDAsIFxyXG4gICAgICAgICAgc2FsZTogMCwgXHJcbiAgICAgICAgICBicmFrX2tvbnRha3R1OiAwLCBcclxuICAgICAgICAgIG5pZV96YWludGVyZXNvd2FueTogMCwgXHJcbiAgICAgICAgICB6ZGVuZXJ3b3dhbnk6IDAsIFxyXG4gICAgICAgICAgJyQkJzogMCBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT2JsaWN6IGthcsSZIHphIHdjem9yYWpcclxuICAgICAgICBjb25zdCB5ZXN0ZXJkYXlTaG9ydGFnZSA9IE1hdGgubWF4KDAsIGJhc2ljU3RhdC5kYWlseV90YXJnZXQgLSB5ZXN0ZXJkYXlGb3JVc2VyKVxyXG4gICAgICAgIGNvbnN0IHBlbmFsdHkgPSB5ZXN0ZXJkYXlTaG9ydGFnZSAqIDE1XHJcblxyXG4gICAgICAgIC8vIE9ibGljeiBwcm93aXpqxJkgbmEgcG9kc3Rhd2llIHByenlwaXNhbnljaCBrbGllbnTDs3cgU2FsZVxyXG4gICAgICAgIGNvbnN0IGNvbW1pc3Npb24gPSAob3duZWRGb3JVc2VyLnNhbGUgKiBiYXNpY1N0YXQuY29tbWlzc2lvbl9yYXRlIC8gMTAwKSAqIDEwMFxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+RpCBQcmFjb3duaWsgJHtlbXBsb3llZS5mdWxsX25hbWV9OiBDYW52YXM9JHtvd25lZEZvclVzZXIuY2FudmFzfSwgQW50eVM9JHtvd25lZEZvclVzZXIuYW50eXNhbGV9LCBTYWxlPSR7b3duZWRGb3JVc2VyLnNhbGV9YClcclxuXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLmJhc2ljU3RhdCxcclxuICAgICAgICAgIC8vIFdBxbtORTogRG/FgsSFY3ogZGFuZSB1xbx5dGtvd25pa2FcclxuICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxyXG4gICAgICAgICAgICBmdWxsX25hbWU6IGVtcGxveWVlLmZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgZW1haWw6IGVtcGxveWVlLmVtYWlsLFxyXG4gICAgICAgICAgICBhdmF0YXJfdXJsOiBlbXBsb3llZS5hdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICByb2xlOiBlbXBsb3llZS5yb2xlXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgZGFpbHlfYWNoaWV2ZWQ6IHRvZGF5Rm9yVXNlci50b3RhbCxcclxuICAgICAgICAgIHllc3RlcmRheV9zaG9ydGFnZTogeWVzdGVyZGF5U2hvcnRhZ2UsXHJcbiAgICAgICAgICBzdGF0dXNfY2hhbmdlc190b2RheToge1xyXG4gICAgICAgICAgICBjYW52YXM6IHRvZGF5Rm9yVXNlci5jYW52YXMsXHJcbiAgICAgICAgICAgIGFudHlzYWxlOiB0b2RheUZvclVzZXIuYW50eXNhbGUsXHJcbiAgICAgICAgICAgIHNhbGU6IHRvZGF5Rm9yVXNlci5zYWxlLFxyXG4gICAgICAgICAgICBvdGhlcjogdG9kYXlGb3JVc2VyLm90aGVyXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgICAgLy8gVcW8eXdhaiBzdGF0eXN0eWsgb3BhcnR5Y2ggbmEgb3duZXJfaWQgKHByenlwaXNhbnljaCBrbGllbnTDs3cpXHJcbiAgICAgICAgICBtb250aGx5X2NhbnZhczogb3duZWRGb3JVc2VyLmNhbnZhcyxcclxuICAgICAgICAgIG1vbnRobHlfYW50eXNhbGU6IG93bmVkRm9yVXNlci5hbnR5c2FsZSxcclxuICAgICAgICAgIG1vbnRobHlfc2FsZTogb3duZWRGb3JVc2VyLnNhbGUsXHJcbiAgICAgICAgICB0b3RhbF9jb21taXNzaW9uczogY29tbWlzc2lvbixcclxuICAgICAgICAgIHRvdGFsX3BlbmFsdGllczogcGVuYWx0eVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUHJ6eWdvdG93YW5vIHJvenN6ZXJ6b25lIHN0YXR5c3R5a2kgZGxhIHdzenlzdGtpY2ggcHJhY293bmlrw7N3OicsIGVuaGFuY2VkU3RhdHMubGVuZ3RoKVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBMaXN0YSBwcmFjb3duaWvDs3c6JywgZW5oYW5jZWRTdGF0cy5tYXAocyA9PiBzLnVzZXI/LmZ1bGxfbmFtZSkuam9pbignLCAnKSlcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBlbmhhbmNlZFN0YXRzXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBwcmFjb3duaWvDs3c6JywgZXJyb3IpXHJcbiAgICAgIC8vIFcgcHJ6eXBhZGt1IGLFgsSZZHUsIHp3csOzxIcgcHVzdMSFIGxpc3TEmSB6YW1pYXN0IHJ6dWNhxIcgYsWCxIVkXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvZHN1bW93YW5pZSBkbmlhXHJcbiAgYXN5bmMgZ2V0RGFpbHlTdW1tYXJ5KGRhdGU6IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAuc2VsZWN0KCdzdGF0dXMsIGVkaXRlZF9ieScpXHJcbiAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBgJHtkYXRlfVQwMDowMDowMGApXHJcbiAgICAgIC5sdCgndXBkYXRlZF9hdCcsIGAke2RhdGV9VDIzOjU5OjU5YClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcblxyXG4gICAgLy8gQWdyZWdhY2phIGRhbnljaFxyXG4gICAgY29uc3Qgc3RhdHVzQnJlYWtkb3duID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55LCBjbGllbnQpID0+IHtcclxuICAgICAgYWNjW2NsaWVudC5zdGF0dXNdID0gKGFjY1tjbGllbnQuc3RhdHVzXSB8fCAwKSArIDFcclxuICAgICAgcmV0dXJuIGFjY1xyXG4gICAgfSwge30pXHJcblxyXG4gICAgY29uc3QgZW1wbG95ZWVTdGF0cyA9IGRhdGEucmVkdWNlKChhY2M6IGFueSwgY2xpZW50KSA9PiB7XHJcbiAgICAgIGFjY1tjbGllbnQuZWRpdGVkX2J5XSA9IChhY2NbY2xpZW50LmVkaXRlZF9ieV0gfHwgMCkgKyAxXHJcbiAgICAgIHJldHVybiBhY2NcclxuICAgIH0sIHt9KVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIHRvdGFsQ2xpZW50czogZGF0YS5sZW5ndGgsXHJcbiAgICAgIHN0YXR1c0JyZWFrZG93bixcclxuICAgICAgZW1wbG95ZWVTdGF0c1xyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvZHN1bW93YW5pZSB0eWdvZG5pb3dlXHJcbiAgYXN5bmMgZ2V0V2Vla2x5U3VtbWFyeShzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5LCB1cGRhdGVkX2F0JylcclxuICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIHN0YXJ0RGF0ZSlcclxuICAgICAgLmx0KCd1cGRhdGVkX2F0JywgZW5kRGF0ZSlcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIEFrdHVhbGl6dWogc3RhdHlzdHlraSBwcmFjb3duaWthIChkbGEgbWFuYWdlci9wcm9qZWN0X21hbmFnZXIvanVuaW9yX21hbmFnZXIvc3plZi9hZG1pbilcclxuICBhc3luYyB1cGRhdGVFbXBsb3llZVN0YXRzKHVzZXJJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEVtcGxveWVlU3RhdHM+LCBjdXJyZW50VXNlcjogVXNlcikge1xyXG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcclxuICAgIGlmICghWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXMoY3VycmVudFVzZXIucm9sZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gbW9keWZpa2Fjamkgc3RhdHlzdHlrJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAudXBkYXRlKHVwZGF0ZXMpXHJcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8gRWR5dHVqIGlsb8WbxIcga2xpZW50w7N3IGkgc3VtxJkgd3DFgmF0IHByYWNvd25pa2EgKGRsYSBtYW5hZ2VyL3Byb2plY3RfbWFuYWdlci9qdW5pb3JfbWFuYWdlci9zemVmL2FkbWluKVxyXG4gIGFzeW5jIHVwZGF0ZUVtcGxveWVlQ2xpZW50U3RhdHModXNlcklkOiBzdHJpbmcsIGNsaWVudHNDb3VudDogbnVtYmVyLCB0b3RhbFBheW1lbnRzOiBudW1iZXIsIGN1cnJlbnRVc2VyOiBVc2VyKSB7XHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYVxyXG4gICAgaWYgKCFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyhjdXJyZW50VXNlci5yb2xlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyBtb2R5ZmlrYWNqaSBzdGF0eXN0eWsnKVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OdIEFrdHVhbGl6dWrEmSBzdGF0eXN0eWtpIHByYWNvd25pa2EgJHt1c2VySWR9OiBrbGllbmNpPSR7Y2xpZW50c0NvdW50fSwgd3DFgmF0eT0ke3RvdGFsUGF5bWVudHN9YClcclxuICAgICAgXHJcbiAgICAgIC8vIE1FVE9EQSAxOiBTcHLDs2J1aiBwcm9zdMSFIGFrdHVhbGl6YWNqxJkgdyBlbXBsb3llZV9zdGF0c1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFByw7NiYSBwcm9zdGVqIGFrdHVhbGl6YWNqaSB3IGVtcGxveWVlX3N0YXRzJylcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBsZWdhY3lVcGRhdGVzID0ge1xyXG4gICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IGNsaWVudHNDb3VudCxcclxuICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgICAudXBkYXRlKGxlZ2FjeVVwZGF0ZXMpXHJcbiAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXHJcbiAgICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgICAgKixcclxuICAgICAgICAgICAgdXNlcjp1c2VycyF1c2VyX2lkIChcclxuICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgICByb2xlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIGApXHJcbiAgICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFpha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgdyBlbXBsb3llZV9zdGF0cyAobWV0b2RhIDEpJylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIEtsaWVuY2k6ICR7Y2xpZW50c0NvdW50fSwgV3DFgmF0eTog4oKsJHt0b3RhbFBheW1lbnRzfWApXHJcbiAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMSBuaWUgemFkemlhxYJhxYJhOicsIGVycm9yKVxyXG4gICAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGNhdGNoIChtZXRob2QxRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMSAocHJvc3RhIGFrdHVhbGl6YWNqYSkgbmllIHphZHppYcWCYcWCYTonLCBtZXRob2QxRXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTUVUT0RBIDI6IFNwcsOzYnVqIElOU0VSVCB6IE9OIENPTkZMSUNUXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIFByw7NiYSBJTlNFUlQgeiBPTiBDT05GTElDVCB3IGVtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IHtcclxuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICBkYWlseV90YXJnZXQ6IDIwLFxyXG4gICAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcclxuICAgICAgICAgICAgbW9udGhseV9jYW52YXM6IDAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfYW50eXNhbGU6IDAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcclxuICAgICAgICAgICAgdG90YWxfY29tbWlzc2lvbnM6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsX3BlbmFsdGllczogMCxcclxuICAgICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IGNsaWVudHNDb3VudCxcclxuICAgICAgICAgICAgY3VzdG9tX3RvdGFsX3BheW1lbnRzOiB0b3RhbFBheW1lbnRzLFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgICAgIC51cHNlcnQoaW5zZXJ0RGF0YSwgeyBcclxuICAgICAgICAgICAgICBvbkNvbmZsaWN0OiAndXNlcl9pZCcsXHJcbiAgICAgICAgICAgICAgaWdub3JlRHVwbGljYXRlczogZmFsc2UgXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgICAgICosXHJcbiAgICAgICAgICAgICAgdXNlcjp1c2VycyF1c2VyX2lkIChcclxuICAgICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgICAgICBhdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICAgICAgcm9sZVxyXG4gICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgYClcclxuICAgICAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgWmFrdHVhbGl6b3dhbm8gc3RhdHlzdHlraSB3IGVtcGxveWVlX3N0YXRzIChtZXRvZGEgMiknKVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBLbGllbmNpOiAke2NsaWVudHNDb3VudH0sIFdwxYJhdHk6IOKCrCR7dG90YWxQYXltZW50c31gKVxyXG4gICAgICAgICAgICByZXR1cm4gZGF0YVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDIgbmllIHphZHppYcWCYcWCYTonLCBlcnJvcilcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAobWV0aG9kMkVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMiAodXBzZXJ0KSBuaWUgemFkemlhxYJhxYJhOicsIG1ldGhvZDJFcnJvcilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gTUVUT0RBIDM6IFpha3R1YWxpenVqIHR5bGtvIHcgcGFtacSZY2kgKGZhbGxiYWNrKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gRmFsbGJhY2sgLSB6d3JhY2FtIHN5bXVsb3dhbmUgZGFuZScpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiAndGVtcF8nICsgdXNlcklkLFxyXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIGRhaWx5X3RhcmdldDogMjAsXHJcbiAgICAgICAgICAgIGNvbW1pc3Npb25fcmF0ZTogMy4wLFxyXG4gICAgICAgICAgICBtb250aGx5X2NhbnZhczogMCxcclxuICAgICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogMCxcclxuICAgICAgICAgICAgbW9udGhseV9zYWxlOiAwLFxyXG4gICAgICAgICAgICB0b3RhbF9jb21taXNzaW9uczogMCxcclxuICAgICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiAwLFxyXG4gICAgICAgICAgICBjdXN0b21fY2xpZW50c19jb3VudDogY2xpZW50c0NvdW50LFxyXG4gICAgICAgICAgICBjdXN0b21fdG90YWxfcGF5bWVudHM6IHRvdGFsUGF5bWVudHMsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWU6ICdQcmFjb3duaWsnLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiAnYnJha0BlbWFpbC5jb20nLFxyXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IG51bGwsXHJcbiAgICAgICAgICAgICAgcm9sZTogJ3ByYWNvd25paydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IHVwZGF0ZUVtcGxveWVlQ2xpZW50U3RhdHM6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3R3w7NyeiBzdGF0eXN0eWtpIGRsYSBub3dlZ28gcHJhY293bmlrYVxyXG4gIGFzeW5jIGNyZWF0ZUVtcGxveWVlU3RhdHModXNlcklkOiBzdHJpbmcsIGN1cnJlbnRVc2VyOiBVc2VyKSB7XHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYVxyXG4gICAgaWYgKCFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyhjdXJyZW50VXNlci5yb2xlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyB0d29yemVuaWEgc3RhdHlzdHlrJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAuaW5zZXJ0KFt7XHJcbiAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgIGRhaWx5X3RhcmdldDogMjAsXHJcbiAgICAgICAgY29tbWlzc2lvbl9yYXRlOiAzLjBcclxuICAgICAgfV0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIPCfk4ogTm93YSBmdW5rY2phOiBQb2JpZXJ6IHN0YXR5c3R5a2kgd3lrb3J6eXN0YW5pYSBiYXp5IChrbGllbmNpIHovYmV6IHfFgmHFm2NpY2llbGEpXHJcbiAgYXN5bmMgZ2V0RGF0YWJhc2VVdGlsaXphdGlvbigpOiBQcm9taXNlPHsgd2l0aE93bmVyOiBudW1iZXIsIHdpdGhvdXRPd25lcjogbnVtYmVyLCB0b3RhbDogbnVtYmVyLCB1dGlsaXphdGlvblBlcmNlbnRhZ2U6IG51bWJlciB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHN0YXR5c3R5ayB3eWtvcnp5c3RhbmlhIGJhenkuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gWmxpY3ogd3N6eXN0a2ljaCBrbGllbnTDs3dcclxuICAgICAgY29uc3QgeyBjb3VudDogdG90YWxDb3VudCwgZXJyb3I6IHRvdGFsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAodG90YWxFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSDFgsSFY3puZWogbGljemJ5IGtsaWVudMOzdzonLCB0b3RhbEVycm9yKVxyXG4gICAgICAgIHRocm93IHRvdGFsRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gWmxpY3oga2xpZW50w7N3IHogd8WCYcWbY2ljaWVsZW0gKG93bmVyX2lkICE9IG51bGwpXHJcbiAgICAgIGNvbnN0IHsgY291bnQ6IHdpdGhPd25lckNvdW50LCBlcnJvcjogd2l0aE93bmVyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXHJcbiAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKVxyXG5cclxuICAgICAgaWYgKHdpdGhPd25lckVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWVudMOzdyB6IHfFgmHFm2NpY2llbGVtOicsIHdpdGhPd25lckVycm9yKVxyXG4gICAgICAgIHRocm93IHdpdGhPd25lckVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE9ibGljeiBrbGllbnTDs3cgYmV6IHfFgmHFm2NpY2llbGFcclxuICAgICAgY29uc3Qgd2l0aG91dE93bmVyQ291bnQgPSAodG90YWxDb3VudCB8fCAwKSAtICh3aXRoT3duZXJDb3VudCB8fCAwKVxyXG4gICAgICBcclxuICAgICAgLy8gT2JsaWN6IHByb2NlbnQgd3lrb3J6eXN0YW5pYVxyXG4gICAgICBjb25zdCB1dGlsaXphdGlvblBlcmNlbnRhZ2UgPSB0b3RhbENvdW50ID8gTWF0aC5yb3VuZCgod2l0aE93bmVyQ291bnQgfHwgMCkgLyB0b3RhbENvdW50ICogMTAwKSA6IDBcclxuXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICB3aXRoT3duZXI6IHdpdGhPd25lckNvdW50IHx8IDAsXHJcbiAgICAgICAgd2l0aG91dE93bmVyOiB3aXRob3V0T3duZXJDb3VudCxcclxuICAgICAgICB0b3RhbDogdG90YWxDb3VudCB8fCAwLFxyXG4gICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBTdGF0eXN0eWtpIHd5a29yenlzdGFuaWEgYmF6eTonLCByZXN1bHQpXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIHd5a29yenlzdGFuaWEgYmF6eTonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyDwn5SEIEFETUlOOiBSZXNldHVqIHfFgmHFm2NpY2llbGkgd3N6eXN0a2ljaCBrbGllbnTDs3dcclxuICBhc3luYyByZXNldEFsbENsaWVudE93bmVycyhjdXJyZW50VXNlcjogVXNlcik6IFByb21pc2U8eyBzdWNjZXNzOiBudW1iZXIsIG1lc3NhZ2U6IHN0cmluZyB9PiB7XHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYSAtIHR5bGtvIGFkbWluXHJcbiAgICBpZiAoY3VycmVudFVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCEgVHlsa28gYWRtaW5pc3RyYXRvciBtb8W8ZSByZXNldG93YcSHIHfFgmHFm2NpY2llbGkga2xpZW50w7N3LicpXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgUm96cG9jenluYW0gcmVzZXRvd2FuaWUgd8WCYcWbY2ljaWVsaSBrbGllbnTDs3cuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiBsaWN6YsSZIGtsaWVudMOzdyB6IHfFgmHFm2NpY2llbGVtIHByemVkIHJlc2V0b3dhbmllbVxyXG4gICAgICBjb25zdCB7IGNvdW50OiBiZWZvcmVDb3VudCwgZXJyb3I6IGJlZm9yZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcclxuXHJcbiAgICAgIGlmIChiZWZvcmVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgc3ByYXdkemFuaWEgc3RhbnUgcHJ6ZWQgcmVzZXRvd2FuaWVtOicsIGJlZm9yZUVycm9yKVxyXG4gICAgICAgIHRocm93IGJlZm9yZUVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFJlc2V0dWogb3duZXJfaWQgZGxhIHdzenlzdGtpY2gga2xpZW50w7N3XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBvd25lcl9pZDogbnVsbCB9KVxyXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbCkgLy8gVHlsa28gdGUga3TDs3JlIG1hasSFIHfFgmHFm2NpY2llbGFcclxuICAgICAgICAuc2VsZWN0KCdpZCwgZmlyc3RfbmFtZSwgbGFzdF9uYW1lJylcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcmVzZXRvd2FuaWEgd8WCYcWbY2ljaWVsaTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCByZXNldENvdW50ID0gZGF0YT8ubGVuZ3RoIHx8IDBcclxuICAgICAgXHJcbiAgICAgIC8vIExvZ3VqIGFrY2rEmSBkbyBhY3Rpdml0eV9sb2dzXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgYWN0aXZpdHlMb2dzQXBpLmNyZWF0ZUxvZyh7XHJcbiAgICAgICAgICBjbGllbnRfaWQ6ICdidWxrX2FjdGlvbicsXHJcbiAgICAgICAgICBjaGFuZ2VkX2J5OiBjdXJyZW50VXNlci5pZCxcclxuICAgICAgICAgIGNoYW5nZV90eXBlOiAndXBkYXRlJyxcclxuICAgICAgICAgIGZpZWxkX2NoYW5nZWQ6ICdvd25lcl9pZCcsXHJcbiAgICAgICAgICBvbGRfdmFsdWU6ICd2YXJpb3VzJyxcclxuICAgICAgICAgIG5ld192YWx1ZTogJ251bGwgKHJlc2V0IGJ5IGFkbWluKScsXHJcbiAgICAgICAgfSlcclxuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHphbG9nb3dhxIcgYWtjamk6JywgbG9nRXJyb3IpXHJcbiAgICAgICAgLy8gTmllIHByemVyeXdhbXkgcHJvY2VzdSB6IHBvd29kdSBixYLEmWR1IGxvZ293YW5pYVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFpyZXNldG93YW5vIHfFgmHFm2NpY2llbGkgZGxhICR7cmVzZXRDb3VudH0ga2xpZW50w7N3YClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgc3VjY2VzczogcmVzZXRDb3VudCxcclxuICAgICAgICBtZXNzYWdlOiBgUG9tecWbbG5pZSB6cmVzZXRvd2FubyB3xYJhxZtjaWNpZWxpIGRsYSAke3Jlc2V0Q291bnR9IGtsaWVudMOzdy4gV3N6eXNjeSBrbGllbmNpIHPEhSB0ZXJheiBiZXogcHJ6eXBpc2FuZWdvIHfFgmHFm2NpY2llbGEuYFxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHJlc2V0b3dhbmlhIHfFgmHFm2NpY2llbGkga2xpZW50w7N3OicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogc3RhdHlzdHlraSBha3R5d25vxZtjaSBwcmFjb3duaWvDs3cgeiB0YWJlbGkgZW1wbG95ZWVfc3RhdGlzdGljc1xyXG4gIGFzeW5jIGdldEVtcGxveWVlQWN0aXZpdHlTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTxFbXBsb3llZUFjdGl2aXR5U3RhdHNbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBzdGF0eXN0eWsgYWt0eXdub8WbY2kgcHJhY293bmlrw7N3Li4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXHJcbiAgICAgIGlmICghdXNlciB8fCAhWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEJyYWsgdXByYXduaWXFhCBkbyBwb2RnbMSFZHUgc3RhdHlzdHlrIGFrdHl3bm/Fm2NpJylcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS1JPSyAxOiBQb2JpZXJ6IHdzenlzdGtpY2ggdcW8eXRrb3duaWvDs3cgeiByb2zEhSAncHJhY293bmlrJ1xyXG4gICAgICBsZXQgYWxsRW1wbG95ZWVzID0gW11cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICBhdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICByb2xlXHJcbiAgICAgICAgICBgKVxyXG4gICAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXHJcbiAgICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICAgIGlmICh1c2Vyc0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3ctcHJhY293bmlrw7N3OicsIHVzZXJzRXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGFsbEVtcGxveWVlcyA9IGVtcGxveWVlcyB8fCBbXVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5GlIFpuYWxlemlvbm8gcHJhY293bmlrw7N3OiAke2FsbEVtcGxveWVlcy5sZW5ndGh9YClcclxuICAgICAgICBcclxuICAgICAgICBpZiAoYWxsRW1wbG95ZWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBCcmFrIHXFvHl0a293bmlrw7N3IHogcm9sxIUgcHJhY293bmlrJylcclxuICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVycm9yKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLUk9LIDI6IFBvYmllcnogc3RhdHlzdHlraSBha3R5d25vxZtjaSAtIHogb2JzxYJ1Z8SFIGLFgsSZZMOzdyBSTFNcclxuICAgICAgbGV0IGFjdGl2aXR5U3RhdHMgPSBbXVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGVtcGxveWVlSWRzID0gYWxsRW1wbG95ZWVzLm1hcChlbXAgPT4gZW1wLmlkKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIFBvYmllcmFuaWUgc3RhdHlzdHlrIGRsYSBJRDogJHtlbXBsb3llZUlkcy5zbGljZSgwLCAzKS5qb2luKCcsICcpfS4uLiAoJHtlbXBsb3llZUlkcy5sZW5ndGh9IHRvdGFsKWApXHJcblxyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogc3RhdHMsIGVycm9yOiBzdGF0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRpc3RpY3MnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAuZXEoJ3BlcmlvZF90eXBlJywgJ21vbnRobHknKVxyXG4gICAgICAgICAgLmluKCd1c2VyX2lkJywgZW1wbG95ZWVJZHMpXHJcbiAgICAgICAgICAub3JkZXIoJ3BlcmlvZF9lbmQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgICAgICAgaWYgKHN0YXRzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgYWt0eXdub8WbY2k6Jywgc3RhdHNFcnJvcilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gSmXFm2xpIHRvIGLFgsSFZCBSTFMgKDQwMyksIG5pZSBwcnplcnl3YWogLSB1xbx5aiBkb215xZtsbnljaCBkYW55Y2hcclxuICAgICAgICAgIGlmIChzdGF0c0Vycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgc3RhdHNFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgc3RhdHNFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign8J+UkiBQcm9ibGVtIHogUkxTIC0gdcW8eXdhbSBkb215xZtsbnljaCBkYW55Y2ggYWt0eXdub8WbY2knKVxyXG4gICAgICAgICAgICBhY3Rpdml0eVN0YXRzID0gW11cclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqUgS3J5dHljem55IGLFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayAtIHByemVyeXdhbScpXHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhY3Rpdml0eVN0YXRzID0gc3RhdHMgfHwgW11cclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFpuYWxlemlvbm8gcmVrb3Jkw7N3IGFrdHl3bm/Fm2NpOiAke2FjdGl2aXR5U3RhdHMubGVuZ3RofWApXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgemFweXRhbmlhIG8gc3RhdHlzdHlraSBha3R5d25vxZtjaTonLCBlcnJvcilcclxuICAgICAgICBhY3Rpdml0eVN0YXRzID0gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS1JPSyAzOiBTdHfDs3J6IG1hcMSZIG5ham5vd3N6eWNoIHN0YXR5c3R5ayBkbGEga2HFvGRlZ28gcHJhY293bmlrYVxyXG4gICAgICBjb25zdCBsYXRlc3RTdGF0c01hcCA9IG5ldyBNYXAoKVxyXG4gICAgICBpZiAoYWN0aXZpdHlTdGF0cyAmJiBhY3Rpdml0eVN0YXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBhY3Rpdml0eVN0YXRzLmZvckVhY2goc3RhdCA9PiB7XHJcbiAgICAgICAgICBjb25zdCB1c2VySWQgPSBzdGF0LnVzZXJfaWRcclxuICAgICAgICAgIGlmICghbGF0ZXN0U3RhdHNNYXAuaGFzKHVzZXJJZCkpIHtcclxuICAgICAgICAgICAgbGF0ZXN0U3RhdHNNYXAuc2V0KHVzZXJJZCwgc3RhdClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5e677iPIFptYXBvd2FubyBzdGF0eXN0eWtpIGRsYSAke2xhdGVzdFN0YXRzTWFwLnNpemV9IHByYWNvd25pa8Ozd2ApXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBCcmFrIGRhbnljaCBha3R5d25vxZtjaSAtIHXFvHlqxJkgZG9tecWbbG55Y2ggd2FydG/Fm2NpJylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS1JPSyA0OiBLb21iaW51aiBkYW5lIHByYWNvd25pa8OzdyB6ZSBzdGF0eXN0eWthbWkgYWt0eXdub8WbY2lcclxuICAgICAgY29uc3QgcmVzdWx0OiBFbXBsb3llZUFjdGl2aXR5U3RhdHNbXSA9IGFsbEVtcGxveWVlcy5tYXAoZW1wbG95ZWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGVtcGxveWVlLmlkXHJcbiAgICAgICAgY29uc3QgYWN0aXZpdHlTdGF0ID0gbGF0ZXN0U3RhdHNNYXAuZ2V0KHVzZXJJZClcclxuXHJcbiAgICAgICAgaWYgKGFjdGl2aXR5U3RhdCkge1xyXG4gICAgICAgICAgLy8gTWFteSBzdGF0eXN0eWtpIC0gdcW8eWogcHJhd2R6aXd5Y2ggZGFueWNoXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAuLi5hY3Rpdml0eVN0YXQsXHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICBpZDogZW1wbG95ZWUuaWQsXHJcbiAgICAgICAgICAgICAgZnVsbF9uYW1lOiBlbXBsb3llZS5mdWxsX25hbWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IGVtcGxveWVlLmVtYWlsLFxyXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IGVtcGxveWVlLmF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgICAgcm9sZTogZW1wbG95ZWUucm9sZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIEJyYWsgc3RhdHlzdHlrIC0gc3R3w7NyeiBkb215xZtsbmUgZGFuZVxyXG4gICAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMVxyXG4gICAgICAgICAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpXHJcbiAgICAgICAgICBjb25zdCBtb250aFN0YXJ0ID0gYCR7Y3VycmVudFllYXJ9LSR7Y3VycmVudE1vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tMDFgXHJcbiAgICAgICAgICBjb25zdCBtb250aEVuZCA9IG5ldyBEYXRlKGN1cnJlbnRZZWFyLCBjdXJyZW50TW9udGgsIDApLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG5cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiAndGVtcF8nICsgdXNlcklkLFxyXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIHBlcmlvZF90eXBlOiAnbW9udGhseScsXHJcbiAgICAgICAgICAgIHBlcmlvZF9zdGFydDogbW9udGhTdGFydCxcclxuICAgICAgICAgICAgcGVyaW9kX2VuZDogbW9udGhFbmQsXHJcbiAgICAgICAgICAgIHRvdGFsX3dvcmtfbWludXRlczogMCxcclxuICAgICAgICAgICAgYXZlcmFnZV9kYWlseV9taW51dGVzOiAwLFxyXG4gICAgICAgICAgICBleHBlY3RlZF93b3JrX21pbnV0ZXM6IDE3NiAqIDYwLCAvLyAxNzZoICogNjBtaW4gPSAxMDU2MCBtaW5cclxuICAgICAgICAgICAgZWZmaWNpZW5jeV9wZXJjZW50YWdlOiAwLFxyXG4gICAgICAgICAgICB0b3RhbF9hY3Rpdml0aWVzOiAwLFxyXG4gICAgICAgICAgICBhdmVyYWdlX2RhaWx5X2FjdGl2aXRpZXM6IDAsXHJcbiAgICAgICAgICAgIGRheXNfd29ya2VkOiAwLFxyXG4gICAgICAgICAgICBkYXlzX2Fic2VudDogMCxcclxuICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgIGlkOiBlbXBsb3llZS5pZCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWU6IGVtcGxveWVlLmZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXHJcbiAgICAgICAgICAgICAgYXZhdGFyX3VybDogZW1wbG95ZWUuYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgICByb2xlOiBlbXBsb3llZS5yb2xlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFByenlnb3Rvd2FubyBzdGF0eXN0eWtpIGFrdHl3bm/Fm2NpIGRsYSB3c3p5c3RraWNoIHByYWNvd25pa8OzdzogJHtyZXN1bHQubGVuZ3RofWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GlIExpc3RhIHByYWNvd25pa8OzdzogJHtyZXN1bHQubWFwKHMgPT4gcy51c2VyPy5mdWxsX25hbWUpLmpvaW4oJywgJyl9YClcclxuICAgICAgXHJcbiAgICAgIC8vIFBva2HFvCBzdGF0eXN0eWtpIHBvZHN1bW93dWrEhWNlXHJcbiAgICAgIGNvbnN0IHdpdGhEYXRhID0gcmVzdWx0LmZpbHRlcihyID0+IHIudG90YWxfd29ya19taW51dGVzID4gMCkubGVuZ3RoXHJcbiAgICAgIGNvbnN0IHdpdGhvdXREYXRhID0gcmVzdWx0Lmxlbmd0aCAtIHdpdGhEYXRhXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFByYWNvd25pY3kgeiBkYW55bWk6ICR7d2l0aERhdGF9LCBiZXogZGFueWNoOiAke3dpdGhvdXREYXRhfWApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBha3R5d25vxZtjaTonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIEdyYWNlZnVsIGZhbGxiYWNrIC0gendyw7PEhyBwdXN0xIUgdGFibGljxJkgemFtaWFzdCBjcmFzaG93YcSHXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEdyYWNlZnVsIGZhbGxiYWNrIC0gendyYWNhbSBwdXN0xIUgdGFibGljxJknKVxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHRyZW5keSBzcHJ6ZWRhxbxvd2UgeiBvc3RhdG5pY2ggNyBkbmlcclxuICBhc3luYyBnZXRTYWxlc1RyZW5kcyh1c2VyOiBVc2VyKTogUHJvbWlzZTxBcnJheTx7IGRheTogc3RyaW5nLCBjYW52YXM6IG51bWJlciwgc2FsZTogbnVtYmVyLCBhbnR5c2FsZTogbnVtYmVyIH0+PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiCBQb2JpZXJhbmllIHRyZW5kw7N3IHNwcnplZGHFvG93eWNoIHogb3N0YXRuaWNoIDcgZG5pLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogZGFuZSB6IG9zdGF0bmljaCA3IGRuaVxyXG4gICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gNikgLy8gNyBkbmkgd3N0ZWN6ICh3xYLEhWN6bmllIHogZHppc2lhailcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgdXBkYXRlZF9hdCwgc3RhdHVzX2NoYW5nZWRfYXQsIG93bmVyX2lkLCBlZGl0ZWRfYnknKVxyXG4gICAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxyXG4gICAgICAgIC5sdGUoJ3VwZGF0ZWRfYXQnLCBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSArICdUMjM6NTk6NTknKVxyXG4gICAgICAgIC5pbignc3RhdHVzJywgWydjYW52YXMnLCAnc2FsZScsICdhbnR5c2FsZSddKVxyXG4gICAgICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdHJlbmTDs3cgc3ByemVkYcW8b3d5Y2g6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJla29yZMOzdyB6IG9zdGF0bmljaCA3IGRuaWApXHJcblxyXG4gICAgICAvLyBGaWx0cnVqIGtsaWVudMOzdyB3ZWTFgnVnIHVwcmF3bmllxYQgdcW8eXRrb3duaWthXHJcbiAgICAgIGxldCBmaWx0ZXJlZERhdGEgPSBkYXRhIHx8IFtdXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgZmlsdGVyZWREYXRhID0gZmlsdGVyZWREYXRhLmZpbHRlcihjbGllbnQgPT4gXHJcbiAgICAgICAgICBjbGllbnQub3duZXJfaWQgPT09IHVzZXIuaWQgfHwgXHJcbiAgICAgICAgICBjbGllbnQub3duZXJfaWQgPT09IG51bGwgfHwgXHJcbiAgICAgICAgICBjbGllbnQuZWRpdGVkX2J5ID09PSB1c2VyLmlkXHJcbiAgICAgICAgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTdHfDs3J6IG1hcMSZIGRsYSBkbmkgdHlnb2RuaWFcclxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxyXG4gICAgICBjb25zdCB0cmVuZHM6IFJlY29yZDxzdHJpbmcsIHsgY2FudmFzOiBudW1iZXIsIHNhbGU6IG51bWJlciwgYW50eXNhbGU6IG51bWJlciB9PiA9IHt9XHJcblxyXG4gICAgICAvLyBJbmljamFsaXp1aiBvc3RhdG5pZSA3IGRuaVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgdHJlbmRzW2RheU5hbWVdID0geyBjYW52YXM6IDAsIHNhbGU6IDAsIGFudHlzYWxlOiAwIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gR3J1cHVqIGRhbmUgd2VkxYJ1ZyBkbmlcclxuICAgICAgZmlsdGVyZWREYXRhLmZvckVhY2goY2xpZW50ID0+IHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY2xpZW50LnVwZGF0ZWRfYXQpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRyZW5kc1tkYXlOYW1lXSkge1xyXG4gICAgICAgICAgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdjYW52YXMnKSB0cmVuZHNbZGF5TmFtZV0uY2FudmFzKytcclxuICAgICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdzYWxlJykgdHJlbmRzW2RheU5hbWVdLnNhbGUrK1xyXG4gICAgICAgICAgZWxzZSBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ2FudHlzYWxlJykgdHJlbmRzW2RheU5hbWVdLmFudHlzYWxlKytcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdSAob3N0YXRuaWUgNyBkbmkgdyBrb2xlam5vxZtjaSlcclxuICAgICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgIGRheTogZGF5TmFtZSxcclxuICAgICAgICAgIGNhbnZhczogdHJlbmRzW2RheU5hbWVdLmNhbnZhcyxcclxuICAgICAgICAgIHNhbGU6IHRyZW5kc1tkYXlOYW1lXS5zYWxlLFxyXG4gICAgICAgICAgYW50eXNhbGU6IHRyZW5kc1tkYXlOYW1lXS5hbnR5c2FsZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVHJlbmR5IHNwcnplZGHFvG93ZSBwcnp5Z290b3dhbmU6JywgcmVzdWx0KVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHRyZW5kw7N3IHNwcnplZGHFvG93eWNoOicsIGVycm9yKVxyXG4gICAgICAvLyBXIHByenlwYWRrdSBixYLEmWR1IHp3csOzxIcgcHVzdGUgZGFuZSBkbGEgb3N0YXRuaWNoIDcgZG5pXHJcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cclxuICAgICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgIGRheTogZGF5TmFtZSxcclxuICAgICAgICAgIGNhbnZhczogMCxcclxuICAgICAgICAgIHNhbGU6IDAsXHJcbiAgICAgICAgICBhbnR5c2FsZTogMFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogc3RhdHlzdHlraSBrbGlrbmnEmcSHIHRlbGVmb251IHR5bGtvIGRsYSBwcmFjb3duaWvDs3dcclxuICBhc3luYyBnZXRQaG9uZUNsaWNrc1N0YXRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPHsgdG90YWxQaG9uZUNhbGxzOiBudW1iZXIsIHRvdGFsUGhvbmVDYWxsc1RvZGF5OiBudW1iZXIgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk54gUG9iaWVyYW5pZSBzdGF0eXN0eWsga2xpa25pxJnEhyB0ZWxlZm9udS4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2ggcHJhY293bmlrw7N3XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogZW1wbG95ZWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXHJcblxyXG4gICAgICBpZiAoZW1wbG95ZWVzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVtcGxveWVlc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGVtcGxveWVlc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGVtcGxveWVlSWRzID0gKGVtcGxveWVlcyB8fCBbXSkubWFwKGVtcCA9PiBlbXAuaWQpXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GlIFpuYWxlemlvbm8gJHtlbXBsb3llZUlkcy5sZW5ndGh9IHByYWNvd25pa8Ozd2ApXHJcblxyXG4gICAgICBpZiAoZW1wbG95ZWVJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgdG90YWxQaG9uZUNhbGxzOiAwLCB0b3RhbFBob25lQ2FsbHNUb2RheTogMCB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2llIGtsaWtuacSZY2lhIHRlbGVmb251IHogYWN0aXZpdHlfbG9ncyB0eWxrbyBkbGEgcHJhY293bmlrw7N3XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsUGhvbmVDbGlja3MsIGVycm9yOiBhbGxDbGlja3NFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGNoYW5nZWRfYnksIHRpbWVzdGFtcCcpXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5pbignY2hhbmdlZF9ieScsIGVtcGxveWVlSWRzKVxyXG5cclxuICAgICAgaWYgKGFsbENsaWNrc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgYWxsQ2xpY2tzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgYWxsQ2xpY2tzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdG90YWxQaG9uZUNhbGxzID0gYWxsUGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwXHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IGR6aXNpZWpzemUga2xpa25pxJljaWEgdGVsZWZvbnVcclxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSAvLyBZWVlZLU1NLUREXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdG9kYXlQaG9uZUNsaWNrcywgZXJyb3I6IHRvZGF5Q2xpY2tzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBjaGFuZ2VkX2J5LCB0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcclxuICAgICAgICAuaW4oJ2NoYW5nZWRfYnknLCBlbXBsb3llZUlkcylcclxuICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBgJHt0b2RheX1UMDA6MDA6MDBgKVxyXG4gICAgICAgIC5sdCgndGltZXN0YW1wJywgYCR7dG9kYXl9VDIzOjU5OjU5YClcclxuXHJcbiAgICAgIGlmICh0b2RheUNsaWNrc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGR6aXNpZWpzenljaCBrbGlrbmnEmcSHIHRlbGVmb251OicsIHRvZGF5Q2xpY2tzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgdG9kYXlDbGlja3NFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0b3RhbFBob25lQ2FsbHNUb2RheSA9IHRvZGF5UGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN0YXR5c3R5a2kga2xpa25pxJnEhyB0ZWxlZm9udTogxYLEhWN6bmllICR7dG90YWxQaG9uZUNhbGxzfSwgZHppxZsgJHt0b3RhbFBob25lQ2FsbHNUb2RheX1gKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbFBob25lQ2FsbHMsXHJcbiAgICAgICAgdG90YWxQaG9uZUNhbGxzVG9kYXlcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsga2xpa25pxJnEhyB0ZWxlZm9udTonLCBlcnJvcilcclxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSB6d3LDs8SHIHplcm93ZSBzdGF0eXN0eWtpXHJcbiAgICAgIHJldHVybiB7IHRvdGFsUGhvbmVDYWxsczogMCwgdG90YWxQaG9uZUNhbGxzVG9kYXk6IDAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogZGFuZSB0cmVuZMOzdyB3eWRham5vxZtjaSB6ZXNwb8WCdSB6IG9zdGF0bmljaCA3IGRuaVxyXG4gIGFzeW5jIGdldFRlYW1QZXJmb3JtYW5jZVRyZW5kcyh1c2VyOiBVc2VyKTogUHJvbWlzZTxBcnJheTx7IGRheTogc3RyaW5nLCB0ZWxlZm9ueTogbnVtYmVyLCBrb253ZXJzamE6IG51bWJlciwga2xpZW5jaTogbnVtYmVyIH0+PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHRyZW5kw7N3IHd5ZGFqbm/Fm2NpIHplc3BvxYJ1IHogb3N0YXRuaWNoIDcgZG5pLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBwcmFjb3duaWvDs3dcclxuICAgICAgY29uc3QgeyBkYXRhOiBlbXBsb3llZXMsIGVycm9yOiBlbXBsb3llZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcclxuICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcclxuXHJcbiAgICAgIGlmIChlbXBsb3llZXNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBwcmFjb3duaWvDs3c6JywgZW1wbG95ZWVzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZW1wbG95ZWVzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSAoZW1wbG95ZWVzIHx8IFtdKS5tYXAoZW1wID0+IGVtcC5pZClcclxuICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyAke2VtcGxveWVlSWRzLmxlbmd0aH0gcHJhY293bmlrw7N3YClcclxuXHJcbiAgICAgIGlmIChlbXBsb3llZUlkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAvLyBad3LDs8SHIHB1c3RlIGRhbmUgZGxhIG9zdGF0bmljaCA3IGRuaVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cclxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXVxyXG4gICAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgICAgZGF5OiBkYXlOYW1lLFxyXG4gICAgICAgICAgICB0ZWxlZm9ueTogMCxcclxuICAgICAgICAgICAga29ud2Vyc2phOiAwLFxyXG4gICAgICAgICAgICBrbGllbmNpOiAwXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBvYmllcnogZGFuZSB6IG9zdGF0bmljaCA3IGRuaVxyXG4gICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBjb25zdCBzdGFydERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gNikgLy8gNyBkbmkgd3N0ZWN6ICh3xYLEhWN6bmllIHogZHppc2lhailcclxuICAgICAgXHJcbiAgICAgIC8vIDEuIFBvYmllcnoga2xpa25pxJljaWEgdGVsZWZvbnUgeiBhY3Rpdml0eV9sb2dzICh0eWxrbyBwcmFjb3duaWN5KVxyXG4gICAgICBjb25zdCB7IGRhdGE6IHBob25lQ2xpY2tzLCBlcnJvcjogcGhvbmVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnY2hhbmdlZF9ieSwgdGltZXN0YW1wJylcclxuICAgICAgICAuZXEoJ2ZpZWxkX2NoYW5nZWQnLCAnbGFzdF9waG9uZV9jbGljaycpXHJcbiAgICAgICAgLmluKCdjaGFuZ2VkX2J5JywgZW1wbG95ZWVJZHMpXHJcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcclxuICAgICAgICAubHRlKCd0aW1lc3RhbXAnLCBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSArICdUMjM6NTk6NTknKVxyXG5cclxuICAgICAgaWYgKHBob25lRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpa25pxJnEhyB0ZWxlZm9udTonLCBwaG9uZUVycm9yKVxyXG4gICAgICAgIHRocm93IHBob25lRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gMi4gUG9iaWVyeiB6bWlhbnkga2xpZW50w7N3IHogb3N0YXRuaWNoIDcgZG5pICh0eWxrbyBwcnpleiBwcmFjb3duaWvDs3cpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY2xpZW50Q2hhbmdlcywgZXJyb3I6IGNoYW5nZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgndXBkYXRlZF9hdCwgc3RhdHVzLCBlZGl0ZWRfYnknKVxyXG4gICAgICAgIC5pbignZWRpdGVkX2J5JywgZW1wbG95ZWVJZHMpXHJcbiAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXHJcbiAgICAgICAgLmx0ZSgndXBkYXRlZF9hdCcsIGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdICsgJ1QyMzo1OTo1OScpXHJcbiAgICAgICAgLm9yZGVyKCd1cGRhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmIChjaGFuZ2VzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgem1pYW4ga2xpZW50w7N3OicsIGNoYW5nZXNFcnJvcilcclxuICAgICAgICB0aHJvdyBjaGFuZ2VzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vICR7cGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwfSBrbGlrbmnEmcSHIHRlbGVmb251IGkgJHtjbGllbnRDaGFuZ2VzPy5sZW5ndGggfHwgMH0gem1pYW4ga2xpZW50w7N3YClcclxuXHJcbiAgICAgIC8vIFN0d8OzcnogbWFwxJkgZGxhIGRuaSB0eWdvZG5pYVxyXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXHJcbiAgICAgIGNvbnN0IHRyZW5kc0RhdGE6IFJlY29yZDxzdHJpbmcsIHsgdGVsZWZvbnk6IG51bWJlciwga2xpZW5jaTogbnVtYmVyLCBzYWxlczogbnVtYmVyIH0+ID0ge31cclxuXHJcbiAgICAgIC8vIEluaWNqYWxpenVqIG9zdGF0bmllIDcgZG5pXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICB0cmVuZHNEYXRhW2RheU5hbWVdID0geyB0ZWxlZm9ueTogMCwga2xpZW5jaTogMCwgc2FsZXM6IDAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAgICAgICAgLy8gR3J1cHVqIGtsaWtuacSZY2lhIHRlbGVmb251IHdlZMWCdWcgZG5pXHJcbiAgICAgICBpZiAocGhvbmVDbGlja3MgJiYgQXJyYXkuaXNBcnJheShwaG9uZUNsaWNrcykpIHtcclxuICAgICAgICAgcGhvbmVDbGlja3MuZm9yRWFjaCgoY2xpY2s6IGFueSkgPT4ge1xyXG4gICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjbGljay50aW1lc3RhbXApXHJcbiAgICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgICAgaWYgKHRyZW5kc0RhdGFbZGF5TmFtZV0pIHtcclxuICAgICAgICAgICAgIHRyZW5kc0RhdGFbZGF5TmFtZV0udGVsZWZvbnkrK1xyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSlcclxuICAgICAgIH1cclxuXHJcbiAgICAgICAvLyBHcnVwdWogem1pYW55IGtsaWVudMOzdyB3ZWTFgnVnIGRuaVxyXG4gICAgICAgaWYgKGNsaWVudENoYW5nZXMgJiYgQXJyYXkuaXNBcnJheShjbGllbnRDaGFuZ2VzKSkge1xyXG4gICAgICAgICBjbGllbnRDaGFuZ2VzLmZvckVhY2goKGNoYW5nZTogYW55KSA9PiB7XHJcbiAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNoYW5nZS51cGRhdGVkX2F0KVxyXG4gICAgICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgICAgIGlmICh0cmVuZHNEYXRhW2RheU5hbWVdKSB7XHJcbiAgICAgICAgICAgICB0cmVuZHNEYXRhW2RheU5hbWVdLmtsaWVuY2krK1xyXG4gICAgICAgICAgICAgaWYgKGNoYW5nZS5zdGF0dXMgPT09ICdzYWxlJykge1xyXG4gICAgICAgICAgICAgICB0cmVuZHNEYXRhW2RheU5hbWVdLnNhbGVzKytcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXHJcbiAgICAgICB9XHJcblxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdSAob3N0YXRuaWUgNyBkbmkgdyBrb2xlam5vxZtjaSlcclxuICAgICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIGNvbnN0IGRheURhdGEgPSB0cmVuZHNEYXRhW2RheU5hbWVdXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gT2JsaWN6IGtvbndlcnNqxJkgKHByb2NlbnQgc2FsZXMgd3pnbMSZZGVtIHdzenlzdGtpY2gga2xpZW50w7N3KVxyXG4gICAgICAgIGNvbnN0IGtvbndlcnNqYSA9IGRheURhdGEua2xpZW5jaSA+IDAgPyBNYXRoLnJvdW5kKChkYXlEYXRhLnNhbGVzIC8gZGF5RGF0YS5rbGllbmNpKSAqIDEwMCkgOiAwXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxyXG4gICAgICAgICAgdGVsZWZvbnk6IGRheURhdGEudGVsZWZvbnksXHJcbiAgICAgICAgICBrb253ZXJzamE6IGtvbndlcnNqYSxcclxuICAgICAgICAgIGtsaWVuY2k6IGRheURhdGEua2xpZW5jaVxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVHJlbmR5IHd5ZGFqbm/Fm2NpIHplc3BvxYJ1IHByenlnb3Rvd2FuZTonLCByZXN1bHQpXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdHJlbmTDs3cgd3lkYWpub8WbY2kgemVzcG/FgnU6JywgZXJyb3IpXHJcbiAgICAgIC8vIFcgcHJ6eXBhZGt1IGLFgsSZZHUgendyw7PEhyBwdXN0ZSBkYW5lIGRsYSBvc3RhdG5pY2ggNyBkbmlcclxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxyXG4gICAgICAgICAgdGVsZWZvbnk6IDAsXHJcbiAgICAgICAgICBrb253ZXJzamE6IDAsXHJcbiAgICAgICAgICBrbGllbmNpOiAwXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gQVBJIGRsYSBzdGF0eXN0eWsgb3NvYmlzdHljaCBwcmFjb3duaWthXHJcbiAgYXN5bmMgZ2V0TXlQZXJzb25hbFN0YXRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPHtcclxuICAgIHBob25lQ2FsbHNUaGlzTW9udGg6IG51bWJlcixcclxuICAgIGNsaWVudFN0YXRzOiB7IHN0YXR1czogc3RyaW5nLCBjb3VudDogbnVtYmVyLCBjb2xvcjogc3RyaW5nIH1bXSxcclxuICAgIHRvdGFsQ2xpZW50czogbnVtYmVyLFxyXG4gICAgY29tbWlzc2lvblRvdGFsOiBudW1iZXIsXHJcbiAgICB3b3JraW5nSG91cnNUaGlzTW9udGg6IHsgZGF5OiBzdHJpbmcsIGhvdXJzOiBudW1iZXIgfVtdLFxyXG4gICAgdG90YWxXb3JraW5nSG91cnM6IG51bWJlcixcclxuICAgIHRvdGFsV29ya2luZ0RheXM6IG51bWJlclxyXG4gIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgb3NvYmlzdHljaCBzdGF0eXN0eWsgcHJhY293bmlrYTonLCB1c2VyLmlkLCB1c2VyLnJvbGUpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgdG8gcHJhY293bmlrXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgIT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZWF1dG9yeXpvd2FuYSByb2xhOicsIHVzZXIucm9sZSlcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgVcW8eXRrb3duaWsgYXV0b3J5em93YW55IGpha28gcHJhY293bmlrJylcclxuXHJcbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBjb25zdCBjdXJyZW50TW9udGggPSBjdXJyZW50RGF0ZS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDcpIC8vIFlZWVktTU1cclxuICAgICAgXHJcbiAgICAgIC8vIFVzdGF3IHBpZXJ3c3p5IGkgb3N0YXRuaSBkemllxYQgbWllc2nEhWNhIHByYXdpZMWCb3dvXHJcbiAgICAgIGNvbnN0IHN0YXJ0T2ZNb250aCA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLmdldE1vbnRoKCksIDEpXHJcbiAgICAgIGNvbnN0IGVuZE9mTW9udGggPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpICsgMSwgMCwgMjMsIDU5LCA1OSlcclxuICAgICAgXHJcbiAgICAgIC8vIDEuIFBvYmllcnogbGljemLEmSB0ZWxlZm9uw7N3IHcgdHltIG1pZXNpxIVjdSAoa2xpa25pxJljaWEgdGVsZWZvbnUpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogcGhvbmVDbGlja3MsIGVycm9yOiBwaG9uZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgdGltZXN0YW1wJylcclxuICAgICAgICAuZXEoJ2NoYW5nZWRfYnknLCB1c2VyLmlkKVxyXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcclxuICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBzdGFydE9mTW9udGgudG9JU09TdHJpbmcoKSlcclxuICAgICAgICAubHRlKCd0aW1lc3RhbXAnLCBlbmRPZk1vbnRoLnRvSVNPU3RyaW5nKCkpXHJcblxyXG4gICAgICBpZiAocGhvbmVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGlrbmnEmcSHIHRlbGVmb251OicsIHBob25lRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgcGhvbmVFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBwaG9uZUNhbGxzVGhpc01vbnRoID0gcGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OeIFpuYWxlemlvbm8gJHtwaG9uZUNhbGxzVGhpc01vbnRofSBrbGlrbmnEmcSHIHRlbGVmb251IHcgdHltIG1pZXNpxIVjdWApXHJcblxyXG4gICAgICAvLyAyLiBQb2JpZXJ6IGtsaWVudMOzdyBwcnp5cGlzYW55Y2ggZG8gcHJhY293bmlrYVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBQb2JpZXJhbmllIGtsaWVudMOzdyBwcnp5cGlzYW55Y2ggZG8gcHJhY293bmlrYS4uLicpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogbXlDbGllbnRzLCBlcnJvcjogY2xpZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgc3RhdHVzLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUsIGNvbXBhbnlfbmFtZScpXHJcbiAgICAgICAgLmVxKCdvd25lcl9pZCcsIHVzZXIuaWQpXHJcblxyXG4gICAgICBpZiAoY2xpZW50c0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWVudMOzdzonLCBjbGllbnRzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgY2xpZW50c0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNsaWVudHMgPSBteUNsaWVudHMgfHwgW11cclxuICAgICAgY29uc3QgdG90YWxDbGllbnRzID0gY2xpZW50cy5sZW5ndGhcclxuICAgICAgY29uc29sZS5sb2coYPCfkaQgUHJhY293bmlrIG1hICR7dG90YWxDbGllbnRzfSBwcnp5cGlzYW55Y2gga2xpZW50w7N3YClcclxuXHJcbiAgICAgIC8vIDMuIEFncmVndWogc3RhdHVzeSBrbGllbnTDs3dcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogQWdyZWdvd2FuaWUgc3RhdHVzw7N3IGtsaWVudMOzdy4uLicpXHJcbiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcclxuICAgICAgY2xpZW50cy5mb3JFYWNoKGNsaWVudCA9PiB7XHJcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gY2xpZW50LnN0YXR1c1xyXG4gICAgICAgIHN0YXR1c01hcC5zZXQoc3RhdHVzLCAoc3RhdHVzTWFwLmdldChzdGF0dXMpIHx8IDApICsgMSlcclxuICAgICAgfSlcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ggU3RhdHVzeSBrbGllbnTDs3c6JywgT2JqZWN0LmZyb21FbnRyaWVzKHN0YXR1c01hcCkpXHJcblxyXG4gICAgICAvLyBNYXB1aiBzdGF0dXN5IG5hIGtvbG9yeVxyXG4gICAgICBjb25zdCBzdGF0dXNDb2xvcnM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgICAgICAgY2FudmFzOiAnIzA2YjZkNCcsXHJcbiAgICAgICAgc2FsZTogJyMxMGI5ODEnLFxyXG4gICAgICAgIGFudHlzYWxlOiAnI2Y1OWUwYicsXHJcbiAgICAgICAgYnJha19rb250YWt0dTogJyM2YjcyODAnLFxyXG4gICAgICAgIG5pZV96YWludGVyZXNvd2FueTogJyNlZjQ0NDQnLFxyXG4gICAgICAgIHpkZW5lcndvd2FueTogJyNkYzI2MjYnLFxyXG4gICAgICAgICckJCc6ICcjZmJiZjI0J1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjbGllbnRTdGF0cyA9IEFycmF5LmZyb20oc3RhdHVzTWFwLmVudHJpZXMoKSkubWFwKChbc3RhdHVzLCBjb3VudF0pID0+ICh7XHJcbiAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgIGNvdW50LFxyXG4gICAgICAgIGNvbG9yOiBzdGF0dXNDb2xvcnNbc3RhdHVzXSB8fCAnIzY0NzQ4YidcclxuICAgICAgfSkpXHJcblxyXG4gICAgICAvLyA0LiBQb2JpZXJ6IHByb3dpemrEmSB6IHRhYmVsaSBlbXBsb3llZV9zdGF0c1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+SsCBQb2JpZXJhbmllIHByb3dpemppIHogdGFiZWxpIGVtcGxveWVlX3N0YXRzLi4uJylcclxuICAgICAgbGV0IGNvbW1pc3Npb25Ub3RhbCA9IDAgLy8gdyBFVVJcclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBlbXBsb3llZVN0YXRzLCBlcnJvcjogc3RhdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCd0b3RhbF9jb21taXNzaW9ucycpXHJcbiAgICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICAgIGlmIChzdGF0c0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgem5hbGV6aW9ubyBzdGF0eXN0eWsgcHJhY293bmlrYSwgcHJvd2l6amEgPSAwOicsIHN0YXRzRXJyb3IpXHJcbiAgICAgICAgICBjb21taXNzaW9uVG90YWwgPSAwXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIHRvdGFsX2NvbW1pc3Npb25zIGp1xbwgamVzdCB3IEVVUiAtIHXFvHl3YWogYmV6cG/Fm3JlZG5pb1xyXG4gICAgICAgICAgY29tbWlzc2lvblRvdGFsID0gZW1wbG95ZWVTdGF0cy50b3RhbF9jb21taXNzaW9ucyB8fCAwXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+SsCBQcm93aXpqYSBwb2JyYW5hIHogYmF6eTogJHtjb21taXNzaW9uVG90YWx9IEVVUmApXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBwcm93aXpqaSB6IGVtcGxveWVlX3N0YXRzOicsIGVycm9yKVxyXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCA9IDBcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gNS4gUG9iaWVyeiBnb2R6aW55IHByYWN5IHogdGVnbyBtaWVzacSFY2EgbmEgcG9kc3Rhd2llIGFjdGl2aXR5X2xvZ3NcclxuICAgICAgY29uc29sZS5sb2coJ+KPsCBQb2JpZXJhbmllIGFrdHl3bm/Fm2NpIHogdGVnbyBtaWVzacSFY2EuLi4nKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+ThSBaYWtyZXMgZGF0OiAke3N0YXJ0T2ZNb250aC50b0lTT1N0cmluZygpfSAtICR7ZW5kT2ZNb250aC50b0lTT1N0cmluZygpfWApXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYWN0aXZpdGllcywgZXJyb3I6IGFjdGl2aXRpZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgndGltZXN0YW1wJylcclxuICAgICAgICAuZXEoJ2NoYW5nZWRfYnknLCB1c2VyLmlkKVxyXG4gICAgICAgIC5ndGUoJ3RpbWVzdGFtcCcsIHN0YXJ0T2ZNb250aC50b0lTT1N0cmluZygpKVxyXG4gICAgICAgIC5sdGUoJ3RpbWVzdGFtcCcsIGVuZE9mTW9udGgudG9JU09TdHJpbmcoKSlcclxuICAgICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAoYWN0aXZpdGllc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGFrdHl3bm/Fm2NpOicsIGFjdGl2aXRpZXNFcnJvcilcclxuICAgICAgICB0aHJvdyBhY3Rpdml0aWVzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKPsCBabmFsZXppb25vICR7YWN0aXZpdGllcz8ubGVuZ3RoIHx8IDB9IGFrdHl3bm/Fm2NpIHcgdHltIG1pZXNpxIVjdWApXHJcblxyXG4gICAgICAvLyBHcnVwdWogYWt0eXdub8WbY2kgd2VkxYJ1ZyBkbmkgaSBvYmxpY3ogZ29kemlueSBwcmFjeVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+ThSBHcnVwb3dhbmllIGFrdHl3bm/Fm2NpIHdlZMWCdWcgZG5pLi4uJylcclxuICAgICAgY29uc3QgZGFpbHlBY3Rpdml0aWVzID0gbmV3IE1hcDxzdHJpbmcsIFNldDxudW1iZXI+PigpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoYWN0aXZpdGllcyAmJiBhY3Rpdml0aWVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBhY3Rpdml0aWVzLmZvckVhY2goYWN0aXZpdHkgPT4ge1xyXG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGFjdGl2aXR5LnRpbWVzdGFtcClcclxuICAgICAgICAgIGNvbnN0IGRheSA9IGRhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIC8vIFlZWVktTU0tRERcclxuICAgICAgICAgIGNvbnN0IGhvdXIgPSBkYXRlLmdldEhvdXJzKClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCFkYWlseUFjdGl2aXRpZXMuaGFzKGRheSkpIHtcclxuICAgICAgICAgICAgZGFpbHlBY3Rpdml0aWVzLnNldChkYXksIG5ldyBTZXQoKSlcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGRhaWx5QWN0aXZpdGllcy5nZXQoZGF5KSEuYWRkKGhvdXIpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBuYSBmb3JtYXQgZGxhIHd5a3Jlc3VcclxuICAgICAgY29uc3Qgd29ya2luZ0hvdXJzVGhpc01vbnRoID0gQXJyYXkuZnJvbShkYWlseUFjdGl2aXRpZXMuZW50cmllcygpKVxyXG4gICAgICAgIC5tYXAoKFtkYXksIGhvdXJzXSkgPT4gKHtcclxuICAgICAgICAgIGRheTogbmV3IERhdGUoZGF5KS50b0xvY2FsZURhdGVTdHJpbmcoJ3BsLVBMJywgeyB3ZWVrZGF5OiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJyB9KSxcclxuICAgICAgICAgIGhvdXJzOiBob3Vycy5zaXplLFxyXG4gICAgICAgICAgc29ydERhdGU6IG5ldyBEYXRlKGRheSkgLy8gRG9kYWogcG9sZSBkbyBzb3J0b3dhbmlhXHJcbiAgICAgICAgfSkpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuc29ydERhdGUuZ2V0VGltZSgpIC0gYi5zb3J0RGF0ZS5nZXRUaW1lKCkpXHJcbiAgICAgICAgLm1hcCgoeyBkYXksIGhvdXJzIH0pID0+ICh7IGRheSwgaG91cnMgfSkpIC8vIFVzdcWEIHBvbGUgc29ydERhdGUgeiB3eW5pa293eWNoIGRhbnljaFxyXG5cclxuICAgICAgY29uc3QgdG90YWxXb3JraW5nSG91cnMgPSBBcnJheS5mcm9tKGRhaWx5QWN0aXZpdGllcy52YWx1ZXMoKSlcclxuICAgICAgICAucmVkdWNlKChzdW0sIGhvdXJzKSA9PiBzdW0gKyBob3Vycy5zaXplLCAwKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgdG90YWxXb3JraW5nRGF5cyA9IGRhaWx5QWN0aXZpdGllcy5zaXplXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFN0YXR5c3R5a2kgb3NvYmlzdGUgcHJ6eWdvdG93YW5lOicsIHtcclxuICAgICAgICBwaG9uZUNhbGxzVGhpc01vbnRoLFxyXG4gICAgICAgIHRvdGFsQ2xpZW50cyxcclxuICAgICAgICBjb21taXNzaW9uVG90YWwsXHJcbiAgICAgICAgdG90YWxXb3JraW5nSG91cnMsXHJcbiAgICAgICAgdG90YWxXb3JraW5nRGF5c1xyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBwaG9uZUNhbGxzVGhpc01vbnRoLFxyXG4gICAgICAgIGNsaWVudFN0YXRzLFxyXG4gICAgICAgIHRvdGFsQ2xpZW50cyxcclxuICAgICAgICBjb21taXNzaW9uVG90YWwsXHJcbiAgICAgICAgd29ya2luZ0hvdXJzVGhpc01vbnRoLFxyXG4gICAgICAgIHRvdGFsV29ya2luZ0hvdXJzLFxyXG4gICAgICAgIHRvdGFsV29ya2luZ0RheXNcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBvc29iaXN0eWNoIHN0YXR5c3R5azonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIFN6Y3plZ8OzxYJvd2UgaW5mb3JtYWNqZSBvIGLFgsSZZHppZVxyXG4gICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ/Cfk4sgU3pjemVnw7PFgnkgYsWCxJlkdTonLCB7XHJcbiAgICAgICAgICBtZXNzYWdlOiAoZXJyb3IgYXMgYW55KS5tZXNzYWdlLFxyXG4gICAgICAgICAgY29kZTogKGVycm9yIGFzIGFueSkuY29kZSxcclxuICAgICAgICAgIGRldGFpbHM6IChlcnJvciBhcyBhbnkpLmRldGFpbHMsXHJcbiAgICAgICAgICBoaW50OiAoZXJyb3IgYXMgYW55KS5oaW50LFxyXG4gICAgICAgICAgc3RhY2s6IChlcnJvciBhcyBhbnkpLnN0YWNrXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gSmXFm2xpIHRvIGLFgsSFZCBSTFMgbHViIHVwcmF3bmllxYQsIHp3csOzxIcgcHVzdMSFIHN0cnVrdHVyxJkgemFtaWFzdCBjcmFzaG93YcSHXHJcbiAgICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnICYmIFxyXG4gICAgICAgICAgKChlcnJvciBhcyBhbnkpLmNvZGUgPT09ICdQR1JTVDExNicgfHwgXHJcbiAgICAgICAgICAgKGVycm9yIGFzIGFueSkubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpIHx8IFxyXG4gICAgICAgICAgIChlcnJvciBhcyBhbnkpLm1lc3NhZ2U/LmluY2x1ZGVzKCdwZXJtaXNzaW9uJykpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfwn5SSIFByb2JsZW0geiB1cHJhd25pZW5pYW1pIC0gendyYWNhbSBkb215xZtsbmUgZGFuZScpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGg6IDAsXHJcbiAgICAgICAgICBjbGllbnRTdGF0czogW10sXHJcbiAgICAgICAgICB0b3RhbENsaWVudHM6IDAsXHJcbiAgICAgICAgICBjb21taXNzaW9uVG90YWw6IDAsXHJcbiAgICAgICAgICB3b3JraW5nSG91cnNUaGlzTW9udGg6IFtdLFxyXG4gICAgICAgICAgdG90YWxXb3JraW5nSG91cnM6IDAsXHJcbiAgICAgICAgICB0b3RhbFdvcmtpbmdEYXlzOiAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEZ1bmtjamUgZG8gemFyesSFZHphbmlhIGdvZHppbmFtaSBwcmFjeSBwcmFjb3duaWthXHJcbiAgYXN5bmMgc2F2ZVdvcmtpbmdIb3Vycyh1c2VyOiBVc2VyLCBkYXRlOiBzdHJpbmcsIGhvdXJzOiBudW1iZXIpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDij7AgWmFwaXN5d2FuaWUgZ29kemluIHByYWN5OiAke2hvdXJzfWggZGxhIGRuaWEgJHtkYXRlfWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgdG8gcHJhY293bmlrXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgIT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEb3N0xJlwIHR5bGtvIGRsYSBwcmFjb3duaWvDs3cnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBFTkhBTkNFRCBERUJVRzogU3ByYXdkxbogY3p5IHRvIGR6aWXFhCByb2JvY3p5IChwb24tcHQpIC0gYmV6cGllY3puZSBwYXJzb3dhbmllIGRhdHlcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gREVCVUc6IElucHV0IGRhdGUgc3RyaW5nOiBcIiR7ZGF0ZX1cImApXHJcbiAgICAgIGNvbnN0IGRhdGVQYXJ0cyA9IGRhdGUuc3BsaXQoJy0nKSAvLyBcIjIwMjUtMDYtMDJcIiAtPiBbXCIyMDI1XCIsIFwiMDZcIiwgXCIwMlwiXVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBERUJVRzogRGF0ZSBwYXJ0czpgLCBkYXRlUGFydHMpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQoZGF0ZVBhcnRzWzBdKVxyXG4gICAgICBjb25zdCBtb250aCA9IHBhcnNlSW50KGRhdGVQYXJ0c1sxXSkgLSAxIC8vIC0xIGJvIEphdmFTY3JpcHQgdcW8eXdhIDAtMTEgZGxhIG1pZXNpxJljeVxyXG4gICAgICBjb25zdCBkYXkgPSBwYXJzZUludChkYXRlUGFydHNbMl0pXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBERUJVRzogUGFyc2VkIGNvbXBvbmVudHM6IHllYXI9JHt5ZWFyfSwgbW9udGg9JHttb250aH0gKEpTIGZvcm1hdCksIGRheT0ke2RheX1gKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgZGF0ZU9iaiA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpXHJcbiAgICAgIGNvbnN0IGRheU9mV2VlayA9IGRhdGVPYmouZ2V0RGF5KClcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIERFQlVHOiBDcmVhdGVkIERhdGUgb2JqZWN0OiAke2RhdGVPYmoudG9JU09TdHJpbmcoKX1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBERUJVRzogRGF0ZSBpbiBsb2NhbCBmb3JtYXQ6ICR7ZGF0ZU9iai50b0xvY2FsZURhdGVTdHJpbmcoJ3BsLVBMJywgeyB3ZWVrZGF5OiAnbG9uZycsIHllYXI6ICdudW1lcmljJywgbW9udGg6ICdsb25nJywgZGF5OiAnbnVtZXJpYycgfSl9YClcclxuICAgICAgY29uc29sZS5sb2coYPCfl5PvuI8gU3ByYXdkemFuaWUgZG5pYSByb2JvY3plZ286ICR7ZGF0ZX0gPT4gZGF5T2ZXZWVrPSR7ZGF5T2ZXZWVrfSAoJHtbJ25pZWR6aWVsYScsICdwb25pZWR6aWHFgmVrJywgJ3d0b3JlaycsICfFm3JvZGEnLCAnY3p3YXJ0ZWsnLCAncGnEhXRlaycsICdzb2JvdGEnXVtkYXlPZldlZWtdfSlgKVxyXG4gICAgICBcclxuICAgICAgaWYgKGRheU9mV2VlayA9PT0gMCB8fCBkYXlPZldlZWsgPT09IDYpIHsgLy8gMCA9IG5pZWR6aWVsYSwgNiA9IHNvYm90YVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYHEhEQ6IFByw7NiYSB6YXBpc2FuaWEgZ29kemluIGRsYSB3ZWVrZW5kdSEgRHppZcWEIHR5Z29kbmlhOiAke2RheU9mV2Vla30gKCR7WyduaWVkemllbGEnLCAncG9uaWVkemlhxYJlaycsICd3dG9yZWsnLCAnxZtyb2RhJywgJ2N6d2FydGVrJywgJ3BpxIV0ZWsnLCAnc29ib3RhJ11bZGF5T2ZXZWVrXX0pYClcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vxbxuYSB3cGlzeXdhxIcgZ29kemlueSB0eWxrbyBkbGEgZG5pIHJvYm9jenljaCAocG9uLXB0KScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgRHppZcWEIHJvYm9jenkgcG90d2llcmR6b255OiAke1snbmllZHppZWxhJywgJ3BvbmllZHppYcWCZWsnLCAnd3RvcmVrJywgJ8Wbcm9kYScsICdjendhcnRlaycsICdwacSFdGVrJywgJ3NvYm90YSddW2RheU9mV2Vla119YClcclxuXHJcbiAgICAgIC8vIFdhbGlkYWNqYSBnb2R6aW4gKDAtMTIpXHJcbiAgICAgIGlmIChob3VycyA8IDAgfHwgaG91cnMgPiAxMikge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTGljemJhIGdvZHppbiBtdXNpIGJ5xIcgbWnEmWR6eSAwIGEgMTInKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBVcHNlcnQgZ29kemluIHByYWN5IHcgYmF6aWUgZGFueWNoICh0YWJlbGEganXFvCBpc3RuaWVqZSlcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnd29ya2luZ19ob3VycycpXHJcbiAgICAgICAgLnVwc2VydCh7XHJcbiAgICAgICAgICB1c2VyX2lkOiB1c2VyLmlkLFxyXG4gICAgICAgICAgd29ya19kYXRlOiBkYXRlLFxyXG4gICAgICAgICAgaG91cnNfd29ya2VkOiBob3VycyxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIG9uQ29uZmxpY3Q6ICd1c2VyX2lkLHdvcmtfZGF0ZSdcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB6YXBpc3l3YW5pYSBnb2R6aW4gcHJhY3kgZG8gYmF6eTonLCBlcnJvcilcclxuICAgICAgICBcclxuICAgICAgICAvLyBGYWxsYmFjayBkbyBsb2NhbFN0b3JhZ2UgdHlsa28gcHJ6eSBixYLEmWR6aWUgYmF6eSBkYW55Y2hcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgYmF6eSBkYW55Y2ggLSB1xbx5d2FtIGxvY2FsU3RvcmFnZSBqYWtvIGZhbGxiYWNrJylcclxuICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHdvcmtpbmdfaG91cnNfJHt1c2VyLmlkfWBcclxuICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXHJcbiAgICAgICAgZXhpc3RpbmdEYXRhW2RhdGVdID0gaG91cnNcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShleGlzdGluZ0RhdGEpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFwaXNhbm8gJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX0gKGxvY2FsU3RvcmFnZSBmYWxsYmFjaylgKVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFphcGlzYW5vICR7aG91cnN9aCBkbGEgZG5pYSAke2RhdGV9IChiYXphIGRhbnljaCB3b3JraW5nX2hvdXJzKWApXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgc2F2ZVdvcmtpbmdIb3VyczonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIFVsdGltYXRlIGZhbGxiYWNrIC0gbG9jYWxTdG9yYWdlXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBvc3RhdGVjem55IGZhbGxiYWNrJylcclxuICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHdvcmtpbmdfaG91cnNfJHt1c2VyLmlkfWBcclxuICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXHJcbiAgICAgICAgZXhpc3RpbmdEYXRhW2RhdGVdID0gaG91cnNcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShzdG9yYWdlS2V5LCBKU09OLnN0cmluZ2lmeShleGlzdGluZ0RhdGEpKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFwaXNhbm8gJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX0gKGxvY2FsU3RvcmFnZSB1bHRpbWF0ZSBmYWxsYmFjaylgKVxyXG4gICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllIHVkYcWCbyBzacSZIHphcGlzYcSHIG5hd2V0IGRvIGxvY2FsU3RvcmFnZTonLCBzdG9yYWdlRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIGdldFdvcmtpbmdIb3Vyc0Zvck1vbnRoKHVzZXI6IFVzZXIsIHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcik6IFByb21pc2U8UmVjb3JkPHN0cmluZywgbnVtYmVyPj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYOKPsCBQb2JpZXJhbmllIGdvZHppbiBwcmFjeSBkbGEgJHt5ZWFyfS0ke21vbnRofWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgdG8gcHJhY293bmlrXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgIT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEb3N0xJlwIHR5bGtvIGRsYSBwcmFjb3duaWvDs3cnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPYmxpY3ogcGllcndzenkgaSBvc3RhdG5pIGR6aWXFhCBtaWVzacSFY2EgKHBvcHJhd2thIHN0cmVmeSBjemFzb3dlailcclxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gYCR7eWVhcn0tJHttb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LTAxYFxyXG4gICAgICBjb25zdCBlbmREYXRlID0gYCR7eWVhcn0tJHttb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LSR7bmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YFxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4UgUG9iaWVyYW5pZSBnb2R6aW4gZGxhIHpha3Jlc3U6ICR7c3RhcnREYXRlfSAtICR7ZW5kRGF0ZX1gKVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiBnb2R6aW55IHByYWN5IHogdGFiZWxpIHdvcmtpbmdfaG91cnMgKHRhYmVsYSBqdcW8IGlzdG5pZWplKVxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd3b3JraW5nX2hvdXJzJylcclxuICAgICAgICAuc2VsZWN0KCd3b3JrX2RhdGUsIGhvdXJzX3dvcmtlZCcpXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAuZ3RlKCd3b3JrX2RhdGUnLCBzdGFydERhdGUpXHJcbiAgICAgICAgLmx0ZSgnd29ya19kYXRlJywgZW5kRGF0ZSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBnb2R6aW4gcHJhY3kgeiBiYXp5OicsIGVycm9yKVxyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBiYXp5IGRhbnljaCAtIHXFvHl3YW0gbG9jYWxTdG9yYWdlIGpha28gZmFsbGJhY2snKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZhbGxiYWNrIGRvIGxvY2FsU3RvcmFnZSB0eWxrbyBwcnp5IGLFgsSZZHppZSBiYXp5IGRhbnljaFxyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmlsdHJ1aiBkYW5lIGRsYSBvZHBvd2llZG5pZWdvIG1pZXNpxIVjYVxyXG4gICAgICAgIGNvbnN0IGhvdXJzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cclxuICAgICAgICBPYmplY3QuZW50cmllcyhzdG9yZWREYXRhKS5mb3JFYWNoKChbZGF0ZSwgaG91cnNdKSA9PiB7XHJcbiAgICAgICAgICAvLyBVxbx5aiBwb3LDs3duYW5pYSBzdHJpbmfDs3cgZGxhIGRhdCB3IGZvcm1hY2llIFlZWVktTU0tRERcclxuICAgICAgICAgIGlmIChkYXRlID49IHN0YXJ0RGF0ZSAmJiBkYXRlIDw9IGVuZERhdGUpIHtcclxuICAgICAgICAgICAgaG91cnNNYXBbZGF0ZV0gPSBob3VycyBhcyBudW1iZXJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyBnb2R6aW55IHByYWN5IHogbG9jYWxTdG9yYWdlIGZhbGxiYWNrIGRsYSAke09iamVjdC5rZXlzKGhvdXJzTWFwKS5sZW5ndGh9IGRuaWApXHJcbiAgICAgICAgcmV0dXJuIGhvdXJzTWFwXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtvbndlcnR1aiBuYSBvYmlla3QgZGF0ZSAtPiBob3Vyc1xyXG4gICAgICBjb25zdCBob3Vyc01hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XHJcbiAgICAgIGlmIChkYXRhKSB7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGVudHJ5ID0+IHtcclxuICAgICAgICAgIGhvdXJzTWFwW2VudHJ5LndvcmtfZGF0ZV0gPSBlbnRyeS5ob3Vyc193b3JrZWRcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gZ29kemlueSBwcmFjeSB6IHRhYmVsaSB3b3JraW5nX2hvdXJzIGRsYSAke2RhdGE/Lmxlbmd0aCB8fCAwfSBkbmlgKVxyXG4gICAgICByZXR1cm4gaG91cnNNYXBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXRXb3JraW5nSG91cnNGb3JNb250aDonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIFVsdGltYXRlIGZhbGxiYWNrIC0gbG9jYWxTdG9yYWdlXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBvc3RhdGVjem55IGZhbGxiYWNrJylcclxuICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHdvcmtpbmdfaG91cnNfJHt1c2VyLmlkfWBcclxuICAgICAgICBjb25zdCBzdG9yZWREYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KSB8fCAne30nKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbHRydWogZGFuZSBkbGEgb2Rwb3dpZWRuaWVnbyBtaWVzacSFY2FcclxuICAgICAgICBjb25zdCBzdGFydERhdGVTdHIgPSBgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tMDFgXHJcbiAgICAgICAgY29uc3QgZW5kRGF0ZVN0ciA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke25ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWBcclxuICAgICAgICBjb25zdCBob3Vyc01hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XHJcbiAgICAgICAgXHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoc3RvcmVkRGF0YSkuZm9yRWFjaCgoW2RhdGUsIGhvdXJzXSkgPT4ge1xyXG4gICAgICAgICAgLy8gVcW8eWogcG9yw7N3bmFuaWEgc3RyaW5nw7N3IGRsYSBkYXQgdyBmb3JtYWNpZSBZWVlZLU1NLUREXHJcbiAgICAgICAgICBpZiAoZGF0ZSA+PSBzdGFydERhdGVTdHIgJiYgZGF0ZSA8PSBlbmREYXRlU3RyKSB7XHJcbiAgICAgICAgICAgIGhvdXJzTWFwW2RhdGVdID0gaG91cnMgYXMgbnVtYmVyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gZ29kemlueSBwcmFjeSB6IGxvY2FsU3RvcmFnZSB1bHRpbWF0ZSBmYWxsYmFjayBkbGEgJHtPYmplY3Qua2V5cyhob3Vyc01hcCkubGVuZ3RofSBkbmlgKVxyXG4gICAgICAgIHJldHVybiBob3Vyc01hcFxyXG4gICAgICB9IGNhdGNoIChzdG9yYWdlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgbmF3ZXQgeiBsb2NhbFN0b3JhZ2U6Jywgc3RvcmFnZUVycm9yKVxyXG4gICAgICAgIHJldHVybiB7fVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8g8J+agCBOT1dFIEZVTktDSkUgUEVSRk9STUFOQ0UgLSBNYXRlcmlhbGl6b3dhbmUgV2lkb2tpXHJcblxyXG4gIC8vIFphc3TEmXB1amUgY2nEmcW8a2llIEpPSU4neSAtIHRlcmF6IG5hdHljaG1pYXN0b3dlIMWCYWRvd2FuaWVcclxuICBhc3luYyBnZXRNb250aGx5RW1wbG95ZWVQZXJmb3JtYW5jZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFBvYmllcmFuaWUgd3lkYWpub8WbY2kgcHJhY293bmlrw7N3IGRsYSAke3llYXJ9LSR7bW9udGh9ICh6b3B0eW1hbGl6b3dhbmUpLi4uYClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X21vbnRobHlfZW1wbG95ZWVfcGVyZm9ybWFuY2UnLCB7XHJcbiAgICAgICAgdGFyZ2V0X3llYXI6IHllYXIsXHJcbiAgICAgICAgdGFyZ2V0X21vbnRoOiBtb250aFxyXG4gICAgICB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHd5ZGFqbm/Fm2NpIHByYWNvd25pa8OzdzonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFd5ZGFqbm/Fm8SHIHByYWNvd25pa8OzdyBwb2JyYW5hOiAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWtvcmTDs3dgKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldE1vbnRobHlFbXBsb3llZVBlcmZvcm1hbmNlIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTenlia2llIHN0YXR5c3R5a2kgemVzcG/FgnUgbmEgcG9kc3Rhd2llIG1hdGVyaWFsaXpvd2FueWNoIHdpZG9rw7N3XHJcbiAgYXN5bmMgZ2V0VGVhbVN1bW1hcnkoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdtdl9tb250aGx5X2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAuZXEoJ3llYXInLCB5ZWFyKVxyXG4gICAgICAgIC5lcSgnbW9udGgnLCBtb250aClcclxuICAgICAgICAub3JkZXIoJ293bmVkX3NhbGVzJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRlYW1TdW1tYXJ5IGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQZXJmb3JtYW5jZSBhbmFseXRpY3MgLSB0b3AgcGVyZm9ybWVyc1xyXG4gIGFzeW5jIGdldFRvcFBlcmZvcm1lcnMobGltaXQ6IG51bWJlciA9IDEwKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF90b3BfcGVyZm9ybWVycycsIHtcclxuICAgICAgICBsaW1pdF9jb3VudDogbGltaXRcclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0VG9wUGVyZm9ybWVycyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBBUEkgZGxhIGxva2FsaXphY2ppL2tyYWrDs3dcclxuZXhwb3J0IGNvbnN0IGxvY2F0aW9uc0FwaSA9IHtcclxuICAvLyBQb2JpZXJ6IHdzenlzdGtpZSBsb2thbGl6YWNqZSAocG9kc3Rhd293ZSBpbmZvcm1hY2plIC0gZGxhIHJlamVzdHJhY2ppKVxyXG4gIGFzeW5jIGdldEFsbExvY2F0aW9ucygpOiBQcm9taXNlPExvY2F0aW9uW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2xvY2F0aW9ucycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIG5hbWUsXHJcbiAgICAgICAgICBjb2RlLFxyXG4gICAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgICB0aW1lem9uZSxcclxuICAgICAgICAgIHJlZ2lvbixcclxuICAgICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICB1cGRhdGVkX2F0XHJcbiAgICAgICAgYClcclxuICAgICAgICAub3JkZXIoJ25hbWUnKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGxva2FsaXphY2ppOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUG9icmFubyBsb2thbGl6YWNqZTonLCBkYXRhPy5sZW5ndGggfHwgMClcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgTG9jYXRpb25bXVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldEFsbExvY2F0aW9ucyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiB3c3p5c3RraWUgbG9rYWxpemFjamUgeiBwZcWCbnltaSBpbmZvcm1hY2phbWkgKGRsYSB6YWxvZ293YW55Y2ggdcW8eXRrb3duaWvDs3cpXHJcbiAgYXN5bmMgZ2V0QWxsTG9jYXRpb25zV2l0aE1hbmFnZXJzKCk6IFByb21pc2U8TG9jYXRpb25bXT4ge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xvY2F0aW9ucycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBjdXJyZW5jeSxcclxuICAgICAgICB0aW1lem9uZSxcclxuICAgICAgICByZWdpb24sXHJcbiAgICAgICAgcHJvamVjdF9tYW5hZ2VyX2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdCxcclxuICAgICAgICBwcm9qZWN0X21hbmFnZXI6dXNlcnMhcHJvamVjdF9tYW5hZ2VyX2lkIChcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBhdmF0YXJfdXJsXHJcbiAgICAgICAgKVxyXG4gICAgICBgKVxyXG4gICAgICAub3JkZXIoJ25hbWUnKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICBcclxuICAgIC8vIFByemVrc3p0YcWCxIcgZGFuZSAtIFN1cGFiYXNlIEpPSU4gendyYWNhIHByb2plY3RfbWFuYWdlciBqYWtvIHRhYmxpY8SZXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lZERhdGEgPSBkYXRhPy5tYXAoKGxvY2F0aW9uOiBhbnkpID0+ICh7XHJcbiAgICAgIC4uLmxvY2F0aW9uLFxyXG4gICAgICBwcm9qZWN0X21hbmFnZXI6IGxvY2F0aW9uLnByb2plY3RfbWFuYWdlciAmJiBBcnJheS5pc0FycmF5KGxvY2F0aW9uLnByb2plY3RfbWFuYWdlcikgJiYgbG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgPyBsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXJbMF0gLy8gV2XFuiBwaWVyd3N6eSBlbGVtZW50IHogdGFibGljeVxyXG4gICAgICAgIDogbG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyICYmICFBcnJheS5pc0FycmF5KGxvY2F0aW9uLnByb2plY3RfbWFuYWdlcilcclxuICAgICAgICA/IGxvY2F0aW9uLnByb2plY3RfbWFuYWdlciAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICA6IG51bGwgLy8gQnJhayBwcm9qZWN0IG1hbmFnZXJhXHJcbiAgICB9KSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkRGF0YSBhcyBMb2NhdGlvbltdXHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBkb3N0xJlwbmUgbG9rYWxpemFjamUgZGxhIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIGdldFVzZXJBY2Nlc3NpYmxlTG9jYXRpb25zKHVzZXJJZDogc3RyaW5nKTogUHJvbWlzZTxMb2NhdGlvbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBOYWpwaWVydyBzcHLDs2J1aiB1xbx5xIcgZnVua2NqaSBTUUwgKGplxZtsaSBpc3RuaWVqZSlcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAucnBjKCdnZXRfdXNlcl9hY2Nlc3NpYmxlX2xvY2F0aW9ucycsIHsgdXNlcl9pZDogdXNlcklkIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ/CflIQgRnVua2NqYSBTUUwgZ2V0X3VzZXJfYWNjZXNzaWJsZV9sb2NhdGlvbnMgbmllIGlzdG5pZWplLCB1xbx5d2FtIGZhbGxiYWNrIGxvZ2lraScpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgTG9jYXRpb25bXVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHd5d2/FgmFuaWEgZnVua2NqaSBTUUwsIHXFvHl3YW0gSmF2YVNjcmlwdCBmYWxsYmFjazonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIEZhbGxiYWNrIC0gaW1wbGVtZW50YWNqYSBsb2dpa2kgdyBKYXZhU2NyaXB0XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgLy8gUG9iaWVyeiB1xbx5dGtvd25pa2FcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHVzZXIsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgncm9sZSwgbG9jYXRpb25faWQnKVxyXG4gICAgICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh1c2VyRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgZGFueWNoIHXFvHl0a293bmlrYTonLCB1c2VyRXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMb2NhdGlvbnMoKSAvLyBGYWxsYmFjayAtIHp3csOzxIcgd3N6eXN0a2llXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNwcmF3ZMW6IHJvbMSZIHXFvHl0a293bmlrYVxyXG4gICAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdhZG1pbicgfHwgdXNlci5yb2xlID09PSAnc3plZicpIHtcclxuICAgICAgICAgIC8vIEFkbWluIGkgc3plZiB3aWR6xIUgd3N6eXN0a2llIGxva2FsaXphY2plXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+RkSBBZG1pbi9TemVmIC0gendyYWNhbSB3c3p5c3RraWUgbG9rYWxpemFjamUnKVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTG9jYXRpb25zKClcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gUG96b3N0YWxpIHdpZHrEhSB0eWxrbyBzd29qxIUgbG9rYWxpemFjasSZXHJcbiAgICAgICAgICBpZiAoIXVzZXIubG9jYXRpb25faWQpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVcW8eXRrb3duaWsgbmllIG1hIHByenlwaXNhbmVqIGxva2FsaXphY2ppJylcclxuICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIFp3eWvFgnkgdcW8eXRrb3duaWsgLSB6d3JhY2FtIGxva2FsaXphY2rEmTonLCB1c2VyLmxvY2F0aW9uX2lkKVxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiBsb2NhdGlvbiwgZXJyb3I6IGxvY2F0aW9uRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCdsb2NhdGlvbnMnKVxyXG4gICAgICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAgICAgLmVxKCdpZCcsIHVzZXIubG9jYXRpb25faWQpXHJcbiAgICAgICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAobG9jYXRpb25FcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllIG1vxbxuYSBwb2JyYcSHIGxva2FsaXphY2ppIHXFvHl0a293bmlrYTonLCBsb2NhdGlvbkVycm9yKVxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIFtsb2NhdGlvbiBhcyBMb2NhdGlvbl1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgIH0gY2F0Y2ggKGZhbGxiYWNrRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgRmFsbGJhY2sgbG9naWMgZmFpbGVkOicsIGZhbGxiYWNrRXJyb3IpXHJcbiAgICAgICAgLy8gT3N0YXRlY3pueSBmYWxsYmFjayAtIHdzenlzdGtpZSBsb2thbGl6YWNqZVxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldEFsbExvY2F0aW9ucygpXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGxva2FsaXphY2rEmSBwbyBJRFxyXG4gIGFzeW5jIGdldExvY2F0aW9uQnlJZChpZDogc3RyaW5nKTogUHJvbWlzZTxMb2NhdGlvbj4ge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xvY2F0aW9ucycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgIGlkLFxyXG4gICAgICAgIG5hbWUsXHJcbiAgICAgICAgY29kZSxcclxuICAgICAgICBjdXJyZW5jeSxcclxuICAgICAgICB0aW1lem9uZSxcclxuICAgICAgICByZWdpb24sXHJcbiAgICAgICAgcHJvamVjdF9tYW5hZ2VyX2lkLFxyXG4gICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgdXBkYXRlZF9hdCxcclxuICAgICAgICBwcm9qZWN0X21hbmFnZXI6dXNlcnMhcHJvamVjdF9tYW5hZ2VyX2lkIChcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBhdmF0YXJfdXJsXHJcbiAgICAgICAgKVxyXG4gICAgICBgKVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICBcclxuICAgIC8vIFByemVrc3p0YcWCxIcgZGFuZSAtIFN1cGFiYXNlIEpPSU4gendyYWNhIHByb2plY3RfbWFuYWdlciBqYWtvIHRhYmxpY8SZXHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lZERhdGEgPSB7XHJcbiAgICAgIC4uLmRhdGEsXHJcbiAgICAgIHByb2plY3RfbWFuYWdlcjogZGF0YS5wcm9qZWN0X21hbmFnZXIgJiYgQXJyYXkuaXNBcnJheShkYXRhLnByb2plY3RfbWFuYWdlcikgJiYgZGF0YS5wcm9qZWN0X21hbmFnZXIubGVuZ3RoID4gMCBcclxuICAgICAgICA/IGRhdGEucHJvamVjdF9tYW5hZ2VyWzBdIC8vIFdlxbogcGllcndzenkgZWxlbWVudCB6IHRhYmxpY3lcclxuICAgICAgICA6IGRhdGEucHJvamVjdF9tYW5hZ2VyICYmICFBcnJheS5pc0FycmF5KGRhdGEucHJvamVjdF9tYW5hZ2VyKVxyXG4gICAgICAgID8gZGF0YS5wcm9qZWN0X21hbmFnZXIgLy8gSnXFvCBqZXN0IHBvamVkeW5jenltIG9iaWVrdGVtXHJcbiAgICAgICAgOiBudWxsIC8vIEJyYWsgcHJvamVjdCBtYW5hZ2VyYVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJhbnNmb3JtZWREYXRhIGFzIExvY2F0aW9uXHJcbiAgfSxcclxuXHJcbiAgLy8gQWt0dWFsaXp1aiBwcm9qZWN0IG1hbmFnZXJhIGRsYSBsb2thbGl6YWNqaVxyXG4gIGFzeW5jIHVwZGF0ZUxvY2F0aW9uUHJvamVjdE1hbmFnZXIobG9jYXRpb25JZDogc3RyaW5nLCBwcm9qZWN0TWFuYWdlcklkOiBzdHJpbmcgfCBudWxsLCBjdXJyZW50VXNlcjogVXNlcik6IFByb21pc2U8TG9jYXRpb24+IHtcclxuICAgIGlmICghcGVybWlzc2lvbnNBcGkuY2FuQ2hhbmdlUm9sZXMoY3VycmVudFVzZXIpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEIGRvIHptaWFueSBwcm9qZWN0IG1hbmFnZXJhJylcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbG9jYXRpb25zJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgcHJvamVjdF9tYW5hZ2VyX2lkOiBwcm9qZWN0TWFuYWdlcklkLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgbG9jYXRpb25JZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YSBhcyBMb2NhdGlvblxyXG4gIH1cclxufVxyXG5cclxuLy8gRnVua2NqZSBhdXRvcnl6YWNqaVxyXG5leHBvcnQgY29uc3QgYXV0aEFwaSA9IHtcclxuICAvLyBaYWxvZ3VqIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIHNpZ25JbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25JbldpdGhQYXNzd29yZCh7XHJcbiAgICAgIGVtYWlsLFxyXG4gICAgICBwYXNzd29yZFxyXG4gICAgfSlcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8gWmFyZWplc3RydWogbm93ZWdvIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIHNpZ25VcChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nLCBmdWxsTmFtZTogc3RyaW5nLCBsb2NhdGlvbklkPzogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25VcCh7XHJcbiAgICAgIGVtYWlsLFxyXG4gICAgICBwYXNzd29yZCxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgIGZ1bGxfbmFtZTogZnVsbE5hbWUsXHJcbiAgICAgICAgICBsb2NhdGlvbl9pZDogbG9jYXRpb25JZFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8gV3lsb2d1aiB1xbx5dGtvd25pa2FcclxuICBhc3luYyBzaWduT3V0KCkge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KClcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgZ2V0Q3VycmVudFVzZXIoKSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgcmV0dXJuIHVzZXJcclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHByb2ZpbCB1xbx5dGtvd25pa2EgeiByb2zEhVxyXG4gIGFzeW5jIGdldFVzZXJQcm9maWxlKHVzZXJJZDogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhIGFzIFVzZXJcclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHdzenlzdGtpY2ggdcW8eXRrb3duaWvDs3cgKGRsYSBvcGNqaSBmaWx0cm93YW5pYSlcclxuICBhc3luYyBnZXRBbGxVc2VycygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzIFNUQVJUIC0gc3ByYXdkemFtIFJMUy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxyXG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpCBBa3R1YWxueSB1xbx5dGtvd25pazonLCB1c2VyPy5lbWFpbCwgdXNlcj8uaWQpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgZW1haWwsIHJvbGUsIGF2YXRhcl91cmwnKVxyXG4gICAgICAgIC5vcmRlcignZnVsbF9uYW1lJylcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzIC0gem5hbGV6aW9ubyB1xbx5dGtvd25pa8OzdzonLCBkYXRhPy5sZW5ndGggfHwgMClcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgZ2V0QWxsVXNlcnMgLSBixYLEhWQ6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgUkxTIEVycm9yIGluIGdldEFsbFVzZXJzOicsIGVycm9yKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNwcmF3ZMW6IGN6eSB0byBwcm9ibGVtIHogUkxTXHJcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdwZXJtaXNzaW9uJykpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflJIgUHJvYmxlbSB6IFJvdyBMZXZlbCBTZWN1cml0eSAtIHByYWNvd25payBuaWUgbW/FvGUgd2lkemllxIcgaW5ueWNoIHXFvHl0a293bmlrw7N3JylcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgUHJ6eWvFgmFkIHXFvHl0a293bmlrw7N3OicsIGRhdGEuc2xpY2UoMCwgMykubWFwKHUgPT4gKHtcclxuICAgICAgICAgIGlkOiB1LmlkLFxyXG4gICAgICAgICAgbmFtZTogdS5mdWxsX25hbWUsXHJcbiAgICAgICAgICByb2xlOiB1LnJvbGVcclxuICAgICAgICB9KSkpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgVVdBR0E6IEJyYWsgZGFueWNoIHXFvHl0a293bmlrw7N3IC0gbW/FvGUgUkxTIGJsb2t1amUgZG9zdMSZcCcpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhIGFzIFVzZXJbXVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldEFsbFVzZXJzIEZBSUxFRDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBzZXNqxJkgdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgZ2V0U2Vzc2lvbigpIHtcclxuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXHJcbiAgICByZXR1cm4gc2Vzc2lvblxyXG4gIH0sXHJcblxyXG4gIC8vIE5hc8WCdWNodWogem1pYW4gdyBhdXRvcnl6YWNqaVxyXG4gIG9uQXV0aFN0YXRlQ2hhbmdlKGNhbGxiYWNrOiAoZXZlbnQ6IHN0cmluZywgc2Vzc2lvbjogYW55KSA9PiB2b2lkKSB7XHJcbiAgICByZXR1cm4gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjaylcclxuICB9LFxyXG5cclxuICAvLyBaYWt0dWFsaXp1aiBqxJl6eWsgdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgdXBkYXRlVXNlckxhbmd1YWdlKHVzZXJJZDogc3RyaW5nLCBsYW5ndWFnZTogJ3BsJyB8ICdlbicgfCAnc2snKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAudXBkYXRlKHsgbGFuZ3VhZ2UgfSlcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YSBhcyBVc2VyXHJcbiAgfSxcclxuXHJcbiAgLy8gWmFrdHVhbGl6dWogcHJvZmlsIHXFvHl0a293bmlrYSAodyB0eW0gcm9sxJkpXHJcbiAgYXN5bmMgdXBkYXRlVXNlcih1c2VySWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxVc2VyPiwgY3VycmVudFVzZXI6IFVzZXIpOiBQcm9taXNlPFVzZXI+IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5GlIHVwZGF0ZVVzZXIgU1RBUlQgLSBha3R1YWxpemFjamEgdcW8eXRrb3duaWthOicsIHVzZXJJZCwgdXBkYXRlcylcclxuXHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYVxyXG4gICAgaWYgKCFwZXJtaXNzaW9uc0FwaS5jYW5DaGFuZ2VSb2xlcyhjdXJyZW50VXNlcikpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gZWR5Y2ppIHXFvHl0a293bmlrw7N3JylcclxuICAgIH1cclxuXHJcbiAgICAvLyBEb2RhdGtvd2Egd2VyeWZpa2FjamEgZGxhIHptaWFuIHLDs2xcclxuICAgIGlmICh1cGRhdGVzLnJvbGUpIHtcclxuICAgICAgY29uc3QgeyBkYXRhOiB0YXJnZXRVc2VyLCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICBpZiAoZmV0Y2hFcnJvcikgdGhyb3cgZmV0Y2hFcnJvclxyXG5cclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHptaWVuaWHEhyByb2zEmSBkb2NlbG93ZWdvIHXFvHl0a293bmlrYVxyXG4gICAgICBpZiAoIXBlcm1pc3Npb25zQXBpLmNhbk1hbmFnZVVzZXIoY3VycmVudFVzZXIsIHRhcmdldFVzZXIgYXMgVXNlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyB6bWlhbnkgcm9saSB0ZWdvIHXFvHl0a293bmlrYScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SEIFptaWFuYSByb2xpOiAke3RhcmdldFVzZXIucm9sZX0g4oaSICR7dXBkYXRlcy5yb2xlfWApXHJcbiAgICB9XHJcblxyXG4gICAgLy8gV3lrb25haiBha3R1YWxpemFjasSZXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICAuLi51cGRhdGVzLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgYWt0dWFsaXphY2ppIHXFvHl0a293bmlrYTonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn4pyFIFXFvHl0a293bmlrIHpha3R1YWxpem93YW55IHBvbXnFm2xuaWU6JywgZGF0YS5mdWxsX25hbWUpXHJcbiAgICByZXR1cm4gZGF0YSBhcyBVc2VyXHJcbiAgfSxcclxuXHJcbiAgLy8gUHJvbXVqIGp1bmlvcl9tYW5hZ2VyIGRvIHByb2plY3RfbWFuYWdlciAoZGVkeWtvd2FuYSBmdW5rY2phKVxyXG4gIGFzeW5jIHByb21vdGVUb1Byb2plY3RNYW5hZ2VyKHVzZXJJZDogc3RyaW5nLCBjdXJyZW50VXNlcjogVXNlcik6IFByb21pc2U8VXNlcj4ge1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgcHJvbW90ZVRvUHJvamVjdE1hbmFnZXIgU1RBUlQgLSBwcm9tb3dhbmllIGRvIFBNOicsIHVzZXJJZClcclxuXHJcbiAgICAvLyBTcHJhd2TFuiBjenkgYWt0dWFsbnkgdcW8eXRrb3duaWsgbWEgdXByYXduaWVuaWEgKHR5bGtvIFN6ZWYgaSBBZG1pbilcclxuICAgIGlmICghWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXMoY3VycmVudFVzZXIucm9sZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUeWxrbyBTemVmIGkgQWRtaW5pc3RyYXRvciBtb2fEhSBwcm9tb3dhxIcgdcW8eXRrb3duaWvDs3cgZG8gcm9saSBQcm9qZWN0IE1hbmFnZXInKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFBvYmllcnogZG9jZWxvd2VnbyB1xbx5dGtvd25pa2FcclxuICAgIGNvbnN0IHsgZGF0YTogdGFyZ2V0VXNlciwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZmV0Y2hFcnJvcikgdGhyb3cgZmV0Y2hFcnJvclxyXG5cclxuICAgIC8vIFNwcmF3ZMW6IGN6eSBtYSByb2zEmSBqdW5pb3JfbWFuYWdlclxyXG4gICAgaWYgKHRhcmdldFVzZXIucm9sZSAhPT0gJ2p1bmlvcl9tYW5hZ2VyJykge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ01vxbxuYSBwcm9tb3dhxIcgdHlsa28gdcW8eXRrb3duaWvDs3cgeiByb2zEhSBKdW5pb3IgTWFuYWdlcicpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYPCflIQgUHJvbW93YW5pZTogJHt0YXJnZXRVc2VyLmZ1bGxfbmFtZX0gKCR7dGFyZ2V0VXNlci5yb2xlfSDihpIgcHJvamVjdF9tYW5hZ2VyKWApXHJcblxyXG4gICAgLy8gV3lrb25haiBwcm9tb2NqxJlcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC51cGRhdGUoe1xyXG4gICAgICAgIHJvbGU6ICdwcm9qZWN0X21hbmFnZXInLFxyXG4gICAgICAgIHJvbGVfaGllcmFyY2h5X2xldmVsOiAxLCAvLyBQcm9qZWN0IE1hbmFnZXIgbWEgcG96aW9tIDFcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHByb21vd2FuaWEgdcW8eXRrb3duaWthOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgJHt0YXJnZXRVc2VyLmZ1bGxfbmFtZX0gem9zdGHFgiBwcm9tb3dhbnkgZG8gUHJvamVjdCBNYW5hZ2VyYClcclxuICAgIHJldHVybiBkYXRhIGFzIFVzZXJcclxuICB9LFxyXG5cclxuICAvLyBQcnp5cGlzeiBqdW5pb3JfbWFuYWdlciAod3JheiB6IHBvZHfFgmFkbnltaSkgZG8gcHJvamVjdF9tYW5hZ2VyIC0gVVBST1NaQ1pPTkEgV0VSU0pBXHJcbiAgYXN5bmMgYXNzaWduSnVuaW9yTWFuYWdlclRvUHJvamVjdE1hbmFnZXIoanVuaW9yTWFuYWdlcklkOiBzdHJpbmcsIHByb2plY3RNYW5hZ2VySWQ6IHN0cmluZywgY3VycmVudFVzZXI6IFVzZXIpOiBQcm9taXNlPHsgXHJcbiAgICBqdW5pb3JNYW5hZ2VyOiBVc2VyLCBcclxuICAgIGFmZmVjdGVkRW1wbG95ZWVzOiBVc2VyW10sIFxyXG4gICAgbWVzc2FnZTogc3RyaW5nIFxyXG4gIH0+IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SXIGFzc2lnbkp1bmlvck1hbmFnZXJUb1Byb2plY3RNYW5hZ2VyIFNUQVJUICh1cHJvc3pjem9uYSB3ZXJzamEpOicsIHsganVuaW9yTWFuYWdlcklkLCBwcm9qZWN0TWFuYWdlcklkIH0pXHJcblxyXG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWEgLSB0eWxrbyBTemVmIGkgQWRtaW4gbW9nxIUgemFyesSFZHphxIcgaGllcmFyY2hpxIVcclxuICAgIGlmICghWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXMoY3VycmVudFVzZXIucm9sZSkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEJyYWsgdXByYXduaWXFhCAtIHXFvHl0a293bmlrOicsIGN1cnJlbnRVc2VyLmVtYWlsLCAncm9sYTonLCBjdXJyZW50VXNlci5yb2xlKVxyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1R5bGtvIFN6ZWYgaSBBZG1pbmlzdHJhdG9yIG1vZ8SFIHphcnrEhWR6YcSHIGhpZXJhcmNoacSZIG1hbmFnZXLDs3cnKVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIEtyb2sgMTogU3ByYXdkxbogY3p5IEp1bmlvciBNYW5hZ2VyIGlzdG5pZWplXHJcbiAgICAgIGNvbnN0IHsgZGF0YToganVuaW9yTWFuYWdlciwgZXJyb3I6IGp1bmlvckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgbWFuYWdlcl9pZCcpXHJcbiAgICAgICAgLmVxKCdpZCcsIGp1bmlvck1hbmFnZXJJZClcclxuICAgICAgICAuZXEoJ3JvbGUnLCAnanVuaW9yX21hbmFnZXInKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgaWYgKGp1bmlvckVycm9yIHx8ICFqdW5pb3JNYW5hZ2VyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOaWUgem5hbGV6aW9ubyBKdW5pb3IgTWFuYWdlciBvIHBvZGFueW0gSUQnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLcm9rIDI6IFNwcmF3ZMW6IGN6eSBQcm9qZWN0IE1hbmFnZXIgaXN0bmllamVcclxuICAgICAgY29uc3QgeyBkYXRhOiBwcm9qZWN0TWFuYWdlciwgZXJyb3I6IHByb2plY3RFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIHJvbGUnKVxyXG4gICAgICAgIC5lcSgnaWQnLCBwcm9qZWN0TWFuYWdlcklkKVxyXG4gICAgICAgIC5lcSgncm9sZScsICdwcm9qZWN0X21hbmFnZXInKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgaWYgKHByb2plY3RFcnJvciB8fCAhcHJvamVjdE1hbmFnZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05pZSB6bmFsZXppb25vIFByb2plY3QgTWFuYWdlciBvIHBvZGFueW0gSUQnKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UlyBQcnp5cGlzdWrEmSAke2p1bmlvck1hbmFnZXIuZnVsbF9uYW1lfSBkbyAke3Byb2plY3RNYW5hZ2VyLmZ1bGxfbmFtZX1gKVxyXG5cclxuICAgICAgLy8gS3JvayAzOiBabmFqZMW6IHByYWNvd25pa8OzdyBKdW5pb3IgTWFuYWdlcmEgKGJleiB1xbx5d2FuaWEgZnVua2NqaSBoaWVyYXJjaGljem55Y2gpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogZW1wbG95ZWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgZnVsbF9uYW1lLCByb2xlLCBtYW5hZ2VyX2lkJylcclxuICAgICAgICAuZXEoJ21hbmFnZXJfaWQnLCBqdW5pb3JNYW5hZ2VySWQpXHJcbiAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXHJcblxyXG4gICAgICBpZiAoZW1wbG95ZWVzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVtcGxveWVlc0Vycm9yKVxyXG4gICAgICAgIC8vIEtvbnR5bnV1aiBtaW1vIGLFgsSZZHUgLSBtb8W8ZSBuaWUgbWEgcHJhY293bmlrw7N3XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGVtcGxveWVlc0xpc3QgPSBlbXBsb3llZXMgfHwgW11cclxuICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyAke2VtcGxveWVlc0xpc3QubGVuZ3RofSBwcmFjb3duaWvDs3cgcG9kICR7anVuaW9yTWFuYWdlci5mdWxsX25hbWV9YClcclxuXHJcbiAgICAgIC8vIEtyb2sgNDogQWt0dWFsaXp1aiBKdW5pb3IgTWFuYWdlciAtIFBST1NUQSBBS1RVQUxJWkFDSkFcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgQWt0dWFsaXp1asSZIG1hbmFnZXJfaWQgZGxhIGp1bmlvciBtYW5hZ2VyYScpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXBkYXRlZEp1bmlvck1hbmFnZXIsIGVycm9yOiB1cGRhdGVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC51cGRhdGUoeyBcclxuICAgICAgICAgIG1hbmFnZXJfaWQ6IHByb2plY3RNYW5hZ2VySWQsXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5lcSgnaWQnLCBqdW5pb3JNYW5hZ2VySWQpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgbWFuYWdlcl9pZCcpXHJcbiAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICBpZiAodXBkYXRlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGFrdHVhbGl6YWNqaSBqdW5pb3IgbWFuYWdlcmE6JywgdXBkYXRlRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgYWt0dWFsaXphY2ppOiAke3VwZGF0ZUVycm9yLm1lc3NhZ2V9YClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS3JvayA1OiBQcnplbmllxZsgcHJhY293bmlrw7N3IChqZcWbbGkgaXN0bmllasSFKVxyXG4gICAgICBsZXQgdXBkYXRlZEVtcGxveWVlczogVXNlcltdID0gW11cclxuICAgICAgaWYgKGVtcGxveWVlc0xpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFByemVub3N6xJkgcHJhY293bmlrw7N3IHBvZCBQcm9qZWN0IE1hbmFnZXInKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgZW1wbG95ZWUgb2YgZW1wbG95ZWVzTGlzdCkge1xyXG4gICAgICAgICAgY29uc3QgeyBkYXRhOiB1cGRhdGVkRW1wbG95ZWUsIGVycm9yOiBtb3ZlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgICAgIC51cGRhdGUoeyBcclxuICAgICAgICAgICAgICBtYW5hZ2VyX2lkOiBwcm9qZWN0TWFuYWdlcklkLFxyXG4gICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZXEoJ2lkJywgZW1wbG95ZWUuaWQpXHJcbiAgICAgICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIHJvbGUsIG1hbmFnZXJfaWQnKVxyXG4gICAgICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgICAgICBpZiAobW92ZUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEhWQgcHJ6ZW5vc3plbmlhIHByYWNvd25pa2EgJHtlbXBsb3llZS5mdWxsX25hbWV9OmAsIG1vdmVFcnJvcilcclxuICAgICAgICAgIH0gZWxzZSBpZiAodXBkYXRlZEVtcGxveWVlKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZWRFbXBsb3llZXMucHVzaCh1cGRhdGVkRW1wbG95ZWUgYXMgVXNlcilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OmIFByemVuaWVzaW9ubyAke3VwZGF0ZWRFbXBsb3llZXMubGVuZ3RofS8ke2VtcGxveWVlc0xpc3QubGVuZ3RofSBwcmFjb3duaWvDs3dgKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBtZXNzYWdlID0gYEp1bmlvciBNYW5hZ2VyICR7anVuaW9yTWFuYWdlci5mdWxsX25hbWV9IHpvc3RhxYIgcHJ6eXBpc2FueSBkbyBQcm9qZWN0IE1hbmFnZXIgJHtwcm9qZWN0TWFuYWdlci5mdWxsX25hbWV9LiAke3VwZGF0ZWRFbXBsb3llZXMubGVuZ3RoID4gMCA/IGBQcnplbmllc2lvbm8gcsOzd25pZcW8ICR7dXBkYXRlZEVtcGxveWVlcy5sZW5ndGh9IHByYWNvd25pa8Ozdy5gIDogJyd9YFxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBTVUtDRVM6ICR7bWVzc2FnZX1gKVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBqdW5pb3JNYW5hZ2VyOiB1cGRhdGVkSnVuaW9yTWFuYWdlciBhcyBVc2VyLFxyXG4gICAgICAgIGFmZmVjdGVkRW1wbG95ZWVzOiB1cGRhdGVkRW1wbG95ZWVzLFxyXG4gICAgICAgIG1lc3NhZ2VcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYHEhEQgdyBhc3NpZ25KdW5pb3JNYW5hZ2VyVG9Qcm9qZWN0TWFuYWdlcjonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGhpZXJhcmNoacSZIG1hbmFnZXLDs3cgeiBwb2R3xYJhZG55bWlcclxuICBhc3luYyBnZXRNYW5hZ2VySGllcmFyY2h5KG1hbmFnZXJJZDogc3RyaW5nKTogUHJvbWlzZTx7XHJcbiAgICBtYW5hZ2VyOiBVc2VyLFxyXG4gICAgZGlyZWN0UmVwb3J0czogVXNlcltdLFxyXG4gICAgYWxsU3Vib3JkaW5hdGVzOiBVc2VyW11cclxuICB9PiB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+Pl++4jyBnZXRNYW5hZ2VySGllcmFyY2h5IFNUQVJUOicsIG1hbmFnZXJJZClcclxuXHJcbiAgICAvLyBQb2JpZXJ6IG1hbmFnZXJhXHJcbiAgICBjb25zdCB7IGRhdGE6IG1hbmFnZXIsIGVycm9yOiBtYW5hZ2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ2lkJywgbWFuYWdlcklkKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAobWFuYWdlckVycm9yKSB0aHJvdyBtYW5hZ2VyRXJyb3JcclxuXHJcbiAgICAvLyBQb2JpZXJ6IGJlenBvxZtyZWRuaWNoIHBvZHfFgmFkbnljaFxyXG4gICAgY29uc3QgeyBkYXRhOiBkaXJlY3RSZXBvcnRzLCBlcnJvcjogZGlyZWN0RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ21hbmFnZXJfaWQnLCBtYW5hZ2VySWQpXHJcblxyXG4gICAgaWYgKGRpcmVjdEVycm9yKSB0aHJvdyBkaXJlY3RFcnJvclxyXG5cclxuICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBwb2R3xYJhZG55Y2ggKHJlY3Vyc2l2ZSBkbGEganVuaW9yIG1hbmFnZXLDs3cpXHJcbiAgICBsZXQgYWxsU3Vib3JkaW5hdGVzOiBVc2VyW10gPSBbLi4uKGRpcmVjdFJlcG9ydHMgfHwgW10pXVxyXG5cclxuICAgIGZvciAoY29uc3Qgc3Vib3JkaW5hdGUgb2YgZGlyZWN0UmVwb3J0cyB8fCBbXSkge1xyXG4gICAgICBpZiAoc3Vib3JkaW5hdGUucm9sZSA9PT0gJ2p1bmlvcl9tYW5hZ2VyJykge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogc3ViRW1wbG95ZWVzLCBlcnJvcjogc3ViRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAuZXEoJ21hbmFnZXJfaWQnLCBzdWJvcmRpbmF0ZS5pZClcclxuXHJcbiAgICAgICAgaWYgKCFzdWJFcnJvciAmJiBzdWJFbXBsb3llZXMpIHtcclxuICAgICAgICAgIGFsbFN1Ym9yZGluYXRlcy5wdXNoKC4uLnN1YkVtcGxveWVlcylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZyhg8J+TiiBNYW5hZ2VyICR7bWFuYWdlci5mdWxsX25hbWV9OiAke2RpcmVjdFJlcG9ydHM/Lmxlbmd0aCB8fCAwfSBiZXpwb8WbcmVkbmljaCwgJHthbGxTdWJvcmRpbmF0ZXMubGVuZ3RofSDFgsSFY3puaWVgKVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIG1hbmFnZXI6IG1hbmFnZXIgYXMgVXNlcixcclxuICAgICAgZGlyZWN0UmVwb3J0czogKGRpcmVjdFJlcG9ydHMgfHwgW10pIGFzIFVzZXJbXSxcclxuICAgICAgYWxsU3Vib3JkaW5hdGVzOiBhbGxTdWJvcmRpbmF0ZXMgYXMgVXNlcltdXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIGRvc3TEmXBueWNoIHByb2plY3QgbWFuYWdlcsOzd1xyXG4gIGFzeW5jIGdldEF2YWlsYWJsZVByb2plY3RNYW5hZ2VycygpOiBQcm9taXNlPFVzZXJbXT4ge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgncm9sZScsICdwcm9qZWN0X21hbmFnZXInKVxyXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXHJcbiAgICAgIC5vcmRlcignZnVsbF9uYW1lJylcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gKGRhdGEgfHwgW10pIGFzIFVzZXJbXVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogd3N6eXN0a2ljaCBqdW5pb3IgbWFuYWdlcsOzdyBiZXogcHJ6eXBpc2FuZWdvIHByb2plY3QgbWFuYWdlcmFcclxuICBhc3luYyBnZXRVbmFzc2lnbmVkSnVuaW9yTWFuYWdlcnMoKTogUHJvbWlzZTxVc2VyW10+IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ3JvbGUnLCAnanVuaW9yX21hbmFnZXInKVxyXG4gICAgICAuaXMoJ21hbmFnZXJfaWQnLCBudWxsKVxyXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXHJcbiAgICAgIC5vcmRlcignZnVsbF9uYW1lJylcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gKGRhdGEgfHwgW10pIGFzIFVzZXJbXVxyXG4gIH0sXHJcblxyXG4gIC8vIEJlenBpZWN6bmUgcG9iaWVyYW5pZSB1xbx5dGtvd25pa8OzdyBkbyB3ecWbd2lldGxhbmlhIChvZHBvcm5lIG5hIFJMUylcclxuICBhc3luYyBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkgU1RBUlQgLSBiZXpwaWVjem5lIHBvYmllcmFuaWUuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaQgQWt0dWFsbnkgdcW8eXRrb3duaWs6JywgdXNlcj8uZW1haWwsIHVzZXI/LmlkKVxyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KdjCBCcmFrIHphbG9nb3dhbmVnbyB1xbx5dGtvd25pa2EnKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgZW1haWwsIHJvbGUsIGF2YXRhcl91cmwnKVxyXG4gICAgICAgIC5vcmRlcignZnVsbF9uYW1lJylcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzRm9yRGlzcGxheSAtIHpuYWxlemlvbm8gdcW8eXRrb3duaWvDs3c6JywgZGF0YT8ubGVuZ3RoIHx8IDApXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgUkxTIEVycm9yIGluIGdldEFsbFVzZXJzRm9yRGlzcGxheTonLCBlcnJvcilcclxuICAgICAgICBcclxuICAgICAgICAvLyBKZcWbbGkgdG8gcHJvYmxlbSB6IFJMUywgendyw7PEhyBwcnp5bmFqbW5pZWogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UkiBSTFMgYmxva3VqZSBkb3N0xJlwIC0gendyYWNhbSB0eWxrbyBha3R1YWxuZWdvIHXFvHl0a293bmlrYScpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBvYmllcnogcHJvZmlsIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgRmFsbGJhY2s6IHXFvHl3YW0gcHJvZmlsdSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICAgIHJldHVybiBbdXNlclByb2ZpbGVdXHJcbiAgICAgICAgICB9IGNhdGNoIChwcm9maWxlRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBwcm9maWx1IHXFvHl0a293bmlrYTonLCBwcm9maWxlRXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJbm55IGLFgsSFZCAtIHp3csOzxIcgcHVzdMSFIHRhYmxpY8SZXHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIElubnkgYsWCxIVkIC0gendyYWNhbSBwdXN0xIUgdGFibGljxJknKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVZGFuZSBwb2JyYW5pZSB1xbx5dGtvd25pa8OzdzonLCBkYXRhLmxlbmd0aClcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBQcnp5a8WCYWQgdcW8eXRrb3duaWvDs3c6JywgZGF0YS5zbGljZSgwLCAzKS5tYXAodSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IHUuaWQsXHJcbiAgICAgICAgICBuYW1lOiB1LmZ1bGxfbmFtZSxcclxuICAgICAgICAgIHJvbGU6IHUucm9sZVxyXG4gICAgICAgIH0pKSlcclxuICAgICAgICByZXR1cm4gZGF0YSBhcyBVc2VyW11cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVV0FHQTogQnJhayBkYW55Y2ggdcW8eXRrb3duaWvDs3cnKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZhbGxiYWNrIC0gcHJ6eW5ham1uaWVqIGFrdHVhbG55IHXFvHl0a293bmlrXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJQcm9maWxlID0gYXdhaXQgdGhpcy5nZXRVc2VyUHJvZmlsZSh1c2VyLmlkKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgRmFsbGJhY2s6IHXFvHl3YW0gcHJvZmlsdSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxyXG4gICAgICAgIH0gY2F0Y2ggKHByb2ZpbGVFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBwcm9maWx1IHXFvHl0a293bmlrYTonLCBwcm9maWxlRXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IENSSVRJQ0FMIEVSUk9SOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gS3J5dHljem55IGZhbGxiYWNrIC0gc3Byw7NidWogcHJ6eW5ham1uaWVqIHBvYnJhxIcgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEtyeXR5Y3pueSBmYWxsYmFjazogendyYWNhbSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoY3JpdGljYWxFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBLcnl0eWN6bnkgYsWCxIVkIGZhbGxiYWNrOicsIGNyaXRpY2FsRXJyb3IpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gRnVua2NqYSBkbyBva3JlxZtsYW5pYSBrb2xvcnUgc3RhdHVzdSBcImNhbnZhc1wiIG5hIHBvZHN0YXdpZSBjemFzdVxyXG5leHBvcnQgY29uc3QgZ2V0Q2FudmFzU3RhdHVzQ29sb3IgPSAoc3RhdHVzQ2hhbmdlZEF0Pzogc3RyaW5nKTogeyBjb2xvcjogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBwcmlvcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB9ID0+IHtcclxuICBpZiAoIXN0YXR1c0NoYW5nZWRBdCkge1xyXG4gICAgcmV0dXJuIHsgY29sb3I6ICdiZy1ibHVlLTUwMC8yMCB0ZXh0LWJsdWUtNDAwIGJvcmRlci1ibHVlLTUwMC8zMCcsIGRlc2NyaXB0aW9uOiAnTm93eScsIHByaW9yaXR5OiAnbG93JyB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgY29uc3Qgc3RhdHVzRGF0ZSA9IG5ldyBEYXRlKHN0YXR1c0NoYW5nZWRBdClcclxuICBjb25zdCBkYXlzRGlmZiA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBzdGF0dXNEYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXHJcblxyXG4gIGlmIChkYXlzRGlmZiA8PSAyKSB7XHJcbiAgICAvLyAwLTIgZG5pIC0gemllbG9ueSAoxZt3aWXFvHkpXHJcbiAgICByZXR1cm4geyBcclxuICAgICAgY29sb3I6ICdiZy1ncmVlbi01MDAvMjAgdGV4dC1ncmVlbi00MDAgYm9yZGVyLWdyZWVuLTUwMC8zMCcsIFxyXG4gICAgICBkZXNjcmlwdGlvbjogYMWad2llxbx5ICgke2RheXNEaWZmfWQpYCxcclxuICAgICAgcHJpb3JpdHk6ICdsb3cnXHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChkYXlzRGlmZiA8PSA0KSB7XHJcbiAgICAvLyAyLTQgZG5pIC0gxbzDs8WCdHkgKHV3YWdhKVxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIGNvbG9yOiAnYmcteWVsbG93LTUwMC8yMCB0ZXh0LXllbGxvdy00MDAgYm9yZGVyLXllbGxvdy01MDAvMzAnLCBcclxuICAgICAgZGVzY3JpcHRpb246IGBXeW1hZ2EgdXdhZ2kgKCR7ZGF5c0RpZmZ9ZClgLFxyXG4gICAgICBwcmlvcml0eTogJ21lZGl1bSdcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gNSsgZG5pIC0gY3plcndvbnkgKHBpbG55KVxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIGNvbG9yOiAnYmctcmVkLTUwMC8yMCB0ZXh0LXJlZC00MDAgYm9yZGVyLXJlZC01MDAvMzAnLCBcclxuICAgICAgZGVzY3JpcHRpb246IGBQaWxueSAoJHtkYXlzRGlmZn1kKWAsXHJcbiAgICAgIHByaW9yaXR5OiAnaGlnaCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamEgZG8gcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBvem5hY3plbmlhbWkgcHJpb3J5dGV0w7N3XHJcbmV4cG9ydCBjb25zdCBnZXRDYW52YXNDbGllbnRzV2l0aFByaW9yaXR5ID0gYXN5bmMgKHVzZXI6IFVzZXIpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50cyA9IGF3YWl0IGNsaWVudHNBcGkuZ2V0Q2xpZW50cyh1c2VyKVxyXG4gICAgY29uc3QgY2FudmFzQ2xpZW50cyA9IGNsaWVudHMuZmlsdGVyKChjbGllbnQ6IGFueSkgPT4gY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpXHJcbiAgICBcclxuICAgIGNvbnN0IHByaW9yaXR5U3RhdHMgPSB7XHJcbiAgICAgIGhpZ2g6IDAsXHJcbiAgICAgIG1lZGl1bTogMCxcclxuICAgICAgbG93OiAwLFxyXG4gICAgICB0b3RhbDogY2FudmFzQ2xpZW50cy5sZW5ndGhcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXNDbGllbnRzLmZvckVhY2goKGNsaWVudDogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcHJpb3JpdHkgfSA9IGdldENhbnZhc1N0YXR1c0NvbG9yKGNsaWVudC5zdGF0dXNfY2hhbmdlZF9hdClcclxuICAgICAgcHJpb3JpdHlTdGF0c1twcmlvcml0eV0rK1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjbGllbnRzOiBjYW52YXNDbGllbnRzLFxyXG4gICAgICBzdGF0czogcHJpb3JpdHlTdGF0c1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgY2FudmFzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50czogW10sIHN0YXRzOiB7IGhpZ2g6IDAsIG1lZGl1bTogMCwgbG93OiAwLCB0b3RhbDogMCB9IH1cclxuICB9XHJcbn0gXHJcblxyXG4vLyDwn5qAIE5PV0UgQVBJIFBFUkZPUk1BTkNFIC0gTWF0ZXJpYWxpem93YW5lIFdpZG9raSBpIE9wdHltYWxpemFjamVcclxuLy8gRG9kYW5lIHpnb2RuaWUgeiBJTlNUUlVLQ0pFX1BFUkZPUk1BTkNFX09QVElNSVpBVElPTlMubWRcclxuXHJcbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRBcGkgPSB7XHJcbiAgLy8gWmFzdMSZcHVqZSB3b2xuZSB6YXB5dGFuaWEgZGFzaGJvYXJkIC0gdGVyYXogfjEwbXMgemFtaWFzdCB+MjAwbXNcclxuICBhc3luYyBnZXREYXNoYm9hcmRNZXRyaWNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ+KaoSBQb2JpZXJhbmllIHN6eWJraWNoIG1ldHJ5ayBkYXNoYm9hcmQgeiBtYXRlcmlhbGl6b3dhbmVnbyB3aWRva3UuLi4nKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfZGFzaGJvYXJkX21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBtZXRyeWsgZGFzaGJvYXJkOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGFzaGJvYXJkIG1ldHJpY3MgcG9icmFuZSB3IHRyeWJpZSBleHByZXNzOicsIGRhdGE/Lmxlbmd0aCB8fCAwLCAnbWV0cnlrJylcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXREYXNoYm9hcmRNZXRyaWNzIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2R6ZW5pZSBjenkgbWF0ZXJpYWxpem93YW5lIHdpZG9raSBzxIUgxZt3aWXFvGVcclxuICBhc3luYyBjaGVja1ZpZXdGcmVzaG5lc3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdGFiZWxhIG12X2Rhc2hib2FyZF9zdW1tYXJ5IGlzdG5pZWplXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2Rhc2hib2FyZF9zdW1tYXJ5JylcclxuICAgICAgICAuc2VsZWN0KCdsYXN0X3VwZGF0ZWQnKVxyXG4gICAgICAgIC5saW1pdCgxKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWF0ZXJpYWxpemVkIHZpZXcgbXZfZGFzaGJvYXJkX3N1bW1hcnkgbmllIGlzdG5pZWplIGx1YiBicmFrIHVwcmF3bmllxYQ6JywgZXJyb3IpXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgLSB1xbx5aiBha3R1YWxuZWdvIGN6YXN1XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICBsYXN0VXBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIFxyXG4gICAgICAgICAgbWludXRlc1NpbmNlVXBkYXRlOiAwLCBcclxuICAgICAgICAgIGlzU3RhbGU6IGZhbHNlIC8vIFphxYJvxbwgxbxlIGRhbmUgc8SFIMWbd2llxbxlIGplxZtsaSBuaWUgbWEgd2lkb2t1XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBsYXN0VXBkYXRlID0gbmV3IERhdGUoZGF0YS5sYXN0X3VwZGF0ZWQpXHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3QgbWludXRlc1NpbmNlVXBkYXRlID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGxhc3RVcGRhdGUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsYXN0VXBkYXRlOiBkYXRhLmxhc3RfdXBkYXRlZCxcclxuICAgICAgICBtaW51dGVzU2luY2VVcGRhdGUsXHJcbiAgICAgICAgaXNTdGFsZTogbWludXRlc1NpbmNlVXBkYXRlID4gMzAgLy8gVXpuYWogemEgbmllYWt0dWFsbmUgcG8gMzAgbWludXRhY2hcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBzcHJhd2R6YW5pYSDFm3dpZcW8b8WbY2kgd2lkb2vDs3c6JywgZXJyb3IpXHJcbiAgICAgIC8vIEdyYWNlZnVsIGZhbGxiYWNrXHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIGxhc3RVcGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgXHJcbiAgICAgICAgbWludXRlc1NpbmNlVXBkYXRlOiAwLCBcclxuICAgICAgICBpc1N0YWxlOiBmYWxzZSBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8g8J+agCBOT1dFIEZVTktDSkUgUEVSRk9STUFOQ0UgZG9kYW5lIGRvIGlzdG5pZWrEhWNlZ28gcmVwb3J0c0FwaVxyXG5cclxuZXhwb3J0IGNvbnN0IHRlYW1BcGkgPSB7XHJcbiAgLy8gU3p5YmtpIHByemVnbMSFZCBha3R5d25vxZtjaSB6ZXNwb8WCdVxyXG4gIGFzeW5jIGdldFRlYW1BY3Rpdml0eU92ZXJ2aWV3KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgUG9iaWVyYW5pZSBwcnplZ2zEhWR1IGFrdHl3bm/Fm2NpIHplc3BvxYJ1ICh6b3B0eW1hbGl6b3dhbmUpLi4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5pbigncm9sZScsIFsncHJhY293bmlrJywgJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnXSlcclxuICAgICAgICAub3JkZXIoJ2FjdGl2aXRpZXNfMjRoJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0eXdub8WbY2kgemVzcG/FgnU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBBa3R5d25vxZvEhyB6ZXNwb8WCdSBwb2JyYW5hOiAke2RhdGE/Lmxlbmd0aCB8fCAwfSB1xbx5dGtvd25pa8Ozd2ApXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXcgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZHplbmllIGFrdHl3bnljaCB1xbx5dGtvd25pa8OzdyB3IGN6YXNpZSByemVjenl3aXN0eW1cclxuICBhc3luYyBnZXRBY3RpdmVVc2Vyc05vdygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJ3VzZXJfaWQsIGZ1bGxfbmFtZSwgYWN0aXZpdHlfc3RhdHVzLCBsYXN0X2FjdGl2aXR5JylcclxuICAgICAgICAuZXEoJ2FjdGl2aXR5X3N0YXR1cycsICdhY3RpdmUnKVxyXG4gICAgICAgIC5vcmRlcignbGFzdF9hY3Rpdml0eScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRBY3RpdmVVc2Vyc05vdyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3RhdHlzdHlraSBwcm9kdWt0eXdub8WbY2kgemVzcG/FgnVcclxuICBhc3luYyBnZXRQcm9kdWN0aXZpdHlTdGF0cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJ2FjdGl2aXRpZXNfMjRoLCBhY3Rpdml0aWVzXzdkLCBwaG9uZV9jbGlja3MsIHN0YXR1c19jaGFuZ2VzJylcclxuICAgICAgICAuaW4oJ3JvbGUnLCBbJ3ByYWNvd25paycsICdtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJ10pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICAvLyBPYmxpY3ogxZtyZWRuaWVcclxuICAgICAgY29uc3QgdG90YWxVc2VycyA9IGRhdGEubGVuZ3RoXHJcbiAgICAgIGNvbnN0IGF2Z0RhaWx5ID0gZGF0YS5yZWR1Y2UoKHN1bSwgdXNlcikgPT4gc3VtICsgdXNlci5hY3Rpdml0aWVzXzI0aCwgMCkgLyB0b3RhbFVzZXJzXHJcbiAgICAgIGNvbnN0IGF2Z1dlZWtseSA9IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc183ZCwgMCkgLyB0b3RhbFVzZXJzXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsVXNlcnMsXHJcbiAgICAgICAgYXZnRGFpbHlBY3Rpdml0aWVzOiBNYXRoLnJvdW5kKGF2Z0RhaWx5KSxcclxuICAgICAgICBhdmdXZWVrbHlBY3Rpdml0aWVzOiBNYXRoLnJvdW5kKGF2Z1dlZWtseSksXHJcbiAgICAgICAgdG90YWxEYWlseUFjdGl2aXRpZXM6IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc18yNGgsIDApLFxyXG4gICAgICAgIHRvdGFsV2Vla2x5QWN0aXZpdGllczogZGF0YS5yZWR1Y2UoKHN1bSwgdXNlcikgPT4gc3VtICsgdXNlci5hY3Rpdml0aWVzXzdkLCAwKVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0UHJvZHVjdGl2aXR5U3RhdHMgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8g8J+UpyBQRVJGT1JNQU5DRSBNT05JVE9SSU5HIEFQSVxyXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2VBcGkgPSB7XHJcbiAgLy8gU3ByYXdkemVuaWUgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXVcclxuICBhc3luYyBnZXRTeXN0ZW1NZXRyaWNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gUG9iaWVyYW5pZSBtZXRyeWsgd3lkYWpub8WbY2kgc3lzdGVtdS4uLicpXHJcbiAgICAgIGNvbnN0IHRhYmxlU3RhdHMgPSBbXVxyXG4gICAgICBcclxuICAgICAgLy8gUG9tb2NuaWN6YSBmdW5rY2phIGRvIGJlenBpZWN6bmVnbyBwb2JpZXJhbmlhIHN0YXR5c3R5ayB0YWJlbGlcclxuICAgICAgY29uc3QgZ2V0VGFibGVTdGF0cyA9IGFzeW5jICh0YWJsZU5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB7IGNvdW50LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20odGFibGVOYW1lKVxyXG4gICAgICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gTmllIG1vxbxuYSBwb2JyYcSHIHN0YXR5c3R5ayB0YWJlbGkgJHt0YWJsZU5hbWV9OmAsIGVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRhYmxlX25hbWU6IHRhYmxlTmFtZSxcclxuICAgICAgICAgICAgcmVjb3JkX2NvdW50OiBjb3VudCB8fCAwLFxyXG4gICAgICAgICAgICB0YWJsZV9zaXplOiAnTi9BJywgLy8gVXByb3N6Y3plbmllIC0gcm96bWlhciBuaWUgamVzdCBrcnl0eWN6bnlcclxuICAgICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIELFgsSFZCB0YWJlbGkgJHt0YWJsZU5hbWV9OmAsIGVycilcclxuICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBrYcW8ZMSFIHRhYmVsxJkgb2RkemllbG5pZVxyXG4gICAgICBjb25zdCB0YWJsZXMgPSBbJ2NsaWVudHMnLCAndXNlcnMnLCAnYWN0aXZpdHlfbG9ncycsICdhY3Rpdml0eV9sb2dzX2FyY2hpdmUnXVxyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCB0YWJsZU5hbWUgb2YgdGFibGVzKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXRUYWJsZVN0YXRzKHRhYmxlTmFtZSlcclxuICAgICAgICBpZiAoc3RhdHMpIHtcclxuICAgICAgICAgIHRhYmxlU3RhdHMucHVzaChzdGF0cylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEplxZtsaSBuaWUgdWRhxYJvIHNpxJkgcG9icmHEhyDFvGFkbnljaCBzdGF0eXN0eWssIHp3csOzxIcgcG9kc3Rhd293ZSBpbmZvcm1hY2plXHJcbiAgICAgIGlmICh0YWJsZVN0YXRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHN0YXR5c3R5ayDFvGFkbmVqIHRhYmVsaSAtIHp3cmFjYW0gZGFuZSBwcnp5a8WCYWRvd2UnKVxyXG4gICAgICAgIHRhYmxlU3RhdHMucHVzaCh7XHJcbiAgICAgICAgICB0YWJsZV9uYW1lOiAnc3lzdGVtX2luZm8nLFxyXG4gICAgICAgICAgcmVjb3JkX2NvdW50OiAwLFxyXG4gICAgICAgICAgdGFibGVfc2l6ZTogJ0JyYWsgZG9zdMSZcHUnLFxyXG4gICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gc3RhdHlzdHlraSAke3RhYmxlU3RhdHMubGVuZ3RofSB0YWJlbGApXHJcbiAgICAgIHJldHVybiB0YWJsZVN0YXRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0U3lzdGVtTWV0cmljcyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBHcmFjZWZ1bCBmYWxsYmFjayAtIHp3csOzxIcgcG9kc3Rhd293ZSBkYW5lIHphbWlhc3Qgcnp1Y2HEhyBixYLEhWRcclxuICAgICAgcmV0dXJuIFt7XHJcbiAgICAgICAgdGFibGVfbmFtZTogJ2Vycm9yX2ZhbGxiYWNrJyxcclxuICAgICAgICByZWNvcmRfY291bnQ6IDAsXHJcbiAgICAgICAgdGFibGVfc2l6ZTogJ0LFgsSFZCBwb8WCxIVjemVuaWEnLFxyXG4gICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gTWFudWFsbmUgb2TFm3dpZcW8ZW5pZSBtYXRlcmlhbGl6b3dhbnljaCB3aWRva8Ozd1xyXG4gIGFzeW5jIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIE1hbnVhbG5pZSBvZMWbd2llxbxhbSBtYXRlcmlhbGl6b3dhbmUgd2lkb2tpLi4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygncmVmcmVzaF9hbGxfbWF0ZXJpYWxpemVkX3ZpZXdzJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgV2lkb2tpIG9kxZt3aWXFvG9uZTonLCBkYXRhKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gQXJjaGl3aXphY2phIHN0YXJ5Y2ggbG9nw7N3XHJcbiAgYXN5bmMgYXJjaGl2ZU9sZExvZ3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TpiBVcnVjaGFtaWFtIGFyY2hpd2l6YWNqxJkgc3RhcnljaCBsb2fDs3cuLi4nKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdhcmNoaXZlX29sZF9hY3Rpdml0eV9sb2dzJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFyY2hpd2l6b3dhbm8gJHtkYXRhfSBzdGFyeWNoIGxvZ8Ozd2ApXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgYXJjaGl2ZU9sZExvZ3MgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIE9wdHltYWxpemFjamEgYmF6eSBkYW55Y2hcclxuICBhc3luYyBvcHRpbWl6ZURhdGFiYXNlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfmoAgVXJ1Y2hhbWlhbSBvcHR5bWFsaXphY2rEmSBiYXp5IGRhbnljaC4uLicpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ29wdGltaXplX2RhdGFiYXNlX3BlcmZvcm1hbmNlJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQmF6YSBkYW55Y2ggem9wdHltYWxpem93YW5hOicsIGRhdGEpXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgb3B0aW1pemVEYXRhYmFzZSBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlQWN0aXZpdHlTdGF0cyB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIHBlcmlvZF90eXBlOiBzdHJpbmdcclxuICBwZXJpb2Rfc3RhcnQ6IHN0cmluZ1xyXG4gIHBlcmlvZF9lbmQ6IHN0cmluZ1xyXG4gIHRvdGFsX3dvcmtfbWludXRlczogbnVtYmVyXHJcbiAgYXZlcmFnZV9kYWlseV9taW51dGVzOiBudW1iZXJcclxuICBleHBlY3RlZF93b3JrX21pbnV0ZXM6IG51bWJlclxyXG4gIGVmZmljaWVuY3lfcGVyY2VudGFnZTogbnVtYmVyXHJcbiAgdG90YWxfYWN0aXZpdGllczogbnVtYmVyXHJcbiAgYXZlcmFnZV9kYWlseV9hY3Rpdml0aWVzOiBudW1iZXJcclxuICBkYXlzX3dvcmtlZDogbnVtYmVyXHJcbiAgZGF5c19hYnNlbnQ6IG51bWJlclxyXG4gIHVzZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gICAgcm9sZTogc3RyaW5nXHJcbiAgfVxyXG59IFxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDQUxMUyBBUEkgLSBISVNUT1JJQSBQT8WBxIRDWkXFgyBURUxFRk9OSUNaTllDSFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmQge1xyXG4gIGlkOiBzdHJpbmdcclxuICBjbGllbnRfaWQ6IHN0cmluZ1xyXG4gIGNsaWVudF9uYW1lOiBzdHJpbmdcclxuICBjbGllbnRfY29tcGFueTogc3RyaW5nXHJcbiAgY2xpZW50X3Bob25lOiBzdHJpbmdcclxuICBjYWxsZWRfYnk6IHN0cmluZ1xyXG4gIGNhbGxlcl9uYW1lOiBzdHJpbmdcclxuICBjYWxsZXJfcm9sZTogc3RyaW5nXHJcbiAgY2FsbGVyX2F2YXRhcj86IHN0cmluZ1xyXG4gIGNhbGxfdGltZXN0YW1wOiBzdHJpbmdcclxuICBsb2NhdGlvbl9pZD86IHN0cmluZ1xyXG4gIGxvY2F0aW9uX25hbWU/OiBzdHJpbmdcclxuICBsb2NhdGlvbl9jb2RlPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHNGaWx0ZXIge1xyXG4gIGxvY2F0aW9uSWQ/OiBzdHJpbmcgfCBudWxsXHJcbiAgdXNlcklkPzogc3RyaW5nXHJcbiAgc3RhcnREYXRlPzogc3RyaW5nXHJcbiAgZW5kRGF0ZT86IHN0cmluZ1xyXG4gIGxpbWl0PzogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYWxsc0FwaSA9IHtcclxuICAvKipcclxuICAgKiDwn5OeIFBPQklFUlogSElTVE9SScSYIFBPxYHEhENaRcWDXHJcbiAgICogXHJcbiAgICogUG9iaWVyYSBoaXN0b3JpxJkgcG/FgsSFY3plxYQgdGVsZWZvbmljem55Y2ggeiBhY3Rpdml0eV9sb2dzXHJcbiAgICogVXd6Z2zEmWRuaWEgdXByYXduaWVuaWEgdcW8eXRrb3duaWthOlxyXG4gICAqIC0gQWRtaW4vU3plZjogd3N6eXN0a2llIHBvxYLEhWN6ZW5pYSB6IHd5YnJhbmVnbyBrcmFqdVxyXG4gICAqIC0gUHJvamVjdCBNYW5hZ2VyL0p1bmlvciBNYW5hZ2VyOiB3c3p5c3RraWUgeiBpY2ggbG9rYWxpemFjamlcclxuICAgKiAtIFByYWNvd25pazogdHlsa28gc3dvamUgcG/FgsSFY3plbmlhXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FsbHModXNlcjogVXNlciwgZmlsdGVyOiBDYWxsc0ZpbHRlciA9IHt9KTogUHJvbWlzZTxDYWxsUmVjb3JkW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OeIFBvYmllcmFuaWUgaGlzdG9yaWkgcG/FgsSFY3plxYQuLi4nLCB7IHVzZXI6IHVzZXIucm9sZSwgZmlsdGVyIH0pXHJcblxyXG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgY2xpZW50X2lkLFxyXG4gICAgICAgICAgY2hhbmdlZF9ieSxcclxuICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICAgIGNsaWVudHMhaW5uZXIgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgZmlyc3RfbmFtZSxcclxuICAgICAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgICAgICBjb21wYW55X25hbWUsXHJcbiAgICAgICAgICAgIHBob25lLFxyXG4gICAgICAgICAgICBsb2NhdGlvbl9pZCxcclxuICAgICAgICAgICAgbG9jYXRpb246bG9jYXRpb25zIChcclxuICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgIGNvZGVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgLmxpbWl0KGZpbHRlci5saW1pdCB8fCAxMDApXHJcblxyXG4gICAgICAvLyBGaWx0cm93YW5pZSB3ZWTFgnVnIHVwcmF3bmllxYQgdcW8eXRrb3duaWthXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgLy8gUHJhY293bmlrIHdpZHppIHR5bGtvIHN3b2plIHBvxYLEhWN6ZW5pYVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NoYW5nZWRfYnknLCB1c2VyLmlkKVxyXG4gICAgICB9IGVsc2UgaWYgKFsnanVuaW9yX21hbmFnZXInLCAnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgICAgLy8gTWVuZWTFvGVyb3dpZSB3aWR6xIUgcG/FgsSFY3plbmlhIHogaWNoIGxva2FsaXphY2ppXHJcbiAgICAgICAgaWYgKGZpbHRlci5sb2NhdGlvbklkKSB7XHJcbiAgICAgICAgICAvLyBKZcWbbGkgd3licmFubyBrb25rcmV0bsSFIGxva2FsaXphY2rEmSwgZmlsdHJ1aiBwbyBuaWVqXHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRzLmxvY2F0aW9uX2lkJywgZmlsdGVyLmxvY2F0aW9uSWQpXHJcbiAgICAgICAgfSBlbHNlIGlmICh1c2VyLmxvY2F0aW9uX2lkKSB7XHJcbiAgICAgICAgICAvLyBKZcWbbGkgbmllIHd5YnJhbm8gbG9rYWxpemFjamksIHBva2HFvCB6IGxva2FsaXphY2ppIHXFvHl0a293bmlrYVxyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2xpZW50cy5sb2NhdGlvbl9pZCcsIHVzZXIubG9jYXRpb25faWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgICAvLyBTemVmIGkgYWRtaW4gd2lkesSFIHdzenlzdGtvLCBvcGNqb25hbG5pZSBmaWx0cm93YW5lIHBvIGxva2FsaXphY2ppXHJcbiAgICAgICAgaWYgKGZpbHRlci5sb2NhdGlvbklkKSB7XHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRzLmxvY2F0aW9uX2lkJywgZmlsdGVyLmxvY2F0aW9uSWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEb2RhdGtvd2UgZmlsdHJ5IGN6YXNvd2VcclxuICAgICAgaWYgKGZpbHRlci5zdGFydERhdGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgndGltZXN0YW1wJywgZmlsdGVyLnN0YXJ0RGF0ZSlcclxuICAgICAgfVxyXG4gICAgICBpZiAoZmlsdGVyLmVuZERhdGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZSgndGltZXN0YW1wJywgZmlsdGVyLmVuZERhdGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY2FsbExvZ3MsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHBvxYLEhWN6ZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghY2FsbExvZ3MgfHwgY2FsbExvZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk54gQnJhayBwb8WCxIVjemXFhCBkbGEgcG9kYW55Y2gga3J5dGVyacOzdycpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBvYmllcnogaW5mb3JtYWNqZSBvIHXFvHl0a293bmlrYWNoIChkendvbmnEhWN5Y2gpXHJcbiAgICAgIGNvbnN0IGNhbGxlcklkcyA9IFsuLi5uZXcgU2V0KGNhbGxMb2dzLm1hcChsb2cgPT4gbG9nLmNoYW5nZWRfYnkpKV1cclxuICAgICAgY29uc3QgeyBkYXRhOiBjYWxsZXJzLCBlcnJvcjogY2FsbGVyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgYXZhdGFyX3VybCcpXHJcbiAgICAgICAgLmluKCdpZCcsIGNhbGxlcklkcylcclxuXHJcbiAgICAgIGlmIChjYWxsZXJzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3c6JywgY2FsbGVyc0Vycm9yKVxyXG4gICAgICAgIC8vIEtvbnR5bnV1aiBiZXogc3pjemVnw7PFgsOzdyB1xbx5dGtvd25pa8Ozd1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTdHfDs3J6IG1hcMSZIHXFvHl0a293bmlrw7N3XHJcbiAgICAgIGNvbnN0IGNhbGxlcnNNYXAgPSAoY2FsbGVycyB8fCBbXSkucmVkdWNlKChhY2MsIGNhbGxlcikgPT4ge1xyXG4gICAgICAgIGFjY1tjYWxsZXIuaWRdID0gY2FsbGVyXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxyXG5cclxuICAgICAgICAgICAgIC8vIFByemVrc3p0YcWCxIcgZGFuZSBuYSBmb3JtYXQgQ2FsbFJlY29yZFxyXG4gICAgICAgY29uc3QgY2FsbFJlY29yZHM6IENhbGxSZWNvcmRbXSA9IGNhbGxMb2dzLm1hcChsb2cgPT4ge1xyXG4gICAgICAgICBjb25zdCBjbGllbnQgPSBBcnJheS5pc0FycmF5KGxvZy5jbGllbnRzKSA/IGxvZy5jbGllbnRzWzBdIDogbG9nLmNsaWVudHNcclxuICAgICAgICAgY29uc3QgY2FsbGVyID0gY2FsbGVyc01hcFtsb2cuY2hhbmdlZF9ieV1cclxuICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBBcnJheS5pc0FycmF5KGNsaWVudD8ubG9jYXRpb24pID8gY2xpZW50LmxvY2F0aW9uWzBdIDogY2xpZW50Py5sb2NhdGlvblxyXG5cclxuICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICBpZDogbG9nLmlkLFxyXG4gICAgICAgICAgIGNsaWVudF9pZDogbG9nLmNsaWVudF9pZCxcclxuICAgICAgICAgICBjbGllbnRfbmFtZTogY2xpZW50ID8gYCR7Y2xpZW50LmZpcnN0X25hbWV9ICR7Y2xpZW50Lmxhc3RfbmFtZX1gLnRyaW0oKSA6ICdOaWV6bmFueSBrbGllbnQnLFxyXG4gICAgICAgICAgIGNsaWVudF9jb21wYW55OiBjbGllbnQ/LmNvbXBhbnlfbmFtZSB8fCAnQnJhayBpbmZvcm1hY2ppJyxcclxuICAgICAgICAgICBjbGllbnRfcGhvbmU6IGNsaWVudD8ucGhvbmUgfHwgJ0JyYWsgdGVsZWZvbnUnLFxyXG4gICAgICAgICAgIGNhbGxlZF9ieTogbG9nLmNoYW5nZWRfYnksXHJcbiAgICAgICAgICAgY2FsbGVyX25hbWU6IGNhbGxlcj8uZnVsbF9uYW1lIHx8ICdOaWV6bmFueSB1xbx5dGtvd25paycsXHJcbiAgICAgICAgICAgY2FsbGVyX3JvbGU6IGNhbGxlcj8ucm9sZSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgY2FsbGVyX2F2YXRhcjogY2FsbGVyPy5hdmF0YXJfdXJsIHx8IG51bGwsXHJcbiAgICAgICAgICAgY2FsbF90aW1lc3RhbXA6IGxvZy50aW1lc3RhbXAsXHJcbiAgICAgICAgICAgbG9jYXRpb25faWQ6IGNsaWVudD8ubG9jYXRpb25faWQgfHwgbnVsbCxcclxuICAgICAgICAgICBsb2NhdGlvbl9uYW1lOiBsb2NhdGlvbj8ubmFtZSB8fCBudWxsLFxyXG4gICAgICAgICAgIGxvY2F0aW9uX2NvZGU6IGxvY2F0aW9uPy5jb2RlIHx8IG51bGxcclxuICAgICAgICAgfVxyXG4gICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyAke2NhbGxSZWNvcmRzLmxlbmd0aH0gcmVrb3Jkw7N3IHBvxYLEhWN6ZcWEYClcclxuICAgICAgcmV0dXJuIGNhbGxSZWNvcmRzXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNhbGxzQXBpLmdldENhbGxzOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIPCfk4ogUE9CSUVSWiBTVEFUWVNUWUtJIFBPxYHEhENaRcWDXHJcbiAgICogXHJcbiAgICogUG9iaWVyYSBzdGF0eXN0eWtpIHBvxYLEhWN6ZcWEIGRsYSB3eWJyYW5lZ28gb2tyZXN1XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FsbHNTdGF0cyh1c2VyOiBVc2VyLCBmaWx0ZXI6IENhbGxzRmlsdGVyID0ge30pOiBQcm9taXNlPHtcclxuICAgIHRvdGFsQ2FsbHM6IG51bWJlclxyXG4gICAgY2FsbHNUb2RheTogbnVtYmVyXHJcbiAgICBjYWxsc1RoaXNXZWVrOiBudW1iZXJcclxuICAgIGNhbGxzVGhpc01vbnRoOiBudW1iZXJcclxuICAgIHRvcENhbGxlcnM6IEFycmF5PHsgbmFtZTogc3RyaW5nLCByb2xlOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGF2YXRhcj86IHN0cmluZyB9PlxyXG4gIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIHBvxYLEhWN6ZcWELi4uJylcclxuXHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3QgdG9kYXkgPSBub3cudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIGNvbnN0IHdlZWtTdGFydCA9IG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuICAgICAgY29uc3QgbW9udGhTdGFydCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkudG9JU09TdHJpbmcoKVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUgcG/FgsSFY3plbmlhIHpnb2RuaWUgeiB1cHJhd25pZW5pYW1pXHJcbiAgICAgIGNvbnN0IGFsbENhbGxzID0gYXdhaXQgY2FsbHNBcGkuZ2V0Q2FsbHModXNlciwgeyAuLi5maWx0ZXIsIGxpbWl0OiAxMDAwIH0pXHJcblxyXG4gICAgICAvLyBabGljeiBzdGF0eXN0eWtpXHJcbiAgICAgIGNvbnN0IHRvdGFsQ2FsbHMgPSBhbGxDYWxscy5sZW5ndGhcclxuICAgICAgY29uc3QgY2FsbHNUb2RheSA9IGFsbENhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuY2FsbF90aW1lc3RhbXAuc3RhcnRzV2l0aCh0b2RheSkpLmxlbmd0aFxyXG4gICAgICBjb25zdCBjYWxsc1RoaXNXZWVrID0gYWxsQ2FsbHMuZmlsdGVyKGNhbGwgPT4gY2FsbC5jYWxsX3RpbWVzdGFtcCA+PSB3ZWVrU3RhcnQpLmxlbmd0aFxyXG4gICAgICBjb25zdCBjYWxsc1RoaXNNb250aCA9IGFsbENhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuY2FsbF90aW1lc3RhbXAgPj0gbW9udGhTdGFydCkubGVuZ3RoXHJcblxyXG4gICAgICAvLyBUb3AgZHp3b25pxIVjeVxyXG4gICAgICBjb25zdCBjYWxsZXJDb3VudHMgPSBhbGxDYWxscy5yZWR1Y2UoKGFjYywgY2FsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGNhbGwuY2FsbGVkX2J5XHJcbiAgICAgICAgaWYgKCFhY2Nba2V5XSkge1xyXG4gICAgICAgICAgYWNjW2tleV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGNhbGwuY2FsbGVyX25hbWUsXHJcbiAgICAgICAgICAgIHJvbGU6IGNhbGwuY2FsbGVyX3JvbGUsXHJcbiAgICAgICAgICAgIGF2YXRhcjogY2FsbC5jYWxsZXJfYXZhdGFyLFxyXG4gICAgICAgICAgICBjb3VudDogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhY2Nba2V5XS5jb3VudCsrXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCB7IG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nLCBhdmF0YXI/OiBzdHJpbmcsIGNvdW50OiBudW1iZXIgfT4pXHJcblxyXG4gICAgICBjb25zdCB0b3BDYWxsZXJzID0gT2JqZWN0LnZhbHVlcyhjYWxsZXJDb3VudHMpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxyXG4gICAgICAgIC5zbGljZSgwLCA1KVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbENhbGxzLFxyXG4gICAgICAgIGNhbGxzVG9kYXksXHJcbiAgICAgICAgY2FsbHNUaGlzV2VlayxcclxuICAgICAgICBjYWxsc1RoaXNNb250aCxcclxuICAgICAgICB0b3BDYWxsZXJzXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIHBvxYLEhWN6ZcWEOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsQ2FsbHM6IDAsXHJcbiAgICAgICAgY2FsbHNUb2RheTogMCxcclxuICAgICAgICBjYWxsc1RoaXNXZWVrOiAwLFxyXG4gICAgICAgIGNhbGxzVGhpc01vbnRoOiAwLFxyXG4gICAgICAgIHRvcENhbGxlcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIPCfk6EgTk9USUZJQ0FUSU9OUyBBUEkgLSBTeXN0ZW0gcG93aWFkb21pZcWEXHJcbmV4cG9ydCBjb25zdCBub3RpZmljYXRpb25zQXBpID0ge1xyXG4gIC8vIFBvYmllcnogcG93aWFkb21pZW5pYSBkbGEgdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgZ2V0Tm90aWZpY2F0aW9ucyh1c2VyOiBVc2VyLCBvcHRpb25zPzoge1xyXG4gICAgdW5yZWFkT25seT86IGJvb2xlYW5cclxuICAgIGxpbWl0PzogbnVtYmVyXHJcbiAgICB0eXBlPzogTm90aWZpY2F0aW9uWyd0eXBlJ11cclxuICB9KTogUHJvbWlzZTxOb3RpZmljYXRpb25bXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIHVzZXJfaWQsXHJcbiAgICAgICAgICBjbGllbnRfaWQsXHJcbiAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgcmVhZCxcclxuICAgICAgICAgIHVyZ2VudCxcclxuICAgICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIGV4cGlyZXNfYXQsXHJcbiAgICAgICAgICBjbGllbnQ6Y2xpZW50cyAoXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBmaXJzdF9uYW1lLFxyXG4gICAgICAgICAgICBsYXN0X25hbWUsXHJcbiAgICAgICAgICAgIGNvbXBhbnlfbmFtZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAub3JkZXIoJ2NyZWF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuXHJcbiAgICAgIC8vIEZpbHRydWogdHlsa28gbmllcHJ6ZWN6eXRhbmVcclxuICAgICAgaWYgKG9wdGlvbnM/LnVucmVhZE9ubHkpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdyZWFkJywgZmFsc2UpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEZpbHRydWogcG8gdHlwaWVcclxuICAgICAgaWYgKG9wdGlvbnM/LnR5cGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCd0eXBlJywgb3B0aW9ucy50eXBlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBMaW1pdFxyXG4gICAgICBpZiAob3B0aW9ucz8ubGltaXQpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KG9wdGlvbnMubGltaXQpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5XHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcG93aWFkb21pZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKG5vdGlmaWNhdGlvbiA9PiAoe1xyXG4gICAgICAgIC4uLm5vdGlmaWNhdGlvbixcclxuICAgICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUga2xpZW50YSB6IEpPSU5cclxuICAgICAgICBjbGllbnQ6IG5vdGlmaWNhdGlvbi5jbGllbnQgJiYgQXJyYXkuaXNBcnJheShub3RpZmljYXRpb24uY2xpZW50KSAmJiBub3RpZmljYXRpb24uY2xpZW50Lmxlbmd0aCA+IDBcclxuICAgICAgICAgID8gbm90aWZpY2F0aW9uLmNsaWVudFswXVxyXG4gICAgICAgICAgOiBub3RpZmljYXRpb24uY2xpZW50ICYmICFBcnJheS5pc0FycmF5KG5vdGlmaWNhdGlvbi5jbGllbnQpXHJcbiAgICAgICAgICA/IG5vdGlmaWNhdGlvbi5jbGllbnRcclxuICAgICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICAgIH0pKSBhcyBOb3RpZmljYXRpb25bXVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXROb3RpZmljYXRpb25zOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogbGljemLEmSBuaWVwcnplY3p5dGFueWNoIHBvd2lhZG9taWXFhFxyXG4gIGFzeW5jIGdldFVucmVhZENvdW50KHVzZXI6IFVzZXIpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBjb3VudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAuZXEoJ3JlYWQnLCBmYWxzZSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBsaWN6YnkgbmllcHJ6ZWN6eXRhbnljaDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gY291bnQgfHwgMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGdldFVucmVhZENvdW50OicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gMFxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIE96bmFjeiBwb3dpYWRvbWllbmllIGpha28gcHJ6ZWN6eXRhbmVcclxuICBhc3luYyBtYXJrQXNSZWFkKG5vdGlmaWNhdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnbWFya19ub3RpZmljYXRpb25fYXNfcmVhZCcsIHtcclxuICAgICAgICBub3RpZmljYXRpb25faWQ6IG5vdGlmaWNhdGlvbklkXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIG96bmFjemFuaWEgamFrbyBwcnplY3p5dGFuZTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IG1hcmtBc1JlYWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gT3puYWN6IHdzenlzdGtpZSBwb3dpYWRvbWllbmlhIGpha28gcHJ6ZWN6eXRhbmVcclxuICBhc3luYyBtYXJrQWxsQXNSZWFkKHVzZXI6IFVzZXIpOiBQcm9taXNlPG51bWJlcj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdtYXJrX2FsbF9ub3RpZmljYXRpb25zX2FzX3JlYWQnKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBvem5hY3phbmlhIHdzenlzdGtpY2ggamFrbyBwcnplY3p5dGFuZTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGF0YSB8fCAwXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgbWFya0FsbEFzUmVhZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBVdHfDs3J6IG5vd2UgcG93aWFkb21pZW5pZVxyXG4gIGFzeW5jIGNyZWF0ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb246IE9taXQ8Tm90aWZpY2F0aW9uLCAnaWQnIHwgJ2NyZWF0ZWRfYXQnPik6IFByb21pc2U8Tm90aWZpY2F0aW9uPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcclxuICAgICAgICAuaW5zZXJ0KFtub3RpZmljYXRpb25dKVxyXG4gICAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB0d29yemVuaWEgcG93aWFkb21pZW5pYTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gZGF0YSBhcyBOb3RpZmljYXRpb25cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBjcmVhdGVOb3RpZmljYXRpb246JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gVXN1xYQgcG93aWFkb21pZW5pZVxyXG4gIGFzeW5jIGRlbGV0ZU5vdGlmaWNhdGlvbihub3RpZmljYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcclxuICAgICAgICAuZGVsZXRlKClcclxuICAgICAgICAuZXEoJ2lkJywgbm90aWZpY2F0aW9uSWQpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHVzdXdhbmlhIHBvd2lhZG9taWVuaWE6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBkZWxldGVOb3RpZmljYXRpb246JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gV3ljennFm8SHIHN0YXJlIHBvd2lhZG9taWVuaWFcclxuICBhc3luYyBjbGVhbnVwT2xkTm90aWZpY2F0aW9ucygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnY2xlYW51cF9vbGRfbm90aWZpY2F0aW9ucycpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGN6eXN6Y3plbmlhIHN0YXJ5Y2ggcG93aWFkb21pZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgY2xlYW51cE9sZE5vdGlmaWNhdGlvbnM6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBkemlzaWVqc3plIHByenlwb21uaWVuaWEgZGxhIGRhc2hib2FyZFxyXG4gIGFzeW5jIGdldFRvZGF5UmVtaW5kZXJzKHVzZXI6IFVzZXIpOiBQcm9taXNlPE5vdGlmaWNhdGlvbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcblxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgdXNlcl9pZCxcclxuICAgICAgICAgIGNsaWVudF9pZCxcclxuICAgICAgICAgIHR5cGUsXHJcbiAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgIG1lc3NhZ2UsXHJcbiAgICAgICAgICByZWFkLFxyXG4gICAgICAgICAgdXJnZW50LFxyXG4gICAgICAgICAgbWV0YWRhdGEsXHJcbiAgICAgICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICAgICAgZXhwaXJlc19hdCxcclxuICAgICAgICAgIGNsaWVudDpjbGllbnRzIChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGZpcnN0X25hbWUsXHJcbiAgICAgICAgICAgIGxhc3RfbmFtZSxcclxuICAgICAgICAgICAgY29tcGFueV9uYW1lXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgYClcclxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAgIC5lcSgndHlwZScsICdyZW1pbmRlcicpXHJcbiAgICAgICAgLmd0ZSgnY3JlYXRlZF9hdCcsIGAke3RvZGF5fVQwMDowMDowMC4wMDBaYClcclxuICAgICAgICAubHQoJ2NyZWF0ZWRfYXQnLCBgJHt0b2RheX1UMjM6NTk6NTkuOTk5WmApXHJcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBkemlzaWVqc3p5Y2ggcHJ6eXBvbW5pZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAoZGF0YSB8fCBbXSkubWFwKG5vdGlmaWNhdGlvbiA9PiAoe1xyXG4gICAgICAgIC4uLm5vdGlmaWNhdGlvbixcclxuICAgICAgICBjbGllbnQ6IG5vdGlmaWNhdGlvbi5jbGllbnQgJiYgQXJyYXkuaXNBcnJheShub3RpZmljYXRpb24uY2xpZW50KSAmJiBub3RpZmljYXRpb24uY2xpZW50Lmxlbmd0aCA+IDBcclxuICAgICAgICAgID8gbm90aWZpY2F0aW9uLmNsaWVudFswXVxyXG4gICAgICAgICAgOiBub3RpZmljYXRpb24uY2xpZW50ICYmICFBcnJheS5pc0FycmF5KG5vdGlmaWNhdGlvbi5jbGllbnQpXHJcbiAgICAgICAgICA/IG5vdGlmaWNhdGlvbi5jbGllbnRcclxuICAgICAgICAgIDogdW5kZWZpbmVkXHJcbiAgICAgIH0pKSBhcyBOb3RpZmljYXRpb25bXVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXRUb2RheVJlbWluZGVyczonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIFtdXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gVXJ1Y2hvbSBmdW5rY2plIGdlbmVyb3dhbmlhIHBvd2lhZG9taWXFhCAoZG8gdGVzdG93YW5pYSlcclxuICBhc3luYyB0cmlnZ2VyUmVtaW5kZXJDaGVjaygpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnY3JlYXRlX3JlbWluZGVyX25vdGlmaWNhdGlvbnMnKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB1cnVjaGFtaWFuaWEgc3ByYXdkemFuaWEgcHJ6eXBvbW5pZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgdHJpZ2dlclJlbWluZGVyQ2hlY2s6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgdHJpZ2dlckFudGlzYWxlQ2hlY2soKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2NyZWF0ZV9hbnR5c2FsZV93YXJuaW5ncycpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHVydWNoYW1pYW5pYSBzcHJhd2R6YW5pYSBhbnR5c2FsZTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IHRyaWdnZXJBbnRpc2FsZUNoZWNrOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFN1YnNrcnlwY2phIG5hIHJlYWwtdGltZSBwb3dpYWRvbWllbmlhXHJcbiAgc3Vic2NyaWJlVG9Ob3RpZmljYXRpb25zKHVzZXJJZDogc3RyaW5nLCBjYWxsYmFjazogKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKSA9PiB2b2lkKSB7XHJcbiAgICByZXR1cm4gc3VwYWJhc2VcclxuICAgICAgLmNoYW5uZWwoYG5vdGlmaWNhdGlvbnNfJHt1c2VySWR9YClcclxuICAgICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIGV2ZW50OiAnSU5TRVJUJywgXHJcbiAgICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLCBcclxuICAgICAgICAgIHRhYmxlOiAnbm90aWZpY2F0aW9ucycsXHJcbiAgICAgICAgICBmaWx0ZXI6IGB1c2VyX2lkPWVxLiR7dXNlcklkfWBcclxuICAgICAgICB9LCBcclxuICAgICAgICAocGF5bG9hZCkgPT4ge1xyXG4gICAgICAgICAgY2FsbGJhY2socGF5bG9hZC5uZXcgYXMgTm90aWZpY2F0aW9uKVxyXG4gICAgICAgIH1cclxuICAgICAgKVxyXG4gICAgICAuc3Vic2NyaWJlKClcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImdldEF2YXRhclVybCIsImF2YXRhclVybCIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsImRhdGEiLCJzdG9yYWdlIiwiZnJvbSIsImdldFB1YmxpY1VybCIsInB1YmxpY1VybCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJzdG9yYWdlQXBpIiwidXBsb2FkQ1NWIiwiZmlsZSIsInVzZXIiLCJjbGVhbkZpbGVOYW1lIiwibmFtZSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImZpbGVOYW1lIiwiaWQiLCJEYXRlIiwibm93IiwiZmlsZVBhdGgiLCJsb2ciLCJ1cGxvYWQiLCJjYWNoZUNvbnRyb2wiLCJ1cHNlcnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJwYXRoIiwiZGVsZXRlRmlsZSIsInJlbW92ZSIsImNzdkltcG9ydEFwaSIsInBhcnNlQ1NWIiwiY3N2VGV4dCIsImxpbmVzIiwic3BsaXQiLCJmaWx0ZXIiLCJsaW5lIiwidHJpbSIsImxlbmd0aCIsInBhcnNlQ1NWTGluZSIsInJlc3VsdCIsImN1cnJlbnQiLCJpblF1b3RlcyIsImkiLCJjaGFyIiwicHVzaCIsIm1hcCIsImNlbGwiLCJoZWFkZXJzIiwicm93cyIsInNsaWNlIiwibWFwSGVhZGVycyIsIm1hcHBpbmciLCJmaWVsZE1hcHBpbmdzIiwiZmllbGRzIiwiZGJGaWVsZCIsImZpZWxkTWFwcGluZyIsImhlYWRlciIsInNvbWUiLCJmaWVsZCIsInZhbGlkYXRlUmVxdWlyZWRGaWVsZHMiLCJyZXF1aXJlZEZpZWxkcyIsIm1pc3NpbmdGaWVsZHMiLCJqb2luIiwiYW5hbHl6ZUNvbHVtbnMiLCJhbGxQb3NzaWJsZUZpZWxkcyIsImRpc3BsYXlOYW1lIiwicmVxdWlyZWQiLCJmb3VuZCIsIm1pc3NpbmciLCJvcHRpb25hbCIsImZvckVhY2giLCJyb3dUb0NsaWVudCIsInJvdyIsImxvY2F0aW9uSWQiLCJnZXRGaWVsZCIsImRlZmF1bHRWYWx1ZSIsImluZGV4IiwidW5kZWZpbmVkIiwidmFsdWUiLCJyYXdTdGF0dXMiLCJ2YWxpZFN0YXR1c2VzIiwic3RhdHVzIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImNvbXBhbnlfbmFtZSIsIm5pcCIsInBob25lIiwiZW1haWwiLCJ3ZWJzaXRlIiwibm90ZXMiLCJlZGl0ZWRfYnkiLCJlZGl0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsIm93bmVyX2lkIiwibG9jYXRpb25faWQiLCJsYXN0X2VkaXRlZF9ieV9uYW1lIiwiZnVsbF9uYW1lIiwibGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCIsImF2YXRhcl91cmwiLCJpbXBvcnRDU1YiLCJvblByb2dyZXNzIiwidG90YWwiLCJ0ZXh0IiwiY29sdW1uQW5hbHlzaXMiLCJyZXN1bHRzIiwic3VjY2VzcyIsImVycm9ycyIsImV2ZXJ5IiwiY2xpZW50RGF0YSIsImNsaWVudHNBcGkiLCJwcm9ncmVzcyIsIk1hdGgiLCJmbG9vciIsInBlcm1pc3Npb25zQXBpIiwiY2FuVmlldyIsImNsaWVudCIsInJvbGUiLCJzYW1lTG9jYXRpb24iLCJjYW5FZGl0IiwiY2FuRGVsZXRlIiwiY2FuQXNzaWduQ2xpZW50cyIsImNhbkNoYW5nZVJvbGVzIiwiY2FuQWNjZXNzQWR2YW5jZWRSZXBvcnRzIiwiY2FuVmlld0FsbExvY2F0aW9ucyIsImNhbkZpbHRlckJ5TG9jYXRpb24iLCJjYW5NYW5hZ2VVc2VyIiwidXNlcjEiLCJ1c2VyMiIsImhpZ2hlckluSGllcmFyY2h5Iiwicm9sZV9oaWVyYXJjaHlfbGV2ZWwiLCJ0ZXN0QmFzaWNRdWVyeSIsInNlbGVjdCIsImxpbWl0IiwiZ2V0Q2xpZW50c1BhZ2luYXRlZCIsImZpbHRlcnMiLCJxdWVyeSIsImNvdW50Iiwic29ydEZpZWxkIiwic29ydEJ5IiwiaXNBc2NlbmRpbmciLCJzb3J0RGlyZWN0aW9uIiwib3JkZXIiLCJhc2NlbmRpbmciLCJkYXRlIiwiZ3RlIiwiZXEiLCJlbXBsb3llZSIsInNlYXJjaCIsInNlYXJjaFRlcm0iLCJvciIsImxvY2F0aW9uIiwicGFnZSIsInBhZ2VTaXplIiwidG8iLCJyYW5nZSIsImNsaWVudHMiLCJ0cmFuc2Zvcm1lZENsaWVudHMiLCJvd25lciIsIkFycmF5IiwiaXNBcnJheSIsImNsaWVudHNXaXRoT3duZXJzIiwiY2xpZW50c1dpdGhvdXRPd25lcnMiLCJvd25lcl9uYW1lIiwib3duZXJfZW1haWwiLCJnZXRDbGllbnRzIiwic2FmZVN0YXR1cyIsImNsaWVudFRvQ3JlYXRlIiwic3RhdHVzX2NoYW5nZWRfYXQiLCJyZW1pbmRlciIsImluc2VydCIsInNpbmdsZSIsInVwZGF0ZUNsaWVudCIsInVwZGF0ZXMiLCJjdXJyZW50Q2xpZW50IiwiZmV0Y2hFcnJvciIsInVwZGF0ZWREYXRhIiwic3RhdHVzQ2hhbmdlZCIsImZpbmFsRGF0YSIsInVwZGF0ZWRfYXQiLCJ1cGRhdGUiLCJjb2RlIiwiZGV0YWlscyIsImhpbnQiLCJ1cGRhdGVMYXN0UGhvbmVDbGljayIsImNsaWVudElkIiwibGFzdF9waG9uZV9jbGljayIsImFjdGl2aXR5TG9nc0FwaSIsImNyZWF0ZUxvZyIsImNsaWVudF9pZCIsImNoYW5nZWRfYnkiLCJjaGFuZ2VfdHlwZSIsImZpZWxkX2NoYW5nZWQiLCJvbGRfdmFsdWUiLCJuZXdfdmFsdWUiLCJsb2dFcnJvciIsImRlbGV0ZUNsaWVudCIsImRlbGV0ZSIsImFzc2lnbkNsaWVudCIsIm5ld093bmVySWQiLCJjbGVhbnVwSW52YWxpZE93bmVySWRzIiwiYWxsQ2xpZW50cyIsImNsaWVudHNFcnJvciIsIm5vdCIsImNsZWFuZWQiLCJvd25lcklkcyIsIlNldCIsImMiLCJleGlzdGluZ1VzZXJzIiwidXNlcnNFcnJvciIsImluIiwiZXhpc3RpbmdVc2VySWRzIiwidSIsImNsaWVudHNUb0NsZWFuIiwiY2xlYW51cFJlc3VsdHMiLCJlcnIiLCJTdHJpbmciLCJjbGVhbmVkQ2xpZW50cyIsInN1YnNjcmliZVRvQ2hhbmdlcyIsImNhbGxiYWNrIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInN1YnNjcmliZSIsInN1YnNjcmliZVRvT3duZXJDaGFuZ2VzIiwiY2hhbm5lbE5hbWUiLCJwYXlsb2FkIiwiZXZlbnRUeXBlIiwiY2hhbmdlcyIsIm5ldyIsImNhbGxiYWNrRXJyb3IiLCJzZXRUaW1lb3V0Iiwic3RhdGUiLCJ1bnN1YnNjcmliZSIsImdldENsaWVudHNXaXRoUmVtaW5kZXJzIiwidGFyZ2V0RGF0ZSIsInRvZGF5IiwiY2xpZW50c1dpdGhUb2RheVJlbWluZGVycyIsImVuYWJsZWQiLCJ0aW1lIiwibm90ZSIsInNvcnRlZENsaWVudHMiLCJzb3J0IiwiYSIsImIiLCJ0aW1lQSIsInRpbWVCIiwibG9jYWxlQ29tcGFyZSIsImdldERhaWx5U2NoZWR1bGVXaXRoQ2xpZW50cyIsImNsaWVudHNXaXRoUmVtaW5kZXJzIiwidGltZVNsb3RzIiwidHlwZSIsImNvbG9yIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInN0YXR1c2VzIiwic2xvdHNXaXRoQ2xpZW50cyIsInNsb3QiLCJzbG90Q2xpZW50cyIsInJlbWluZGVyVGltZSIsImhvdXJzIiwibWludXRlcyIsIk51bWJlciIsInJlbWluZGVyTWludXRlcyIsInN0YXJ0SG91cnMiLCJzdGFydE1pbnMiLCJlbmRIb3VycyIsImVuZE1pbnMiLCJzdGFydE1pbnV0ZXMiLCJlbmRNaW51dGVzIiwidGltZUluU2xvdCIsInJlZHVjZSIsInN1bSIsImdldExvZ3MiLCJnZXRDbGllbnRIaXN0b3J5IiwiYXV0aCIsImdldFVzZXIiLCJKU09OIiwic3RyaW5naWZ5IiwidXNlcklkcyIsIkJvb2xlYW4iLCJ1c2VycyIsInVzZXJzTWFwIiwiYWNjIiwidGltZXN0YW1wIiwiZWRpdG9yX25hbWUiLCJlZGl0b3Jfcm9sZSIsImVkaXRvcl9hdmF0YXIiLCJ0ZXN0QWN0aXZpdHlMb2dzQWNjZXNzIiwidXNlclByb2ZpbGUiLCJ1c2VyRXJyb3IiLCJyZXBvcnRzQXBpIiwiZ2V0RW1wbG95ZWVTdGF0cyIsImFsbEVtcGxveWVlcyIsImUiLCJlbXBsb3llZUlkcyIsImVtcCIsImV4aXN0aW5nU3RhdHMiLCJzdGF0c0Vycm9yIiwidG9kYXlDbGllbnRzIiwibHQiLCJ5ZXN0ZXJkYXkiLCJzZXREYXRlIiwiZ2V0RGF0ZSIsInllc3RlcmRheVN0ciIsInllc3RlcmRheUNsaWVudHMiLCJ5ZXN0ZXJkYXlFcnJvciIsImFsbE93bmVkQ2xpZW50cyIsIm93bmVkRXJyb3IiLCJ0b2RheVN0YXRzIiwidXNlcklkIiwiY2FudmFzIiwiYW50eXNhbGUiLCJzYWxlIiwib3RoZXIiLCJ5ZXN0ZXJkYXlTdGF0cyIsIm93bmVkQ2xpZW50c1N0YXRzIiwib3duZXJJZCIsImJyYWtfa29udGFrdHUiLCJuaWVfemFpbnRlcmVzb3dhbnkiLCJ6ZGVuZXJ3b3dhbnkiLCJzdGF0c01hcCIsIk1hcCIsInN0YXQiLCJzZXQiLCJ1c2VyX2lkIiwiZW5oYW5jZWRTdGF0cyIsImJhc2ljU3RhdCIsImdldCIsImRhaWx5X3RhcmdldCIsImNvbW1pc3Npb25fcmF0ZSIsIm1vbnRobHlfY2FudmFzIiwibW9udGhseV9hbnR5c2FsZSIsIm1vbnRobHlfc2FsZSIsInRvdGFsX2NvbW1pc3Npb25zIiwidG90YWxfcGVuYWx0aWVzIiwiY3VzdG9tX2NsaWVudHNfY291bnQiLCJjdXN0b21fdG90YWxfcGF5bWVudHMiLCJjcmVhdGVkX2F0IiwidG9kYXlGb3JVc2VyIiwieWVzdGVyZGF5Rm9yVXNlciIsIm93bmVkRm9yVXNlciIsInllc3RlcmRheVNob3J0YWdlIiwibWF4IiwicGVuYWx0eSIsImNvbW1pc3Npb24iLCJkYWlseV9hY2hpZXZlZCIsInllc3RlcmRheV9zaG9ydGFnZSIsInN0YXR1c19jaGFuZ2VzX3RvZGF5IiwicyIsImdldERhaWx5U3VtbWFyeSIsInN0YXR1c0JyZWFrZG93biIsImVtcGxveWVlU3RhdHMiLCJ0b3RhbENsaWVudHMiLCJnZXRXZWVrbHlTdW1tYXJ5Iiwic3RhcnREYXRlIiwiZW5kRGF0ZSIsInVwZGF0ZUVtcGxveWVlU3RhdHMiLCJjdXJyZW50VXNlciIsInVwZGF0ZUVtcGxveWVlQ2xpZW50U3RhdHMiLCJjbGllbnRzQ291bnQiLCJ0b3RhbFBheW1lbnRzIiwibGVnYWN5VXBkYXRlcyIsIm1ldGhvZDFFcnJvciIsImluc2VydERhdGEiLCJvbkNvbmZsaWN0IiwiaWdub3JlRHVwbGljYXRlcyIsIm1ldGhvZDJFcnJvciIsImNyZWF0ZUVtcGxveWVlU3RhdHMiLCJnZXREYXRhYmFzZVV0aWxpemF0aW9uIiwidG90YWxDb3VudCIsInRvdGFsRXJyb3IiLCJoZWFkIiwid2l0aE93bmVyQ291bnQiLCJ3aXRoT3duZXJFcnJvciIsIndpdGhvdXRPd25lckNvdW50IiwidXRpbGl6YXRpb25QZXJjZW50YWdlIiwicm91bmQiLCJ3aXRoT3duZXIiLCJ3aXRob3V0T3duZXIiLCJyZXNldEFsbENsaWVudE93bmVycyIsImJlZm9yZUNvdW50IiwiYmVmb3JlRXJyb3IiLCJyZXNldENvdW50IiwiZ2V0RW1wbG95ZWVBY3Rpdml0eVN0YXRzIiwiZW1wbG95ZWVzIiwiYWN0aXZpdHlTdGF0cyIsInN0YXRzIiwibGF0ZXN0U3RhdHNNYXAiLCJoYXMiLCJzaXplIiwiYWN0aXZpdHlTdGF0IiwiY3VycmVudERhdGUiLCJjdXJyZW50TW9udGgiLCJnZXRNb250aCIsImN1cnJlbnRZZWFyIiwiZ2V0RnVsbFllYXIiLCJtb250aFN0YXJ0IiwidG9TdHJpbmciLCJwYWRTdGFydCIsIm1vbnRoRW5kIiwicGVyaW9kX3R5cGUiLCJwZXJpb2Rfc3RhcnQiLCJwZXJpb2RfZW5kIiwidG90YWxfd29ya19taW51dGVzIiwiYXZlcmFnZV9kYWlseV9taW51dGVzIiwiZXhwZWN0ZWRfd29ya19taW51dGVzIiwiZWZmaWNpZW5jeV9wZXJjZW50YWdlIiwidG90YWxfYWN0aXZpdGllcyIsImF2ZXJhZ2VfZGFpbHlfYWN0aXZpdGllcyIsImRheXNfd29ya2VkIiwiZGF5c19hYnNlbnQiLCJ3aXRoRGF0YSIsInIiLCJ3aXRob3V0RGF0YSIsImdldFNhbGVzVHJlbmRzIiwibHRlIiwiZmlsdGVyZWREYXRhIiwiZGF5TmFtZXMiLCJ0cmVuZHMiLCJkYXlOYW1lIiwiZ2V0RGF5IiwiZGF5IiwiZ2V0UGhvbmVDbGlja3NTdGF0cyIsImVtcGxveWVlc0Vycm9yIiwidG90YWxQaG9uZUNhbGxzIiwidG90YWxQaG9uZUNhbGxzVG9kYXkiLCJhbGxQaG9uZUNsaWNrcyIsImFsbENsaWNrc0Vycm9yIiwidG9kYXlQaG9uZUNsaWNrcyIsInRvZGF5Q2xpY2tzRXJyb3IiLCJnZXRUZWFtUGVyZm9ybWFuY2VUcmVuZHMiLCJ0ZWxlZm9ueSIsImtvbndlcnNqYSIsImtsaWVuY2kiLCJwaG9uZUNsaWNrcyIsInBob25lRXJyb3IiLCJjbGllbnRDaGFuZ2VzIiwiY2hhbmdlc0Vycm9yIiwidHJlbmRzRGF0YSIsInNhbGVzIiwiY2xpY2siLCJjaGFuZ2UiLCJkYXlEYXRhIiwiZ2V0TXlQZXJzb25hbFN0YXRzIiwic3RhcnRPZk1vbnRoIiwiZW5kT2ZNb250aCIsInBob25lQ2FsbHNUaGlzTW9udGgiLCJteUNsaWVudHMiLCJzdGF0dXNNYXAiLCJPYmplY3QiLCJmcm9tRW50cmllcyIsInN0YXR1c0NvbG9ycyIsImNsaWVudFN0YXRzIiwiZW50cmllcyIsImNvbW1pc3Npb25Ub3RhbCIsImFjdGl2aXRpZXMiLCJhY3Rpdml0aWVzRXJyb3IiLCJkYWlseUFjdGl2aXRpZXMiLCJhY3Rpdml0eSIsImhvdXIiLCJnZXRIb3VycyIsImFkZCIsIndvcmtpbmdIb3Vyc1RoaXNNb250aCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsIndlZWtkYXkiLCJzb3J0RGF0ZSIsImdldFRpbWUiLCJ0b3RhbFdvcmtpbmdIb3VycyIsInZhbHVlcyIsInRvdGFsV29ya2luZ0RheXMiLCJzdGFjayIsInNhdmVXb3JraW5nSG91cnMiLCJkYXRlUGFydHMiLCJ5ZWFyIiwicGFyc2VJbnQiLCJtb250aCIsImRhdGVPYmoiLCJkYXlPZldlZWsiLCJ3b3JrX2RhdGUiLCJob3Vyc193b3JrZWQiLCJzdG9yYWdlS2V5IiwiZXhpc3RpbmdEYXRhIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0SXRlbSIsInN0b3JhZ2VFcnJvciIsImdldFdvcmtpbmdIb3Vyc0Zvck1vbnRoIiwic3RvcmVkRGF0YSIsImhvdXJzTWFwIiwia2V5cyIsImVudHJ5Iiwic3RhcnREYXRlU3RyIiwiZW5kRGF0ZVN0ciIsImdldE1vbnRobHlFbXBsb3llZVBlcmZvcm1hbmNlIiwicnBjIiwidGFyZ2V0X3llYXIiLCJ0YXJnZXRfbW9udGgiLCJnZXRUZWFtU3VtbWFyeSIsImdldFRvcFBlcmZvcm1lcnMiLCJsaW1pdF9jb3VudCIsImxvY2F0aW9uc0FwaSIsImdldEFsbExvY2F0aW9ucyIsImdldEFsbExvY2F0aW9uc1dpdGhNYW5hZ2VycyIsInRyYW5zZm9ybWVkRGF0YSIsInByb2plY3RfbWFuYWdlciIsImdldFVzZXJBY2Nlc3NpYmxlTG9jYXRpb25zIiwibG9jYXRpb25FcnJvciIsImZhbGxiYWNrRXJyb3IiLCJnZXRMb2NhdGlvbkJ5SWQiLCJ1cGRhdGVMb2NhdGlvblByb2plY3RNYW5hZ2VyIiwicHJvamVjdE1hbmFnZXJJZCIsInByb2plY3RfbWFuYWdlcl9pZCIsImF1dGhBcGkiLCJzaWduSW4iLCJwYXNzd29yZCIsInNpZ25JbldpdGhQYXNzd29yZCIsInNpZ25VcCIsImZ1bGxOYW1lIiwib3B0aW9ucyIsInNpZ25PdXQiLCJnZXRDdXJyZW50VXNlciIsImdldFVzZXJQcm9maWxlIiwiZ2V0QWxsVXNlcnMiLCJnZXRTZXNzaW9uIiwic2Vzc2lvbiIsIm9uQXV0aFN0YXRlQ2hhbmdlIiwidXBkYXRlVXNlckxhbmd1YWdlIiwibGFuZ3VhZ2UiLCJ1cGRhdGVVc2VyIiwidGFyZ2V0VXNlciIsInByb21vdGVUb1Byb2plY3RNYW5hZ2VyIiwiYXNzaWduSnVuaW9yTWFuYWdlclRvUHJvamVjdE1hbmFnZXIiLCJqdW5pb3JNYW5hZ2VySWQiLCJqdW5pb3JNYW5hZ2VyIiwianVuaW9yRXJyb3IiLCJwcm9qZWN0TWFuYWdlciIsInByb2plY3RFcnJvciIsImVtcGxveWVlc0xpc3QiLCJ1cGRhdGVkSnVuaW9yTWFuYWdlciIsInVwZGF0ZUVycm9yIiwibWFuYWdlcl9pZCIsInVwZGF0ZWRFbXBsb3llZXMiLCJ1cGRhdGVkRW1wbG95ZWUiLCJtb3ZlRXJyb3IiLCJhZmZlY3RlZEVtcGxveWVlcyIsImdldE1hbmFnZXJIaWVyYXJjaHkiLCJtYW5hZ2VySWQiLCJtYW5hZ2VyIiwibWFuYWdlckVycm9yIiwiZGlyZWN0UmVwb3J0cyIsImRpcmVjdEVycm9yIiwiYWxsU3Vib3JkaW5hdGVzIiwic3Vib3JkaW5hdGUiLCJzdWJFbXBsb3llZXMiLCJzdWJFcnJvciIsImdldEF2YWlsYWJsZVByb2plY3RNYW5hZ2VycyIsImdldFVuYXNzaWduZWRKdW5pb3JNYW5hZ2VycyIsImlzIiwiZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IiwicHJvZmlsZUVycm9yIiwiY3JpdGljYWxFcnJvciIsImdldENhbnZhc1N0YXR1c0NvbG9yIiwic3RhdHVzQ2hhbmdlZEF0IiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsInN0YXR1c0RhdGUiLCJkYXlzRGlmZiIsImdldENhbnZhc0NsaWVudHNXaXRoUHJpb3JpdHkiLCJjYW52YXNDbGllbnRzIiwicHJpb3JpdHlTdGF0cyIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJkYXNoYm9hcmRBcGkiLCJnZXREYXNoYm9hcmRNZXRyaWNzIiwiY2hlY2tWaWV3RnJlc2huZXNzIiwibGFzdFVwZGF0ZSIsIm1pbnV0ZXNTaW5jZVVwZGF0ZSIsImlzU3RhbGUiLCJsYXN0X3VwZGF0ZWQiLCJ0ZWFtQXBpIiwiZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXciLCJnZXRBY3RpdmVVc2Vyc05vdyIsImdldFByb2R1Y3Rpdml0eVN0YXRzIiwidG90YWxVc2VycyIsImF2Z0RhaWx5IiwiYWN0aXZpdGllc18yNGgiLCJhdmdXZWVrbHkiLCJhY3Rpdml0aWVzXzdkIiwiYXZnRGFpbHlBY3Rpdml0aWVzIiwiYXZnV2Vla2x5QWN0aXZpdGllcyIsInRvdGFsRGFpbHlBY3Rpdml0aWVzIiwidG90YWxXZWVrbHlBY3Rpdml0aWVzIiwicGVyZm9ybWFuY2VBcGkiLCJnZXRTeXN0ZW1NZXRyaWNzIiwidGFibGVTdGF0cyIsImdldFRhYmxlU3RhdHMiLCJ0YWJsZU5hbWUiLCJ0YWJsZV9uYW1lIiwicmVjb3JkX2NvdW50IiwidGFibGVfc2l6ZSIsInRhYmxlcyIsInJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyIsImFyY2hpdmVPbGRMb2dzIiwib3B0aW1pemVEYXRhYmFzZSIsImNhbGxzQXBpIiwiZ2V0Q2FsbHMiLCJjYWxsTG9ncyIsImNhbGxlcklkcyIsImNhbGxlcnMiLCJjYWxsZXJzRXJyb3IiLCJjYWxsZXJzTWFwIiwiY2FsbGVyIiwiY2FsbFJlY29yZHMiLCJjbGllbnRfbmFtZSIsImNsaWVudF9jb21wYW55IiwiY2xpZW50X3Bob25lIiwiY2FsbGVkX2J5IiwiY2FsbGVyX25hbWUiLCJjYWxsZXJfcm9sZSIsImNhbGxlcl9hdmF0YXIiLCJjYWxsX3RpbWVzdGFtcCIsImxvY2F0aW9uX25hbWUiLCJsb2NhdGlvbl9jb2RlIiwiZ2V0Q2FsbHNTdGF0cyIsIndlZWtTdGFydCIsImFsbENhbGxzIiwidG90YWxDYWxscyIsImNhbGxzVG9kYXkiLCJjYWxsIiwiY2FsbHNUaGlzV2VlayIsImNhbGxzVGhpc01vbnRoIiwiY2FsbGVyQ291bnRzIiwia2V5IiwiYXZhdGFyIiwidG9wQ2FsbGVycyIsIm5vdGlmaWNhdGlvbnNBcGkiLCJnZXROb3RpZmljYXRpb25zIiwidW5yZWFkT25seSIsIm5vdGlmaWNhdGlvbiIsImdldFVucmVhZENvdW50IiwibWFya0FzUmVhZCIsIm5vdGlmaWNhdGlvbklkIiwibm90aWZpY2F0aW9uX2lkIiwibWFya0FsbEFzUmVhZCIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImRlbGV0ZU5vdGlmaWNhdGlvbiIsImNsZWFudXBPbGROb3RpZmljYXRpb25zIiwiZ2V0VG9kYXlSZW1pbmRlcnMiLCJ0cmlnZ2VyUmVtaW5kZXJDaGVjayIsInRyaWdnZXJBbnRpc2FsZUNoZWNrIiwic3Vic2NyaWJlVG9Ob3RpZmljYXRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kkacp_Desktop_SpecresCRMv2_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/performance-check/route.ts */ \"(rsc)/./app/api/admin/performance-check/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"standalone\"\r\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/admin/performance-check/route\",\r\n        pathname: \"/api/admin/performance-check\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/admin/performance-check/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\kkacp\\\\Desktop\\\\SpecresCRMv2\\\\SpectresGroupCRM\\\\dashboard\\\\app\\\\api\\\\admin\\\\performance-check\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_kkacp_Desktop_SpecresCRMv2_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        workAsyncStorage,\r\n        workUnitAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZwZXJmb3JtYW5jZS1jaGVjayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjcmVzQ1JNdjIlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjcmVzQ1JNdjIlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDa0U7QUFDL0k7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDMUY7QUFDQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcclxuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xyXG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XHJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxra2FjcFxcXFxEZXNrdG9wXFxcXFNwZWNyZXNDUk12MlxcXFxTcGVjdHJlc0dyb3VwQ1JNXFxcXGRhc2hib2FyZFxcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXHBlcmZvcm1hbmNlLWNoZWNrXFxcXHJvdXRlLnRzXCI7XHJcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxyXG4vLyBtb2R1bGUuXHJcbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcInN0YW5kYWxvbmVcIlxyXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcclxuICAgIGRlZmluaXRpb246IHtcclxuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxyXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hZG1pbi9wZXJmb3JtYW5jZS1jaGVjay9yb3V0ZVwiLFxyXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vcGVyZm9ybWFuY2UtY2hlY2tcIixcclxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxyXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG1pbi9wZXJmb3JtYW5jZS1jaGVjay9yb3V0ZVwiXHJcbiAgICB9LFxyXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxra2FjcFxcXFxEZXNrdG9wXFxcXFNwZWNyZXNDUk12MlxcXFxTcGVjdHJlc0dyb3VwQ1JNXFxcXGRhc2hib2FyZFxcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXHBlcmZvcm1hbmNlLWNoZWNrXFxcXHJvdXRlLnRzXCIsXHJcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxyXG4gICAgdXNlcmxhbmRcclxufSk7XHJcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxyXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2VcclxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cclxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xyXG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xyXG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcclxuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxyXG4gICAgICAgIHdvcmtVbml0QXN5bmNTdG9yYWdlXHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBwYXRjaEZldGNoLCAgfTtcclxuXHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpecresCRMv2%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();