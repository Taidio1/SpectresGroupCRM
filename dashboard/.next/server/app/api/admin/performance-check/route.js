/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/performance-check/route";
exports.ids = ["app/api/admin/performance-check/route"];
exports.modules = {

/***/ "(rsc)/./app/api/admin/performance-check/route.ts":
/*!**************************************************!*\
  !*** ./app/api/admin/performance-check/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n/**\r\n * üîç PERFORMANCE MONITORING: System Performance Check\r\n * \r\n * Endpoint dla sprawdzania metryk wydajno≈õci systemu\r\n * \r\n * Zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\r\n */ function generateRecommendations(tableStats) {\n    const recommendations = [];\n    if (!tableStats || !Array.isArray(tableStats)) {\n        recommendations.push('Nie mo≈ºna sprawdziƒá statystyk tabel');\n        return recommendations;\n    }\n    // Sprawd≈∫ czy sƒÖ tabele do archiwizacji\n    const activeLogsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs');\n    if (activeLogsTable && activeLogsTable.record_count > 10000) {\n        recommendations.push(`Tabela activity_logs ma ${activeLogsTable.record_count} rekord√≥w - rozwa≈º archiwizacjƒô`);\n    }\n    // Sprawd≈∫ rozmiar g≈Ç√≥wnej tabeli\n    const clientsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs_archive');\n    if (clientsTable && clientsTable.record_count > 50000) {\n        recommendations.push('Tabela archiwalna jest du≈ºa - rozwa≈º czyszczenie bardzo starych danych');\n    }\n    if (recommendations.length === 0) {\n        recommendations.push('System wydajno≈õciowy dzia≈Ça optymalnie');\n    }\n    return recommendations;\n}\nasync function GET() {\n    try {\n        console.log('üîç ADMIN: Sprawdzanie metryk wydajno≈õci systemu...');\n        let tableStats = [];\n        let viewFreshness = {\n            lastUpdate: null,\n            minutesSinceUpdate: 0,\n            isStale: false\n        };\n        const errors = [];\n        // Sprawd≈∫ rozmiary tabel i statystyki (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            tableStats = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.getSystemMetrics();\n            console.log('‚úÖ Statystyki tabel pobrane pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk tabel:', error);\n            errors.push('Nie uda≈Ço siƒô pobraƒá statystyk tabel');\n            // Fallback data\n            tableStats = [\n                {\n                    table_name: 'fallback',\n                    record_count: 0,\n                    table_size: 'Brak danych',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n        // Sprawd≈∫ ostatnie od≈õwie≈ºenie materializowanych widok√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            viewFreshness = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.dashboardApi.checkViewFreshness();\n            console.log('‚úÖ ≈öwie≈ºo≈õƒá widok√≥w sprawdzona pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            errors.push('Nie uda≈Ço siƒô sprawdziƒá ≈õwie≈ºo≈õci widok√≥w');\n            // Fallback data\n            viewFreshness = {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n        // Generuj rekomendacje (zawsze dzia≈ÇajƒÖce)\n        const recommendations = generateRecommendations(tableStats);\n        // Dodaj informacje o b≈Çƒôdach do rekomendacji\n        if (errors.length > 0) {\n            recommendations.unshift(...errors.map((error)=>`‚ö†Ô∏è ${error}`));\n        }\n        console.log('‚úÖ ADMIN: Metryki wydajno≈õci pobrane (z eventualnymi ostrze≈ºeniami)');\n        const overallStatus = errors.length > 0 ? 'warning' : viewFreshness.isStale ? 'warning' : 'healthy';\n        return Response.json({\n            success: true,\n            timestamp: new Date().toISOString(),\n            tableStats,\n            viewFreshness,\n            recommendations,\n            systemHealth: {\n                viewsStale: viewFreshness.isStale,\n                tablesHealthy: tableStats && tableStats.length > 0,\n                overallStatus,\n                hasErrors: errors.length > 0,\n                errorCount: errors.length\n            }\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: Krytyczny b≈ÇƒÖd sprawdzania wydajno≈õci:', error);\n        let errorMessage = 'Krytyczny b≈ÇƒÖd systemu monitorowania wydajno≈õci';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString(),\n            recommendations: [\n                'Sprawd≈∫ po≈ÇƒÖczenie z bazƒÖ danych',\n                'Sprawd≈∫ uprawnienia u≈ºytkownika',\n                'Skontaktuj siƒô z administratorem systemu'\n            ],\n            systemHealth: {\n                viewsStale: true,\n                tablesHealthy: false,\n                overallStatus: 'error',\n                hasErrors: true,\n                errorCount: 1\n            }\n        }, {\n            status: 200\n        }) // Zwr√≥cƒô 200 ale z success: false ≈ºeby frontend m√≥g≈Ç obs≈Çu≈ºyƒá\n        ;\n    }\n}\n/**\r\n * üöÄ POST endpoint dla manualnej optymalizacji systemu\r\n */ async function POST() {\n    try {\n        console.log('üöÄ ADMIN: Uruchamiam pe≈ÇnƒÖ optymalizacjƒô systemu...');\n        const startTime = Date.now();\n        // Uruchom pe≈ÇnƒÖ optymalizacjƒô bazy danych\n        const optimizationResult = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.optimizeDatabase();\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n        console.log(`‚úÖ ADMIN: Optymalizacja zako≈Ñczona w ${duration}ms:`, optimizationResult);\n        return Response.json({\n            success: true,\n            message: optimizationResult,\n            duration: `${duration}ms`,\n            timestamp: new Date().toISOString(),\n            actions: [\n                'Zarchiwizowano stare logi',\n                'Od≈õwie≈ºono materializowane widoki',\n                'Zaktualizowano statystyki bazy danych'\n            ]\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: B≈ÇƒÖd optymalizacji systemu:', error);\n        let errorMessage = 'Nie uda≈Ço siƒô zoptymalizowaƒá systemu';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RDtBQUU5RDs7Ozs7O0NBTUMsR0FFRCxTQUFTRSx3QkFBd0JDLFVBQWlCO0lBQ2hELE1BQU1DLGtCQUE0QixFQUFFO0lBRXBDLElBQUksQ0FBQ0QsY0FBYyxDQUFDRSxNQUFNQyxPQUFPLENBQUNILGFBQWE7UUFDN0NDLGdCQUFnQkcsSUFBSSxDQUFDO1FBQ3JCLE9BQU9IO0lBQ1Q7SUFFQSx3Q0FBd0M7SUFDeEMsTUFBTUksa0JBQWtCTCxXQUFXTSxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFVBQVUsS0FBSztJQUNwRSxJQUFJSCxtQkFBbUJBLGdCQUFnQkksWUFBWSxHQUFHLE9BQU87UUFDM0RSLGdCQUFnQkcsSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUVDLGdCQUFnQkksWUFBWSxDQUFDLCtCQUErQixDQUFDO0lBQy9HO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1DLGVBQWVWLFdBQVdNLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsVUFBVSxLQUFLO0lBQ2pFLElBQUlFLGdCQUFnQkEsYUFBYUQsWUFBWSxHQUFHLE9BQU87UUFDckRSLGdCQUFnQkcsSUFBSSxDQUFDO0lBQ3ZCO0lBRUEsSUFBSUgsZ0JBQWdCVSxNQUFNLEtBQUssR0FBRztRQUNoQ1YsZ0JBQWdCRyxJQUFJLENBQUM7SUFDdkI7SUFFQSxPQUFPSDtBQUNUO0FBRU8sZUFBZVc7SUFDcEIsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFFWixJQUFJZCxhQUFhLEVBQUU7UUFDbkIsSUFBSWUsZ0JBQWdCO1lBQUVDLFlBQVk7WUFBdUJDLG9CQUFvQjtZQUFHQyxTQUFTO1FBQU07UUFDL0YsTUFBTUMsU0FBUyxFQUFFO1FBRWpCLHlEQUF5RDtRQUN6RCxJQUFJO1lBQ0ZuQixhQUFhLE1BQU1ILHlEQUFjQSxDQUFDdUIsZ0JBQWdCO1lBQ2xEUCxRQUFR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QUFFLE9BQU83QixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyx3Q0FBd0NBO1FBRXRELElBQUlrQixlQUFlO1FBQ25CLElBQUlsQixpQkFBaUJtQixPQUFPO1lBQzFCRCxlQUFlbEIsTUFBTW9CLE9BQU87UUFDOUIsT0FBTyxJQUFJLE9BQU9wQixVQUFVLFVBQVU7WUFDcENrQixlQUFlbEI7UUFDakI7UUFFQSxPQUFPUyxTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFgsT0FBT2tCO1lBQ1BOLFdBQVcsSUFBSVQsT0FBT0MsV0FBVztRQUNuQyxHQUFHO1lBQUVpQixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxra2FjcFxcRGVza3RvcFxcU3BlY3RyZXNHcm91cENSTVxcZGFzaGJvYXJkXFxhcHBcXGFwaVxcYWRtaW5cXHBlcmZvcm1hbmNlLWNoZWNrXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZXJmb3JtYW5jZUFwaSwgZGFzaGJvYXJkQXBpIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xyXG5cclxuLyoqXHJcbiAqIPCflI0gUEVSRk9STUFOQ0UgTU9OSVRPUklORzogU3lzdGVtIFBlcmZvcm1hbmNlIENoZWNrXHJcbiAqIFxyXG4gKiBFbmRwb2ludCBkbGEgc3ByYXdkemFuaWEgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXVcclxuICogXHJcbiAqIFpnb2RuaWUgeiBJTlNUUlVLQ0pFX1BFUkZPUk1BTkNFX09QVElNSVpBVElPTlMubWRcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyh0YWJsZVN0YXRzOiBhbnlbXSk6IHN0cmluZ1tdIHtcclxuICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdID0gW11cclxuICBcclxuICBpZiAoIXRhYmxlU3RhdHMgfHwgIUFycmF5LmlzQXJyYXkodGFibGVTdGF0cykpIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdOaWUgbW/FvG5hIHNwcmF3ZHppxIcgc3RhdHlzdHlrIHRhYmVsJylcclxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNcclxuICB9XHJcbiAgXHJcbiAgLy8gU3ByYXdkxbogY3p5IHPEhSB0YWJlbGUgZG8gYXJjaGl3aXphY2ppXHJcbiAgY29uc3QgYWN0aXZlTG9nc1RhYmxlID0gdGFibGVTdGF0cy5maW5kKHN0YXQgPT4gc3RhdC50YWJsZV9uYW1lID09PSAnYWN0aXZpdHlfbG9ncycpXHJcbiAgaWYgKGFjdGl2ZUxvZ3NUYWJsZSAmJiBhY3RpdmVMb2dzVGFibGUucmVjb3JkX2NvdW50ID4gMTAwMDApIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKGBUYWJlbGEgYWN0aXZpdHlfbG9ncyBtYSAke2FjdGl2ZUxvZ3NUYWJsZS5yZWNvcmRfY291bnR9IHJla29yZMOzdyAtIHJvendhxbwgYXJjaGl3aXphY2rEmWApXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNwcmF3ZMW6IHJvem1pYXIgZ8WCw7N3bmVqIHRhYmVsaVxyXG4gIGNvbnN0IGNsaWVudHNUYWJsZSA9IHRhYmxlU3RhdHMuZmluZChzdGF0ID0+IHN0YXQudGFibGVfbmFtZSA9PT0gJ2FjdGl2aXR5X2xvZ3NfYXJjaGl2ZScpXHJcbiAgaWYgKGNsaWVudHNUYWJsZSAmJiBjbGllbnRzVGFibGUucmVjb3JkX2NvdW50ID4gNTAwMDApIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdUYWJlbGEgYXJjaGl3YWxuYSBqZXN0IGR1xbxhIC0gcm96d2HFvCBjenlzemN6ZW5pZSBiYXJkem8gc3RhcnljaCBkYW55Y2gnKVxyXG4gIH1cclxuICBcclxuICBpZiAocmVjb21tZW5kYXRpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ1N5c3RlbSB3eWRham5vxZtjaW93eSBkemlhxYJhIG9wdHltYWxuaWUnKVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVjb21tZW5kYXRpb25zXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEFETUlOOiBTcHJhd2R6YW5pZSBtZXRyeWsgd3lkYWpub8WbY2kgc3lzdGVtdS4uLicpXHJcbiAgICBcclxuICAgIGxldCB0YWJsZVN0YXRzID0gW11cclxuICAgIGxldCB2aWV3RnJlc2huZXNzID0geyBsYXN0VXBkYXRlOiBudWxsIGFzIHN0cmluZyB8IG51bGwsIG1pbnV0ZXNTaW5jZVVwZGF0ZTogMCwgaXNTdGFsZTogZmFsc2UgfVxyXG4gICAgY29uc3QgZXJyb3JzID0gW11cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbogcm96bWlhcnkgdGFiZWwgaSBzdGF0eXN0eWtpICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICB0cnkge1xyXG4gICAgICB0YWJsZVN0YXRzID0gYXdhaXQgcGVyZm9ybWFuY2VBcGkuZ2V0U3lzdGVtTWV0cmljcygpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHlzdHlraSB0YWJlbCBwb2JyYW5lIHBvbXnFm2xuaWUnKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayB0YWJlbDonLCBlcnJvcilcclxuICAgICAgZXJyb3JzLnB1c2goJ05pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHN0YXR5c3R5ayB0YWJlbCcpXHJcbiAgICAgIC8vIEZhbGxiYWNrIGRhdGFcclxuICAgICAgdGFibGVTdGF0cyA9IFt7XHJcbiAgICAgICAgdGFibGVfbmFtZTogJ2ZhbGxiYWNrJyxcclxuICAgICAgICByZWNvcmRfY291bnQ6IDAsXHJcbiAgICAgICAgdGFibGVfc2l6ZTogJ0JyYWsgZGFueWNoJyxcclxuICAgICAgICBsYXN0X3VwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9XVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBvc3RhdG5pZSBvZMWbd2llxbxlbmllIG1hdGVyaWFsaXpvd2FueWNoIHdpZG9rw7N3ICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICB0cnkge1xyXG4gICAgICB2aWV3RnJlc2huZXNzID0gYXdhaXQgZGFzaGJvYXJkQXBpLmNoZWNrVmlld0ZyZXNobmVzcygpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgxZp3aWXFvG/Fm8SHIHdpZG9rw7N3IHNwcmF3ZHpvbmEgcG9tecWbbG5pZScpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHNwcmF3ZHphbmlhIMWbd2llxbxvxZtjaSB3aWRva8OzdzonLCBlcnJvcilcclxuICAgICAgZXJyb3JzLnB1c2goJ05pZSB1ZGHFgm8gc2nEmSBzcHJhd2R6acSHIMWbd2llxbxvxZtjaSB3aWRva8OzdycpXHJcbiAgICAgIC8vIEZhbGxiYWNrIGRhdGFcclxuICAgICAgdmlld0ZyZXNobmVzcyA9IHsgXHJcbiAgICAgICAgbGFzdFVwZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBcclxuICAgICAgICBtaW51dGVzU2luY2VVcGRhdGU6IDAsIFxyXG4gICAgICAgIGlzU3RhbGU6IGZhbHNlIFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEdlbmVydWogcmVrb21lbmRhY2plICh6YXdzemUgZHppYcWCYWrEhWNlKVxyXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModGFibGVTdGF0cylcclxuICAgIFxyXG4gICAgLy8gRG9kYWogaW5mb3JtYWNqZSBvIGLFgsSZZGFjaCBkbyByZWtvbWVuZGFjamlcclxuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZWNvbW1lbmRhdGlvbnMudW5zaGlmdCguLi5lcnJvcnMubWFwKGVycm9yID0+IGDimqDvuI8gJHtlcnJvcn1gKSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ+KchSBBRE1JTjogTWV0cnlraSB3eWRham5vxZtjaSBwb2JyYW5lICh6IGV2ZW50dWFsbnltaSBvc3RyemXFvGVuaWFtaSknKVxyXG4gICAgXHJcbiAgICBjb25zdCBvdmVyYWxsU3RhdHVzID0gZXJyb3JzLmxlbmd0aCA+IDAgPyAnd2FybmluZycgOiAodmlld0ZyZXNobmVzcy5pc1N0YWxlID8gJ3dhcm5pbmcnIDogJ2hlYWx0aHknKVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB0YWJsZVN0YXRzLFxyXG4gICAgICB2aWV3RnJlc2huZXNzLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXHJcbiAgICAgIHN5c3RlbUhlYWx0aDoge1xyXG4gICAgICAgIHZpZXdzU3RhbGU6IHZpZXdGcmVzaG5lc3MuaXNTdGFsZSxcclxuICAgICAgICB0YWJsZXNIZWFsdGh5OiB0YWJsZVN0YXRzICYmIHRhYmxlU3RhdHMubGVuZ3RoID4gMCxcclxuICAgICAgICBvdmVyYWxsU3RhdHVzLFxyXG4gICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgZXJyb3JDb3VudDogZXJyb3JzLmxlbmd0aFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBRE1JTjogS3J5dHljem55IGLFgsSFZCBzcHJhd2R6YW5pYSB3eWRham5vxZtjaTonLCBlcnJvcilcclxuICAgIFxyXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdLcnl0eWN6bnkgYsWCxIVkIHN5c3RlbXUgbW9uaXRvcm93YW5pYSB3eWRham5vxZtjaSdcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvclxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtcclxuICAgICAgICAnU3ByYXdkxbogcG/FgsSFY3plbmllIHogYmF6xIUgZGFueWNoJywgXHJcbiAgICAgICAgJ1NwcmF3ZMW6IHVwcmF3bmllbmlhIHXFvHl0a293bmlrYScsXHJcbiAgICAgICAgJ1Nrb250YWt0dWogc2nEmSB6IGFkbWluaXN0cmF0b3JlbSBzeXN0ZW11J1xyXG4gICAgICBdLFxyXG4gICAgICBzeXN0ZW1IZWFsdGg6IHtcclxuICAgICAgICB2aWV3c1N0YWxlOiB0cnVlLFxyXG4gICAgICAgIHRhYmxlc0hlYWx0aHk6IGZhbHNlLFxyXG4gICAgICAgIG92ZXJhbGxTdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgIGVycm9yQ291bnQ6IDFcclxuICAgICAgfVxyXG4gICAgfSwgeyBzdGF0dXM6IDIwMCB9KSAvLyBad3LDs2PEmSAyMDAgYWxlIHogc3VjY2VzczogZmFsc2UgxbxlYnkgZnJvbnRlbmQgbcOzZ8WCIG9ic8WCdcW8ecSHXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog8J+agCBQT1NUIGVuZHBvaW50IGRsYSBtYW51YWxuZWogb3B0eW1hbGl6YWNqaSBzeXN0ZW11XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgQURNSU46IFVydWNoYW1pYW0gcGXFgm7EhSBvcHR5bWFsaXphY2rEmSBzeXN0ZW11Li4uJylcclxuICAgIFxyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxyXG4gICAgXHJcbiAgICAvLyBVcnVjaG9tIHBlxYJuxIUgb3B0eW1hbGl6YWNqxJkgYmF6eSBkYW55Y2hcclxuICAgIGNvbnN0IG9wdGltaXphdGlvblJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlQXBpLm9wdGltaXplRGF0YWJhc2UoKVxyXG4gICAgXHJcbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKVxyXG4gICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lXHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGDinIUgQURNSU46IE9wdHltYWxpemFjamEgemFrb8WEY3pvbmEgdyAke2R1cmF0aW9ufW1zOmAsIG9wdGltaXphdGlvblJlc3VsdClcclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBvcHRpbWl6YXRpb25SZXN1bHQsXHJcbiAgICAgIGR1cmF0aW9uOiBgJHtkdXJhdGlvbn1tc2AsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgJ1phcmNoaXdpem93YW5vIHN0YXJlIGxvZ2knLFxyXG4gICAgICAgICdPZMWbd2llxbxvbm8gbWF0ZXJpYWxpem93YW5lIHdpZG9raScsIFxyXG4gICAgICAgICdaYWt0dWFsaXpvd2FubyBzdGF0eXN0eWtpIGJhenkgZGFueWNoJ1xyXG4gICAgICBdXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBRE1JTjogQsWCxIVkIG9wdHltYWxpemFjamkgc3lzdGVtdTonLCBlcnJvcilcclxuICAgIFxyXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdOaWUgdWRhxYJvIHNpxJkgem9wdHltYWxpem93YcSHIHN5c3RlbXUnXHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsicGVyZm9ybWFuY2VBcGkiLCJkYXNoYm9hcmRBcGkiLCJnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyIsInRhYmxlU3RhdHMiLCJyZWNvbW1lbmRhdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwiYWN0aXZlTG9nc1RhYmxlIiwiZmluZCIsInN0YXQiLCJ0YWJsZV9uYW1lIiwicmVjb3JkX2NvdW50IiwiY2xpZW50c1RhYmxlIiwibGVuZ3RoIiwiR0VUIiwiY29uc29sZSIsImxvZyIsInZpZXdGcmVzaG5lc3MiLCJsYXN0VXBkYXRlIiwibWludXRlc1NpbmNlVXBkYXRlIiwiaXNTdGFsZSIsImVycm9ycyIsImdldFN5c3RlbU1ldHJpY3MiLCJlcnJvciIsInRhYmxlX3NpemUiLCJsYXN0X3VwZGF0ZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjaGVja1ZpZXdGcmVzaG5lc3MiLCJ1bnNoaWZ0IiwibWFwIiwib3ZlcmFsbFN0YXR1cyIsIlJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJzeXN0ZW1IZWFsdGgiLCJ2aWV3c1N0YWxlIiwidGFibGVzSGVhbHRoeSIsImhhc0Vycm9ycyIsImVycm9yQ291bnQiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJQT1NUIiwic3RhcnRUaW1lIiwibm93Iiwib3B0aW1pemF0aW9uUmVzdWx0Iiwib3B0aW1pemVEYXRhYmFzZSIsImVuZFRpbWUiLCJkdXJhdGlvbiIsImFjdGlvbnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/performance-check/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activityLogsApi: () => (/* binding */ activityLogsApi),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   callsApi: () => (/* binding */ callsApi),\n/* harmony export */   clientsApi: () => (/* binding */ clientsApi),\n/* harmony export */   csvImportApi: () => (/* binding */ csvImportApi),\n/* harmony export */   dashboardApi: () => (/* binding */ dashboardApi),\n/* harmony export */   getAvatarUrl: () => (/* binding */ getAvatarUrl),\n/* harmony export */   getCanvasClientsWithPriority: () => (/* binding */ getCanvasClientsWithPriority),\n/* harmony export */   getCanvasStatusColor: () => (/* binding */ getCanvasStatusColor),\n/* harmony export */   locationsApi: () => (/* binding */ locationsApi),\n/* harmony export */   notificationsApi: () => (/* binding */ notificationsApi),\n/* harmony export */   performanceApi: () => (/* binding */ performanceApi),\n/* harmony export */   permissionsApi: () => (/* binding */ permissionsApi),\n/* harmony export */   reportsApi: () => (/* binding */ reportsApi),\n/* harmony export */   storageApi: () => (/* binding */ storageApi),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   teamApi: () => (/* binding */ teamApi)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://pkhuggdkcglicghgxiyp.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBraHVnZ2RrY2dsaWNnaGd4aXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MTEwNzEsImV4cCI6MjA2NTQ4NzA3MX0.LbWtb-modRDlvnkGF5IswRHe1lJpd4zCMgkQ3_E0QQk\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Funkcja pomocnicza do generowania poprawnych URL-i avatar√≥w z Supabase Storage\nconst getAvatarUrl = (avatarUrl)=>{\n    if (!avatarUrl) return null;\n    // Je≈õli to ju≈º pe≈Çny URL (zaczyna siƒô od http), zwr√≥ƒá bez zmian\n    if (avatarUrl.startsWith('http')) {\n        return avatarUrl;\n    }\n    // Je≈õli to ≈õcie≈ºka w bucket'u (zawiera folder), wygeneruj publiczny URL\n    if (avatarUrl.includes('/')) {\n        try {\n            const { data } = supabase.storage.from('avatars').getPublicUrl(avatarUrl);\n            return data.publicUrl;\n        } catch (error) {\n            console.error('B≈ÇƒÖd generowania URL avatara:', error);\n            return null;\n        }\n    }\n    // Fallback - prawdopodobnie niepoprawny format\n    console.warn('Nierozpoznany format avatar_url:', avatarUrl);\n    return null;\n};\n// Storage API dla plik√≥w CSV\nconst storageApi = {\n    // Upload pliku CSV do bucket\n    async uploadCSV (file, user) {\n        try {\n            // Oczyszczenie nazwy pliku z problematycznych znak√≥w\n            const cleanFileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_') // ZastƒÖp wszystkie znaki specjalne podkre≈õleniami\n            .replace(/_{2,}/g, '_') // Zamie≈Ñ wielokrotne podkre≈õlenia na pojedyncze\n            .replace(/^_+|_+$/g, '') // Usu≈Ñ podkre≈õlenia z poczƒÖtku i ko≈Ñca\n            .toLowerCase() // Ma≈Çe litery dla consistency\n            ;\n            const fileName = `${user.id}_${Date.now()}_${cleanFileName}`;\n            const filePath = `csv-imports/${fileName}`;\n            console.log(`üìÅ Uploading CSV: ${filePath}`);\n            console.log(`üìÅ Original filename: ${file.name}`);\n            console.log(`üìÅ Cleaned filename: ${cleanFileName}`);\n            const { data, error } = await supabase.storage.from('csv-files').upload(filePath, file, {\n                cacheControl: '3600',\n                upsert: false\n            });\n            if (error) {\n                console.error('‚ùå Storage upload error:', error);\n                throw new Error(`B≈ÇƒÖd uploadu: ${error.message}`);\n            }\n            console.log('‚úÖ File uploaded successfully:', data.path);\n            return data.path;\n        } catch (error) {\n            console.error('‚ùå Upload failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz publiczny URL pliku\n    getPublicUrl (path) {\n        const { data } = supabase.storage.from('csv-files').getPublicUrl(path);\n        return data.publicUrl;\n    },\n    // Usu≈Ñ plik z bucket\n    async deleteFile (path) {\n        const { error } = await supabase.storage.from('csv-files').remove([\n            path\n        ]);\n        if (error) {\n            console.error('‚ùå File deletion error:', error);\n            throw new Error(`B≈ÇƒÖd usuwania pliku: ${error.message}`);\n        }\n    }\n};\n// CSV Import API\nconst csvImportApi = {\n    // Parsuj CSV i zwr√≥ƒá dane\n    parseCSV (csvText) {\n        const lines = csvText.split('\\n').filter((line)=>line.trim() !== '');\n        if (lines.length < 2) {\n            throw new Error('Plik CSV jest pusty lub zawiera tylko nag≈Ç√≥wki');\n        }\n        // Parsowanie z obs≈ÇugƒÖ cudzys≈Çow√≥w\n        const parseCSVLine = (line)=>{\n            const result = [];\n            let current = '';\n            let inQuotes = false;\n            for(let i = 0; i < line.length; i++){\n                const char = line[i];\n                if (char === '\"') {\n                    inQuotes = !inQuotes;\n                } else if (char === ',' && !inQuotes) {\n                    result.push(current.trim());\n                    current = '';\n                } else {\n                    current += char;\n                }\n            }\n            result.push(current.trim());\n            return result.map((cell)=>cell.replace(/^\"|\"$/g, '')) // Usu≈Ñ cudzys≈Çowy\n            ;\n        };\n        const headers = parseCSVLine(lines[0]);\n        const rows = lines.slice(1).map(parseCSVLine);\n        return {\n            headers,\n            rows\n        };\n    },\n    // Mapuj nag≈Ç√≥wki CSV na pola bazy danych\n    mapHeaders (headers) {\n        const mapping = {};\n        const fieldMappings = [\n            {\n                fields: [\n                    'first_name',\n                    'imiƒô',\n                    'name',\n                    'firstName'\n                ],\n                dbField: 'first_name'\n            },\n            {\n                fields: [\n                    'last_name',\n                    'nazwisko',\n                    'surname',\n                    'lastName'\n                ],\n                dbField: 'last_name'\n            },\n            {\n                fields: [\n                    'company_name',\n                    'firma',\n                    'company',\n                    'companyName',\n                    'nazwa'\n                ],\n                dbField: 'company_name'\n            },\n            {\n                fields: [\n                    'nip',\n                    'tax_id',\n                    'taxId'\n                ],\n                dbField: 'nip'\n            },\n            {\n                fields: [\n                    'phone',\n                    'telefon',\n                    'telephone'\n                ],\n                dbField: 'phone'\n            },\n            {\n                fields: [\n                    'email',\n                    'e-mail',\n                    'mail'\n                ],\n                dbField: 'email'\n            },\n            {\n                fields: [\n                    'website',\n                    'www',\n                    'strona',\n                    'url'\n                ],\n                dbField: 'website'\n            },\n            {\n                fields: [\n                    'notes',\n                    'notatka',\n                    'note',\n                    'comment'\n                ],\n                dbField: 'notes'\n            },\n            {\n                fields: [\n                    'status'\n                ],\n                dbField: 'status'\n            }\n        ];\n        for (const fieldMapping of fieldMappings){\n            for(let i = 0; i < headers.length; i++){\n                const header = headers[i].toLowerCase().trim();\n                if (fieldMapping.fields.some((field)=>header.includes(field))) {\n                    mapping[fieldMapping.dbField] = i;\n                    break;\n                }\n            }\n        }\n        return mapping;\n    },\n    // Waliduj wymagane pola\n    validateRequiredFields (mapping) {\n        const requiredFields = [\n            'company_name'\n        ];\n        const missingFields = requiredFields.filter((field)=>!(field in mapping));\n        if (missingFields.length > 0) {\n            throw new Error(`Brak wymaganych kolumn: ${missingFields.join(', ')}. Wymagane: Firma/Nazwa`);\n        }\n    },\n    // Sprawd≈∫ dostƒôpne kolumny i poka≈º informacje\n    analyzeColumns (mapping, headers) {\n        const allPossibleFields = [\n            {\n                field: 'first_name',\n                displayName: 'Imiƒô',\n                required: false\n            },\n            {\n                field: 'last_name',\n                displayName: 'Nazwisko',\n                required: false\n            },\n            {\n                field: 'company_name',\n                displayName: 'Firma/Nazwa',\n                required: true\n            },\n            {\n                field: 'phone',\n                displayName: 'Telefon',\n                required: false\n            },\n            {\n                field: 'email',\n                displayName: 'Email',\n                required: false\n            },\n            {\n                field: 'nip',\n                displayName: 'NIP',\n                required: false\n            },\n            {\n                field: 'website',\n                displayName: 'Strona WWW',\n                required: false\n            },\n            {\n                field: 'notes',\n                displayName: 'Notatki',\n                required: false\n            },\n            {\n                field: 'status',\n                displayName: 'Status',\n                required: false\n            }\n        ];\n        const found = [];\n        const missing = [];\n        const optional = [];\n        allPossibleFields.forEach(({ field, displayName, required })=>{\n            if (field in mapping) {\n                found.push(displayName);\n            } else if (required) {\n                missing.push(displayName);\n            } else {\n                optional.push(displayName);\n            }\n        });\n        return {\n            found,\n            missing,\n            optional\n        };\n    },\n    // Przekszta≈Çƒá wiersz CSV na obiekt klienta\n    rowToClient (row, mapping, user, locationId) {\n        const getField = (field, defaultValue = 'brak informacji')=>{\n            const index = mapping[field];\n            if (index === undefined) {\n                return defaultValue;\n            }\n            const value = (row[index] || '').trim();\n            return value === '' ? defaultValue : value;\n        };\n        // Walidacja statusu\n        const rawStatus = getField('status', 'canvas').toLowerCase();\n        const validStatuses = [\n            'canvas',\n            'brak_kontaktu',\n            'nie_zainteresowany',\n            'zdenerwowany',\n            'antysale',\n            'sale',\n            '$$'\n        ];\n        const status = validStatuses.includes(rawStatus) ? rawStatus : 'canvas';\n        return {\n            first_name: getField('first_name'),\n            last_name: getField('last_name'),\n            company_name: getField('company_name', ''),\n            nip: getField('nip'),\n            phone: getField('phone'),\n            email: getField('email'),\n            website: getField('website'),\n            notes: getField('notes'),\n            status,\n            edited_by: user.id,\n            edited_at: new Date().toISOString(),\n            owner_id: user.id,\n            location_id: locationId || user.location_id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url\n        };\n    },\n    // Import pe≈Çnego CSV do bazy danych\n    async importCSV (file, user, locationId, onProgress) {\n        try {\n            onProgress?.({\n                current: 0,\n                total: 100,\n                status: 'Uploading pliku...'\n            });\n            // 1. Upload pliku do Storage\n            const filePath = await storageApi.uploadCSV(file, user);\n            onProgress?.({\n                current: 20,\n                total: 100,\n                status: 'Parsowanie CSV...'\n            });\n            // 2. Czytanie i parsowanie CSV\n            const csvText = await file.text();\n            const { headers, rows } = csvImportApi.parseCSV(csvText);\n            onProgress?.({\n                current: 40,\n                total: 100,\n                status: 'Mapowanie kolumn...'\n            });\n            // 3. Mapowanie nag≈Ç√≥wk√≥w\n            const mapping = csvImportApi.mapHeaders(headers);\n            csvImportApi.validateRequiredFields(mapping);\n            // 4. Analiza dostƒôpnych kolumn\n            const columnAnalysis = csvImportApi.analyzeColumns(mapping, headers);\n            console.log('üìä CSV Headers:', headers);\n            console.log('üìä Field mapping:', mapping);\n            console.log('üìä Rows to import:', rows.length);\n            console.log('‚úÖ Znalezione kolumny:', columnAnalysis.found);\n            console.log('‚ùå BrakujƒÖce wymagane:', columnAnalysis.missing);\n            console.log('‚ö™ Opcjonalne (bƒôdƒÖ \"brak informacji\"):', columnAnalysis.optional);\n            onProgress?.({\n                current: 50,\n                total: 100,\n                status: `Importowanie ${rows.length} klient√≥w...`\n            });\n            // 4. Import wierszy do bazy\n            const results = {\n                success: 0,\n                errors: []\n            };\n            for(let i = 0; i < rows.length; i++){\n                try {\n                    const row = rows[i];\n                    // Sprawd≈∫ czy wiersz nie jest pusty\n                    if (row.every((cell)=>cell.trim() === '')) {\n                        continue;\n                    }\n                    const clientData = csvImportApi.rowToClient(row, mapping, user, locationId);\n                    // Walidacja podstawowych danych\n                    if (!clientData.company_name || clientData.company_name.trim() === '') {\n                        results.errors.push({\n                            row: i + 2,\n                            error: 'Brak wymaganych danych: firma/nazwa',\n                            data: row\n                        });\n                        continue;\n                    }\n                    // Dodaj klienta do bazy\n                    await clientsApi.createClient(clientData, user);\n                    results.success++;\n                    // Aktualizuj progress\n                    const progress = 50 + Math.floor(i / rows.length * 40);\n                    onProgress?.({\n                        current: progress,\n                        total: 100,\n                        status: `Zaimportowano ${results.success}/${rows.length} klient√≥w`\n                    });\n                } catch (error) {\n                    console.error(`‚ùå B≈ÇƒÖd importu wiersza ${i + 2}:`, error);\n                    results.errors.push({\n                        row: i + 2,\n                        error: error instanceof Error ? error.message : 'Nieznany b≈ÇƒÖd',\n                        data: rows[i]\n                    });\n                }\n            }\n            onProgress?.({\n                current: 95,\n                total: 100,\n                status: 'Finalizowanie...'\n            });\n            // 5. Opcjonalnie usu≈Ñ plik z Storage (lub zachowaj dla historii)\n            // await storageApi.deleteFile(filePath)\n            onProgress?.({\n                current: 100,\n                total: 100,\n                status: 'Zako≈Ñczono!'\n            });\n            console.log(`‚úÖ Import zako≈Ñczony: ${results.success} sukces, ${results.errors.length} b≈Çƒôd√≥w`);\n            return results;\n        } catch (error) {\n            console.error('‚ùå CSV Import failed:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje sprawdzania uprawnie≈Ñ z hierarchiƒÖ i lokalizacjƒÖ\nconst permissionsApi = {\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá klienta (zgodnie z RLS)\n    canView: (client, user)=>{\n        // Szef i admin widzƒÖ wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Sprawd≈∫ czy klient jest w tej samej lokalizacji co u≈ºytkownik\n        const sameLocation = client.location_id === user.location_id;\n        if (!sameLocation) {\n            return false;\n        }\n        switch(user.role){\n            case 'pracownik':\n                // Pracownik widzi tylko swoich klient√≥w w swojej lokalizacji\n                return client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id;\n            case 'junior_manager':\n            case 'manager':\n            case 'project_manager':\n                // Mened≈ºerowie widzƒÖ wszystkich klient√≥w w swojej lokalizacji\n                return true;\n            default:\n                return false;\n        }\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe edytowaƒá klienta\n    canEdit: (client, user)=>{\n        // Takie same regu≈Çy jak canView\n        return permissionsApi.canView(client, user);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe usunƒÖƒá klienta\n    canDelete: (client, user)=>{\n        // Szef i admin mogƒÖ usuwaƒá wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Mened≈ºerowie mogƒÖ usuwaƒá w swojej lokalizacji\n        if ([\n            'manager',\n            'project_manager',\n            'junior_manager'\n        ].includes(user.role)) {\n            return client.location_id === user.location_id;\n        }\n        // Pracownicy nie mogƒÖ usuwaƒá\n        return false;\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe przypisywaƒá klient√≥w\n    canAssignClients: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe zmieniaƒá role innych u≈ºytkownik√≥w\n    canChangeRoles: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe dostƒôp do zaawansowanych raport√≥w\n    canAccessAdvancedReports: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá wszystkie lokalizacje\n    canViewAllLocations: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe filtrowaƒá po lokalizacjach\n    canFilterByLocation: (user)=>{\n        return [\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ poziom hierarchii - czy user1 mo≈ºe zarzƒÖdzaƒá user2\n    canManageUser: (user1, user2)=>{\n        // Admin mo≈ºe zarzƒÖdzaƒá wszystkimi\n        if (user1.role === 'admin') return true;\n        // Szef mo≈ºe zarzƒÖdzaƒá wszystkimi opr√≥cz admin√≥w\n        if (user1.role === 'szef' && user2.role !== 'admin') return true;\n        // Inni mogƒÖ zarzƒÖdzaƒá tylko podw≈Çadnymi w tej samej lokalizacji\n        const sameLocation = user1.location_id === user2.location_id;\n        const higherInHierarchy = (user1.role_hierarchy_level || 99) < (user2.role_hierarchy_level || 99);\n        return sameLocation && higherInHierarchy;\n    }\n};\n// Funkcje API dla klient√≥w z systemem uprawnie≈Ñ\nconst clientsApi = {\n    // Funkcja testowa - podstawowe zapytanie do klient√≥w\n    async testBasicQuery () {\n        try {\n            console.log('üîç Testowe zapytanie do tabeli clients...');\n            const { data, error } = await supabase.from('clients').select('*').limit(5);\n            console.log('Wynik testu - data:', data);\n            console.log('Wynik testu - error:', error);\n            return {\n                data,\n                error\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testowego zapytania:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n    },\n    // Pobierz klient√≥w z filtrami uprawnie≈Ñ\n    // üöÄ NOWE: Funkcja z paginacjƒÖ zwracajƒÖca obiekt z metadanymi\n    async getClientsPaginated (user, filters) {\n        try {\n            console.log('üîÑ Rozpoczynam pobieranie klient√≥w dla u≈ºytkownika:', user.id, user.role);\n            // U≈ºyj JOIN aby pobraƒá klient√≥w z danymi w≈Ça≈õcicieli i lokalizacji w jednym zapytaniu\n            // üöÄ OPTYMALIZACJA: Wybierz tylko niezbƒôdne pola + lokalizacja + reminder\n            let query = supabase.from('clients').select(`\n          id,\n          first_name,\n          last_name,\n          company_name,\n          nip,\n          phone,\n          email,\n          website,\n          status,\n          notes,\n          reminder,\n          owner_id,\n          location_id,\n          edited_by,\n          edited_at,\n          created_at,\n          updated_at,\n          status_changed_at,\n          last_phone_click,\n          last_edited_by_name,\n          last_edited_by_avatar_url,\n          owner:users!owner_id (\n            id,\n            full_name,\n            email,\n            avatar_url\n          ),\n          location:locations!location_id (\n            id,\n            name,\n            code,\n            currency,\n            timezone\n          )\n        `, {\n                count: 'exact'\n            });\n            // üöÄ SORTOWANIE: Obs≈Çuga dynamicznego sortowania\n            const sortField = filters?.sortBy || 'updated_at';\n            const isAscending = filters?.sortDirection === 'asc';\n            query = query.order(sortField, {\n                ascending: isAscending\n            });\n            // Dodatkowe filtry\n            if (filters?.date) {\n                query = query.gte('updated_at', filters.date);\n            }\n            if (filters?.status) {\n                query = query.eq('status', filters.status);\n            }\n            if (filters?.employee) {\n                query = query.eq('edited_by', filters.employee);\n            }\n            // üöÄ NOWE: Filtr wyszukiwania\n            if (filters?.search) {\n                const searchTerm = filters.search.toLowerCase();\n                query = query.or(`first_name.ilike.%${searchTerm}%,last_name.ilike.%${searchTerm}%,company_name.ilike.%${searchTerm}%,phone.ilike.%${searchTerm}%,email.ilike.%${searchTerm}%`);\n            }\n            // üöÄ NOWE: Filtr lokalizacji\n            if (filters?.location) {\n                query = query.eq('location_id', filters.location);\n            }\n            // üöÄ NOWE: Paginacja\n            if (filters?.page && filters?.pageSize) {\n                const from = (filters.page - 1) * filters.pageSize;\n                const to = from + filters.pageSize - 1;\n                query = query.range(from, to);\n                console.log(`üìÑ Paginacja: strona ${filters.page}, rozmiar ${filters.pageSize}, zakres: ${from}-${to}`);\n            }\n            console.log('üîÑ Wykonujƒô zapytanie z JOIN i liczeniem...');\n            const { data: clients, error, count } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania clients:', error);\n                throw error;\n            }\n            if (!clients || clients.length === 0) {\n                console.log('‚ÑπÔ∏è Brak klient√≥w w bazie danych');\n                return {\n                    clients: [],\n                    total: 0,\n                    page: filters?.page || 1,\n                    pageSize: filters?.pageSize || 0\n                };\n            }\n            // Przekszta≈Çƒá dane - Supabase JOIN zwraca owner i location jako tablice, ale potrzebujemy pojedynczych obiekt√≥w\n            const transformedClients = clients.map((client)=>({\n                    ...client,\n                    owner: client.owner && Array.isArray(client.owner) && client.owner.length > 0 ? client.owner[0] // We≈∫ pierwszy element z tablicy\n                     : client.owner && !Array.isArray(client.owner) ? client.owner // Ju≈º jest pojedynczym obiektem\n                     : null,\n                    location: client.location && Array.isArray(client.location) && client.location.length > 0 ? client.location[0] // We≈∫ pierwszy element z tablicy\n                     : client.location && !Array.isArray(client.location) ? client.location // Ju≈º jest pojedynczym obiektem\n                     : null // Brak lokalizacji\n                }));\n            // DEBUG: Sprawd≈∫ dane w≈Ça≈õcicieli\n            const clientsWithOwners = transformedClients.filter((client)=>client.owner);\n            const clientsWithoutOwners = transformedClients.filter((client)=>!client.owner);\n            console.log('‚úÖ Klienci z w≈Ça≈õcicielami:', clientsWithOwners.length);\n            console.log('‚ùå Klienci bez w≈Ça≈õcicieli:', clientsWithoutOwners.length);\n            if (clientsWithOwners.length > 0) {\n                console.log('üë§ Przyk≈Çad klienta z w≈Ça≈õcicielem:', {\n                    client: `${clientsWithOwners[0].first_name} ${clientsWithOwners[0].last_name}`,\n                    owner_id: clientsWithOwners[0].owner_id,\n                    owner_name: clientsWithOwners[0].owner?.full_name,\n                    owner_email: clientsWithOwners[0].owner?.email\n                });\n            }\n            // üöÄ NOWE: Zwr√≥ƒá dane z informacjƒÖ o paginacji\n            return {\n                clients: transformedClients,\n                total: count || transformedClients.length,\n                page: filters?.page || 1,\n                pageSize: filters?.pageSize || transformedClients.length\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClientsPaginated:', error);\n            throw error;\n        }\n    },\n    // üîÑ KOMPATYBILNO≈öƒÜ: Stara funkcja zwracajƒÖca tylko tablicƒô klient√≥w\n    async getClients (user, filters) {\n        try {\n            const result = await this.getClientsPaginated(user, filters);\n            return result.clients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClients:', error);\n            throw error;\n        }\n    },\n    // Dodaj nowego klienta z automatycznym przypisaniem w≈Ça≈õciciela\n    async createClient (client, user) {\n        // ZABEZPIECZENIE: Upewnij siƒô ≈ºe status nie jest pusty\n        const safeStatus = client.status || 'canvas';\n        const clientToCreate = {\n            ...client,\n            status: safeStatus,\n            owner_id: user.id,\n            location_id: client.location_id || user.location_id,\n            edited_by: user.id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url,\n            // Je≈õli status to \"canvas\", ustaw status_changed_at\n            ...safeStatus === 'canvas' && {\n                status_changed_at: new Date().toISOString()\n            },\n            // Konwertuj undefined reminder na null dla bazy danych\n            reminder: client.reminder || null\n        };\n        console.log('üìä Tworzenie klienta z danymi:', clientToCreate);\n        const { data, error } = await supabase.from('clients').insert([\n            clientToCreate\n        ]).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd createClient:', error);\n            throw error;\n        }\n        return data;\n    },\n    // Zaktualizuj klienta z sprawdzeniem uprawnie≈Ñ\n    async updateClient (id, updates, user) {\n        try {\n            console.log('üîÑ updateClient START:', {\n                id,\n                updates,\n                user: user.email\n            });\n            // Pobierz aktualny stan klienta aby sprawdziƒá czy status siƒô zmienia\n            const { data: currentClient, error: fetchError } = await supabase.from('clients').select('status, owner_id').eq('id', id).single();\n            if (fetchError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktualnego klienta:', fetchError);\n                throw new Error(`Nie mo≈ºna pobraƒá aktualnego stanu klienta: ${fetchError.message}`);\n            }\n            console.log('‚úÖ Aktualny stan klienta:', currentClient);\n            // NOWA LOGIKA: Ka≈ºda osoba kt√≥ra edytuje klienta zostaje jego w≈Ça≈õcicielem\n            let updatedData = {\n                ...updates\n            };\n            // ZABEZPIECZENIE: Je≈õli status jest w aktualizacji, upewnij siƒô ≈ºe nie jest pusty\n            if ('status' in updatedData && !updatedData.status) {\n                console.log('‚ö†Ô∏è UWAGA: Pusty status w aktualizacji - ustawiam domy≈õlny \"canvas\"');\n                updatedData.status = 'canvas';\n            }\n            // Sprawd≈∫ czy status siƒô zmienia\n            const statusChanged = updatedData.status && updatedData.status !== currentClient.status;\n            if (statusChanged) {\n                updatedData.status_changed_at = new Date().toISOString();\n                console.log(`üìä Status zmieniony z \"${currentClient.status}\" na \"${updates.status}\" - ustawiam status_changed_at`);\n                // Powiadomienie o zmianie na canvas\n                if (updates.status === 'canvas') {\n                    console.log('üîî POWIADOMIENIE: Klient przeszed≈Ç na status CANVAS - start trackingu czasu!');\n                }\n            }\n            // Zawsze przypisz edytujƒÖcego jako w≈Ça≈õciciela\n            updatedData.owner_id = user.id;\n            console.log(`üéØ Przypisujƒô klienta ${id} do u≈ºytkownika ${user.id} (${user.email}) jako w≈Ça≈õciciela`);\n            // Zapisz informacje o edytorze (szczeg√≥lnie wa≈ºne dla pracownik√≥w)\n            updatedData.last_edited_by_name = user.full_name;\n            updatedData.last_edited_by_avatar_url = user.avatar_url;\n            console.log(`üë§ Zapisujƒô dane edytora: ${user.full_name} (rola: ${user.role})`);\n            // Je≈õli to pracownik i zmienia status - dodatkowy log\n            if (user.role === 'pracownik' && statusChanged) {\n                console.log(`üë∑ Pracownik ${user.email} zmienia status z \"${currentClient.status}\" na \"${updates.status}\"`);\n            }\n            console.log('üîÑ Dane do aktualizacji:', updatedData);\n            // Przygotuj finalne dane do UPDATE\n            const finalData = {\n                ...updatedData,\n                edited_by: user.id,\n                updated_at: new Date().toISOString(),\n                // Konwertuj undefined reminder na null dla bazy danych\n                ...updatedData.reminder !== undefined && {\n                    reminder: updatedData.reminder || null\n                }\n            };\n            console.log('üîÑ Finalne dane do UPDATE:', finalData);\n            // Bezpo≈õrednia aktualizacja\n            const { data, error } = await supabase.from('clients').update(finalData).eq('id', id).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd UPDATE clients:', error);\n                console.error('‚ùå Kod b≈Çƒôdu:', error.code);\n                console.error('‚ùå Szczeg√≥≈Çy:', error.details);\n                console.error('‚ùå Hint:', error.hint);\n                throw new Error(`B≈ÇƒÖd aktualizacji: ${error.message} (kod: ${error.code})`);\n            }\n            console.log('‚úÖ updateClient SUCCESS:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå updateClient FAILED:', error);\n            throw error;\n        }\n    },\n    // Aktualizuj czas ostatniego klikniƒôcia telefonu\n    async updateLastPhoneClick (clientId, user) {\n        console.log('üìû Aktualizujƒô czas ostatniego klikniƒôcia telefonu:', clientId);\n        const { data, error } = await supabase.from('clients').update({\n            last_phone_click: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd updateLastPhoneClick:', error);\n            throw error;\n        }\n        // Zaloguj w activity_logs\n        try {\n            await activityLogsApi.createLog({\n                client_id: clientId,\n                changed_by: user.id,\n                change_type: 'update',\n                field_changed: 'last_phone_click',\n                old_value: undefined,\n                new_value: data.last_phone_click\n            });\n        } catch (logError) {\n            console.error('‚ùå B≈ÇƒÖd logowania activity_logs (updateLastPhoneClick):', logError);\n        }\n        return data;\n    },\n    // Usu≈Ñ klienta z sprawdzeniem uprawnie≈Ñ\n    async deleteClient (id, user) {\n        // Bezpo≈õrednie usuniƒôcie bez sprawdzania uprawnie≈Ñ\n        const { error } = await supabase.from('clients').delete().eq('id', id);\n        if (error) throw error;\n    },\n    // Przypisz klienta do innego u≈ºytkownika (tylko manager+)\n    async assignClient (clientId, newOwnerId, user) {\n        if (!permissionsApi.canAssignClients(user)) {\n            throw new Error('Brak uprawnie≈Ñ do przypisywania klient√≥w');\n        }\n        const { data, error } = await supabase.from('clients').update({\n            owner_id: newOwnerId,\n            edited_by: user.id,\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja do czyszczenia nieistniejƒÖcych owner_id\n    async cleanupInvalidOwnerIds () {\n        try {\n            console.log('üßπ Rozpoczynam czyszczenie nieistniejƒÖcych owner_id...');\n            // Pobierz wszystkich klient√≥w z owner_id\n            const { data: allClients, error: clientsError } = await supabase.from('clients').select('id, owner_id, first_name, last_name').not('owner_id', 'is', null);\n            if (clientsError) throw clientsError;\n            console.log('üìä Znaleziono klient√≥w z owner_id:', allClients?.length || 0);\n            if (!allClients || allClients.length === 0) {\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Pobierz wszystkie unikalne owner_id\n            const ownerIds = [\n                ...new Set(allClients.map((c)=>c.owner_id))\n            ];\n            console.log('üîç Sprawdzam owner_id:', ownerIds);\n            // Sprawd≈∫ kt√≥re u≈ºytkownicy istniejƒÖ\n            const { data: existingUsers, error: usersError } = await supabase.from('users').select('id').in('id', ownerIds);\n            if (usersError) throw usersError;\n            const existingUserIds = (existingUsers || []).map((u)=>u.id);\n            console.log('‚úÖ IstniejƒÖcy u≈ºytkownicy:', existingUserIds);\n            // Znajd≈∫ klient√≥w z nieistniejƒÖcymi owner_id\n            const clientsToClean = allClients.filter((client)=>client.owner_id && !existingUserIds.includes(client.owner_id));\n            console.log('üßπ Klienci do wyczyszczenia:', clientsToClean.length);\n            if (clientsToClean.length === 0) {\n                console.log('‚úÖ Brak klient√≥w do wyczyszczenia');\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Wyczy≈õƒá owner_id dla problematycznych klient√≥w\n            const cleanupResults = [];\n            const errors = [];\n            for (const client of clientsToClean){\n                try {\n                    console.log(`üßπ Czyszczƒô owner_id dla ${client.first_name} ${client.last_name} (${client.owner_id})`);\n                    const { error } = await supabase.from('clients').update({\n                        owner_id: null\n                    }).eq('id', client.id);\n                    if (error) {\n                        console.error(`‚ùå B≈ÇƒÖd czyszczenia ${client.id}:`, error);\n                        errors.push({\n                            client: client.id,\n                            error: error.message\n                        });\n                    } else {\n                        cleanupResults.push(client.id);\n                    }\n                } catch (err) {\n                    console.error(`‚ùå WyjƒÖtek podczas czyszczenia ${client.id}:`, err);\n                    errors.push({\n                        client: client.id,\n                        error: String(err)\n                    });\n                }\n            }\n            console.log(`‚úÖ Wyczyszczono ${cleanupResults.length} klient√≥w`);\n            if (errors.length > 0) {\n                console.error(`‚ùå B≈Çƒôdy przy ${errors.length} klientach:`, errors);\n            }\n            return {\n                cleaned: cleanupResults.length,\n                errors,\n                cleanedClients: clientsToClean.filter((c)=>cleanupResults.includes(c.id))\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupInvalidOwnerIds:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na zmiany w czasie rzeczywistym\n    subscribeToChanges (callback) {\n        return supabase.channel('clients_changes').on('postgres_changes', {\n            event: '*',\n            schema: 'public',\n            table: 'clients'\n        }, callback).subscribe();\n    },\n    // Subskrypcja na zmiany owner_id dla real-time aktualizacji\n    subscribeToOwnerChanges (callback) {\n        try {\n            // Sprawd≈∫ czy callback jest funkcjƒÖ\n            if (typeof callback !== 'function') {\n                console.error('‚ùå Callback nie jest funkcjƒÖ w subscribeToOwnerChanges');\n                throw new Error('Callback musi byƒá funkcjƒÖ');\n            }\n            console.log('üì° Tworzƒô kana≈Ç Supabase dla owner changes...');\n            // Najpierw sprawd≈∫ czy real-time jest w≈ÇƒÖczony i dostƒôpny\n            const channelName = `clients_owner_changes_${Date.now()}`;\n            console.log('üì° Nazwa kana≈Çu:', channelName);\n            const channel = supabase.channel(channelName).on('postgres_changes', {\n                event: 'UPDATE',\n                schema: 'public',\n                table: 'clients',\n                filter: 'owner_id=neq.null' // Tylko gdy owner_id siƒô zmienia\n            }, (payload)=>{\n                try {\n                    console.log('üì° Real-time payload otrzymany:', {\n                        eventType: payload.eventType,\n                        table: payload.table,\n                        changes: payload.new ? {\n                            id: payload.new.id,\n                            owner_id: payload.new.owner_id,\n                            first_name: payload.new.first_name,\n                            last_name: payload.new.last_name\n                        } : 'brak danych'\n                    });\n                    if (typeof callback === 'function') {\n                        callback(payload);\n                    } else {\n                        console.error('‚ùå Callback nie jest funkcjƒÖ podczas wywo≈Çania');\n                    }\n                } catch (callbackError) {\n                    console.error('‚ùå B≈ÇƒÖd w callback:', callbackError);\n                }\n            }).subscribe((status, err)=>{\n                console.log('üì° Subskrypcja owner_changes status:', status);\n                if (status === 'SUBSCRIBED') {\n                    console.log('‚úÖ Subskrypcja owner_changes aktywna');\n                } else if (status === 'CLOSED') {\n                    console.warn('‚ö†Ô∏è Subskrypcja owner_changes zamkniƒôta - prawdopodobnie problem z autoryzacjƒÖ real-time');\n                    console.warn('üí° Real-time mo≈ºe byƒá wy≈ÇƒÖczony w ustawieniach Supabase lub brakuje uprawnie≈Ñ');\n                } else if (status === 'CHANNEL_ERROR') {\n                    console.error('‚ùå B≈ÇƒÖd kana≈Çu real-time:', err);\n                    console.error('üí° Sprawd≈∫ ustawienia real-time w Supabase Dashboard');\n                } else if (status === 'TIMED_OUT') {\n                    console.warn('‚è∞ Timeout subskrypcji - problemy z po≈ÇƒÖczeniem WebSocket');\n                } else {\n                    console.log('üì° Status subskrypcji:', status);\n                }\n            });\n            // Sprawd≈∫ stan kana≈Çu po kr√≥tkim czasie\n            setTimeout(()=>{\n                if (channel.state === 'closed') {\n                    console.warn('‚ö†Ô∏è Kana≈Ç real-time zosta≈Ç zamkniƒôty - prawdopodobnie RLS blokuje real-time lub feature jest wy≈ÇƒÖczony');\n                }\n            }, 2000);\n            console.log('‚úÖ Kana≈Ç owner changes utworzony');\n            return channel;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w subscribeToOwnerChanges:', error);\n            console.warn('üí° Real-time nie bƒôdzie dzia≈Çaƒá - aplikacja bƒôdzie u≈ºywaƒá okresowego od≈õwie≈ºania');\n            // Zwr√≥ƒá mock object aby nie powodowaƒá b≈Çƒôd√≥w\n            return {\n                unsubscribe: ()=>{\n                    console.log('üßπ Mock unsubscribe dla b≈Çƒôdnego kana≈Çu');\n                }\n            };\n        }\n    },\n    // Pobierz klient√≥w z przypomnieniami na konkretny dzie≈Ñ\n    async getClientsWithReminders (user, targetDate) {\n        try {\n            const today = targetDate || new Date().toISOString().split('T')[0] // format YYYY-MM-DD\n            ;\n            console.log(`üìÖ Pobieranie klient√≥w z przypomnieniami na: ${today}`);\n            // Pobierz wszystkich klient√≥w u≈ºytkownika (bez paginacji)\n            const allClients = await this.getClients(user);\n            // Filtruj tylko tych z przypomnieniami na dzi≈õ\n            const clientsWithTodayReminders = allClients.filter((client)=>{\n                // Sprawd≈∫ czy klient ma aktywne przypomnienie\n                const reminder = client.reminder || {\n                    enabled: false,\n                    date: '',\n                    time: '',\n                    note: ''\n                };\n                return reminder.enabled && reminder.date === today;\n            });\n            // Sortuj wed≈Çug godziny przypomnienia\n            const sortedClients = clientsWithTodayReminders.sort((a, b)=>{\n                const timeA = a.reminder?.time || '00:00';\n                const timeB = b.reminder?.time || '00:00';\n                return timeA.localeCompare(timeB);\n            });\n            console.log(`‚úÖ Znaleziono ${sortedClients.length} klient√≥w z przypomnieniami na ${today}`);\n            return sortedClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z przypomnieniami:', error);\n            throw error;\n        }\n    },\n    // Pobierz przypomnienia pogrupowane wed≈Çug slot√≥w czasowych dla dashboardu\n    async getDailyScheduleWithClients (user, targetDate) {\n        try {\n            const clientsWithReminders = await this.getClientsWithReminders(user, targetDate);\n            // Definicja slot√≥w czasowych (zgodnie z obecnƒÖ strukturƒÖ dashboardu)\n            const timeSlots = [\n                {\n                    time: '8:00 - 10:00',\n                    type: 'canvas',\n                    color: '#06b6d4',\n                    startTime: '08:00',\n                    endTime: '10:00',\n                    statuses: [\n                        'canvas'\n                    ]\n                },\n                {\n                    time: '10:10 - 12:00',\n                    type: 'sales',\n                    color: '#10b981',\n                    startTime: '10:10',\n                    endTime: '12:00',\n                    statuses: [\n                        'sale'\n                    ]\n                },\n                {\n                    time: '12:30 - 15:00',\n                    type: 'antysales',\n                    color: '#f59e0b',\n                    startTime: '12:30',\n                    endTime: '15:00',\n                    statuses: [\n                        'antysale'\n                    ]\n                },\n                {\n                    time: '15:10 - 16:30',\n                    type: 'canvas + sales',\n                    color: '#8b5cf6',\n                    startTime: '15:10',\n                    endTime: '16:30',\n                    statuses: [\n                        'canvas',\n                        'sale'\n                    ]\n                }\n            ];\n            // Przypisz klient√≥w do odpowiednich slot√≥w na podstawie TYLKO czasu przypomnienia\n            const slotsWithClients = timeSlots.map((slot)=>{\n                const slotClients = clientsWithReminders.filter((client)=>{\n                    const reminderTime = client.reminder?.time || '00:00';\n                    const [hours, minutes] = reminderTime.split(':').map(Number);\n                    const reminderMinutes = hours * 60 + minutes;\n                    const [startHours, startMins] = slot.startTime.split(':').map(Number);\n                    const [endHours, endMins] = slot.endTime.split(':').map(Number);\n                    const startMinutes = startHours * 60 + startMins;\n                    const endMinutes = endHours * 60 + endMins;\n                    // Sprawd≈∫ czy godzina przypomnienia mie≈õci siƒô w slocie czasowym\n                    const timeInSlot = reminderMinutes >= startMinutes && reminderMinutes <= endMinutes;\n                    console.log(`üïê Klient ${client.first_name} ${client.last_name}: czas ${reminderTime} (${reminderMinutes}min) vs slot ${slot.time} (${startMinutes}-${endMinutes}min) = ${timeInSlot ? 'PASUJE' : 'NIE PASUJE'}`);\n                    return timeInSlot;\n                });\n                console.log(`üìä Slot ${slot.time}: ${slotClients.length} klient√≥w`);\n                return {\n                    ...slot,\n                    clients: slotClients\n                };\n            });\n            console.log(`üìä Plan dnia z ${slotsWithClients.reduce((sum, slot)=>sum + slot.clients.length, 0)} klientami`);\n            return slotsWithClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd tworzenia planu dnia:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje API dla log√≥w aktywno≈õci\nconst activityLogsApi = {\n    // Pobierz logi aktywno≈õci\n    async getLogs (clientId) {\n        let query = supabase.from('activity_logs').select(`\n        *,\n        clients(first_name, last_name)\n      `).order('timestamp', {\n            ascending: false\n        }).limit(50);\n        if (clientId) {\n            query = query.eq('client_id', clientId);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz historiƒô zmian dla konkretnego klienta\n    async getClientHistory (clientId) {\n        try {\n            console.log('Pobieranie historii dla klienta:', clientId);\n            // Sprawd≈∫ czy u≈ºytkownik jest zalogowany\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Aktualny u≈ºytkownik:', user?.id);\n            if (!user) {\n                console.error('U≈ºytkownik nie jest zalogowany');\n                return [];\n            }\n            const { data, error } = await supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          change_type,\n          field_changed,\n          old_value,\n          new_value,\n          timestamp\n        `).eq('client_id', clientId).order('timestamp', {\n                ascending: false\n            }).limit(20);\n            if (error) {\n                console.error('B≈ÇƒÖd query activity_logs:', error);\n                console.error('Szczeg√≥≈Çy b≈Çƒôdu:', JSON.stringify(error, null, 2));\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS')) {\n                    console.error('Problem z Row Level Security - u≈ºytkownik mo≈ºe nie mieƒá dostƒôpu');\n                }\n                // Zwr√≥ƒá pustƒÖ tablicƒô zamiast rzucania b≈Çƒôdem\n                return [];\n            }\n            console.log('Pobrano logi:', data?.length || 0);\n            // Je≈õli nie ma log√≥w, zwr√≥ƒá pustƒÖ tablicƒô\n            if (!data || data.length === 0) {\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach osobno z avatarami\n            const userIds = [\n                ...new Set(data.map((log)=>log.changed_by).filter(Boolean))\n            ];\n            console.log('Pobieranie u≈ºytkownik√≥w:', userIds);\n            const { data: users, error: usersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', userIds);\n            if (usersError) {\n                console.error('B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', usersError);\n            // Kontynuuj bez danych u≈ºytkownik√≥w\n            }\n            console.log('Pobrano u≈ºytkownik√≥w:', users?.length || 0);\n            // Mapuj u≈ºytkownik√≥w do s≈Çownika dla szybkiego dostƒôpu\n            const usersMap = (users || []).reduce((acc, user)=>{\n                acc[user.id] = user;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane z informacjami o edytorze\n            const result = data.map((log)=>{\n                const user = usersMap[log.changed_by];\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    changed_by: log.changed_by,\n                    change_type: log.change_type,\n                    field_changed: log.field_changed,\n                    old_value: log.old_value,\n                    new_value: log.new_value,\n                    timestamp: log.timestamp,\n                    editor_name: user?.full_name || log.changed_by || 'Nieznany u≈ºytkownik',\n                    editor_role: user?.role || 'unknown',\n                    editor_avatar: user?.avatar_url || null\n                };\n            });\n            console.log('Zwracanie historii:', result.length, 'wpis√≥w');\n            return result;\n        } catch (error) {\n            console.error('B≈ÇƒÖd w getClientHistory:', error);\n            throw error;\n        }\n    },\n    // Dodaj log aktywno≈õci\n    async createLog (log) {\n        const { data, error } = await supabase.from('activity_logs').insert([\n            {\n                ...log,\n                timestamp: new Date().toISOString()\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja testowa do sprawdzania dostƒôpu do activity_logs\n    async testActivityLogsAccess () {\n        try {\n            console.log('Testowanie dostƒôpu do activity_logs...');\n            // Sprawd≈∫ autoryzacjƒô\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Test - u≈ºytkownik:', user?.id, user?.email);\n            if (!user) {\n                return {\n                    success: false,\n                    error: 'Brak autoryzacji - u≈ºytkownik nie jest zalogowany'\n                };\n            }\n            // Sprawd≈∫ czy u≈ºytkownik istnieje w tabeli users\n            const { data: userProfile, error: userError } = await supabase.from('users').select('id, email, role').eq('id', user.id).single();\n            console.log('Test - profil u≈ºytkownika:', userProfile);\n            console.log('Test - b≈ÇƒÖd profilu:', userError);\n            if (userError || !userProfile) {\n                return {\n                    success: false,\n                    error: 'U≈ºytkownik nie istnieje w tabeli users'\n                };\n            }\n            // Testuj dostƒôp do activity_logs\n            const { data, error, count } = await supabase.from('activity_logs').select('*', {\n                count: 'exact'\n            }).limit(1);\n            console.log('Test activity_logs - data:', data);\n            console.log('Test activity_logs - error:', error);\n            console.log('Test activity_logs - count:', count);\n            return {\n                success: !error,\n                data,\n                error,\n                count,\n                user: userProfile\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testu activity_logs:', error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n};\n// Funkcje API dla raport√≥w\nconst reportsApi = {\n    // Pobierz statystyki tylko pracownik√≥w z prowizjƒÖ\n    async getEmployeeStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk pracownik√≥w...');\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            const { data: allEmployees, error: usersError } = await supabase.from('users').select(`\n          id,\n          full_name,\n          email,\n          avatar_url,\n          role\n        `).eq('role', 'pracownik').order('full_name', {\n                ascending: true\n            });\n            if (usersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                throw usersError;\n            }\n            if (!allEmployees || allEmployees.length === 0) {\n                console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                return [];\n            }\n            console.log('‚úÖ Pobrano wszystkich pracownik√≥w:', allEmployees.length, allEmployees.map((e)=>e.full_name));\n            // KROK 2: Pobierz statystyki z tabeli employee_stats dla tych pracownik√≥w\n            const employeeIds = allEmployees.map((emp)=>emp.id);\n            let existingStats = [];\n            try {\n                const { data, error: statsError } = await supabase.from('employee_stats').select('*').in('user_id', employeeIds);\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania employee_stats:', statsError);\n                } else {\n                    existingStats = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá employee_stats:', error);\n            }\n            console.log('‚úÖ Pobrano statystyki dla pracownik√≥w:', existingStats?.length || 0);\n            // KROK 3: Pobierz dzisiejsze statystyki z tabeli clients (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const today = new Date().toISOString().split('T')[0];\n            let todayClients = [];\n            try {\n                const { data, error: clientsError } = await supabase.from('clients').select('status, edited_by, created_at, updated_at').gte('updated_at', `${today}T00:00:00`).lt('updated_at', `${today}T23:59:59`);\n                if (clientsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w z dzisiaj:', clientsError);\n                } else {\n                    todayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá dzisiejszych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano dzisiejszych klient√≥w:', todayClients.length);\n            // KROK 4: Pobierz wczorajsze statystyki dla kar (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            const yesterdayStr = yesterday.toISOString().split('T')[0];\n            let yesterdayClients = [];\n            try {\n                const { data, error: yesterdayError } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${yesterdayStr}T00:00:00`).lt('updated_at', `${yesterdayStr}T23:59:59`);\n                if (yesterdayError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania wczorajszych klient√≥w:', yesterdayError);\n                } else {\n                    yesterdayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá wczorajszych klient√≥w:', error);\n            }\n            // KROK 5: Pobierz WSZYSTKICH klient√≥w przypisanych do pracownik√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            let allOwnedClients = [];\n            try {\n                const { data, error: ownedError } = await supabase.from('clients').select('status, owner_id').not('owner_id', 'is', null).in('owner_id', employeeIds);\n                if (ownedError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w przypisanych:', ownedError);\n                } else {\n                    allOwnedClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá przypisanych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano wszystkich przypisanych klient√≥w:', allOwnedClients.length);\n            // KROK 6: Agreguj dzisiejsze statystyki per pracownik\n            const todayStats = todayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (!userId) return acc;\n                if (!acc[userId]) {\n                    acc[userId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        other: 0\n                    };\n                }\n                acc[userId].total++;\n                if (client.status === 'canvas') acc[userId].canvas++;\n                else if (client.status === 'antysale') acc[userId].antysale++;\n                else if (client.status === 'sale') acc[userId].sale++;\n                else acc[userId].other++;\n                return acc;\n            }, {});\n            // KROK 7: Agreguj wczorajsze statystyki per pracownik\n            const yesterdayStats = yesterdayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (userId) {\n                    acc[userId] = (acc[userId] || 0) + 1;\n                }\n                return acc;\n            }, {});\n            // KROK 8: Agreguj statusy WSZYSTKICH przypisanych klient√≥w per pracownik\n            const ownedClientsStats = allOwnedClients.reduce((acc, client)=>{\n                const ownerId = client.owner_id;\n                if (!ownerId) return acc;\n                if (!acc[ownerId]) {\n                    acc[ownerId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        brak_kontaktu: 0,\n                        nie_zainteresowany: 0,\n                        zdenerwowany: 0,\n                        '$$': 0\n                    };\n                }\n                acc[ownerId].total++;\n                switch(client.status){\n                    case 'canvas':\n                        acc[ownerId].canvas++;\n                        break;\n                    case 'antysale':\n                        acc[ownerId].antysale++;\n                        break;\n                    case 'sale':\n                        acc[ownerId].sale++;\n                        break;\n                    case 'brak_kontaktu':\n                        acc[ownerId].brak_kontaktu++;\n                        break;\n                    case 'nie_zainteresowany':\n                        acc[ownerId].nie_zainteresowany++;\n                        break;\n                    case 'zdenerwowany':\n                        acc[ownerId].zdenerwowany++;\n                        break;\n                    case '$$':\n                        acc[ownerId]['$$']++;\n                        break;\n                }\n                return acc;\n            }, {});\n            console.log('üìä Statystyki przypisanych klient√≥w:', ownedClientsStats);\n            // KROK 9: Stw√≥rz mapƒô statystyk employee_stats\n            const statsMap = new Map();\n            existingStats.forEach((stat)=>{\n                statsMap.set(stat.user_id, stat);\n            });\n            // KROK 10: Kombinuj dane - dla WSZYSTKICH pracownik√≥w (zawsze zwraca listƒô)\n            const enhancedStats = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                // Pobierz statystyki z employee_stats lub utw√≥rz domy≈õlne\n                const basicStat = statsMap.get(userId) || {\n                    id: 'temp_' + userId,\n                    user_id: userId,\n                    daily_target: 20,\n                    commission_rate: 3.0,\n                    monthly_canvas: 0,\n                    monthly_antysale: 0,\n                    monthly_sale: 0,\n                    total_commissions: 0,\n                    total_penalties: 0,\n                    custom_clients_count: 0,\n                    custom_total_payments: 0,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                const todayForUser = todayStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0\n                };\n                const yesterdayForUser = yesterdayStats[userId] || 0;\n                const ownedForUser = ownedClientsStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0,\n                    brak_kontaktu: 0,\n                    nie_zainteresowany: 0,\n                    zdenerwowany: 0,\n                    '$$': 0\n                };\n                // Oblicz karƒô za wczoraj\n                const yesterdayShortage = Math.max(0, basicStat.daily_target - yesterdayForUser);\n                const penalty = yesterdayShortage * 15;\n                // Oblicz prowizjƒô na podstawie przypisanych klient√≥w Sale\n                const commission = ownedForUser.sale * basicStat.commission_rate / 100 * 100;\n                console.log(`üë§ Pracownik ${employee.full_name}: Canvas=${ownedForUser.canvas}, AntyS=${ownedForUser.antysale}, Sale=${ownedForUser.sale}`);\n                return {\n                    ...basicStat,\n                    // WA≈ªNE: Do≈ÇƒÖcz dane u≈ºytkownika\n                    user: {\n                        id: employee.id,\n                        full_name: employee.full_name,\n                        email: employee.email,\n                        avatar_url: employee.avatar_url,\n                        role: employee.role\n                    },\n                    daily_achieved: todayForUser.total,\n                    yesterday_shortage: yesterdayShortage,\n                    status_changes_today: {\n                        canvas: todayForUser.canvas,\n                        antysale: todayForUser.antysale,\n                        sale: todayForUser.sale,\n                        other: todayForUser.other\n                    },\n                    // U≈ºywaj statystyk opartych na owner_id (przypisanych klient√≥w)\n                    monthly_canvas: ownedForUser.canvas,\n                    monthly_antysale: ownedForUser.antysale,\n                    monthly_sale: ownedForUser.sale,\n                    total_commissions: commission,\n                    total_penalties: penalty\n                };\n            });\n            console.log('‚úÖ Przygotowano rozszerzone statystyki dla wszystkich pracownik√≥w:', enhancedStats.length);\n            console.log('üë• Lista pracownik√≥w:', enhancedStats.map((s)=>s.user?.full_name).join(', '));\n            return enhancedStats;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk pracownik√≥w:', error);\n            // W przypadku b≈Çƒôdu, zwr√≥ƒá pustƒÖ listƒô zamiast rzucaƒá b≈ÇƒÖd\n            return [];\n        }\n    },\n    // Podsumowanie dnia\n    async getDailySummary (date) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${date}T00:00:00`).lt('updated_at', `${date}T23:59:59`);\n        if (error) throw error;\n        // Agregacja danych\n        const statusBreakdown = data.reduce((acc, client)=>{\n            acc[client.status] = (acc[client.status] || 0) + 1;\n            return acc;\n        }, {});\n        const employeeStats = data.reduce((acc, client)=>{\n            acc[client.edited_by] = (acc[client.edited_by] || 0) + 1;\n            return acc;\n        }, {});\n        return {\n            totalClients: data.length,\n            statusBreakdown,\n            employeeStats\n        };\n    },\n    // Podsumowanie tygodniowe\n    async getWeeklySummary (startDate, endDate) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by, updated_at').gte('updated_at', startDate).lt('updated_at', endDate);\n        if (error) throw error;\n        return data;\n    },\n    // Aktualizuj statystyki pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeStats (userId, updates, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').update(updates).eq('user_id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Edytuj ilo≈õƒá klient√≥w i sumƒô wp≈Çat pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeClientStats (userId, clientsCount, totalPayments, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        try {\n            console.log(`üìù Aktualizujƒô statystyki pracownika ${userId}: klienci=${clientsCount}, wp≈Çaty=${totalPayments}`);\n            // METODA 1: Spr√≥buj prostƒÖ aktualizacjƒô w employee_stats\n            try {\n                console.log('üìù Pr√≥ba prostej aktualizacji w employee_stats');\n                const legacyUpdates = {\n                    custom_clients_count: clientsCount,\n                    custom_total_payments: totalPayments,\n                    updated_at: new Date().toISOString()\n                };\n                const { data, error } = await supabase.from('employee_stats').update(legacyUpdates).eq('user_id', userId).select(`\n            *,\n            user:users!user_id (\n              id,\n              full_name,\n              email,\n              avatar_url,\n              role\n            )\n          `).single();\n                if (!error && data) {\n                    console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 1)');\n                    console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                    return data;\n                } else {\n                    console.warn('‚ö†Ô∏è Metoda 1 nie zadzia≈Ça≈Ça:', error);\n                    throw error;\n                }\n            } catch (method1Error) {\n                console.warn('‚ö†Ô∏è Metoda 1 (prosta aktualizacja) nie zadzia≈Ça≈Ça:', method1Error);\n                // METODA 2: Spr√≥buj INSERT z ON CONFLICT\n                try {\n                    console.log('üìù Pr√≥ba INSERT z ON CONFLICT w employee_stats');\n                    const insertData = {\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                    const { data, error } = await supabase.from('employee_stats').upsert(insertData, {\n                        onConflict: 'user_id',\n                        ignoreDuplicates: false\n                    }).select(`\n              *,\n              user:users!user_id (\n                id,\n                full_name,\n                email,\n                avatar_url,\n                role\n              )\n            `).single();\n                    if (!error && data) {\n                        console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 2)');\n                        console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                        return data;\n                    } else {\n                        console.warn('‚ö†Ô∏è Metoda 2 nie zadzia≈Ça≈Ça:', error);\n                        throw error;\n                    }\n                } catch (method2Error) {\n                    console.warn('‚ö†Ô∏è Metoda 2 (upsert) nie zadzia≈Ça≈Ça:', method2Error);\n                    // METODA 3: Zaktualizuj tylko w pamiƒôci (fallback)\n                    console.log('üìù Fallback - zwracam symulowane dane');\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString(),\n                        user: {\n                            id: userId,\n                            full_name: 'Pracownik',\n                            email: 'brak@email.com',\n                            avatar_url: null,\n                            role: 'pracownik'\n                        }\n                    };\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w updateEmployeeClientStats:', error);\n            throw error;\n        }\n    },\n    // Stw√≥rz statystyki dla nowego pracownika\n    async createEmployeeStats (userId, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do tworzenia statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').insert([\n            {\n                user_id: userId,\n                daily_target: 20,\n                commission_rate: 3.0\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // üìä Nowa funkcja: Pobierz statystyki wykorzystania bazy (klienci z/bez w≈Ça≈õciciela)\n    async getDatabaseUtilization () {\n        try {\n            console.log('üìä Pobieranie statystyk wykorzystania bazy...');\n            // Zlicz wszystkich klient√≥w\n            const { count: totalCount, error: totalError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (totalError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania ≈ÇƒÖcznej liczby klient√≥w:', totalError);\n                throw totalError;\n            }\n            // Zlicz klient√≥w z w≈Ça≈õcicielem (owner_id != null)\n            const { count: withOwnerCount, error: withOwnerError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (withOwnerError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z w≈Ça≈õcicielem:', withOwnerError);\n                throw withOwnerError;\n            }\n            // Oblicz klient√≥w bez w≈Ça≈õciciela\n            const withoutOwnerCount = (totalCount || 0) - (withOwnerCount || 0);\n            // Oblicz procent wykorzystania\n            const utilizationPercentage = totalCount ? Math.round((withOwnerCount || 0) / totalCount * 100) : 0;\n            const result = {\n                withOwner: withOwnerCount || 0,\n                withoutOwner: withoutOwnerCount,\n                total: totalCount || 0,\n                utilizationPercentage\n            };\n            console.log('üìä Statystyki wykorzystania bazy:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk wykorzystania bazy:', error);\n            throw error;\n        }\n    },\n    // üîÑ ADMIN: Resetuj w≈Ça≈õcicieli wszystkich klient√≥w\n    async resetAllClientOwners (currentUser) {\n        // Sprawd≈∫ uprawnienia - tylko admin\n        if (currentUser.role !== 'admin') {\n            throw new Error('Brak uprawnie≈Ñ! Tylko administrator mo≈ºe resetowaƒá w≈Ça≈õcicieli klient√≥w.');\n        }\n        try {\n            console.log('üîÑ Rozpoczynam resetowanie w≈Ça≈õcicieli klient√≥w...');\n            // Pobierz liczbƒô klient√≥w z w≈Ça≈õcicielem przed resetowaniem\n            const { count: beforeCount, error: beforeError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (beforeError) {\n                console.error('‚ùå B≈ÇƒÖd sprawdzania stanu przed resetowaniem:', beforeError);\n                throw beforeError;\n            }\n            // Resetuj owner_id dla wszystkich klient√≥w\n            const { data, error } = await supabase.from('clients').update({\n                owner_id: null\n            }).not('owner_id', 'is', null) // Tylko te kt√≥re majƒÖ w≈Ça≈õciciela\n            .select('id, first_name, last_name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli:', error);\n                throw error;\n            }\n            const resetCount = data?.length || 0;\n            // Loguj akcjƒô do activity_logs\n            try {\n                await activityLogsApi.createLog({\n                    client_id: 'bulk_action',\n                    changed_by: currentUser.id,\n                    change_type: 'update',\n                    field_changed: 'owner_id',\n                    old_value: 'various',\n                    new_value: 'null (reset by admin)'\n                });\n            } catch (logError) {\n                console.error('‚ö†Ô∏è Nie uda≈Ço siƒô zalogowaƒá akcji:', logError);\n            // Nie przerywamy procesu z powodu b≈Çƒôdu logowania\n            }\n            console.log(`‚úÖ Zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w`);\n            return {\n                success: resetCount,\n                message: `Pomy≈õlnie zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w. Wszyscy klienci sƒÖ teraz bez przypisanego w≈Ça≈õciciela.`\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli klient√≥w:', error);\n            throw error;\n        }\n    },\n    // Pobierz statystyki aktywno≈õci pracownik√≥w z tabeli employee_statistics\n    async getEmployeeActivityStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk aktywno≈õci pracownik√≥w...');\n            // Sprawd≈∫ uprawnienia\n            if (!user || ![\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                console.warn('‚ö†Ô∏è Brak uprawnie≈Ñ do podglƒÖdu statystyk aktywno≈õci');\n                return [];\n            }\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            let allEmployees = [];\n            try {\n                const { data: employees, error: usersError } = await supabase.from('users').select(`\n            id,\n            full_name,\n            email,\n            avatar_url,\n            role\n          `).eq('role', 'pracownik').order('full_name', {\n                    ascending: true\n                });\n                if (usersError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                    return [];\n                }\n                allEmployees = employees || [];\n                console.log(`üë• Znaleziono pracownik√≥w: ${allEmployees.length}`);\n                if (allEmployees.length === 0) {\n                    console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                    return [];\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', error);\n                return [];\n            }\n            // KROK 2: Pobierz statystyki aktywno≈õci - z obs≈ÇugƒÖ b≈Çƒôd√≥w RLS\n            let activityStats = [];\n            try {\n                const employeeIds = allEmployees.map((emp)=>emp.id);\n                console.log(`üîç Pobieranie statystyk dla ID: ${employeeIds.slice(0, 3).join(', ')}... (${employeeIds.length} total)`);\n                const { data: stats, error: statsError } = await supabase.from('employee_statistics').select('*').eq('period_type', 'monthly').in('user_id', employeeIds).order('period_end', {\n                    ascending: false\n                });\n                if (statsError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', statsError);\n                    // Je≈õli to b≈ÇƒÖd RLS (403), nie przerywaj - u≈ºyj domy≈õlnych danych\n                    if (statsError.code === 'PGRST116' || statsError.message?.includes('RLS') || statsError.message?.includes('permission')) {\n                        console.warn('üîí Problem z RLS - u≈ºywam domy≈õlnych danych aktywno≈õci');\n                        activityStats = [];\n                    } else {\n                        console.error('üí• Krytyczny b≈ÇƒÖd pobierania statystyk - przerywam');\n                        return [];\n                    }\n                } else {\n                    activityStats = stats || [];\n                    console.log(`üìä Znaleziono rekord√≥w aktywno≈õci: ${activityStats.length}`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania o statystyki aktywno≈õci:', error);\n                activityStats = [];\n            }\n            // KROK 3: Stw√≥rz mapƒô najnowszych statystyk dla ka≈ºdego pracownika\n            const latestStatsMap = new Map();\n            if (activityStats && activityStats.length > 0) {\n                activityStats.forEach((stat)=>{\n                    const userId = stat.user_id;\n                    if (!latestStatsMap.has(userId)) {\n                        latestStatsMap.set(userId, stat);\n                    }\n                });\n                console.log(`üó∫Ô∏è Zmapowano statystyki dla ${latestStatsMap.size} pracownik√≥w`);\n            } else {\n                console.log('‚ö†Ô∏è Brak danych aktywno≈õci - u≈ºyjƒô domy≈õlnych warto≈õci');\n            }\n            // KROK 4: Kombinuj dane pracownik√≥w ze statystykami aktywno≈õci\n            const result = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                const activityStat = latestStatsMap.get(userId);\n                if (activityStat) {\n                    // Mamy statystyki - u≈ºyj prawdziwych danych\n                    return {\n                        ...activityStat,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                } else {\n                    // Brak statystyk - stw√≥rz domy≈õlne dane\n                    const currentDate = new Date();\n                    const currentMonth = currentDate.getMonth() + 1;\n                    const currentYear = currentDate.getFullYear();\n                    const monthStart = `${currentYear}-${currentMonth.toString().padStart(2, '0')}-01`;\n                    const monthEnd = new Date(currentYear, currentMonth, 0).toISOString().split('T')[0];\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        period_type: 'monthly',\n                        period_start: monthStart,\n                        period_end: monthEnd,\n                        total_work_minutes: 0,\n                        average_daily_minutes: 0,\n                        expected_work_minutes: 176 * 60,\n                        efficiency_percentage: 0,\n                        total_activities: 0,\n                        average_daily_activities: 0,\n                        days_worked: 0,\n                        days_absent: 0,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                }\n            });\n            console.log(`‚úÖ Przygotowano statystyki aktywno≈õci dla wszystkich pracownik√≥w: ${result.length}`);\n            console.log(`üë• Lista pracownik√≥w: ${result.map((s)=>s.user?.full_name).join(', ')}`);\n            // Poka≈º statystyki podsumowujƒÖce\n            const withData = result.filter((r)=>r.total_work_minutes > 0).length;\n            const withoutData = result.length - withData;\n            console.log(`üìä Pracownicy z danymi: ${withData}, bez danych: ${withoutData}`);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', error);\n            // Graceful fallback - zwr√≥ƒá pustƒÖ tablicƒô zamiast crashowaƒá\n            console.log('üîÑ Graceful fallback - zwracam pustƒÖ tablicƒô');\n            return [];\n        }\n    },\n    // Pobierz trendy sprzeda≈ºowe z ostatnich 7 dni\n    async getSalesTrends (user) {\n        try {\n            console.log('üìà Pobieranie trend√≥w sprzeda≈ºowych z ostatnich 7 dni...');\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            const { data, error } = await supabase.from('clients').select('status, updated_at, status_changed_at, owner_id, edited_by').gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').in('status', [\n                'canvas',\n                'sale',\n                'antysale'\n            ]).order('updated_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Pobrano ${data?.length || 0} rekord√≥w z ostatnich 7 dni`);\n            // Filtruj klient√≥w wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            let filteredData = data || [];\n            if (user.role === 'pracownik') {\n                filteredData = filteredData.filter((client)=>client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id);\n            }\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trends = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trends[dayName] = {\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                };\n            }\n            // Grupuj dane wed≈Çug dni\n            filteredData.forEach((client)=>{\n                const date = new Date(client.updated_at);\n                const dayName = dayNames[date.getDay()];\n                if (trends[dayName]) {\n                    if (client.status === 'canvas') trends[dayName].canvas++;\n                    else if (client.status === 'sale') trends[dayName].sale++;\n                    else if (client.status === 'antysale') trends[dayName].antysale++;\n                }\n            });\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: trends[dayName].canvas,\n                    sale: trends[dayName].sale,\n                    antysale: trends[dayName].antysale\n                });\n            }\n            console.log('‚úÖ Trendy sprzeda≈ºowe przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                });\n            }\n            return result;\n        }\n    },\n    // Pobierz statystyki klikniƒôƒá telefonu tylko dla pracownik√≥w\n    async getPhoneClicksStats (user) {\n        try {\n            console.log('üìû Pobieranie statystyk klikniƒôƒá telefonu...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                return {\n                    totalPhoneCalls: 0,\n                    totalPhoneCallsToday: 0\n                };\n            }\n            // Pobierz wszystkie klikniƒôcia telefonu z activity_logs tylko dla pracownik√≥w\n            const { data: allPhoneClicks, error: allClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds);\n            if (allClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', allClicksError);\n                throw allClicksError;\n            }\n            const totalPhoneCalls = allPhoneClicks?.length || 0;\n            // Pobierz dzisiejsze klikniƒôcia telefonu\n            const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n            ;\n            const { data: todayPhoneClicks, error: todayClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', `${today}T00:00:00`).lt('timestamp', `${today}T23:59:59`);\n            if (todayClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych klikniƒôƒá telefonu:', todayClicksError);\n                throw todayClicksError;\n            }\n            const totalPhoneCallsToday = todayPhoneClicks?.length || 0;\n            console.log(`‚úÖ Statystyki klikniƒôƒá telefonu: ≈ÇƒÖcznie ${totalPhoneCalls}, dzi≈õ ${totalPhoneCallsToday}`);\n            return {\n                totalPhoneCalls,\n                totalPhoneCallsToday\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk klikniƒôƒá telefonu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá zerowe statystyki\n            return {\n                totalPhoneCalls: 0,\n                totalPhoneCallsToday: 0\n            };\n        }\n    },\n    // Pobierz dane trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni\n    async getTeamPerformanceTrends (user) {\n        try {\n            console.log('üìä Pobieranie trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                // Zwr√≥ƒá puste dane dla ostatnich 7 dni\n                const dayNames = [\n                    'Ndz',\n                    'Pon',\n                    'Wt',\n                    '≈ör',\n                    'Czw',\n                    'Pt',\n                    'Sob'\n                ];\n                const result = [];\n                for(let i = 6; i >= 0; i--){\n                    const date = new Date();\n                    date.setDate(date.getDate() - i);\n                    const dayName = dayNames[date.getDay()];\n                    result.push({\n                        day: dayName,\n                        telefony: 0,\n                        konwersja: 0,\n                        klienci: 0\n                    });\n                }\n                return result;\n            }\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            // 1. Pobierz klikniƒôcia telefonu z activity_logs (tylko pracownicy)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', startDate.toISOString().split('T')[0]).lte('timestamp', endDate.toISOString().split('T')[0] + 'T23:59:59');\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            // 2. Pobierz zmiany klient√≥w z ostatnich 7 dni (tylko przez pracownik√≥w)\n            const { data: clientChanges, error: changesError } = await supabase.from('clients').select('updated_at, status, edited_by').in('edited_by', employeeIds).gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').order('updated_at', {\n                ascending: true\n            });\n            if (changesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania zmian klient√≥w:', changesError);\n                throw changesError;\n            }\n            console.log(`‚úÖ Pobrano ${phoneClicks?.length || 0} klikniƒôƒá telefonu i ${clientChanges?.length || 0} zmian klient√≥w`);\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trendsData = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trendsData[dayName] = {\n                    telefony: 0,\n                    klienci: 0,\n                    sales: 0\n                };\n            }\n            // Grupuj klikniƒôcia telefonu wed≈Çug dni\n            if (phoneClicks && Array.isArray(phoneClicks)) {\n                phoneClicks.forEach((click)=>{\n                    const date = new Date(click.timestamp);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].telefony++;\n                    }\n                });\n            }\n            // Grupuj zmiany klient√≥w wed≈Çug dni\n            if (clientChanges && Array.isArray(clientChanges)) {\n                clientChanges.forEach((change)=>{\n                    const date = new Date(change.updated_at);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].klienci++;\n                        if (change.status === 'sale') {\n                            trendsData[dayName].sales++;\n                        }\n                    }\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                const dayData = trendsData[dayName];\n                // Oblicz konwersjƒô (procent sales wzglƒôdem wszystkich klient√≥w)\n                const konwersja = dayData.klienci > 0 ? Math.round(dayData.sales / dayData.klienci * 100) : 0;\n                result.push({\n                    day: dayName,\n                    telefony: dayData.telefony,\n                    konwersja: konwersja,\n                    klienci: dayData.klienci\n                });\n            }\n            console.log('‚úÖ Trendy wydajno≈õci zespo≈Çu przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w wydajno≈õci zespo≈Çu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    telefony: 0,\n                    konwersja: 0,\n                    klienci: 0\n                });\n            }\n            return result;\n        }\n    },\n    // API dla statystyk osobistych pracownika\n    async getMyPersonalStats (user) {\n        try {\n            console.log('üìä Pobieranie osobistych statystyk pracownika:', user.id, user.role);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                console.error('‚ùå Nieautoryzowana rola:', user.role);\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            console.log('‚úÖ U≈ºytkownik autoryzowany jako pracownik');\n            const currentDate = new Date();\n            const currentMonth = currentDate.toISOString().slice(0, 7) // YYYY-MM\n            ;\n            // Ustaw pierwszy i ostatni dzie≈Ñ miesiƒÖca prawid≈Çowo\n            const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n            const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0, 23, 59, 59);\n            // 1. Pobierz liczbƒô telefon√≥w w tym miesiƒÖcu (klikniƒôcia telefonu)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('id, timestamp').eq('changed_by', user.id).eq('field_changed', 'last_phone_click').gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString());\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            const phoneCallsThisMonth = phoneClicks?.length || 0;\n            console.log(`üìû Znaleziono ${phoneCallsThisMonth} klikniƒôƒá telefonu w tym miesiƒÖcu`);\n            // 2. Pobierz klient√≥w przypisanych do pracownika\n            console.log('üë• Pobieranie klient√≥w przypisanych do pracownika...');\n            const { data: myClients, error: clientsError } = await supabase.from('clients').select('id, status, first_name, last_name, company_name').eq('owner_id', user.id);\n            if (clientsError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w:', clientsError);\n                throw clientsError;\n            }\n            const clients = myClients || [];\n            const totalClients = clients.length;\n            console.log(`üë§ Pracownik ma ${totalClients} przypisanych klient√≥w`);\n            // 3. Agreguj statusy klient√≥w\n            console.log('üìä Agregowanie status√≥w klient√≥w...');\n            const statusMap = new Map();\n            clients.forEach((client)=>{\n                const status = client.status;\n                statusMap.set(status, (statusMap.get(status) || 0) + 1);\n            });\n            console.log('üìà Statusy klient√≥w:', Object.fromEntries(statusMap));\n            // Mapuj statusy na kolory\n            const statusColors = {\n                canvas: '#06b6d4',\n                sale: '#10b981',\n                antysale: '#f59e0b',\n                brak_kontaktu: '#6b7280',\n                nie_zainteresowany: '#ef4444',\n                zdenerwowany: '#dc2626',\n                '$$': '#fbbf24'\n            };\n            const clientStats = Array.from(statusMap.entries()).map(([status, count])=>({\n                    status,\n                    count,\n                    color: statusColors[status] || '#64748b'\n                }));\n            // 4. Pobierz prowizjƒô z tabeli employee_stats\n            console.log('üí∞ Pobieranie prowizji z tabeli employee_stats...');\n            let commissionTotal = 0 // w EUR\n            ;\n            try {\n                const { data: employeeStats, error: statsError } = await supabase.from('employee_stats').select('total_commissions').eq('user_id', user.id).single();\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è Nie znaleziono statystyk pracownika, prowizja = 0:', statsError);\n                    commissionTotal = 0;\n                } else {\n                    // total_commissions ju≈º jest w EUR - u≈ºywaj bezpo≈õrednio\n                    commissionTotal = employeeStats.total_commissions || 0;\n                    console.log(`üí∞ Prowizja pobrana z bazy: ${commissionTotal} EUR`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania prowizji z employee_stats:', error);\n                commissionTotal = 0;\n            }\n            // 5. Pobierz godziny pracy z tego miesiƒÖca na podstawie activity_logs\n            console.log('‚è∞ Pobieranie aktywno≈õci z tego miesiƒÖca...');\n            console.log(`üìÖ Zakres dat: ${startOfMonth.toISOString()} - ${endOfMonth.toISOString()}`);\n            const { data: activities, error: activitiesError } = await supabase.from('activity_logs').select('timestamp').eq('changed_by', user.id).gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString()).order('timestamp', {\n                ascending: true\n            });\n            if (activitiesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci:', activitiesError);\n                throw activitiesError;\n            }\n            console.log(`‚è∞ Znaleziono ${activities?.length || 0} aktywno≈õci w tym miesiƒÖcu`);\n            // Grupuj aktywno≈õci wed≈Çug dni i oblicz godziny pracy\n            console.log('üìÖ Grupowanie aktywno≈õci wed≈Çug dni...');\n            const dailyActivities = new Map();\n            if (activities && activities.length > 0) {\n                activities.forEach((activity)=>{\n                    const date = new Date(activity.timestamp);\n                    const day = date.toISOString().split('T')[0] // YYYY-MM-DD\n                    ;\n                    const hour = date.getHours();\n                    if (!dailyActivities.has(day)) {\n                        dailyActivities.set(day, new Set());\n                    }\n                    dailyActivities.get(day).add(hour);\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu\n            const workingHoursThisMonth = Array.from(dailyActivities.entries()).map(([day, hours])=>({\n                    day: new Date(day).toLocaleDateString('pl-PL', {\n                        weekday: 'short',\n                        day: 'numeric'\n                    }),\n                    hours: hours.size,\n                    sortDate: new Date(day) // Dodaj pole do sortowania\n                })).sort((a, b)=>a.sortDate.getTime() - b.sortDate.getTime()).map(({ day, hours })=>({\n                    day,\n                    hours\n                })) // Usu≈Ñ pole sortDate z wynikowych danych\n            ;\n            const totalWorkingHours = Array.from(dailyActivities.values()).reduce((sum, hours)=>sum + hours.size, 0);\n            const totalWorkingDays = dailyActivities.size;\n            console.log('‚úÖ Statystyki osobiste przygotowane:', {\n                phoneCallsThisMonth,\n                totalClients,\n                commissionTotal,\n                totalWorkingHours,\n                totalWorkingDays\n            });\n            return {\n                phoneCallsThisMonth,\n                clientStats,\n                totalClients,\n                commissionTotal,\n                workingHoursThisMonth,\n                totalWorkingHours,\n                totalWorkingDays\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania osobistych statystyk:', error);\n            // Szczeg√≥≈Çowe informacje o b≈Çƒôdzie\n            if (error && typeof error === 'object') {\n                console.error('üìã Szczeg√≥≈Çy b≈Çƒôdu:', {\n                    message: error.message,\n                    code: error.code,\n                    details: error.details,\n                    hint: error.hint,\n                    stack: error.stack\n                });\n            }\n            // Je≈õli to b≈ÇƒÖd RLS lub uprawnie≈Ñ, zwr√≥ƒá pustƒÖ strukturƒô zamiast crashowaƒá\n            if (error && typeof error === 'object' && (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission'))) {\n                console.warn('üîí Problem z uprawnieniami - zwracam domy≈õlne dane');\n                return {\n                    phoneCallsThisMonth: 0,\n                    clientStats: [],\n                    totalClients: 0,\n                    commissionTotal: 0,\n                    workingHoursThisMonth: [],\n                    totalWorkingHours: 0,\n                    totalWorkingDays: 0\n                };\n            }\n            throw error;\n        }\n    },\n    // Funkcje do zarzƒÖdzania godzinami pracy pracownika\n    async saveWorkingHours (user, date, hours) {\n        try {\n            console.log(`‚è∞ Zapisywanie godzin pracy: ${hours}h dla dnia ${date}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // ENHANCED DEBUG: Sprawd≈∫ czy to dzie≈Ñ roboczy (pon-pt) - bezpieczne parsowanie daty\n            console.log(`üîç DEBUG: Input date string: \"${date}\"`);\n            const dateParts = date.split('-') // \"2025-06-02\" -> [\"2025\", \"06\", \"02\"]\n            ;\n            console.log(`üîç DEBUG: Date parts:`, dateParts);\n            const year = parseInt(dateParts[0]);\n            const month = parseInt(dateParts[1]) - 1 // -1 bo JavaScript u≈ºywa 0-11 dla miesiƒôcy\n            ;\n            const day = parseInt(dateParts[2]);\n            console.log(`üîç DEBUG: Parsed components: year=${year}, month=${month} (JS format), day=${day}`);\n            const dateObj = new Date(year, month, day);\n            const dayOfWeek = dateObj.getDay();\n            console.log(`üîç DEBUG: Created Date object: ${dateObj.toISOString()}`);\n            console.log(`üîç DEBUG: Date in local format: ${dateObj.toLocaleDateString('pl-PL', {\n                weekday: 'long',\n                year: 'numeric',\n                month: 'long',\n                day: 'numeric'\n            })}`);\n            console.log(`üóìÔ∏è Sprawdzanie dnia roboczego: ${date} => dayOfWeek=${dayOfWeek} (${[\n                'niedziela',\n                'poniedzia≈Çek',\n                'wtorek',\n                '≈õroda',\n                'czwartek',\n                'piƒÖtek',\n                'sobota'\n            ][dayOfWeek]})`);\n            if (dayOfWeek === 0 || dayOfWeek === 6) {\n                console.error(`‚ùå B≈ÅƒÑD: Pr√≥ba zapisania godzin dla weekendu! Dzie≈Ñ tygodnia: ${dayOfWeek} (${[\n                    'niedziela',\n                    'poniedzia≈Çek',\n                    'wtorek',\n                    '≈õroda',\n                    'czwartek',\n                    'piƒÖtek',\n                    'sobota'\n                ][dayOfWeek]})`);\n                throw new Error('Mo≈ºna wpisywaƒá godziny tylko dla dni roboczych (pon-pt)');\n            }\n            console.log(`‚úÖ Dzie≈Ñ roboczy potwierdzony: ${[\n                'niedziela',\n                'poniedzia≈Çek',\n                'wtorek',\n                '≈õroda',\n                'czwartek',\n                'piƒÖtek',\n                'sobota'\n            ][dayOfWeek]}`);\n            // Walidacja godzin (0-12)\n            if (hours < 0 || hours > 12) {\n                throw new Error('Liczba godzin musi byƒá miƒôdzy 0 a 12');\n            }\n            // Upsert godzin pracy w bazie danych (tabela ju≈º istnieje)\n            const { error } = await supabase.from('working_hours').upsert({\n                user_id: user.id,\n                work_date: date,\n                hours_worked: hours,\n                updated_at: new Date().toISOString()\n            }, {\n                onConflict: 'user_id,work_date'\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapisywania godzin pracy do bazy:', error);\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage fallback)`);\n                return;\n            }\n            console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (baza danych working_hours)`);\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w saveWorkingHours:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage ultimate fallback)`);\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô zapisaƒá nawet do localStorage:', storageError);\n                throw error;\n            }\n        }\n    },\n    async getWorkingHoursForMonth (user, year, month) {\n        try {\n            console.log(`‚è∞ Pobieranie godzin pracy dla ${year}-${month}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Oblicz pierwszy i ostatni dzie≈Ñ miesiƒÖca (poprawka strefy czasowej)\n            const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;\n            const endDate = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n            console.log(`üìÖ Pobieranie godzin dla zakresu: ${startDate} - ${endDate}`);\n            // Pobierz godziny pracy z tabeli working_hours (tabela ju≈º istnieje)\n            const { data, error } = await supabase.from('working_hours').select('work_date, hours_worked').eq('user_id', user.id).gte('work_date', startDate).lte('work_date', endDate);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania godzin pracy z bazy:', error);\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDate && date <= endDate) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            }\n            // Konwertuj na obiekt date -> hours\n            const hoursMap = {};\n            if (data) {\n                data.forEach((entry)=>{\n                    hoursMap[entry.work_date] = entry.hours_worked;\n                });\n            }\n            console.log(`‚úÖ Pobrano godziny pracy z tabeli working_hours dla ${data?.length || 0} dni`);\n            return hoursMap;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getWorkingHoursForMonth:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const startDateStr = `${year}-${month.toString().padStart(2, '0')}-01`;\n                const endDateStr = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDateStr && date <= endDateStr) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage ultimate fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô pobraƒá nawet z localStorage:', storageError);\n                return {};\n            }\n        }\n    },\n    // üöÄ NOWE FUNKCJE PERFORMANCE - Materializowane Widoki\n    // Zastƒôpuje ciƒô≈ºkie JOIN'y - teraz natychmiastowe ≈Çadowanie\n    async getMonthlyEmployeePerformance (year, month) {\n        try {\n            console.log(`üìä Pobieranie wydajno≈õci pracownik√≥w dla ${year}-${month} (zoptymalizowane)...`);\n            const { data, error } = await supabase.rpc('get_monthly_employee_performance', {\n                target_year: year,\n                target_month: month\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania wydajno≈õci pracownik√≥w:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Wydajno≈õƒá pracownik√≥w pobrana: ${data?.length || 0} rekord√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getMonthlyEmployeePerformance failed:', error);\n            throw error;\n        }\n    },\n    // Szybkie statystyki zespo≈Çu na podstawie materializowanych widok√≥w\n    async getTeamSummary (year, month) {\n        try {\n            const { data, error } = await supabase.from('mv_monthly_employee_stats').select('*').eq('year', year).eq('month', month).order('owned_sales', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamSummary failed:', error);\n            throw error;\n        }\n    },\n    // Performance analytics - top performers\n    async getTopPerformers (limit = 10) {\n        try {\n            const { data, error } = await supabase.rpc('get_top_performers', {\n                limit_count: limit\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTopPerformers failed:', error);\n            throw error;\n        }\n    }\n};\n// API dla lokalizacji/kraj√≥w\nconst locationsApi = {\n    // Pobierz wszystkie lokalizacje (podstawowe informacje - dla rejestracji)\n    async getAllLocations () {\n        try {\n            const { data, error } = await supabase.from('locations').select(`\n          id,\n          name,\n          code,\n          currency,\n          timezone,\n          region,\n          created_at,\n          updated_at\n        `).order('name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania lokalizacji:', error);\n                throw error;\n            }\n            console.log('‚úÖ Pobrano lokalizacje:', data?.length || 0);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllLocations failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz wszystkie lokalizacje z pe≈Çnymi informacjami (dla zalogowanych u≈ºytkownik√≥w)\n    async getAllLocationsWithManagers () {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).order('name');\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = data?.map((location)=>({\n                ...location,\n                project_manager: location.project_manager && Array.isArray(location.project_manager) && location.project_manager.length > 0 ? location.project_manager[0] // We≈∫ pierwszy element z tablicy\n                 : location.project_manager && !Array.isArray(location.project_manager) ? location.project_manager // Ju≈º jest pojedynczym obiektem\n                 : null // Brak project managera\n            }));\n        return transformedData;\n    },\n    // Pobierz dostƒôpne lokalizacje dla u≈ºytkownika\n    async getUserAccessibleLocations (userId) {\n        try {\n            // Najpierw spr√≥buj u≈ºyƒá funkcji SQL (je≈õli istnieje)\n            const { data, error } = await supabase.rpc('get_user_accessible_locations', {\n                user_id: userId\n            });\n            if (error) {\n                console.warn('üîÑ Funkcja SQL get_user_accessible_locations nie istnieje, u≈ºywam fallback logiki');\n                throw error;\n            }\n            return data;\n        } catch (error) {\n            console.warn('‚ö†Ô∏è B≈ÇƒÖd wywo≈Çania funkcji SQL, u≈ºywam JavaScript fallback:', error);\n            // Fallback - implementacja logiki w JavaScript\n            try {\n                // Pobierz u≈ºytkownika\n                const { data: user, error: userError } = await supabase.from('users').select('role, location_id').eq('id', userId).single();\n                if (userError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá danych u≈ºytkownika:', userError);\n                    return this.getAllLocations() // Fallback - zwr√≥ƒá wszystkie\n                    ;\n                }\n                // Sprawd≈∫ rolƒô u≈ºytkownika\n                if (user.role === 'admin' || user.role === 'szef') {\n                    // Admin i szef widzƒÖ wszystkie lokalizacje\n                    console.log('üëë Admin/Szef - zwracam wszystkie lokalizacje');\n                    return this.getAllLocations();\n                } else {\n                    // Pozostali widzƒÖ tylko swojƒÖ lokalizacjƒô\n                    if (!user.location_id) {\n                        console.warn('‚ö†Ô∏è U≈ºytkownik nie ma przypisanej lokalizacji');\n                        return [];\n                    }\n                    console.log('üë§ Zwyk≈Çy u≈ºytkownik - zwracam lokalizacjƒô:', user.location_id);\n                    const { data: location, error: locationError } = await supabase.from('locations').select('*').eq('id', user.location_id).single();\n                    if (locationError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá lokalizacji u≈ºytkownika:', locationError);\n                        return [];\n                    }\n                    return [\n                        location\n                    ];\n                }\n            } catch (fallbackError) {\n                console.error('‚ùå Fallback logic failed:', fallbackError);\n                // Ostateczny fallback - wszystkie lokalizacje\n                return this.getAllLocations();\n            }\n        }\n    },\n    // Pobierz lokalizacjƒô po ID\n    async getLocationById (id) {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).eq('id', id).single();\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = {\n            ...data,\n            project_manager: data.project_manager && Array.isArray(data.project_manager) && data.project_manager.length > 0 ? data.project_manager[0] // We≈∫ pierwszy element z tablicy\n             : data.project_manager && !Array.isArray(data.project_manager) ? data.project_manager // Ju≈º jest pojedynczym obiektem\n             : null // Brak project managera\n        };\n        return transformedData;\n    },\n    // Aktualizuj project managera dla lokalizacji\n    async updateLocationProjectManager (locationId, projectManagerId, currentUser) {\n        if (!permissionsApi.canChangeRoles(currentUser)) {\n            throw new Error('Brak uprawnie≈Ñ do zmiany project managera');\n        }\n        const { data, error } = await supabase.from('locations').update({\n            project_manager_id: projectManagerId,\n            updated_at: new Date().toISOString()\n        }).eq('id', locationId).select().single();\n        if (error) throw error;\n        return data;\n    }\n};\n// Funkcje autoryzacji\nconst authApi = {\n    // Zaloguj u≈ºytkownika\n    async signIn (email, password) {\n        const { data, error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Zarejestruj nowego u≈ºytkownika\n    async signUp (email, password, fullName, locationId) {\n        const { data, error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: {\n                    full_name: fullName,\n                    location_id: locationId\n                }\n            }\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Wyloguj u≈ºytkownika\n    async signOut () {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n    },\n    // Pobierz aktualnego u≈ºytkownika\n    async getCurrentUser () {\n        const { data: { user } } = await supabase.auth.getUser();\n        return user;\n    },\n    // Pobierz profil u≈ºytkownika z rolƒÖ\n    async getUserProfile (userId) {\n        const { data, error } = await supabase.from('users').select('*').eq('id', userId).single();\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz wszystkich u≈ºytkownik√≥w (dla opcji filtrowania)\n    async getAllUsers () {\n        try {\n            console.log('üë• getAllUsers START - sprawdzam RLS...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsers - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            console.log('üë• getAllUsers - b≈ÇƒÖd:', error);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsers:', error);\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí Problem z Row Level Security - pracownik nie mo≈ºe widzieƒá innych u≈ºytkownik√≥w');\n                }\n                throw error;\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w - mo≈ºe RLS blokuje dostƒôp');\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllUsers FAILED:', error);\n            throw error;\n        }\n    },\n    // Sprawd≈∫ sesjƒô u≈ºytkownika\n    async getSession () {\n        const { data: { session } } = await supabase.auth.getSession();\n        return session;\n    },\n    // Nas≈Çuchuj zmian w autoryzacji\n    onAuthStateChange (callback) {\n        return supabase.auth.onAuthStateChange(callback);\n    },\n    // Zaktualizuj jƒôzyk u≈ºytkownika\n    async updateUserLanguage (userId, language) {\n        const { data, error } = await supabase.from('users').update({\n            language\n        }).eq('id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Bezpieczne pobieranie u≈ºytkownik√≥w do wy≈õwietlania (odporne na RLS)\n    async getAllUsersForDisplay () {\n        try {\n            console.log('üë• getAllUsersForDisplay START - bezpieczne pobieranie...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            if (!user) {\n                console.log('‚ùå Brak zalogowanego u≈ºytkownika');\n                return [];\n            }\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsersForDisplay - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsersForDisplay:', error);\n                // Je≈õli to problem z RLS, zwr√≥ƒá przynajmniej aktualnego u≈ºytkownika\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí RLS blokuje dostƒôp - zwracam tylko aktualnego u≈ºytkownika');\n                    // Pobierz profil aktualnego u≈ºytkownika\n                    try {\n                        const userProfile = await this.getUserProfile(user.id);\n                        console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                        return [\n                            userProfile\n                        ];\n                    } catch (profileError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                        return [];\n                    }\n                }\n                // Inny b≈ÇƒÖd - zwr√≥ƒá pustƒÖ tablicƒô\n                console.error('‚ùå Inny b≈ÇƒÖd - zwracam pustƒÖ tablicƒô');\n                return [];\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Udane pobranie u≈ºytkownik√≥w:', data.length);\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n                return data;\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w');\n                // Fallback - przynajmniej aktualny u≈ºytkownik\n                try {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                } catch (profileError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                    return [];\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå getAllUsersForDisplay CRITICAL ERROR:', error);\n            // Krytyczny fallback - spr√≥buj przynajmniej pobraƒá aktualnego u≈ºytkownika\n            try {\n                const { data: { user } } = await supabase.auth.getUser();\n                if (user) {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Krytyczny fallback: zwracam aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                }\n            } catch (criticalError) {\n                console.error('‚ùå Krytyczny b≈ÇƒÖd fallback:', criticalError);\n            }\n            return [];\n        }\n    }\n};\n// Funkcja do okre≈õlania koloru statusu \"canvas\" na podstawie czasu\nconst getCanvasStatusColor = (statusChangedAt)=>{\n    if (!statusChangedAt) {\n        return {\n            color: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\n            description: 'Nowy',\n            priority: 'low'\n        };\n    }\n    const now = new Date();\n    const statusDate = new Date(statusChangedAt);\n    const daysDiff = Math.floor((now.getTime() - statusDate.getTime()) / (1000 * 60 * 60 * 24));\n    if (daysDiff <= 2) {\n        // 0-2 dni - zielony (≈õwie≈ºy)\n        return {\n            color: 'bg-green-500/20 text-green-400 border-green-500/30',\n            description: `≈öwie≈ºy (${daysDiff}d)`,\n            priority: 'low'\n        };\n    } else if (daysDiff <= 4) {\n        // 2-4 dni - ≈º√≥≈Çty (uwaga)\n        return {\n            color: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n            description: `Wymaga uwagi (${daysDiff}d)`,\n            priority: 'medium'\n        };\n    } else {\n        // 5+ dni - czerwony (pilny)\n        return {\n            color: 'bg-red-500/20 text-red-400 border-red-500/30',\n            description: `Pilny (${daysDiff}d)`,\n            priority: 'high'\n        };\n    }\n};\n// Funkcja do pobierania klient√≥w z oznaczeniami priorytet√≥w\nconst getCanvasClientsWithPriority = async (user)=>{\n    try {\n        const clients = await clientsApi.getClients(user);\n        const canvasClients = clients.filter((client)=>client.status === 'canvas');\n        const priorityStats = {\n            high: 0,\n            medium: 0,\n            low: 0,\n            total: canvasClients.length\n        };\n        canvasClients.forEach((client)=>{\n            const { priority } = getCanvasStatusColor(client.status_changed_at);\n            priorityStats[priority]++;\n        });\n        return {\n            clients: canvasClients,\n            stats: priorityStats\n        };\n    } catch (error) {\n        console.error('B≈ÇƒÖd pobierania klient√≥w canvas:', error);\n        return {\n            clients: [],\n            stats: {\n                high: 0,\n                medium: 0,\n                low: 0,\n                total: 0\n            }\n        };\n    }\n};\n// üöÄ NOWE API PERFORMANCE - Materializowane Widoki i Optymalizacje\n// Dodane zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\nconst dashboardApi = {\n    // Zastƒôpuje wolne zapytania dashboard - teraz ~10ms zamiast ~200ms\n    async getDashboardMetrics () {\n        try {\n            console.log('‚ö° Pobieranie szybkich metryk dashboard z materializowanego widoku...');\n            const { data, error } = await supabase.rpc('get_dashboard_metrics');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania metryk dashboard:', error);\n                throw error;\n            }\n            console.log('‚úÖ Dashboard metrics pobrane w trybie express:', data?.length || 0, 'metryk');\n            return data;\n        } catch (error) {\n            console.error('‚ùå getDashboardMetrics failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie czy materializowane widoki sƒÖ ≈õwie≈ºe\n    async checkViewFreshness () {\n        try {\n            // Sprawd≈∫ czy tabela mv_dashboard_summary istnieje\n            const { data, error } = await supabase.from('mv_dashboard_summary').select('last_updated').limit(1).single();\n            if (error) {\n                console.warn('‚ö†Ô∏è Materialized view mv_dashboard_summary nie istnieje lub brak uprawnie≈Ñ:', error);\n                // Fallback - u≈ºyj aktualnego czasu\n                return {\n                    lastUpdate: new Date().toISOString(),\n                    minutesSinceUpdate: 0,\n                    isStale: false // Za≈Ço≈º ≈ºe dane sƒÖ ≈õwie≈ºe je≈õli nie ma widoku\n                };\n            }\n            const lastUpdate = new Date(data.last_updated);\n            const now = new Date();\n            const minutesSinceUpdate = Math.floor((now.getTime() - lastUpdate.getTime()) / (1000 * 60));\n            return {\n                lastUpdate: data.last_updated,\n                minutesSinceUpdate,\n                isStale: minutesSinceUpdate > 30 // Uznaj za nieaktualne po 30 minutach\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            // Graceful fallback\n            return {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n    }\n};\n// üöÄ NOWE FUNKCJE PERFORMANCE dodane do istniejƒÖcego reportsApi\nconst teamApi = {\n    // Szybki przeglƒÖd aktywno≈õci zespo≈Çu\n    async getTeamActivityOverview () {\n        try {\n            console.log('üë• Pobieranie przeglƒÖdu aktywno≈õci zespo≈Çu (zoptymalizowane)...');\n            const { data, error } = await supabase.from('mv_activity_summary').select('*').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]).order('activities_24h', {\n                ascending: false\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci zespo≈Çu:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Aktywno≈õƒá zespo≈Çu pobrana: ${data?.length || 0} u≈ºytkownik√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamActivityOverview failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie aktywnych u≈ºytkownik√≥w w czasie rzeczywistym\n    async getActiveUsersNow () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('user_id, full_name, activity_status, last_activity').eq('activity_status', 'active').order('last_activity', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getActiveUsersNow failed:', error);\n            throw error;\n        }\n    },\n    // Statystyki produktywno≈õci zespo≈Çu\n    async getProductivityStats () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('activities_24h, activities_7d, phone_clicks, status_changes').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]);\n            if (error) throw error;\n            // Oblicz ≈õrednie\n            const totalUsers = data.length;\n            const avgDaily = data.reduce((sum, user)=>sum + user.activities_24h, 0) / totalUsers;\n            const avgWeekly = data.reduce((sum, user)=>sum + user.activities_7d, 0) / totalUsers;\n            return {\n                totalUsers,\n                avgDailyActivities: Math.round(avgDaily),\n                avgWeeklyActivities: Math.round(avgWeekly),\n                totalDailyActivities: data.reduce((sum, user)=>sum + user.activities_24h, 0),\n                totalWeeklyActivities: data.reduce((sum, user)=>sum + user.activities_7d, 0)\n            };\n        } catch (error) {\n            console.error('‚ùå getProductivityStats failed:', error);\n            throw error;\n        }\n    }\n};\n// üîß PERFORMANCE MONITORING API\nconst performanceApi = {\n    // Sprawdzenie metryk wydajno≈õci systemu\n    async getSystemMetrics () {\n        try {\n            console.log('üîç Pobieranie metryk wydajno≈õci systemu...');\n            const tableStats = [];\n            // Pomocnicza funkcja do bezpiecznego pobierania statystyk tabeli\n            const getTableStats = async (tableName)=>{\n                try {\n                    const { count, error } = await supabase.from(tableName).select('*', {\n                        count: 'exact',\n                        head: true\n                    });\n                    if (error) {\n                        console.warn(`‚ö†Ô∏è Nie mo≈ºna pobraƒá statystyk tabeli ${tableName}:`, error.message);\n                        return null;\n                    }\n                    return {\n                        table_name: tableName,\n                        record_count: count || 0,\n                        table_size: 'N/A',\n                        last_updated: new Date().toISOString()\n                    };\n                } catch (err) {\n                    console.warn(`‚ö†Ô∏è B≈ÇƒÖd tabeli ${tableName}:`, err);\n                    return null;\n                }\n            };\n            // Sprawd≈∫ ka≈ºdƒÖ tabelƒô oddzielnie\n            const tables = [\n                'clients',\n                'users',\n                'activity_logs',\n                'activity_logs_archive'\n            ];\n            for (const tableName of tables){\n                const stats = await getTableStats(tableName);\n                if (stats) {\n                    tableStats.push(stats);\n                }\n            }\n            // Je≈õli nie uda≈Ço siƒô pobraƒá ≈ºadnych statystyk, zwr√≥ƒá podstawowe informacje\n            if (tableStats.length === 0) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá statystyk ≈ºadnej tabeli - zwracam dane przyk≈Çadowe');\n                tableStats.push({\n                    table_name: 'system_info',\n                    record_count: 0,\n                    table_size: 'Brak dostƒôpu',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            console.log(`‚úÖ Pobrano statystyki ${tableStats.length} tabel`);\n            return tableStats;\n        } catch (error) {\n            console.error('‚ùå getSystemMetrics failed:', error);\n            // Graceful fallback - zwr√≥ƒá podstawowe dane zamiast rzucaƒá b≈ÇƒÖd\n            return [\n                {\n                    table_name: 'error_fallback',\n                    record_count: 0,\n                    table_size: 'B≈ÇƒÖd po≈ÇƒÖczenia',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n    },\n    // Manualne od≈õwie≈ºenie materializowanych widok√≥w\n    async refreshMaterializedViews () {\n        try {\n            console.log('üîÑ Manualnie od≈õwie≈ºam materializowane widoki...');\n            const { data, error } = await supabase.rpc('refresh_all_materialized_views');\n            if (error) throw error;\n            console.log('‚úÖ Widoki od≈õwie≈ºone:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå refreshMaterializedViews failed:', error);\n            throw error;\n        }\n    },\n    // Archiwizacja starych log√≥w\n    async archiveOldLogs () {\n        try {\n            console.log('üì¶ Uruchamiam archiwizacjƒô starych log√≥w...');\n            const { data, error } = await supabase.rpc('archive_old_activity_logs');\n            if (error) throw error;\n            console.log(`‚úÖ Zarchiwizowano ${data} starych log√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå archiveOldLogs failed:', error);\n            throw error;\n        }\n    },\n    // Optymalizacja bazy danych\n    async optimizeDatabase () {\n        try {\n            console.log('üöÄ Uruchamiam optymalizacjƒô bazy danych...');\n            const { data, error } = await supabase.rpc('optimize_database_performance');\n            if (error) throw error;\n            console.log('‚úÖ Baza danych zoptymalizowana:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå optimizeDatabase failed:', error);\n            throw error;\n        }\n    }\n};\nconst callsApi = {\n    /**\r\n   * üìû POBIERZ HISTORIƒò PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera historiƒô po≈ÇƒÖcze≈Ñ telefonicznych z activity_logs\r\n   * Uwzglƒôdnia uprawnienia u≈ºytkownika:\r\n   * - Admin/Szef: wszystkie po≈ÇƒÖczenia z wybranego kraju\r\n   * - Project Manager/Junior Manager: wszystkie z ich lokalizacji\r\n   * - Pracownik: tylko swoje po≈ÇƒÖczenia\r\n   */ async getCalls (user, filter = {}) {\n        try {\n            console.log('üìû Pobieranie historii po≈ÇƒÖcze≈Ñ...', {\n                user: user.role,\n                filter\n            });\n            let query = supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          timestamp,\n          clients!inner (\n            id,\n            first_name,\n            last_name,\n            company_name,\n            phone,\n            location_id,\n            location:locations (\n              id,\n              name,\n              code\n            )\n          )\n        `).eq('field_changed', 'last_phone_click').order('timestamp', {\n                ascending: false\n            }).limit(filter.limit || 100);\n            // Filtrowanie wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            if (user.role === 'pracownik') {\n                // Pracownik widzi tylko swoje po≈ÇƒÖczenia\n                query = query.eq('changed_by', user.id);\n            } else if ([\n                'junior_manager',\n                'manager',\n                'project_manager'\n            ].includes(user.role)) {\n                // Mened≈ºerowie widzƒÖ po≈ÇƒÖczenia z ich lokalizacji\n                if (filter.locationId) {\n                    // Je≈õli wybrano konkretnƒÖ lokalizacjƒô, filtruj po niej\n                    query = query.eq('clients.location_id', filter.locationId);\n                } else if (user.location_id) {\n                    // Je≈õli nie wybrano lokalizacji, poka≈º z lokalizacji u≈ºytkownika\n                    query = query.eq('clients.location_id', user.location_id);\n                }\n            } else if ([\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                // Szef i admin widzƒÖ wszystko, opcjonalnie filtrowane po lokalizacji\n                if (filter.locationId) {\n                    query = query.eq('clients.location_id', filter.locationId);\n                }\n            }\n            // Dodatkowe filtry czasowe\n            if (filter.startDate) {\n                query = query.gte('timestamp', filter.startDate);\n            }\n            if (filter.endDate) {\n                query = query.lte('timestamp', filter.endDate);\n            }\n            const { data: callLogs, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania po≈ÇƒÖcze≈Ñ:', error);\n                throw error;\n            }\n            if (!callLogs || callLogs.length === 0) {\n                console.log('üìû Brak po≈ÇƒÖcze≈Ñ dla podanych kryteri√≥w');\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach (dzwoniƒÖcych)\n            const callerIds = [\n                ...new Set(callLogs.map((log)=>log.changed_by))\n            ];\n            const { data: callers, error: callersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', callerIds);\n            if (callersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', callersError);\n            // Kontynuuj bez szczeg√≥≈Ç√≥w u≈ºytkownik√≥w\n            }\n            // Stw√≥rz mapƒô u≈ºytkownik√≥w\n            const callersMap = (callers || []).reduce((acc, caller)=>{\n                acc[caller.id] = caller;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane na format CallRecord\n            const callRecords = callLogs.map((log)=>{\n                const client = Array.isArray(log.clients) ? log.clients[0] : log.clients;\n                const caller = callersMap[log.changed_by];\n                const location = Array.isArray(client?.location) ? client.location[0] : client?.location;\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    client_name: client ? `${client.first_name} ${client.last_name}`.trim() : 'Nieznany klient',\n                    client_company: client?.company_name || 'Brak informacji',\n                    client_phone: client?.phone || 'Brak telefonu',\n                    called_by: log.changed_by,\n                    caller_name: caller?.full_name || 'Nieznany u≈ºytkownik',\n                    caller_role: caller?.role || 'unknown',\n                    caller_avatar: caller?.avatar_url || null,\n                    call_timestamp: log.timestamp,\n                    location_id: client?.location_id || null,\n                    location_name: location?.name || null,\n                    location_code: location?.code || null\n                };\n            });\n            console.log(`‚úÖ Pobrano ${callRecords.length} rekord√≥w po≈ÇƒÖcze≈Ñ`);\n            return callRecords;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w callsApi.getCalls:', error);\n            throw error;\n        }\n    },\n    /**\r\n   * üìä POBIERZ STATYSTYKI PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera statystyki po≈ÇƒÖcze≈Ñ dla wybranego okresu\r\n   */ async getCallsStats (user, filter = {}) {\n        try {\n            console.log('üìä Pobieranie statystyk po≈ÇƒÖcze≈Ñ...');\n            const now = new Date();\n            const today = now.toISOString().split('T')[0];\n            const weekStart = new Date(now.setDate(now.getDate() - now.getDay())).toISOString().split('T')[0];\n            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1).toISOString();\n            // Pobierz wszystkie po≈ÇƒÖczenia zgodnie z uprawnieniami\n            const allCalls = await callsApi.getCalls(user, {\n                ...filter,\n                limit: 1000\n            });\n            // Zlicz statystyki\n            const totalCalls = allCalls.length;\n            const callsToday = allCalls.filter((call)=>call.call_timestamp.startsWith(today)).length;\n            const callsThisWeek = allCalls.filter((call)=>call.call_timestamp >= weekStart).length;\n            const callsThisMonth = allCalls.filter((call)=>call.call_timestamp >= monthStart).length;\n            // Top dzwoniƒÖcy\n            const callerCounts = allCalls.reduce((acc, call)=>{\n                const key = call.called_by;\n                if (!acc[key]) {\n                    acc[key] = {\n                        name: call.caller_name,\n                        role: call.caller_role,\n                        avatar: call.caller_avatar,\n                        count: 0\n                    };\n                }\n                acc[key].count++;\n                return acc;\n            }, {});\n            const topCallers = Object.values(callerCounts).sort((a, b)=>b.count - a.count).slice(0, 5);\n            return {\n                totalCalls,\n                callsToday,\n                callsThisWeek,\n                callsThisMonth,\n                topCallers\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk po≈ÇƒÖcze≈Ñ:', error);\n            return {\n                totalCalls: 0,\n                callsToday: 0,\n                callsThisWeek: 0,\n                callsThisMonth: 0,\n                topCallers: []\n            };\n        }\n    }\n};\n// üì° NOTIFICATIONS API - System powiadomie≈Ñ\nconst notificationsApi = {\n    // Pobierz powiadomienia dla u≈ºytkownika\n    async getNotifications (user, options) {\n        try {\n            let query = supabase.from('notifications').select(`\n          id,\n          user_id,\n          client_id,\n          type,\n          title,\n          message,\n          read,\n          urgent,\n          metadata,\n          created_at,\n          expires_at,\n          client:clients (\n            id,\n            first_name,\n            last_name,\n            company_name\n          )\n        `).eq('user_id', user.id).order('created_at', {\n                ascending: false\n            });\n            // Filtruj tylko nieprzeczytane\n            if (options?.unreadOnly) {\n                query = query.eq('read', false);\n            }\n            // Filtruj po typie\n            if (options?.type) {\n                query = query.eq('type', options.type);\n            }\n            // Limit\n            if (options?.limit) {\n                query = query.limit(options.limit);\n            }\n            const { data, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania powiadomie≈Ñ:', error);\n                throw error;\n            }\n            return (data || []).map((notification)=>({\n                    ...notification,\n                    // Przekszta≈Çƒá dane klienta z JOIN\n                    client: notification.client && Array.isArray(notification.client) && notification.client.length > 0 ? notification.client[0] : notification.client && !Array.isArray(notification.client) ? notification.client : undefined\n                }));\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getNotifications:', error);\n            throw error;\n        }\n    },\n    // Pobierz liczbƒô nieprzeczytanych powiadomie≈Ñ\n    async getUnreadCount (user) {\n        try {\n            const { count, error } = await supabase.from('notifications').select('*', {\n                count: 'exact',\n                head: true\n            }).eq('user_id', user.id).eq('read', false);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania liczby nieprzeczytanych:', error);\n                throw error;\n            }\n            return count || 0;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getUnreadCount:', error);\n            return 0;\n        }\n    },\n    // Oznacz powiadomienie jako przeczytane\n    async markAsRead (notificationId) {\n        try {\n            const { error } = await supabase.rpc('mark_notification_as_read', {\n                notification_id: notificationId\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd oznaczania jako przeczytane:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w markAsRead:', error);\n            throw error;\n        }\n    },\n    // Oznacz wszystkie powiadomienia jako przeczytane\n    async markAllAsRead (user) {\n        try {\n            const { data, error } = await supabase.rpc('mark_all_notifications_as_read');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd oznaczania wszystkich jako przeczytane:', error);\n                throw error;\n            }\n            return data || 0;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w markAllAsRead:', error);\n            throw error;\n        }\n    },\n    // Utw√≥rz nowe powiadomienie\n    async createNotification (notification) {\n        try {\n            const { data, error } = await supabase.from('notifications').insert([\n                notification\n            ]).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd tworzenia powiadomienia:', error);\n                throw error;\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w createNotification:', error);\n            throw error;\n        }\n    },\n    // Usu≈Ñ powiadomienie\n    async deleteNotification (notificationId) {\n        try {\n            const { error } = await supabase.from('notifications').delete().eq('id', notificationId);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd usuwania powiadomienia:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w deleteNotification:', error);\n            throw error;\n        }\n    },\n    // Wyczy≈õƒá stare powiadomienia\n    async cleanupOldNotifications () {\n        try {\n            const { error } = await supabase.rpc('cleanup_old_notifications');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd czyszczenia starych powiadomie≈Ñ:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupOldNotifications:', error);\n            throw error;\n        }\n    },\n    // Pobierz dzisiejsze przypomnienia dla dashboard\n    async getTodayReminders (user) {\n        try {\n            const today = new Date().toISOString().split('T')[0];\n            const { data, error } = await supabase.from('notifications').select(`\n          id,\n          user_id,\n          client_id,\n          type,\n          title,\n          message,\n          read,\n          urgent,\n          metadata,\n          created_at,\n          expires_at,\n          client:clients (\n            id,\n            first_name,\n            last_name,\n            company_name\n          )\n        `).eq('user_id', user.id).eq('type', 'reminder').gte('created_at', `${today}T00:00:00.000Z`).lt('created_at', `${today}T23:59:59.999Z`).order('created_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych przypomnie≈Ñ:', error);\n                throw error;\n            }\n            return (data || []).map((notification)=>({\n                    ...notification,\n                    client: notification.client && Array.isArray(notification.client) && notification.client.length > 0 ? notification.client[0] : notification.client && !Array.isArray(notification.client) ? notification.client : undefined\n                }));\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getTodayReminders:', error);\n            return [];\n        }\n    },\n    // Uruchom funkcje generowania powiadomie≈Ñ (do testowania)\n    async triggerReminderCheck () {\n        try {\n            const { error } = await supabase.rpc('create_reminder_notifications');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd uruchamiania sprawdzania przypomnie≈Ñ:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w triggerReminderCheck:', error);\n            throw error;\n        }\n    },\n    async triggerAntisaleCheck () {\n        try {\n            const { error } = await supabase.rpc('create_antysale_warnings');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd uruchamiania sprawdzania antysale:', error);\n                throw error;\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w triggerAntisaleCheck:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na real-time powiadomienia\n    subscribeToNotifications (userId, callback) {\n        return supabase.channel(`notifications_${userId}`).on('postgres_changes', {\n            event: 'INSERT',\n            schema: 'public',\n            table: 'notifications',\n            filter: `user_id=eq.${userId}`\n        }, (payload)=>{\n            callback(payload.new);\n        }).subscribe();\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1lBQ1JDLE9BQU87WUFDUDdMLFFBQVEsQ0FBQyxXQUFXLEVBQUVxUixRQUFRO1FBQ2hDLEdBQ0EsQ0FBQ3BGO1lBQ0NULFNBQVNTLFFBQVFHLEdBQUc7UUFDdEIsR0FFRE4sU0FBUztJQUNkO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxra2FjcFxcRGVza3RvcFxcU3BlY3RyZXNHcm91cENSTVxcZGFzaGJvYXJkXFxsaWJcXHN1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIHx8ICdodHRwczovL3BraHVnZ2RrY2dsaWNnaGd4aXlwLnN1cGFiYXNlLmNvJ1xyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW5CcmFIVm5aMlJyWTJkc2FXTm5hR2Q0YVhsd0lpd2ljbTlzWlNJNkltRnViMjRpTENKcFlYUWlPakUzTkRrNU1URXdOekVzSW1WNGNDSTZNakEyTlRRNE56QTNNWDAuTGJXdGItbW9kUkRsdm5rR0Y1SXN3UkhlMWxKcGQ0ekNNZ2tRM19FMFFRaydcclxuXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxyXG5cclxuLy8gRnVua2NqYSBwb21vY25pY3phIGRvIGdlbmVyb3dhbmlhIHBvcHJhd255Y2ggVVJMLWkgYXZhdGFyw7N3IHogU3VwYWJhc2UgU3RvcmFnZVxyXG5leHBvcnQgY29uc3QgZ2V0QXZhdGFyVXJsID0gKGF2YXRhclVybD86IHN0cmluZyB8IG51bGwpOiBzdHJpbmcgfCBudWxsID0+IHtcclxuICBpZiAoIWF2YXRhclVybCkgcmV0dXJuIG51bGxcclxuICBcclxuICAvLyBKZcWbbGkgdG8ganXFvCBwZcWCbnkgVVJMICh6YWN6eW5hIHNpxJkgb2QgaHR0cCksIHp3csOzxIcgYmV6IHptaWFuXHJcbiAgaWYgKGF2YXRhclVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcclxuICAgIHJldHVybiBhdmF0YXJVcmxcclxuICB9XHJcbiAgXHJcbiAgLy8gSmXFm2xpIHRvIMWbY2llxbxrYSB3IGJ1Y2tldCd1ICh6YXdpZXJhIGZvbGRlciksIHd5Z2VuZXJ1aiBwdWJsaWN6bnkgVVJMXHJcbiAgaWYgKGF2YXRhclVybC5pbmNsdWRlcygnLycpKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEgfSA9IHN1cGFiYXNlLnN0b3JhZ2VcclxuICAgICAgICAuZnJvbSgnYXZhdGFycycpXHJcbiAgICAgICAgLmdldFB1YmxpY1VybChhdmF0YXJVcmwpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZGF0YS5wdWJsaWNVcmxcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCBnZW5lcm93YW5pYSBVUkwgYXZhdGFyYTonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIG51bGxcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8gRmFsbGJhY2sgLSBwcmF3ZG9wb2RvYm5pZSBuaWVwb3ByYXdueSBmb3JtYXRcclxuICBjb25zb2xlLndhcm4oJ05pZXJvenBvem5hbnkgZm9ybWF0IGF2YXRhcl91cmw6JywgYXZhdGFyVXJsKVxyXG4gIHJldHVybiBudWxsXHJcbn1cclxuXHJcbi8vIFN0b3JhZ2UgQVBJIGRsYSBwbGlrw7N3IENTVlxyXG5leHBvcnQgY29uc3Qgc3RvcmFnZUFwaSA9IHtcclxuICAvLyBVcGxvYWQgcGxpa3UgQ1NWIGRvIGJ1Y2tldFxyXG4gIGFzeW5jIHVwbG9hZENTVihmaWxlOiBGaWxlLCB1c2VyOiBVc2VyKTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIE9jenlzemN6ZW5pZSBuYXp3eSBwbGlrdSB6IHByb2JsZW1hdHljem55Y2ggem5ha8Ozd1xyXG4gICAgICBjb25zdCBjbGVhbkZpbGVOYW1lID0gZmlsZS5uYW1lXHJcbiAgICAgICAgLnJlcGxhY2UoL1teYS16QS1aMC05Li1dL2csICdfJykgLy8gWmFzdMSFcCB3c3p5c3RraWUgem5ha2kgc3BlY2phbG5lIHBvZGtyZcWbbGVuaWFtaVxyXG4gICAgICAgIC5yZXBsYWNlKC9fezIsfS9nLCAnXycpIC8vIFphbWllxYQgd2llbG9rcm90bmUgcG9ka3JlxZtsZW5pYSBuYSBwb2plZHluY3plXHJcbiAgICAgICAgLnJlcGxhY2UoL15fK3xfKyQvZywgJycpIC8vIFVzdcWEIHBvZGtyZcWbbGVuaWEgeiBwb2N6xIV0a3UgaSBrb8WEY2FcclxuICAgICAgICAudG9Mb3dlckNhc2UoKSAvLyBNYcWCZSBsaXRlcnkgZGxhIGNvbnNpc3RlbmN5XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3VzZXIuaWR9XyR7RGF0ZS5ub3coKX1fJHtjbGVhbkZpbGVOYW1lfWBcclxuICAgICAgY29uc3QgZmlsZVBhdGggPSBgY3N2LWltcG9ydHMvJHtmaWxlTmFtZX1gXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TgSBVcGxvYWRpbmcgQ1NWOiAke2ZpbGVQYXRofWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OBIE9yaWdpbmFsIGZpbGVuYW1lOiAke2ZpbGUubmFtZX1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TgSBDbGVhbmVkIGZpbGVuYW1lOiAke2NsZWFuRmlsZU5hbWV9YClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcclxuICAgICAgICAuZnJvbSgnY3N2LWZpbGVzJylcclxuICAgICAgICAudXBsb2FkKGZpbGVQYXRoLCBmaWxlLCB7XHJcbiAgICAgICAgICBjYWNoZUNvbnRyb2w6ICczNjAwJyxcclxuICAgICAgICAgIHVwc2VydDogZmFsc2VcclxuICAgICAgICB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFN0b3JhZ2UgdXBsb2FkIGVycm9yOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQsWCxIVkIHVwbG9hZHU6ICR7ZXJyb3IubWVzc2FnZX1gKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEZpbGUgdXBsb2FkZWQgc3VjY2Vzc2Z1bGx5OicsIGRhdGEucGF0aClcclxuICAgICAgcmV0dXJuIGRhdGEucGF0aFxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBVcGxvYWQgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gUG9iaWVyeiBwdWJsaWN6bnkgVVJMIHBsaWt1XHJcbiAgZ2V0UHVibGljVXJsKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgICBjb25zdCB7IGRhdGEgfSA9IHN1cGFiYXNlLnN0b3JhZ2VcclxuICAgICAgLmZyb20oJ2Nzdi1maWxlcycpXHJcbiAgICAgIC5nZXRQdWJsaWNVcmwocGF0aClcclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGEucHVibGljVXJsXHJcbiAgfSxcclxuICBcclxuICAvLyBVc3XFhCBwbGlrIHogYnVja2V0XHJcbiAgYXN5bmMgZGVsZXRlRmlsZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnN0b3JhZ2VcclxuICAgICAgLmZyb20oJ2Nzdi1maWxlcycpXHJcbiAgICAgIC5yZW1vdmUoW3BhdGhdKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpbGUgZGVsZXRpb24gZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IG5ldyBFcnJvcihgQsWCxIVkIHVzdXdhbmlhIHBsaWt1OiAke2Vycm9yLm1lc3NhZ2V9YClcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIENTViBJbXBvcnQgQVBJXHJcbmV4cG9ydCBjb25zdCBjc3ZJbXBvcnRBcGkgPSB7XHJcbiAgLy8gUGFyc3VqIENTViBpIHp3csOzxIcgZGFuZVxyXG4gIHBhcnNlQ1NWKGNzdlRleHQ6IHN0cmluZyk6IHsgaGVhZGVyczogc3RyaW5nW10sIHJvd3M6IHN0cmluZ1tdW10gfSB7XHJcbiAgICBjb25zdCBsaW5lcyA9IGNzdlRleHQuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJylcclxuICAgIFxyXG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdQbGlrIENTViBqZXN0IHB1c3R5IGx1YiB6YXdpZXJhIHR5bGtvIG5hZ8WCw7N3a2knKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQYXJzb3dhbmllIHogb2JzxYJ1Z8SFIGN1ZHp5c8WCb3fDs3dcclxuICAgIGNvbnN0IHBhcnNlQ1NWTGluZSA9IChsaW5lOiBzdHJpbmcpOiBzdHJpbmdbXSA9PiB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxyXG4gICAgICBsZXQgY3VycmVudCA9ICcnXHJcbiAgICAgIGxldCBpblF1b3RlcyA9IGZhbHNlXHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpbmUubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjaGFyID0gbGluZVtpXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChjaGFyID09PSAnXCInKSB7XHJcbiAgICAgICAgICBpblF1b3RlcyA9ICFpblF1b3Rlc1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJywnICYmICFpblF1b3Rlcykge1xyXG4gICAgICAgICAgcmVzdWx0LnB1c2goY3VycmVudC50cmltKCkpXHJcbiAgICAgICAgICBjdXJyZW50ID0gJydcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY3VycmVudCArPSBjaGFyXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXN1bHQucHVzaChjdXJyZW50LnRyaW0oKSlcclxuICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoY2VsbCA9PiBjZWxsLnJlcGxhY2UoL15cInxcIiQvZywgJycpKSAvLyBVc3XFhCBjdWR6eXPFgm93eVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBjb25zdCBoZWFkZXJzID0gcGFyc2VDU1ZMaW5lKGxpbmVzWzBdKVxyXG4gICAgY29uc3Qgcm93cyA9IGxpbmVzLnNsaWNlKDEpLm1hcChwYXJzZUNTVkxpbmUpXHJcbiAgICBcclxuICAgIHJldHVybiB7IGhlYWRlcnMsIHJvd3MgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gTWFwdWogbmFnxYLDs3draSBDU1YgbmEgcG9sYSBiYXp5IGRhbnljaFxyXG4gIG1hcEhlYWRlcnMoaGVhZGVyczogc3RyaW5nW10pOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+IHtcclxuICAgIGNvbnN0IG1hcHBpbmc6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxyXG4gICAgXHJcbiAgICBjb25zdCBmaWVsZE1hcHBpbmdzID0gW1xyXG4gICAgICB7IGZpZWxkczogWydmaXJzdF9uYW1lJywgJ2ltacSZJywgJ25hbWUnLCAnZmlyc3ROYW1lJ10sIGRiRmllbGQ6ICdmaXJzdF9uYW1lJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydsYXN0X25hbWUnLCAnbmF6d2lza28nLCAnc3VybmFtZScsICdsYXN0TmFtZSddLCBkYkZpZWxkOiAnbGFzdF9uYW1lJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydjb21wYW55X25hbWUnLCAnZmlybWEnLCAnY29tcGFueScsICdjb21wYW55TmFtZScsICduYXp3YSddLCBkYkZpZWxkOiAnY29tcGFueV9uYW1lJyB9LFxyXG4gICAgICB7IGZpZWxkczogWyduaXAnLCAndGF4X2lkJywgJ3RheElkJ10sIGRiRmllbGQ6ICduaXAnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ3Bob25lJywgJ3RlbGVmb24nLCAndGVsZXBob25lJ10sIGRiRmllbGQ6ICdwaG9uZScgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnZW1haWwnLCAnZS1tYWlsJywgJ21haWwnXSwgZGJGaWVsZDogJ2VtYWlsJyB9LFxyXG4gICAgICB7IGZpZWxkczogWyd3ZWJzaXRlJywgJ3d3dycsICdzdHJvbmEnLCAndXJsJ10sIGRiRmllbGQ6ICd3ZWJzaXRlJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydub3RlcycsICdub3RhdGthJywgJ25vdGUnLCAnY29tbWVudCddLCBkYkZpZWxkOiAnbm90ZXMnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ3N0YXR1cyddLCBkYkZpZWxkOiAnc3RhdHVzJyB9XHJcbiAgICBdXHJcbiAgICBcclxuICAgIGZvciAoY29uc3QgZmllbGRNYXBwaW5nIG9mIGZpZWxkTWFwcGluZ3MpIHtcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBoZWFkZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgaGVhZGVyID0gaGVhZGVyc1tpXS50b0xvd2VyQ2FzZSgpLnRyaW0oKVxyXG4gICAgICAgIGlmIChmaWVsZE1hcHBpbmcuZmllbGRzLnNvbWUoZmllbGQgPT4gaGVhZGVyLmluY2x1ZGVzKGZpZWxkKSkpIHtcclxuICAgICAgICAgIG1hcHBpbmdbZmllbGRNYXBwaW5nLmRiRmllbGRdID0gaVxyXG4gICAgICAgICAgYnJlYWtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIG1hcHBpbmdcclxuICB9LFxyXG4gIFxyXG4gIC8vIFdhbGlkdWogd3ltYWdhbmUgcG9sYVxyXG4gIHZhbGlkYXRlUmVxdWlyZWRGaWVsZHMobWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPik6IHZvaWQge1xyXG4gICAgY29uc3QgcmVxdWlyZWRGaWVsZHMgPSBbJ2NvbXBhbnlfbmFtZSddXHJcbiAgICBjb25zdCBtaXNzaW5nRmllbGRzID0gcmVxdWlyZWRGaWVsZHMuZmlsdGVyKGZpZWxkID0+ICEoZmllbGQgaW4gbWFwcGluZykpXHJcbiAgICBcclxuICAgIGlmIChtaXNzaW5nRmllbGRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBCcmFrIHd5bWFnYW55Y2gga29sdW1uOiAke21pc3NpbmdGaWVsZHMuam9pbignLCAnKX0uIFd5bWFnYW5lOiBGaXJtYS9OYXp3YWApXHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyBTcHJhd2TFuiBkb3N0xJlwbmUga29sdW1ueSBpIHBva2HFvCBpbmZvcm1hY2plXHJcbiAgYW5hbHl6ZUNvbHVtbnMobWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgaGVhZGVyczogc3RyaW5nW10pOiB7IGZvdW5kOiBzdHJpbmdbXSwgbWlzc2luZzogc3RyaW5nW10sIG9wdGlvbmFsOiBzdHJpbmdbXSB9IHtcclxuICAgIGNvbnN0IGFsbFBvc3NpYmxlRmllbGRzID0gW1xyXG4gICAgICB7IGZpZWxkOiAnZmlyc3RfbmFtZScsIGRpc3BsYXlOYW1lOiAnSW1pxJknLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ2xhc3RfbmFtZScsIGRpc3BsYXlOYW1lOiAnTmF6d2lza28nLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ2NvbXBhbnlfbmFtZScsIGRpc3BsYXlOYW1lOiAnRmlybWEvTmF6d2EnLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gICAgICB7IGZpZWxkOiAncGhvbmUnLCBkaXNwbGF5TmFtZTogJ1RlbGVmb24nLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ2VtYWlsJywgZGlzcGxheU5hbWU6ICdFbWFpbCcsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnbmlwJywgZGlzcGxheU5hbWU6ICdOSVAnLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ3dlYnNpdGUnLCBkaXNwbGF5TmFtZTogJ1N0cm9uYSBXV1cnLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ25vdGVzJywgZGlzcGxheU5hbWU6ICdOb3RhdGtpJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdzdGF0dXMnLCBkaXNwbGF5TmFtZTogJ1N0YXR1cycsIHJlcXVpcmVkOiBmYWxzZSB9XHJcbiAgICBdXHJcbiAgICBcclxuICAgIGNvbnN0IGZvdW5kOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBjb25zdCBvcHRpb25hbDogc3RyaW5nW10gPSBbXVxyXG4gICAgXHJcbiAgICBhbGxQb3NzaWJsZUZpZWxkcy5mb3JFYWNoKCh7IGZpZWxkLCBkaXNwbGF5TmFtZSwgcmVxdWlyZWQgfSkgPT4ge1xyXG4gICAgICBpZiAoZmllbGQgaW4gbWFwcGluZykge1xyXG4gICAgICAgIGZvdW5kLnB1c2goZGlzcGxheU5hbWUpXHJcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZWQpIHtcclxuICAgICAgICBtaXNzaW5nLnB1c2goZGlzcGxheU5hbWUpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgb3B0aW9uYWwucHVzaChkaXNwbGF5TmFtZSlcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgZm91bmQsIG1pc3NpbmcsIG9wdGlvbmFsIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIFByemVrc3p0YcWCxIcgd2llcnN6IENTViBuYSBvYmlla3Qga2xpZW50YVxyXG4gIHJvd1RvQ2xpZW50KHJvdzogc3RyaW5nW10sIG1hcHBpbmc6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIHVzZXI6IFVzZXIsIGxvY2F0aW9uSWQ/OiBzdHJpbmcpOiBPbWl0PENsaWVudCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4ge1xyXG4gICAgY29uc3QgZ2V0RmllbGQgPSAoZmllbGQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcgPSAnYnJhayBpbmZvcm1hY2ppJyk6IHN0cmluZyA9PiB7XHJcbiAgICAgIGNvbnN0IGluZGV4ID0gbWFwcGluZ1tmaWVsZF1cclxuICAgICAgaWYgKGluZGV4ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlXHJcbiAgICAgIH1cclxuICAgICAgY29uc3QgdmFsdWUgPSAocm93W2luZGV4XSB8fCAnJykudHJpbSgpXHJcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBXYWxpZGFjamEgc3RhdHVzdVxyXG4gICAgY29uc3QgcmF3U3RhdHVzID0gZ2V0RmllbGQoJ3N0YXR1cycsICdjYW52YXMnKS50b0xvd2VyQ2FzZSgpXHJcbiAgICBjb25zdCB2YWxpZFN0YXR1c2VzID0gWydjYW52YXMnLCAnYnJha19rb250YWt0dScsICduaWVfemFpbnRlcmVzb3dhbnknLCAnemRlbmVyd293YW55JywgJ2FudHlzYWxlJywgJ3NhbGUnLCAnJCQnXSBhcyBjb25zdFxyXG4gICAgY29uc3Qgc3RhdHVzID0gdmFsaWRTdGF0dXNlcy5pbmNsdWRlcyhyYXdTdGF0dXMgYXMgYW55KSA/IHJhd1N0YXR1cyBhcyBDbGllbnRbJ3N0YXR1cyddIDogJ2NhbnZhcydcclxuICAgIFxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgZmlyc3RfbmFtZTogZ2V0RmllbGQoJ2ZpcnN0X25hbWUnKSwgLy8gT3Bjam9uYWxuZSAtIG1vxbxlIGJ5xIcgXCJicmFrIGluZm9ybWFjamlcIlxyXG4gICAgICBsYXN0X25hbWU6IGdldEZpZWxkKCdsYXN0X25hbWUnKSwgLy8gT3Bjam9uYWxuZSAtIG1vxbxlIGJ5xIcgXCJicmFrIGluZm9ybWFjamlcIlxyXG4gICAgICBjb21wYW55X25hbWU6IGdldEZpZWxkKCdjb21wYW55X25hbWUnLCAnJyksIC8vIFd5bWFnYW5lIC0gbmllIG1vxbxlIGJ5xIcgXCJicmFrIGluZm9ybWFjamlcIlxyXG4gICAgICBuaXA6IGdldEZpZWxkKCduaXAnKSxcclxuICAgICAgcGhvbmU6IGdldEZpZWxkKCdwaG9uZScpLFxyXG4gICAgICBlbWFpbDogZ2V0RmllbGQoJ2VtYWlsJyksXHJcbiAgICAgIHdlYnNpdGU6IGdldEZpZWxkKCd3ZWJzaXRlJyksXHJcbiAgICAgIG5vdGVzOiBnZXRGaWVsZCgnbm90ZXMnKSxcclxuICAgICAgc3RhdHVzLFxyXG4gICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXHJcbiAgICAgIGVkaXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBvd25lcl9pZDogdXNlci5pZCxcclxuICAgICAgbG9jYXRpb25faWQ6IGxvY2F0aW9uSWQgfHwgdXNlci5sb2NhdGlvbl9pZCwgLy8gVcW8eWogd3licmFuZWogbG9rYWxpemFjamkgbHViIGxva2FsaXphY2ppIHXFvHl0a293bmlrYVxyXG4gICAgICBsYXN0X2VkaXRlZF9ieV9uYW1lOiB1c2VyLmZ1bGxfbmFtZSwgLy8gWmFwaXN6IGRhbmUgaW1wb3J0ZXJhXHJcbiAgICAgIGxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmw6IHVzZXIuYXZhdGFyX3VybFxyXG4gICAgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gSW1wb3J0IHBlxYJuZWdvIENTViBkbyBiYXp5IGRhbnljaFxyXG4gIGFzeW5jIGltcG9ydENTVihmaWxlOiBGaWxlLCB1c2VyOiBVc2VyLCBsb2NhdGlvbklkPzogc3RyaW5nLCBvblByb2dyZXNzPzogKHByb2dyZXNzOiB7IGN1cnJlbnQ6IG51bWJlciwgdG90YWw6IG51bWJlciwgc3RhdHVzOiBzdHJpbmcgfSkgPT4gdm9pZCk6IFByb21pc2U8eyBzdWNjZXNzOiBudW1iZXIsIGVycm9yczogYW55W10gfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogMCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnVXBsb2FkaW5nIHBsaWt1Li4uJyB9KVxyXG4gICAgICBcclxuICAgICAgLy8gMS4gVXBsb2FkIHBsaWt1IGRvIFN0b3JhZ2VcclxuICAgICAgY29uc3QgZmlsZVBhdGggPSBhd2FpdCBzdG9yYWdlQXBpLnVwbG9hZENTVihmaWxlLCB1c2VyKVxyXG4gICAgICBcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogMjAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ1BhcnNvd2FuaWUgQ1NWLi4uJyB9KVxyXG4gICAgICBcclxuICAgICAgLy8gMi4gQ3p5dGFuaWUgaSBwYXJzb3dhbmllIENTVlxyXG4gICAgICBjb25zdCBjc3ZUZXh0ID0gYXdhaXQgZmlsZS50ZXh0KClcclxuICAgICAgY29uc3QgeyBoZWFkZXJzLCByb3dzIH0gPSBjc3ZJbXBvcnRBcGkucGFyc2VDU1YoY3N2VGV4dClcclxuICAgICAgXHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDQwLCB0b3RhbDogMTAwLCBzdGF0dXM6ICdNYXBvd2FuaWUga29sdW1uLi4uJyB9KVxyXG4gICAgICBcclxuICAgICAgLy8gMy4gTWFwb3dhbmllIG5hZ8WCw7N3a8Ozd1xyXG4gICAgICBjb25zdCBtYXBwaW5nID0gY3N2SW1wb3J0QXBpLm1hcEhlYWRlcnMoaGVhZGVycylcclxuICAgICAgY3N2SW1wb3J0QXBpLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMobWFwcGluZylcclxuICAgICAgXHJcbiAgICAgIC8vIDQuIEFuYWxpemEgZG9zdMSZcG55Y2gga29sdW1uXHJcbiAgICAgIGNvbnN0IGNvbHVtbkFuYWx5c2lzID0gY3N2SW1wb3J0QXBpLmFuYWx5emVDb2x1bW5zKG1hcHBpbmcsIGhlYWRlcnMpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBDU1YgSGVhZGVyczonLCBoZWFkZXJzKVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBGaWVsZCBtYXBwaW5nOicsIG1hcHBpbmcpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFJvd3MgdG8gaW1wb3J0OicsIHJvd3MubGVuZ3RoKVxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFpuYWxlemlvbmUga29sdW1ueTonLCBjb2x1bW5BbmFseXNpcy5mb3VuZClcclxuICAgICAgY29uc29sZS5sb2coJ+KdjCBCcmFrdWrEhWNlIHd5bWFnYW5lOicsIGNvbHVtbkFuYWx5c2lzLm1pc3NpbmcpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqogT3Bjam9uYWxuZSAoYsSZZMSFIFwiYnJhayBpbmZvcm1hY2ppXCIpOicsIGNvbHVtbkFuYWx5c2lzLm9wdGlvbmFsKVxyXG4gICAgICBcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogNTAsIHRvdGFsOiAxMDAsIHN0YXR1czogYEltcG9ydG93YW5pZSAke3Jvd3MubGVuZ3RofSBrbGllbnTDs3cuLi5gIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyA0LiBJbXBvcnQgd2llcnN6eSBkbyBiYXp5XHJcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSB7IHN1Y2Nlc3M6IDAsIGVycm9yczogW10gYXMgYW55W10gfVxyXG4gICAgICBcclxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJvdyA9IHJvd3NbaV1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU3ByYXdkxbogY3p5IHdpZXJzeiBuaWUgamVzdCBwdXN0eVxyXG4gICAgICAgICAgaWYgKHJvdy5ldmVyeShjZWxsID0+IGNlbGwudHJpbSgpID09PSAnJykpIHtcclxuICAgICAgICAgICAgY29udGludWVcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgY2xpZW50RGF0YSA9IGNzdkltcG9ydEFwaS5yb3dUb0NsaWVudChyb3csIG1hcHBpbmcsIHVzZXIsIGxvY2F0aW9uSWQpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFdhbGlkYWNqYSBwb2RzdGF3b3d5Y2ggZGFueWNoXHJcbiAgICAgICAgICBpZiAoIWNsaWVudERhdGEuY29tcGFueV9uYW1lIHx8IGNsaWVudERhdGEuY29tcGFueV9uYW1lLnRyaW0oKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaCh7XHJcbiAgICAgICAgICAgICAgcm93OiBpICsgMiwgLy8gKzIgYm8gbGljenlteSBvZCAxIGkgcG9taWphbXkgbmFnxYLDs3dla1xyXG4gICAgICAgICAgICAgIGVycm9yOiAnQnJhayB3eW1hZ2FueWNoIGRhbnljaDogZmlybWEvbmF6d2EnLFxyXG4gICAgICAgICAgICAgIGRhdGE6IHJvd1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBEb2RhaiBrbGllbnRhIGRvIGJhenlcclxuICAgICAgICAgIGF3YWl0IGNsaWVudHNBcGkuY3JlYXRlQ2xpZW50KGNsaWVudERhdGEsIHVzZXIpXHJcbiAgICAgICAgICByZXN1bHRzLnN1Y2Nlc3MrK1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBBa3R1YWxpenVqIHByb2dyZXNzXHJcbiAgICAgICAgICBjb25zdCBwcm9ncmVzcyA9IDUwICsgTWF0aC5mbG9vcigoaSAvIHJvd3MubGVuZ3RoKSAqIDQwKVxyXG4gICAgICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogcHJvZ3Jlc3MsIHRvdGFsOiAxMDAsIHN0YXR1czogYFphaW1wb3J0b3dhbm8gJHtyZXN1bHRzLnN1Y2Nlc3N9LyR7cm93cy5sZW5ndGh9IGtsaWVudMOzd2AgfSlcclxuICAgICAgICAgIFxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgQsWCxIVkIGltcG9ydHUgd2llcnN6YSAke2kgKyAyfTpgLCBlcnJvcilcclxuICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2goe1xyXG4gICAgICAgICAgICByb3c6IGkgKyAyLFxyXG4gICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnTmllem5hbnkgYsWCxIVkJyxcclxuICAgICAgICAgICAgZGF0YTogcm93c1tpXVxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDk1LCB0b3RhbDogMTAwLCBzdGF0dXM6ICdGaW5hbGl6b3dhbmllLi4uJyB9KVxyXG4gICAgICBcclxuICAgICAgLy8gNS4gT3Bjam9uYWxuaWUgdXN1xYQgcGxpayB6IFN0b3JhZ2UgKGx1YiB6YWNob3dhaiBkbGEgaGlzdG9yaWkpXHJcbiAgICAgIC8vIGF3YWl0IHN0b3JhZ2VBcGkuZGVsZXRlRmlsZShmaWxlUGF0aClcclxuICAgICAgXHJcbiAgICAgIG9uUHJvZ3Jlc3M/Lih7IGN1cnJlbnQ6IDEwMCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnWmFrb8WEY3pvbm8hJyB9KVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBJbXBvcnQgemFrb8WEY3pvbnk6ICR7cmVzdWx0cy5zdWNjZXNzfSBzdWtjZXMsICR7cmVzdWx0cy5lcnJvcnMubGVuZ3RofSBixYLEmWTDs3dgKVxyXG4gICAgICByZXR1cm4gcmVzdWx0c1xyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDU1YgSW1wb3J0IGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFR5cHkgZGxhIGJhenkgZGFueWNoIHpnb2RuaWUgeiBFVEFQRU0gNSBpIDYgeiBSRUFETUUgKyBTdHJ1a3R1cmFEQi50eHRcclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnQge1xyXG4gIGlkOiBzdHJpbmdcclxuICBmaXJzdF9uYW1lOiBzdHJpbmdcclxuICBsYXN0X25hbWU6IHN0cmluZ1xyXG4gIGNvbXBhbnlfbmFtZTogc3RyaW5nXHJcbiAgbmlwOiBzdHJpbmdcclxuICBwaG9uZTogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIG5vdGVzOiBzdHJpbmdcclxuICB3ZWJzaXRlOiBzdHJpbmdcclxuICBzdGF0dXM6ICdjYW52YXMnIHwgJ2JyYWtfa29udGFrdHUnIHwgJ25pZV96YWludGVyZXNvd2FueScgfCAnemRlbmVyd293YW55JyB8ICdhbnR5c2FsZScgfCAnc2FsZScgfCAnJCQnIHwgJ25vd3knXHJcbiAgZWRpdGVkX2J5OiBzdHJpbmdcclxuICBlZGl0ZWRfYXQ6IHN0cmluZ1xyXG4gIG93bmVyX2lkPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgc3lzdGVtdSB1cHJhd25pZcWEXHJcbiAgbG9jYXRpb25faWQ/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBzeXN0ZW11IGxva2FsaXphY2ppXHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nXHJcbiAgdXBkYXRlZF9hdDogc3RyaW5nXHJcbiAgc3RhdHVzX2NoYW5nZWRfYXQ/OiBzdHJpbmcgLy8gQ3phcyBvc3RhdG5pZWogem1pYW55IHN0YXR1c3VcclxuICBsYXN0X3Bob25lX2NsaWNrPzogc3RyaW5nIC8vIEN6YXMgb3N0YXRuaWVnbyBrbGlrbmnEmWNpYSB3IHRlbGVmb25cclxuICBsYXN0X2VkaXRlZF9ieV9uYW1lPzogc3RyaW5nIC8vIFBlxYJuZSBpbWnEmSBpIG5hendpc2tvIG9zdGF0bmllZ28gZWR5dG9yYVxyXG4gIGxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmw/OiBzdHJpbmcgLy8gQXZhdGFyIFVSTCBvc3RhdG5pZWdvIGVkeXRvcmFcclxuICBvd25lcj86IHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGZ1bGxfbmFtZTogc3RyaW5nXHJcbiAgICBlbWFpbDogc3RyaW5nXHJcbiAgICBhdmF0YXJfdXJsPzogc3RyaW5nXHJcbiAgfSAvLyBJbmZvcm1hY2plIG8gd8WCYcWbY2ljaWVsdSBrbGllbnRhXHJcbiAgbG9jYXRpb24/OiBMb2NhdGlvbiAvLyBJbmZvcm1hY2plIG8gbG9rYWxpemFjamkga2xpZW50YVxyXG4gIHJlbWluZGVyPzoge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhblxyXG4gICAgZGF0ZTogc3RyaW5nXHJcbiAgICB0aW1lOiBzdHJpbmdcclxuICAgIG5vdGU6IHN0cmluZ1xyXG4gIH0gLy8gUHJ6eXBvbW5pZW5pZSBkbGEga2xpZW50YVxyXG59XHJcblxyXG4vLyDwn5qAIE5PV1k6IEludGVyZmFjZSBkbGEgcGFnaW5vd2FueWNoIHd5bmlrw7N3XHJcbmV4cG9ydCBpbnRlcmZhY2UgUGFnaW5hdGVkQ2xpZW50c1Jlc3VsdCB7XHJcbiAgY2xpZW50czogQ2xpZW50W11cclxuICB0b3RhbDogbnVtYmVyXHJcbiAgcGFnZTogbnVtYmVyXHJcbiAgcGFnZVNpemU6IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEFjdGl2aXR5TG9nIHtcclxuICBpZDogc3RyaW5nXHJcbiAgY2xpZW50X2lkOiBzdHJpbmdcclxuICBjaGFuZ2VkX2J5OiBzdHJpbmdcclxuICBjaGFuZ2VfdHlwZTogJ2NyZWF0ZScgfCAndXBkYXRlJyB8ICdkZWxldGUnXHJcbiAgZmllbGRfY2hhbmdlZDogc3RyaW5nXHJcbiAgb2xkX3ZhbHVlPzogc3RyaW5nXHJcbiAgbmV3X3ZhbHVlPzogc3RyaW5nXHJcbiAgdGltZXN0YW1wOiBzdHJpbmdcclxufVxyXG5cclxuLy8gSW50ZXJmZWpzIGRsYSBsb2thbGl6YWNqaS9rcmFqw7N3XHJcbmV4cG9ydCBpbnRlcmZhY2UgTG9jYXRpb24ge1xyXG4gIGlkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBjb2RlOiBzdHJpbmcgLy8gJ1BMJywgJ1NLJ1xyXG4gIGN1cnJlbmN5OiBzdHJpbmcgLy8gJ1BMTicsICdFVVInXHJcbiAgdGltZXpvbmU6IHN0cmluZyAvLyAnRXVyb3BlL1dhcnNhdycsICdFdXJvcGUvQnJhdGlzbGF2YSdcclxuICByZWdpb24/OiBzdHJpbmdcclxuICBwcm9qZWN0X21hbmFnZXJfaWQ/OiBzdHJpbmdcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICBwcm9qZWN0X21hbmFnZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcclxuICBpZDogc3RyaW5nXHJcbiAgZW1haWw6IHN0cmluZ1xyXG4gIGZ1bGxfbmFtZTogc3RyaW5nXHJcbiAgcm9sZTogJ2FkbWluJyB8ICdtYW5hZ2VyJyB8ICdwcmFjb3duaWsnIHwgJ3N6ZWYnIHwgJ3Byb2plY3RfbWFuYWdlcicgfCAnanVuaW9yX21hbmFnZXInXHJcbiAgcGhvbmU/OiBzdHJpbmcgXHJcbiAgYmlvPzogc3RyaW5nIFxyXG4gIGF2YXRhcl91cmw/OiBzdHJpbmcgXHJcbiAgbGFuZ3VhZ2U/OiAncGwnIHwgJ2VuJyB8ICdzaydcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICAvLyBOb3dlIHBvbGEgaGllcmFyY2hpY3puZSB6IG1pZ3JhY2ppXHJcbiAgbG9jYXRpb25faWQ/OiBzdHJpbmdcclxuICBtYW5hZ2VyX2lkPzogc3RyaW5nXHJcbiAgcm9sZV9oaWVyYXJjaHlfbGV2ZWw/OiBudW1iZXJcclxuICB0ZXJyaXRvcnk/OiBzdHJpbmdcclxuICBzdGFydF9kYXRlPzogc3RyaW5nXHJcbiAgaXNfYWN0aXZlPzogYm9vbGVhblxyXG4gIC8vIFJvenN6ZXJ6b25lIGluZm9ybWFjamUgZGxhIEpPSU5cclxuICBsb2NhdGlvbj86IExvY2F0aW9uXHJcbiAgbWFuYWdlcj86IHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGZ1bGxfbmFtZTogc3RyaW5nXHJcbiAgICBlbWFpbDogc3RyaW5nXHJcbiAgICBhdmF0YXJfdXJsPzogc3RyaW5nXHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbnRlcmZhY2UgZGxhIHBvd2lhZG9taWXFhFxyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGlmaWNhdGlvbiB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIGNsaWVudF9pZD86IHN0cmluZ1xyXG4gIHR5cGU6ICdyZW1pbmRlcicgfCAnYW50eXNhbGVfd2FybmluZycgfCAnc3lzdGVtJyB8ICdtYW51YWwnXHJcbiAgdGl0bGU6IHN0cmluZ1xyXG4gIG1lc3NhZ2U6IHN0cmluZ1xyXG4gIHJlYWQ6IGJvb2xlYW5cclxuICB1cmdlbnQ6IGJvb2xlYW5cclxuICBtZXRhZGF0YTogUmVjb3JkPHN0cmluZywgYW55PlxyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gIGV4cGlyZXNfYXQ/OiBzdHJpbmdcclxuICAvLyBSb3pzemVyem9uZSBkYW5lIHogSk9JTlxyXG4gIGNsaWVudD86IHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGZpcnN0X25hbWU6IHN0cmluZ1xyXG4gICAgbGFzdF9uYW1lOiBzdHJpbmdcclxuICAgIGNvbXBhbnlfbmFtZTogc3RyaW5nXHJcbiAgfVxyXG59XHJcblxyXG4vLyBJbnRlcmZlanMgZGxhIGhpc3RvcmlpIHptaWFuIHogZG9kYXRrb3d5bWkgaW5mb3JtYWNqYW1pXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2xpZW50SGlzdG9yeSB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIGNsaWVudF9pZDogc3RyaW5nXHJcbiAgY2hhbmdlZF9ieTogc3RyaW5nXHJcbiAgY2hhbmdlX3R5cGU6ICdjcmVhdGUnIHwgJ3VwZGF0ZScgfCAnZGVsZXRlJ1xyXG4gIGZpZWxkX2NoYW5nZWQ6IHN0cmluZ1xyXG4gIG9sZF92YWx1ZT86IHN0cmluZ1xyXG4gIG5ld192YWx1ZT86IHN0cmluZ1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nXHJcbiAgZWRpdG9yX25hbWU/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBVSVxyXG4gIGVkaXRvcl9yb2xlPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgVUlcclxuICBlZGl0b3JfYXZhdGFyPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgVUkgLSBhdmF0YXIgZWR5dG9yYVxyXG59XHJcblxyXG4vLyBGdW5rY2plIHNwcmF3ZHphbmlhIHVwcmF3bmllxYQgeiBoaWVyYXJjaGnEhSBpIGxva2FsaXphY2rEhVxyXG5leHBvcnQgY29uc3QgcGVybWlzc2lvbnNBcGkgPSB7XHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHdpZHppZcSHIGtsaWVudGEgKHpnb2RuaWUgeiBSTFMpXHJcbiAgY2FuVmlldzogKGNsaWVudDogQ2xpZW50LCB1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICAvLyBTemVmIGkgYWRtaW4gd2lkesSFIHdzenlzdGtvXHJcbiAgICBpZiAoWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBjenkga2xpZW50IGplc3QgdyB0ZWogc2FtZWogbG9rYWxpemFjamkgY28gdcW8eXRrb3duaWtcclxuICAgIGNvbnN0IHNhbWVMb2NhdGlvbiA9IGNsaWVudC5sb2NhdGlvbl9pZCA9PT0gdXNlci5sb2NhdGlvbl9pZFxyXG4gICAgaWYgKCFzYW1lTG9jYXRpb24pIHtcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHN3aXRjaCAodXNlci5yb2xlKSB7XHJcbiAgICAgIGNhc2UgJ3ByYWNvd25payc6XHJcbiAgICAgICAgLy8gUHJhY293bmlrIHdpZHppIHR5bGtvIHN3b2ljaCBrbGllbnTDs3cgdyBzd29qZWogbG9rYWxpemFjamlcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm93bmVyX2lkID09PSB1c2VyLmlkIHx8IFxyXG4gICAgICAgICAgICAgICBjbGllbnQub3duZXJfaWQgPT09IG51bGwgfHwgXHJcbiAgICAgICAgICAgICAgIGNsaWVudC5lZGl0ZWRfYnkgPT09IHVzZXIuaWRcclxuICAgICAgY2FzZSAnanVuaW9yX21hbmFnZXInOlxyXG4gICAgICBjYXNlICdtYW5hZ2VyJzpcclxuICAgICAgY2FzZSAncHJvamVjdF9tYW5hZ2VyJzpcclxuICAgICAgICAvLyBNZW5lZMW8ZXJvd2llIHdpZHrEhSB3c3p5c3RraWNoIGtsaWVudMOzdyB3IHN3b2plaiBsb2thbGl6YWNqaVxyXG4gICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIGVkeXRvd2HEhyBrbGllbnRhXHJcbiAgY2FuRWRpdDogKGNsaWVudDogQ2xpZW50LCB1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICAvLyBUYWtpZSBzYW1lIHJlZ3XFgnkgamFrIGNhblZpZXdcclxuICAgIHJldHVybiBwZXJtaXNzaW9uc0FwaS5jYW5WaWV3KGNsaWVudCwgdXNlcilcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgdXN1bsSFxIcga2xpZW50YVxyXG4gIGNhbkRlbGV0ZTogKGNsaWVudDogQ2xpZW50LCB1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICAvLyBTemVmIGkgYWRtaW4gbW9nxIUgdXN1d2HEhyB3c3p5c3Rrb1xyXG4gICAgaWYgKFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTWVuZWTFvGVyb3dpZSBtb2fEhSB1c3V3YcSHIHcgc3dvamVqIGxva2FsaXphY2ppXHJcbiAgICBpZiAoWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlciddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgcmV0dXJuIGNsaWVudC5sb2NhdGlvbl9pZCA9PT0gdXNlci5sb2NhdGlvbl9pZFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBQcmFjb3duaWN5IG5pZSBtb2fEhSB1c3V3YcSHXHJcbiAgICByZXR1cm4gZmFsc2VcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgcHJ6eXBpc3l3YcSHIGtsaWVudMOzd1xyXG4gIGNhbkFzc2lnbkNsaWVudHM6ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSB6bWllbmlhxIcgcm9sZSBpbm55Y2ggdcW8eXRrb3duaWvDs3dcclxuICBjYW5DaGFuZ2VSb2xlczogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIGRvc3TEmXAgZG8gemFhd2Fuc293YW55Y2ggcmFwb3J0w7N3XHJcbiAgY2FuQWNjZXNzQWR2YW5jZWRSZXBvcnRzOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIFsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgd2lkemllxIcgd3N6eXN0a2llIGxva2FsaXphY2plXHJcbiAgY2FuVmlld0FsbExvY2F0aW9uczogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIGZpbHRyb3dhxIcgcG8gbG9rYWxpemFjamFjaFxyXG4gIGNhbkZpbHRlckJ5TG9jYXRpb246ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gWydwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBwb3ppb20gaGllcmFyY2hpaSAtIGN6eSB1c2VyMSBtb8W8ZSB6YXJ6xIVkemHEhyB1c2VyMlxyXG4gIGNhbk1hbmFnZVVzZXI6ICh1c2VyMTogVXNlciwgdXNlcjI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIC8vIEFkbWluIG1vxbxlIHphcnrEhWR6YcSHIHdzenlzdGtpbWlcclxuICAgIGlmICh1c2VyMS5yb2xlID09PSAnYWRtaW4nKSByZXR1cm4gdHJ1ZVxyXG4gICAgXHJcbiAgICAvLyBTemVmIG1vxbxlIHphcnrEhWR6YcSHIHdzenlzdGtpbWkgb3Byw7NjeiBhZG1pbsOzd1xyXG4gICAgaWYgKHVzZXIxLnJvbGUgPT09ICdzemVmJyAmJiB1c2VyMi5yb2xlICE9PSAnYWRtaW4nKSByZXR1cm4gdHJ1ZVxyXG4gICAgXHJcbiAgICAvLyBJbm5pIG1vZ8SFIHphcnrEhWR6YcSHIHR5bGtvIHBvZHfFgmFkbnltaSB3IHRlaiBzYW1laiBsb2thbGl6YWNqaVxyXG4gICAgY29uc3Qgc2FtZUxvY2F0aW9uID0gdXNlcjEubG9jYXRpb25faWQgPT09IHVzZXIyLmxvY2F0aW9uX2lkXHJcbiAgICBjb25zdCBoaWdoZXJJbkhpZXJhcmNoeSA9ICh1c2VyMS5yb2xlX2hpZXJhcmNoeV9sZXZlbCB8fCA5OSkgPCAodXNlcjIucm9sZV9oaWVyYXJjaHlfbGV2ZWwgfHwgOTkpXHJcbiAgICBcclxuICAgIHJldHVybiBzYW1lTG9jYXRpb24gJiYgaGlnaGVySW5IaWVyYXJjaHlcclxuICB9XHJcbn1cclxuXHJcbi8vIEludGVyZmVqcyBkbGEgc2xvdHUgY3phc293ZWdvIHcgcGxhbmllIGRuaWFcclxuZXhwb3J0IGludGVyZmFjZSBEYWlseVNjaGVkdWxlU2xvdCB7XHJcbiAgdGltZTogc3RyaW5nXHJcbiAgdHlwZTogc3RyaW5nXHJcbiAgY29sb3I6IHN0cmluZ1xyXG4gIHN0YXJ0VGltZTogc3RyaW5nXHJcbiAgZW5kVGltZTogc3RyaW5nXHJcbiAgc3RhdHVzZXM6IHN0cmluZ1tdXHJcbiAgY2xpZW50czogQ2xpZW50V2l0aFJlbWluZGVyW11cclxufVxyXG5cclxuLy8gSW50ZXJmZWpzIGRsYSBrbGllbnRhIHogcHJ6eXBvbW5pZW5pYW1cclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRXaXRoUmVtaW5kZXIgZXh0ZW5kcyBDbGllbnQge1xyXG4gIHJlbWluZGVyPzoge1xyXG4gICAgZW5hYmxlZDogYm9vbGVhblxyXG4gICAgZGF0ZTogc3RyaW5nXHJcbiAgICB0aW1lOiBzdHJpbmdcclxuICAgIG5vdGU6IHN0cmluZ1xyXG4gIH1cclxufVxyXG5cclxuLy8gRnVua2NqZSBBUEkgZGxhIGtsaWVudMOzdyB6IHN5c3RlbWVtIHVwcmF3bmllxYRcclxuZXhwb3J0IGNvbnN0IGNsaWVudHNBcGkgPSB7XHJcbiAgLy8gRnVua2NqYSB0ZXN0b3dhIC0gcG9kc3Rhd293ZSB6YXB5dGFuaWUgZG8ga2xpZW50w7N3XHJcbiAgYXN5bmMgdGVzdEJhc2ljUXVlcnkoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBUZXN0b3dlIHphcHl0YW5pZSBkbyB0YWJlbGkgY2xpZW50cy4uLicpXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5saW1pdCg1KVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1d5bmlrIHRlc3R1IC0gZGF0YTonLCBkYXRhKVxyXG4gICAgICBjb25zb2xlLmxvZygnV3luaWsgdGVzdHUgLSBlcnJvcjonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IGRhdGEsIGVycm9yIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCB0ZXN0b3dlZ28gemFweXRhbmlhOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4geyBkYXRhOiBudWxsLCBlcnJvciB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBrbGllbnTDs3cgeiBmaWx0cmFtaSB1cHJhd25pZcWEXHJcbiAgLy8g8J+agCBOT1dFOiBGdW5rY2phIHogcGFnaW5hY2rEhSB6d3JhY2FqxIVjYSBvYmlla3QgeiBtZXRhZGFueW1pXHJcbiAgYXN5bmMgZ2V0Q2xpZW50c1BhZ2luYXRlZCh1c2VyOiBVc2VyLCBmaWx0ZXJzPzogeyBcclxuICAgIGRhdGU/OiBzdHJpbmdcclxuICAgIHN0YXR1cz86IHN0cmluZ1xyXG4gICAgZW1wbG95ZWU/OiBzdHJpbmcgXHJcbiAgICBwYWdlPzogbnVtYmVyXHJcbiAgICBwYWdlU2l6ZT86IG51bWJlclxyXG4gICAgc2VhcmNoPzogc3RyaW5nXHJcbiAgICBsb2NhdGlvbj86IHN0cmluZ1xyXG4gICAgc29ydEJ5Pzogc3RyaW5nXHJcbiAgICBzb3J0RGlyZWN0aW9uPzogJ2FzYycgfCAnZGVzYydcclxuICB9KTogUHJvbWlzZTxQYWdpbmF0ZWRDbGllbnRzUmVzdWx0PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBSb3pwb2N6eW5hbSBwb2JpZXJhbmllIGtsaWVudMOzdyBkbGEgdcW8eXRrb3duaWthOicsIHVzZXIuaWQsIHVzZXIucm9sZSlcclxuICAgICAgXHJcbiAgICAgIC8vIFXFvHlqIEpPSU4gYWJ5IHBvYnJhxIcga2xpZW50w7N3IHogZGFueW1pIHfFgmHFm2NpY2llbGkgaSBsb2thbGl6YWNqaSB3IGplZG55bSB6YXB5dGFuaXVcclxuICAgICAgLy8g8J+agCBPUFRZTUFMSVpBQ0pBOiBXeWJpZXJ6IHR5bGtvIG5pZXpixJlkbmUgcG9sYSArIGxva2FsaXphY2phICsgcmVtaW5kZXJcclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGZpcnN0X25hbWUsXHJcbiAgICAgICAgICBsYXN0X25hbWUsXHJcbiAgICAgICAgICBjb21wYW55X25hbWUsXHJcbiAgICAgICAgICBuaXAsXHJcbiAgICAgICAgICBwaG9uZSxcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgd2Vic2l0ZSxcclxuICAgICAgICAgIHN0YXR1cyxcclxuICAgICAgICAgIG5vdGVzLFxyXG4gICAgICAgICAgcmVtaW5kZXIsXHJcbiAgICAgICAgICBvd25lcl9pZCxcclxuICAgICAgICAgIGxvY2F0aW9uX2lkLFxyXG4gICAgICAgICAgZWRpdGVkX2J5LFxyXG4gICAgICAgICAgZWRpdGVkX2F0LFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQsXHJcbiAgICAgICAgICBzdGF0dXNfY2hhbmdlZF9hdCxcclxuICAgICAgICAgIGxhc3RfcGhvbmVfY2xpY2ssXHJcbiAgICAgICAgICBsYXN0X2VkaXRlZF9ieV9uYW1lLFxyXG4gICAgICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCxcclxuICAgICAgICAgIG93bmVyOnVzZXJzIW93bmVyX2lkIChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcl91cmxcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBsb2NhdGlvbjpsb2NhdGlvbnMhbG9jYXRpb25faWQgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgY29kZSxcclxuICAgICAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgICAgIHRpbWV6b25lXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgYCwgeyBjb3VudDogJ2V4YWN0JyB9KVxyXG5cclxuICAgICAgLy8g8J+agCBTT1JUT1dBTklFOiBPYnPFgnVnYSBkeW5hbWljem5lZ28gc29ydG93YW5pYVxyXG4gICAgICBjb25zdCBzb3J0RmllbGQgPSBmaWx0ZXJzPy5zb3J0QnkgfHwgJ3VwZGF0ZWRfYXQnXHJcbiAgICAgIGNvbnN0IGlzQXNjZW5kaW5nID0gZmlsdGVycz8uc29ydERpcmVjdGlvbiA9PT0gJ2FzYydcclxuICAgICAgcXVlcnkgPSBxdWVyeS5vcmRlcihzb3J0RmllbGQsIHsgYXNjZW5kaW5nOiBpc0FzY2VuZGluZyB9KVxyXG5cclxuICAgICAgLy8gRG9kYXRrb3dlIGZpbHRyeVxyXG4gICAgICBpZiAoZmlsdGVycz8uZGF0ZSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCd1cGRhdGVkX2F0JywgZmlsdGVycy5kYXRlKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVycz8uc3RhdHVzKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgZmlsdGVycy5zdGF0dXMpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5lbXBsb3llZSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2VkaXRlZF9ieScsIGZpbHRlcnMuZW1wbG95ZWUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIPCfmoAgTk9XRTogRmlsdHIgd3lzenVraXdhbmlhXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5zZWFyY2gpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hUZXJtID0gZmlsdGVycy5zZWFyY2gudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYGZpcnN0X25hbWUuaWxpa2UuJSR7c2VhcmNoVGVybX0lLGxhc3RfbmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUsY29tcGFueV9uYW1lLmlsaWtlLiUke3NlYXJjaFRlcm19JSxwaG9uZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUsZW1haWwuaWxpa2UuJSR7c2VhcmNoVGVybX0lYClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g8J+agCBOT1dFOiBGaWx0ciBsb2thbGl6YWNqaVxyXG4gICAgICBpZiAoZmlsdGVycz8ubG9jYXRpb24pIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdsb2NhdGlvbl9pZCcsIGZpbHRlcnMubG9jYXRpb24pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIPCfmoAgTk9XRTogUGFnaW5hY2phXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5wYWdlICYmIGZpbHRlcnM/LnBhZ2VTaXplKSB7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IChmaWx0ZXJzLnBhZ2UgLSAxKSAqIGZpbHRlcnMucGFnZVNpemVcclxuICAgICAgICBjb25zdCB0byA9IGZyb20gKyBmaWx0ZXJzLnBhZ2VTaXplIC0gMVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4QgUGFnaW5hY2phOiBzdHJvbmEgJHtmaWx0ZXJzLnBhZ2V9LCByb3ptaWFyICR7ZmlsdGVycy5wYWdlU2l6ZX0sIHpha3JlczogJHtmcm9tfS0ke3RvfWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFd5a29udWrEmSB6YXB5dGFuaWUgeiBKT0lOIGkgbGljemVuaWVtLi4uJylcclxuICAgICAgY29uc3QgeyBkYXRhOiBjbGllbnRzLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHF1ZXJ5XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHphcHl0YW5pYSBjbGllbnRzOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWNsaWVudHMgfHwgY2xpZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIEJyYWsga2xpZW50w7N3IHcgYmF6aWUgZGFueWNoJylcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY2xpZW50czogW10sXHJcbiAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgIHBhZ2U6IGZpbHRlcnM/LnBhZ2UgfHwgMSxcclxuICAgICAgICAgIHBhZ2VTaXplOiBmaWx0ZXJzPy5wYWdlU2l6ZSB8fCAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgLSBTdXBhYmFzZSBKT0lOIHp3cmFjYSBvd25lciBpIGxvY2F0aW9uIGpha28gdGFibGljZSwgYWxlIHBvdHJ6ZWJ1amVteSBwb2plZHluY3p5Y2ggb2JpZWt0w7N3XHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQ2xpZW50cyA9IGNsaWVudHMubWFwKChjbGllbnQ6IGFueSkgPT4gKHtcclxuICAgICAgICAuLi5jbGllbnQsXHJcbiAgICAgICAgb3duZXI6IGNsaWVudC5vd25lciAmJiBBcnJheS5pc0FycmF5KGNsaWVudC5vd25lcikgJiYgY2xpZW50Lm93bmVyLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgICA/IGNsaWVudC5vd25lclswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgICA6IGNsaWVudC5vd25lciAmJiAhQXJyYXkuaXNBcnJheShjbGllbnQub3duZXIpXHJcbiAgICAgICAgICA/IGNsaWVudC5vd25lciAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICAgIDogbnVsbCwgLy8gQnJhayB3xYJhxZtjaWNpZWxhXHJcbiAgICAgICAgbG9jYXRpb246IGNsaWVudC5sb2NhdGlvbiAmJiBBcnJheS5pc0FycmF5KGNsaWVudC5sb2NhdGlvbikgJiYgY2xpZW50LmxvY2F0aW9uLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgICA/IGNsaWVudC5sb2NhdGlvblswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgICA6IGNsaWVudC5sb2NhdGlvbiAmJiAhQXJyYXkuaXNBcnJheShjbGllbnQubG9jYXRpb24pXHJcbiAgICAgICAgICA/IGNsaWVudC5sb2NhdGlvbiAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICAgIDogbnVsbCAvLyBCcmFrIGxva2FsaXphY2ppXHJcbiAgICAgIH0pKVxyXG4gICAgICBcclxuICAgICAgLy8gREVCVUc6IFNwcmF3ZMW6IGRhbmUgd8WCYcWbY2ljaWVsaVxyXG4gICAgICBjb25zdCBjbGllbnRzV2l0aE93bmVycyA9IHRyYW5zZm9ybWVkQ2xpZW50cy5maWx0ZXIoKGNsaWVudDogQ2xpZW50KSA9PiBjbGllbnQub3duZXIpXHJcbiAgICAgIGNvbnN0IGNsaWVudHNXaXRob3V0T3duZXJzID0gdHJhbnNmb3JtZWRDbGllbnRzLmZpbHRlcigoY2xpZW50OiBDbGllbnQpID0+ICFjbGllbnQub3duZXIpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgS2xpZW5jaSB6IHfFgmHFm2NpY2llbGFtaTonLCBjbGllbnRzV2l0aE93bmVycy5sZW5ndGgpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgS2xpZW5jaSBiZXogd8WCYcWbY2ljaWVsaTonLCBjbGllbnRzV2l0aG91dE93bmVycy5sZW5ndGgpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2xpZW50c1dpdGhPd25lcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIFByenlrxYJhZCBrbGllbnRhIHogd8WCYcWbY2ljaWVsZW06Jywge1xyXG4gICAgICAgICAgY2xpZW50OiBgJHtjbGllbnRzV2l0aE93bmVyc1swXS5maXJzdF9uYW1lfSAke2NsaWVudHNXaXRoT3duZXJzWzBdLmxhc3RfbmFtZX1gLFxyXG4gICAgICAgICAgb3duZXJfaWQ6IGNsaWVudHNXaXRoT3duZXJzWzBdLm93bmVyX2lkLFxyXG4gICAgICAgICAgb3duZXJfbmFtZTogY2xpZW50c1dpdGhPd25lcnNbMF0ub3duZXI/LmZ1bGxfbmFtZSxcclxuICAgICAgICAgIG93bmVyX2VtYWlsOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcj8uZW1haWxcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDwn5qAIE5PV0U6IFp3csOzxIcgZGFuZSB6IGluZm9ybWFjasSFIG8gcGFnaW5hY2ppXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY2xpZW50czogdHJhbnNmb3JtZWRDbGllbnRzIGFzIENsaWVudFtdLFxyXG4gICAgICAgIHRvdGFsOiBjb3VudCB8fCB0cmFuc2Zvcm1lZENsaWVudHMubGVuZ3RoLFxyXG4gICAgICAgIHBhZ2U6IGZpbHRlcnM/LnBhZ2UgfHwgMSxcclxuICAgICAgICBwYWdlU2l6ZTogZmlsdGVycz8ucGFnZVNpemUgfHwgdHJhbnNmb3JtZWRDbGllbnRzLmxlbmd0aFxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0Q2xpZW50c1BhZ2luYXRlZDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAvLyDwn5SEIEtPTVBBVFlCSUxOT8WaxIY6IFN0YXJhIGZ1bmtjamEgendyYWNhasSFY2EgdHlsa28gdGFibGljxJkga2xpZW50w7N3XHJcbiAgYXN5bmMgZ2V0Q2xpZW50cyh1c2VyOiBVc2VyLCBmaWx0ZXJzPzogeyBcclxuICAgIGRhdGU/OiBzdHJpbmdcclxuICAgIHN0YXR1cz86IHN0cmluZ1xyXG4gICAgZW1wbG95ZWU/OiBzdHJpbmcgXHJcbiAgICBzZWFyY2g/OiBzdHJpbmdcclxuICAgIGxvY2F0aW9uPzogc3RyaW5nXHJcbiAgICBzb3J0Qnk/OiBzdHJpbmdcclxuICAgIHNvcnREaXJlY3Rpb24/OiAnYXNjJyB8ICdkZXNjJ1xyXG4gIH0pOiBQcm9taXNlPENsaWVudFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldENsaWVudHNQYWdpbmF0ZWQodXNlciwgZmlsdGVycylcclxuICAgICAgcmV0dXJuIHJlc3VsdC5jbGllbnRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0Q2xpZW50czonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBEb2RhaiBub3dlZ28ga2xpZW50YSB6IGF1dG9tYXR5Y3pueW0gcHJ6eXBpc2FuaWVtIHfFgmHFm2NpY2llbGFcclxuICBhc3luYyBjcmVhdGVDbGllbnQoY2xpZW50OiBPbWl0PENsaWVudCwgJ2lkJyB8ICdjcmVhdGVkX2F0JyB8ICd1cGRhdGVkX2F0Jz4sIHVzZXI6IFVzZXIpIHtcclxuICAgIC8vIFpBQkVaUElFQ1pFTklFOiBVcGV3bmlqIHNpxJkgxbxlIHN0YXR1cyBuaWUgamVzdCBwdXN0eVxyXG4gICAgY29uc3Qgc2FmZVN0YXR1cyA9IGNsaWVudC5zdGF0dXMgfHwgJ2NhbnZhcydcclxuICAgIFxyXG4gICAgY29uc3QgY2xpZW50VG9DcmVhdGUgPSB7XHJcbiAgICAgIC4uLmNsaWVudCxcclxuICAgICAgc3RhdHVzOiBzYWZlU3RhdHVzLCAvLyBVxbx5aiBiZXpwaWVjem5lZ28gc3RhdHVzdVxyXG4gICAgICBvd25lcl9pZDogdXNlci5pZCwgLy8gQXV0b21hdHljem5pZSBwcnp5cGlzeiB3xYJhxZtjaWNpZWxhXHJcbiAgICAgIGxvY2F0aW9uX2lkOiBjbGllbnQubG9jYXRpb25faWQgfHwgdXNlci5sb2NhdGlvbl9pZCwgLy8gVcW8eWogbG9rYWxpemFjamkga2xpZW50YSBsdWIgdcW8eXRrb3duaWthXHJcbiAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcclxuICAgICAgbGFzdF9lZGl0ZWRfYnlfbmFtZTogdXNlci5mdWxsX25hbWUsIC8vIFphcGlzeiBkYW5lIHR3w7NyY3lcclxuICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybDogdXNlci5hdmF0YXJfdXJsLFxyXG4gICAgICAvLyBKZcWbbGkgc3RhdHVzIHRvIFwiY2FudmFzXCIsIHVzdGF3IHN0YXR1c19jaGFuZ2VkX2F0XHJcbiAgICAgIC4uLihzYWZlU3RhdHVzID09PSAnY2FudmFzJyAmJiB7IHN0YXR1c19jaGFuZ2VkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkgfSksXHJcbiAgICAgIC8vIEtvbndlcnR1aiB1bmRlZmluZWQgcmVtaW5kZXIgbmEgbnVsbCBkbGEgYmF6eSBkYW55Y2hcclxuICAgICAgcmVtaW5kZXI6IGNsaWVudC5yZW1pbmRlciB8fCBudWxsXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coJ/Cfk4ogVHdvcnplbmllIGtsaWVudGEgeiBkYW55bWk6JywgY2xpZW50VG9DcmVhdGUpXHJcbiAgICBcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLmluc2VydChbY2xpZW50VG9DcmVhdGVdKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGNyZWF0ZUNsaWVudDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XHJcbiAgfSxcclxuXHJcbiAgLy8gWmFrdHVhbGl6dWoga2xpZW50YSB6IHNwcmF3ZHplbmllbSB1cHJhd25pZcWEXHJcbiAgYXN5bmMgdXBkYXRlQ2xpZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8Q2xpZW50PiwgdXNlcjogVXNlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgdXBkYXRlQ2xpZW50IFNUQVJUOicsIHsgaWQsIHVwZGF0ZXMsIHVzZXI6IHVzZXIuZW1haWwgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogYWt0dWFsbnkgc3RhbiBrbGllbnRhIGFieSBzcHJhd2R6acSHIGN6eSBzdGF0dXMgc2nEmSB6bWllbmlhXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY3VycmVudENsaWVudCwgZXJyb3I6IGZldGNoRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgb3duZXJfaWQnKVxyXG4gICAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgICAuc2luZ2xlKClcclxuICAgICAgXHJcbiAgICAgIGlmIChmZXRjaEVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGFrdHVhbG5lZ28ga2xpZW50YTonLCBmZXRjaEVycm9yKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTmllIG1vxbxuYSBwb2JyYcSHIGFrdHVhbG5lZ28gc3RhbnUga2xpZW50YTogJHtmZXRjaEVycm9yLm1lc3NhZ2V9YClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBBa3R1YWxueSBzdGFuIGtsaWVudGE6JywgY3VycmVudENsaWVudClcclxuICAgICAgXHJcbiAgICAgIC8vIE5PV0EgTE9HSUtBOiBLYcW8ZGEgb3NvYmEga3TDs3JhIGVkeXR1amUga2xpZW50YSB6b3N0YWplIGplZ28gd8WCYcWbY2ljaWVsZW1cclxuICAgICAgbGV0IHVwZGF0ZWREYXRhID0geyAuLi51cGRhdGVzIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFpBQkVaUElFQ1pFTklFOiBKZcWbbGkgc3RhdHVzIGplc3QgdyBha3R1YWxpemFjamksIHVwZXduaWogc2nEmSDFvGUgbmllIGplc3QgcHVzdHlcclxuICAgICAgaWYgKCdzdGF0dXMnIGluIHVwZGF0ZWREYXRhICYmICF1cGRhdGVkRGF0YS5zdGF0dXMpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIFVXQUdBOiBQdXN0eSBzdGF0dXMgdyBha3R1YWxpemFjamkgLSB1c3Rhd2lhbSBkb215xZtsbnkgXCJjYW52YXNcIicpXHJcbiAgICAgICAgdXBkYXRlZERhdGEuc3RhdHVzID0gJ2NhbnZhcydcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHN0YXR1cyBzacSZIHptaWVuaWFcclxuICAgICAgY29uc3Qgc3RhdHVzQ2hhbmdlZCA9IHVwZGF0ZWREYXRhLnN0YXR1cyAmJiB1cGRhdGVkRGF0YS5zdGF0dXMgIT09IGN1cnJlbnRDbGllbnQuc3RhdHVzXHJcbiAgICAgIGlmIChzdGF0dXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgdXBkYXRlZERhdGEuc3RhdHVzX2NoYW5nZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBTdGF0dXMgem1pZW5pb255IHogXCIke2N1cnJlbnRDbGllbnQuc3RhdHVzfVwiIG5hIFwiJHt1cGRhdGVzLnN0YXR1c31cIiAtIHVzdGF3aWFtIHN0YXR1c19jaGFuZ2VkX2F0YClcclxuICAgICAgICBcclxuICAgICAgICAvLyBQb3dpYWRvbWllbmllIG8gem1pYW5pZSBuYSBjYW52YXNcclxuICAgICAgICBpZiAodXBkYXRlcy5zdGF0dXMgPT09ICdjYW52YXMnKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+UlCBQT1dJQURPTUlFTklFOiBLbGllbnQgcHJ6ZXN6ZWTFgiBuYSBzdGF0dXMgQ0FOVkFTIC0gc3RhcnQgdHJhY2tpbmd1IGN6YXN1IScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBaYXdzemUgcHJ6eXBpc3ogZWR5dHVqxIVjZWdvIGpha28gd8WCYcWbY2ljaWVsYVxyXG4gICAgICB1cGRhdGVkRGF0YS5vd25lcl9pZCA9IHVzZXIuaWRcclxuICAgICAgY29uc29sZS5sb2coYPCfjq8gUHJ6eXBpc3VqxJkga2xpZW50YSAke2lkfSBkbyB1xbx5dGtvd25pa2EgJHt1c2VyLmlkfSAoJHt1c2VyLmVtYWlsfSkgamFrbyB3xYJhxZtjaWNpZWxhYClcclxuICAgICAgXHJcbiAgICAgIC8vIFphcGlzeiBpbmZvcm1hY2plIG8gZWR5dG9yemUgKHN6Y3plZ8OzbG5pZSB3YcW8bmUgZGxhIHByYWNvd25pa8OzdylcclxuICAgICAgdXBkYXRlZERhdGEubGFzdF9lZGl0ZWRfYnlfbmFtZSA9IHVzZXIuZnVsbF9uYW1lXHJcbiAgICAgIHVwZGF0ZWREYXRhLmxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmwgPSB1c2VyLmF2YXRhcl91cmxcclxuICAgICAgY29uc29sZS5sb2coYPCfkaQgWmFwaXN1asSZIGRhbmUgZWR5dG9yYTogJHt1c2VyLmZ1bGxfbmFtZX0gKHJvbGE6ICR7dXNlci5yb2xlfSlgKVxyXG4gICAgICBcclxuICAgICAgLy8gSmXFm2xpIHRvIHByYWNvd25payBpIHptaWVuaWEgc3RhdHVzIC0gZG9kYXRrb3d5IGxvZ1xyXG4gICAgICBpZiAodXNlci5yb2xlID09PSAncHJhY293bmlrJyAmJiBzdGF0dXNDaGFuZ2VkKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfkbcgUHJhY293bmlrICR7dXNlci5lbWFpbH0gem1pZW5pYSBzdGF0dXMgeiBcIiR7Y3VycmVudENsaWVudC5zdGF0dXN9XCIgbmEgXCIke3VwZGF0ZXMuc3RhdHVzfVwiYClcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgRGFuZSBkbyBha3R1YWxpemFjamk6JywgdXBkYXRlZERhdGEpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQcnp5Z290dWogZmluYWxuZSBkYW5lIGRvIFVQREFURVxyXG4gICAgICBjb25zdCBmaW5hbERhdGEgPSB7XHJcbiAgICAgICAgLi4udXBkYXRlZERhdGEsXHJcbiAgICAgICAgZWRpdGVkX2J5OiB1c2VyLmlkLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAvLyBLb253ZXJ0dWogdW5kZWZpbmVkIHJlbWluZGVyIG5hIG51bGwgZGxhIGJhenkgZGFueWNoXHJcbiAgICAgICAgLi4uKHVwZGF0ZWREYXRhLnJlbWluZGVyICE9PSB1bmRlZmluZWQgJiYgeyByZW1pbmRlcjogdXBkYXRlZERhdGEucmVtaW5kZXIgfHwgbnVsbCB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBGaW5hbG5lIGRhbmUgZG8gVVBEQVRFOicsIGZpbmFsRGF0YSlcclxuICAgICAgXHJcbiAgICAgIC8vIEJlenBvxZtyZWRuaWEgYWt0dWFsaXphY2phXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC51cGRhdGUoZmluYWxEYXRhKVxyXG4gICAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgICAuc2VsZWN0KClcclxuICAgICAgICAuc2luZ2xlKClcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgVVBEQVRFIGNsaWVudHM6JywgZXJyb3IpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEtvZCBixYLEmWR1OicsIGVycm9yLmNvZGUpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFN6Y3plZ8OzxYJ5OicsIGVycm9yLmRldGFpbHMpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEhpbnQ6JywgZXJyb3IuaGludClcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYELFgsSFZCBha3R1YWxpemFjamk6ICR7ZXJyb3IubWVzc2FnZX0gKGtvZDogJHtlcnJvci5jb2RlfSlgKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIHVwZGF0ZUNsaWVudCBTVUNDRVNTOicsIGRhdGEpXHJcbiAgICAgIHJldHVybiBkYXRhIGFzIENsaWVudFxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCB1cGRhdGVDbGllbnQgRkFJTEVEOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEFrdHVhbGl6dWogY3phcyBvc3RhdG5pZWdvIGtsaWtuacSZY2lhIHRlbGVmb251XHJcbiAgYXN5bmMgdXBkYXRlTGFzdFBob25lQ2xpY2soY2xpZW50SWQ6IHN0cmluZywgdXNlcjogVXNlcikge1xyXG4gICAgY29uc29sZS5sb2coJ/Cfk54gQWt0dWFsaXp1asSZIGN6YXMgb3N0YXRuaWVnbyBrbGlrbmnEmWNpYSB0ZWxlZm9udTonLCBjbGllbnRJZClcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBsYXN0X3Bob25lX2NsaWNrOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBjbGllbnRJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB1cGRhdGVMYXN0UGhvbmVDbGljazonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuXHJcbiAgICAvLyBaYWxvZ3VqIHcgYWN0aXZpdHlfbG9nc1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYWN0aXZpdHlMb2dzQXBpLmNyZWF0ZUxvZyh7XHJcbiAgICAgICAgY2xpZW50X2lkOiBjbGllbnRJZCxcclxuICAgICAgICBjaGFuZ2VkX2J5OiB1c2VyLmlkLFxyXG4gICAgICAgIGNoYW5nZV90eXBlOiAndXBkYXRlJyxcclxuICAgICAgICBmaWVsZF9jaGFuZ2VkOiAnbGFzdF9waG9uZV9jbGljaycsXHJcbiAgICAgICAgb2xkX3ZhbHVlOiB1bmRlZmluZWQsXHJcbiAgICAgICAgbmV3X3ZhbHVlOiBkYXRhLmxhc3RfcGhvbmVfY2xpY2tcclxuICAgICAgfSlcclxuICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgbG9nb3dhbmlhIGFjdGl2aXR5X2xvZ3MgKHVwZGF0ZUxhc3RQaG9uZUNsaWNrKTonLCBsb2dFcnJvcilcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XHJcbiAgfSxcclxuXHJcbiAgLy8gVXN1xYQga2xpZW50YSB6IHNwcmF3ZHplbmllbSB1cHJhd25pZcWEXHJcbiAgYXN5bmMgZGVsZXRlQ2xpZW50KGlkOiBzdHJpbmcsIHVzZXI6IFVzZXIpIHtcclxuICAgIC8vIEJlenBvxZtyZWRuaWUgdXN1bmnEmWNpZSBiZXogc3ByYXdkemFuaWEgdXByYXduaWXFhFxyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAuZGVsZXRlKClcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgfSxcclxuXHJcbiAgLy8gUHJ6eXBpc3oga2xpZW50YSBkbyBpbm5lZ28gdcW8eXRrb3duaWthICh0eWxrbyBtYW5hZ2VyKylcclxuICBhc3luYyBhc3NpZ25DbGllbnQoY2xpZW50SWQ6IHN0cmluZywgbmV3T3duZXJJZDogc3RyaW5nLCB1c2VyOiBVc2VyKSB7XHJcbiAgICBpZiAoIXBlcm1pc3Npb25zQXBpLmNhbkFzc2lnbkNsaWVudHModXNlcikpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gcHJ6eXBpc3l3YW5pYSBrbGllbnTDs3cnKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLnVwZGF0ZSh7XHJcbiAgICAgICAgb3duZXJfaWQ6IG5ld093bmVySWQsXHJcbiAgICAgICAgZWRpdGVkX2J5OiB1c2VyLmlkLFxyXG4gICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9KVxyXG4gICAgICAuZXEoJ2lkJywgY2xpZW50SWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XHJcbiAgfSxcclxuXHJcbiAgLy8gRnVua2NqYSBkbyBjenlzemN6ZW5pYSBuaWVpc3RuaWVqxIVjeWNoIG93bmVyX2lkXHJcbiAgYXN5bmMgY2xlYW51cEludmFsaWRPd25lcklkcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IFJvenBvY3p5bmFtIGN6eXN6Y3plbmllIG5pZWlzdG5pZWrEhWN5Y2ggb3duZXJfaWQuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIGtsaWVudMOzdyB6IG93bmVyX2lkXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsQ2xpZW50cywgZXJyb3I6IGNsaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIG93bmVyX2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUnKVxyXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcclxuICAgICAgXHJcbiAgICAgIGlmIChjbGllbnRzRXJyb3IpIHRocm93IGNsaWVudHNFcnJvclxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogWm5hbGV6aW9ubyBrbGllbnTDs3cgeiBvd25lcl9pZDonLCBhbGxDbGllbnRzPy5sZW5ndGggfHwgMClcclxuICAgICAgXHJcbiAgICAgIGlmICghYWxsQ2xpZW50cyB8fCBhbGxDbGllbnRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IGNsZWFuZWQ6IDAsIGVycm9yczogW10gfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpZSB1bmlrYWxuZSBvd25lcl9pZFxyXG4gICAgICBjb25zdCBvd25lcklkcyA9IFsuLi5uZXcgU2V0KGFsbENsaWVudHMubWFwKGMgPT4gYy5vd25lcl9pZCkpXVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBTcHJhd2R6YW0gb3duZXJfaWQ6Jywgb3duZXJJZHMpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBrdMOzcmUgdcW8eXRrb3duaWN5IGlzdG5pZWrEhVxyXG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAgIC5pbignaWQnLCBvd25lcklkcylcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2Vyc0Vycm9yKSB0aHJvdyB1c2Vyc0Vycm9yXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBleGlzdGluZ1VzZXJJZHMgPSAoZXhpc3RpbmdVc2VycyB8fCBbXSkubWFwKHUgPT4gdS5pZClcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBJc3RuaWVqxIVjeSB1xbx5dGtvd25pY3k6JywgZXhpc3RpbmdVc2VySWRzKVxyXG4gICAgICBcclxuICAgICAgLy8gWm5hamTFuiBrbGllbnTDs3cgeiBuaWVpc3RuaWVqxIVjeW1pIG93bmVyX2lkXHJcbiAgICAgIGNvbnN0IGNsaWVudHNUb0NsZWFuID0gYWxsQ2xpZW50cy5maWx0ZXIoY2xpZW50ID0+IFxyXG4gICAgICAgIGNsaWVudC5vd25lcl9pZCAmJiAhZXhpc3RpbmdVc2VySWRzLmluY2x1ZGVzKGNsaWVudC5vd25lcl9pZClcclxuICAgICAgKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgS2xpZW5jaSBkbyB3eWN6eXN6Y3plbmlhOicsIGNsaWVudHNUb0NsZWFuLmxlbmd0aClcclxuICAgICAgXHJcbiAgICAgIGlmIChjbGllbnRzVG9DbGVhbi5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEJyYWsga2xpZW50w7N3IGRvIHd5Y3p5c3pjemVuaWEnKVxyXG4gICAgICAgIHJldHVybiB7IGNsZWFuZWQ6IDAsIGVycm9yczogW10gfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBXeWN6ecWbxIcgb3duZXJfaWQgZGxhIHByb2JsZW1hdHljem55Y2gga2xpZW50w7N3XHJcbiAgICAgIGNvbnN0IGNsZWFudXBSZXN1bHRzOiBzdHJpbmdbXSA9IFtdXHJcbiAgICAgIGNvbnN0IGVycm9yczogYW55W10gPSBbXVxyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCBjbGllbnQgb2YgY2xpZW50c1RvQ2xlYW4pIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfp7kgQ3p5c3pjesSZIG93bmVyX2lkIGRsYSAke2NsaWVudC5maXJzdF9uYW1lfSAke2NsaWVudC5sYXN0X25hbWV9ICgke2NsaWVudC5vd25lcl9pZH0pYClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgICAgICAudXBkYXRlKHsgb3duZXJfaWQ6IG51bGwgfSlcclxuICAgICAgICAgICAgLmVxKCdpZCcsIGNsaWVudC5pZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEhWQgY3p5c3pjemVuaWEgJHtjbGllbnQuaWR9OmAsIGVycm9yKVxyXG4gICAgICAgICAgICBlcnJvcnMucHVzaCh7IGNsaWVudDogY2xpZW50LmlkLCBlcnJvcjogZXJyb3IubWVzc2FnZSB9KVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY2xlYW51cFJlc3VsdHMucHVzaChjbGllbnQuaWQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgV3lqxIV0ZWsgcG9kY3phcyBjenlzemN6ZW5pYSAke2NsaWVudC5pZH06YCwgZXJyKVxyXG4gICAgICAgICAgZXJyb3JzLnB1c2goeyBjbGllbnQ6IGNsaWVudC5pZCwgZXJyb3I6IFN0cmluZyhlcnIpIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFd5Y3p5c3pjem9ubyAke2NsZWFudXBSZXN1bHRzLmxlbmd0aH0ga2xpZW50w7N3YClcclxuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIELFgsSZZHkgcHJ6eSAke2Vycm9ycy5sZW5ndGh9IGtsaWVudGFjaDpgLCBlcnJvcnMpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIGNsZWFuZWQ6IGNsZWFudXBSZXN1bHRzLmxlbmd0aCwgXHJcbiAgICAgICAgZXJyb3JzLFxyXG4gICAgICAgIGNsZWFuZWRDbGllbnRzOiBjbGllbnRzVG9DbGVhbi5maWx0ZXIoYyA9PiBjbGVhbnVwUmVzdWx0cy5pbmNsdWRlcyhjLmlkKSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBjbGVhbnVwSW52YWxpZE93bmVySWRzOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG5cclxuXHJcbiAgLy8gU3Vic2tyeXBjamEgbmEgem1pYW55IHcgY3phc2llIHJ6ZWN6eXdpc3R5bVxyXG4gIHN1YnNjcmliZVRvQ2hhbmdlcyhjYWxsYmFjazogKHBheWxvYWQ6IGFueSkgPT4gdm9pZCkge1xyXG4gICAgcmV0dXJuIHN1cGFiYXNlXHJcbiAgICAgIC5jaGFubmVsKCdjbGllbnRzX2NoYW5nZXMnKVxyXG4gICAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLCBcclxuICAgICAgICB7IGV2ZW50OiAnKicsIHNjaGVtYTogJ3B1YmxpYycsIHRhYmxlOiAnY2xpZW50cycgfSwgXHJcbiAgICAgICAgY2FsbGJhY2tcclxuICAgICAgKVxyXG4gICAgICAuc3Vic2NyaWJlKClcclxuICB9LFxyXG5cclxuICAvLyBTdWJza3J5cGNqYSBuYSB6bWlhbnkgb3duZXJfaWQgZGxhIHJlYWwtdGltZSBha3R1YWxpemFjamlcclxuICBzdWJzY3JpYmVUb093bmVyQ2hhbmdlcyhjYWxsYmFjazogKHBheWxvYWQ6IGFueSkgPT4gdm9pZCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IGNhbGxiYWNrIGplc3QgZnVua2NqxIVcclxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYWxsYmFjayBuaWUgamVzdCBmdW5rY2rEhSB3IHN1YnNjcmliZVRvT3duZXJDaGFuZ2VzJylcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhbGxiYWNrIG11c2kgYnnEhyBmdW5rY2rEhScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFR3b3J6xJkga2FuYcWCIFN1cGFiYXNlIGRsYSBvd25lciBjaGFuZ2VzLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIE5hanBpZXJ3IHNwcmF3ZMW6IGN6eSByZWFsLXRpbWUgamVzdCB3xYLEhWN6b255IGkgZG9zdMSZcG55XHJcbiAgICAgIGNvbnN0IGNoYW5uZWxOYW1lID0gYGNsaWVudHNfb3duZXJfY2hhbmdlc18ke0RhdGUubm93KCl9YFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+ToSBOYXp3YSBrYW5hxYJ1OicsIGNoYW5uZWxOYW1lKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgY2hhbm5lbCA9IHN1cGFiYXNlXHJcbiAgICAgICAgLmNoYW5uZWwoY2hhbm5lbE5hbWUpXHJcbiAgICAgICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgXHJcbiAgICAgICAgICB7IFxyXG4gICAgICAgICAgICBldmVudDogJ1VQREFURScsIFxyXG4gICAgICAgICAgICBzY2hlbWE6ICdwdWJsaWMnLCBcclxuICAgICAgICAgICAgdGFibGU6ICdjbGllbnRzJyxcclxuICAgICAgICAgICAgZmlsdGVyOiAnb3duZXJfaWQ9bmVxLm51bGwnIC8vIFR5bGtvIGdkeSBvd25lcl9pZCBzacSZIHptaWVuaWFcclxuICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBSZWFsLXRpbWUgcGF5bG9hZCBvdHJ6eW1hbnk6Jywge1xyXG4gICAgICAgICAgICAgICAgZXZlbnRUeXBlOiBwYXlsb2FkLmV2ZW50VHlwZSxcclxuICAgICAgICAgICAgICAgIHRhYmxlOiBwYXlsb2FkLnRhYmxlLFxyXG4gICAgICAgICAgICAgICAgY2hhbmdlczogcGF5bG9hZC5uZXcgPyB7XHJcbiAgICAgICAgICAgICAgICAgIGlkOiBwYXlsb2FkLm5ldy5pZCxcclxuICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IHBheWxvYWQubmV3Lm93bmVyX2lkLFxyXG4gICAgICAgICAgICAgICAgICBmaXJzdF9uYW1lOiBwYXlsb2FkLm5ldy5maXJzdF9uYW1lLFxyXG4gICAgICAgICAgICAgICAgICBsYXN0X25hbWU6IHBheWxvYWQubmV3Lmxhc3RfbmFtZVxyXG4gICAgICAgICAgICAgICAgfSA6ICdicmFrIGRhbnljaCdcclxuICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHBheWxvYWQpXHJcbiAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYWxsYmFjayBuaWUgamVzdCBmdW5rY2rEhSBwb2RjemFzIHd5d2/FgmFuaWEnKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBjYXRjaCAoY2FsbGJhY2tFcnJvcikge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBjYWxsYmFjazonLCBjYWxsYmFja0Vycm9yKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgICAgIC5zdWJzY3JpYmUoKHN0YXR1cywgZXJyKSA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBTdWJza3J5cGNqYSBvd25lcl9jaGFuZ2VzIHN0YXR1czonLCBzdGF0dXMpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChzdGF0dXMgPT09ICdTVUJTQ1JJQkVEJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFN1YnNrcnlwY2phIG93bmVyX2NoYW5nZXMgYWt0eXduYScpXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0NMT1NFRCcpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gU3Vic2tyeXBjamEgb3duZXJfY2hhbmdlcyB6YW1rbmnEmXRhIC0gcHJhd2RvcG9kb2JuaWUgcHJvYmxlbSB6IGF1dG9yeXphY2rEhSByZWFsLXRpbWUnKVxyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ/CfkqEgUmVhbC10aW1lIG1vxbxlIGJ5xIcgd3nFgsSFY3pvbnkgdyB1c3Rhd2llbmlhY2ggU3VwYWJhc2UgbHViIGJyYWt1amUgdXByYXduaWXFhCcpXHJcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0NIQU5ORUxfRVJST1InKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQga2FuYcWCdSByZWFsLXRpbWU6JywgZXJyKVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5KhIFNwcmF3ZMW6IHVzdGF3aWVuaWEgcmVhbC10aW1lIHcgU3VwYWJhc2UgRGFzaGJvYXJkJylcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnVElNRURfT1VUJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KPsCBUaW1lb3V0IHN1YnNrcnlwY2ppIC0gcHJvYmxlbXkgeiBwb8WCxIVjemVuaWVtIFdlYlNvY2tldCcpXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBTdGF0dXMgc3Vic2tyeXBjamk6Jywgc3RhdHVzKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBzdGFuIGthbmHFgnUgcG8ga3LDs3RraW0gY3phc2llXHJcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGlmIChjaGFubmVsLnN0YXRlID09PSAnY2xvc2VkJykge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gS2FuYcWCIHJlYWwtdGltZSB6b3N0YcWCIHphbWtuacSZdHkgLSBwcmF3ZG9wb2RvYm5pZSBSTFMgYmxva3VqZSByZWFsLXRpbWUgbHViIGZlYXR1cmUgamVzdCB3ecWCxIVjem9ueScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9LCAyMDAwKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBLYW5hxYIgb3duZXIgY2hhbmdlcyB1dHdvcnpvbnknKVxyXG4gICAgICByZXR1cm4gY2hhbm5lbFxyXG4gICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBzdWJzY3JpYmVUb093bmVyQ2hhbmdlczonLCBlcnJvcilcclxuICAgICAgY29uc29sZS53YXJuKCfwn5KhIFJlYWwtdGltZSBuaWUgYsSZZHppZSBkemlhxYJhxIcgLSBhcGxpa2FjamEgYsSZZHppZSB1xbx5d2HEhyBva3Jlc293ZWdvIG9kxZt3aWXFvGFuaWEnKVxyXG4gICAgICBcclxuICAgICAgLy8gWndyw7PEhyBtb2NrIG9iamVjdCBhYnkgbmllIHBvd29kb3dhxIcgYsWCxJlkw7N3XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdW5zdWJzY3JpYmU6ICgpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IE1vY2sgdW5zdWJzY3JpYmUgZGxhIGLFgsSZZG5lZ28ga2FuYcWCdScpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWkgbmEga29ua3JldG55IGR6aWXFhFxyXG4gIGFzeW5jIGdldENsaWVudHNXaXRoUmVtaW5kZXJzKHVzZXI6IFVzZXIsIHRhcmdldERhdGU/OiBzdHJpbmcpOiBQcm9taXNlPENsaWVudFdpdGhSZW1pbmRlcltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB0b2RheSA9IHRhcmdldERhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gZm9ybWF0IFlZWVktTU0tRERcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OFIFBvYmllcmFuaWUga2xpZW50w7N3IHogcHJ6eXBvbW5pZW5pYW1pIG5hOiAke3RvZGF5fWApXHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2gga2xpZW50w7N3IHXFvHl0a293bmlrYSAoYmV6IHBhZ2luYWNqaSlcclxuICAgICAgY29uc3QgYWxsQ2xpZW50cyA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50cyh1c2VyKVxyXG5cclxuICAgICAgLy8gRmlsdHJ1aiB0eWxrbyB0eWNoIHogcHJ6eXBvbW5pZW5pYW1pIG5hIGR6acWbXHJcbiAgICAgIGNvbnN0IGNsaWVudHNXaXRoVG9kYXlSZW1pbmRlcnMgPSBhbGxDbGllbnRzLmZpbHRlcigoY2xpZW50OiBhbnkpID0+IHtcclxuICAgICAgICAvLyBTcHJhd2TFuiBjenkga2xpZW50IG1hIGFrdHl3bmUgcHJ6eXBvbW5pZW5pZVxyXG4gICAgICAgIGNvbnN0IHJlbWluZGVyID0gY2xpZW50LnJlbWluZGVyIHx8IHtcclxuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgZGF0ZTogJycsXHJcbiAgICAgICAgICB0aW1lOiAnJyxcclxuICAgICAgICAgIG5vdGU6ICcnXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVtaW5kZXIuZW5hYmxlZCAmJiByZW1pbmRlci5kYXRlID09PSB0b2RheVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gU29ydHVqIHdlZMWCdWcgZ29kemlueSBwcnp5cG9tbmllbmlhXHJcbiAgICAgIGNvbnN0IHNvcnRlZENsaWVudHMgPSBjbGllbnRzV2l0aFRvZGF5UmVtaW5kZXJzLnNvcnQoKGE6IGFueSwgYjogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGltZUEgPSBhLnJlbWluZGVyPy50aW1lIHx8ICcwMDowMCdcclxuICAgICAgICBjb25zdCB0aW1lQiA9IGIucmVtaW5kZXI/LnRpbWUgfHwgJzAwOjAwJ1xyXG4gICAgICAgIHJldHVybiB0aW1lQS5sb2NhbGVDb21wYXJlKHRpbWVCKVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBabmFsZXppb25vICR7c29ydGVkQ2xpZW50cy5sZW5ndGh9IGtsaWVudMOzdyB6IHByenlwb21uaWVuaWFtaSBuYSAke3RvZGF5fWApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gc29ydGVkQ2xpZW50c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWVudMOzdyB6IHByenlwb21uaWVuaWFtaTonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHByenlwb21uaWVuaWEgcG9ncnVwb3dhbmUgd2VkxYJ1ZyBzbG90w7N3IGN6YXNvd3ljaCBkbGEgZGFzaGJvYXJkdVxyXG4gIGFzeW5jIGdldERhaWx5U2NoZWR1bGVXaXRoQ2xpZW50cyh1c2VyOiBVc2VyLCB0YXJnZXREYXRlPzogc3RyaW5nKTogUHJvbWlzZTxEYWlseVNjaGVkdWxlU2xvdFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBjbGllbnRzV2l0aFJlbWluZGVycyA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50c1dpdGhSZW1pbmRlcnModXNlciwgdGFyZ2V0RGF0ZSlcclxuICAgICAgXHJcbiAgICAgIC8vIERlZmluaWNqYSBzbG90w7N3IGN6YXNvd3ljaCAoemdvZG5pZSB6IG9iZWNuxIUgc3RydWt0dXLEhSBkYXNoYm9hcmR1KVxyXG4gICAgICBjb25zdCB0aW1lU2xvdHMgPSBbXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHRpbWU6ICc4OjAwIC0gMTA6MDAnLCBcclxuICAgICAgICAgIHR5cGU6ICdjYW52YXMnLCBcclxuICAgICAgICAgIGNvbG9yOiAnIzA2YjZkNCcsXHJcbiAgICAgICAgICBzdGFydFRpbWU6ICcwODowMCcsXHJcbiAgICAgICAgICBlbmRUaW1lOiAnMTA6MDAnLFxyXG4gICAgICAgICAgc3RhdHVzZXM6IFsnY2FudmFzJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICB0aW1lOiAnMTA6MTAgLSAxMjowMCcsIFxyXG4gICAgICAgICAgdHlwZTogJ3NhbGVzJywgXHJcbiAgICAgICAgICBjb2xvcjogJyMxMGI5ODEnLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMTA6MTAnLFxyXG4gICAgICAgICAgZW5kVGltZTogJzEyOjAwJyxcclxuICAgICAgICAgIHN0YXR1c2VzOiBbJ3NhbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHRpbWU6ICcxMjozMCAtIDE1OjAwJywgXHJcbiAgICAgICAgICB0eXBlOiAnYW50eXNhbGVzJywgXHJcbiAgICAgICAgICBjb2xvcjogJyNmNTllMGInLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMTI6MzAnLFxyXG4gICAgICAgICAgZW5kVGltZTogJzE1OjAwJyxcclxuICAgICAgICAgIHN0YXR1c2VzOiBbJ2FudHlzYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICB0aW1lOiAnMTU6MTAgLSAxNjozMCcsIFxyXG4gICAgICAgICAgdHlwZTogJ2NhbnZhcyArIHNhbGVzJywgXHJcbiAgICAgICAgICBjb2xvcjogJyM4YjVjZjYnLFxyXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMTU6MTAnLFxyXG4gICAgICAgICAgZW5kVGltZTogJzE2OjMwJyxcclxuICAgICAgICAgIHN0YXR1c2VzOiBbJ2NhbnZhcycsICdzYWxlJ11cclxuICAgICAgICB9LFxyXG4gICAgICBdXHJcblxyXG4gICAgICAvLyBQcnp5cGlzeiBrbGllbnTDs3cgZG8gb2Rwb3dpZWRuaWNoIHNsb3TDs3cgbmEgcG9kc3Rhd2llIFRZTEtPIGN6YXN1IHByenlwb21uaWVuaWFcclxuICAgICAgY29uc3Qgc2xvdHNXaXRoQ2xpZW50cyA9IHRpbWVTbG90cy5tYXAoc2xvdCA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2xvdENsaWVudHMgPSBjbGllbnRzV2l0aFJlbWluZGVycy5maWx0ZXIoY2xpZW50ID0+IHtcclxuICAgICAgICAgIGNvbnN0IHJlbWluZGVyVGltZSA9IGNsaWVudC5yZW1pbmRlcj8udGltZSB8fCAnMDA6MDAnXHJcbiAgICAgICAgICBjb25zdCBbaG91cnMsIG1pbnV0ZXNdID0gcmVtaW5kZXJUaW1lLnNwbGl0KCc6JykubWFwKE51bWJlcilcclxuICAgICAgICAgIGNvbnN0IHJlbWluZGVyTWludXRlcyA9IGhvdXJzICogNjAgKyBtaW51dGVzXHJcblxyXG4gICAgICAgICAgY29uc3QgW3N0YXJ0SG91cnMsIHN0YXJ0TWluc10gPSBzbG90LnN0YXJ0VGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpXHJcbiAgICAgICAgICBjb25zdCBbZW5kSG91cnMsIGVuZE1pbnNdID0gc2xvdC5lbmRUaW1lLnNwbGl0KCc6JykubWFwKE51bWJlcilcclxuICAgICAgICAgIGNvbnN0IHN0YXJ0TWludXRlcyA9IHN0YXJ0SG91cnMgKiA2MCArIHN0YXJ0TWluc1xyXG4gICAgICAgICAgY29uc3QgZW5kTWludXRlcyA9IGVuZEhvdXJzICogNjAgKyBlbmRNaW5zXHJcblxyXG4gICAgICAgICAgLy8gU3ByYXdkxbogY3p5IGdvZHppbmEgcHJ6eXBvbW5pZW5pYSBtaWXFm2NpIHNpxJkgdyBzbG9jaWUgY3phc293eW1cclxuICAgICAgICAgIGNvbnN0IHRpbWVJblNsb3QgPSByZW1pbmRlck1pbnV0ZXMgPj0gc3RhcnRNaW51dGVzICYmIHJlbWluZGVyTWludXRlcyA8PSBlbmRNaW51dGVzXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5WQIEtsaWVudCAke2NsaWVudC5maXJzdF9uYW1lfSAke2NsaWVudC5sYXN0X25hbWV9OiBjemFzICR7cmVtaW5kZXJUaW1lfSAoJHtyZW1pbmRlck1pbnV0ZXN9bWluKSB2cyBzbG90ICR7c2xvdC50aW1lfSAoJHtzdGFydE1pbnV0ZXN9LSR7ZW5kTWludXRlc31taW4pID0gJHt0aW1lSW5TbG90ID8gJ1BBU1VKRScgOiAnTklFIFBBU1VKRSd9YClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHRpbWVJblNsb3RcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBTbG90ICR7c2xvdC50aW1lfTogJHtzbG90Q2xpZW50cy5sZW5ndGh9IGtsaWVudMOzd2ApXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnNsb3QsXHJcbiAgICAgICAgICBjbGllbnRzOiBzbG90Q2xpZW50c1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFBsYW4gZG5pYSB6ICR7c2xvdHNXaXRoQ2xpZW50cy5yZWR1Y2UoKHN1bSwgc2xvdCkgPT4gc3VtICsgc2xvdC5jbGllbnRzLmxlbmd0aCwgMCl9IGtsaWVudGFtaWApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gc2xvdHNXaXRoQ2xpZW50c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB0d29yemVuaWEgcGxhbnUgZG5pYTonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamUgQVBJIGRsYSBsb2fDs3cgYWt0eXdub8WbY2lcclxuZXhwb3J0IGNvbnN0IGFjdGl2aXR5TG9nc0FwaSA9IHtcclxuICAvLyBQb2JpZXJ6IGxvZ2kgYWt0eXdub8WbY2lcclxuICBhc3luYyBnZXRMb2dzKGNsaWVudElkPzogc3RyaW5nKSB7XHJcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICosXHJcbiAgICAgICAgY2xpZW50cyhmaXJzdF9uYW1lLCBsYXN0X25hbWUpXHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIC5saW1pdCg1MClcclxuXHJcbiAgICBpZiAoY2xpZW50SWQpIHtcclxuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2xpZW50X2lkJywgY2xpZW50SWQpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBoaXN0b3JpxJkgem1pYW4gZGxhIGtvbmtyZXRuZWdvIGtsaWVudGFcclxuICBhc3luYyBnZXRDbGllbnRIaXN0b3J5KGNsaWVudElkOiBzdHJpbmcpOiBQcm9taXNlPENsaWVudEhpc3RvcnlbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1BvYmllcmFuaWUgaGlzdG9yaWkgZGxhIGtsaWVudGE6JywgY2xpZW50SWQpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgamVzdCB6YWxvZ293YW55XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdBa3R1YWxueSB1xbx5dGtvd25pazonLCB1c2VyPy5pZClcclxuICAgICAgXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1XFvHl0a293bmlrIG5pZSBqZXN0IHphbG9nb3dhbnknKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgY2xpZW50X2lkLFxyXG4gICAgICAgICAgY2hhbmdlZF9ieSxcclxuICAgICAgICAgIGNoYW5nZV90eXBlLFxyXG4gICAgICAgICAgZmllbGRfY2hhbmdlZCxcclxuICAgICAgICAgIG9sZF92YWx1ZSxcclxuICAgICAgICAgIG5ld192YWx1ZSxcclxuICAgICAgICAgIHRpbWVzdGFtcFxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCdjbGllbnRfaWQnLCBjbGllbnRJZClcclxuICAgICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgIC5saW1pdCgyMClcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCBxdWVyeSBhY3Rpdml0eV9sb2dzOicsIGVycm9yKVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N6Y3plZ8OzxYJ5IGLFgsSZZHU6JywgSlNPTi5zdHJpbmdpZnkoZXJyb3IsIG51bGwsIDIpKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFNwcmF3ZMW6IGN6eSB0byBwcm9ibGVtIHogUkxTXHJcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdQcm9ibGVtIHogUm93IExldmVsIFNlY3VyaXR5IC0gdcW8eXRrb3duaWsgbW/FvGUgbmllIG1pZcSHIGRvc3TEmXB1JylcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gWndyw7PEhyBwdXN0xIUgdGFibGljxJkgemFtaWFzdCByenVjYW5pYSBixYLEmWRlbVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnUG9icmFubyBsb2dpOicsIGRhdGE/Lmxlbmd0aCB8fCAwKVxyXG5cclxuICAgICAgLy8gSmXFm2xpIG5pZSBtYSBsb2fDs3csIHp3csOzxIcgcHVzdMSFIHRhYmxpY8SZXHJcbiAgICAgIGlmICghZGF0YSB8fCBkYXRhLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IGluZm9ybWFjamUgbyB1xbx5dGtvd25pa2FjaCBvc29ibm8geiBhdmF0YXJhbWlcclxuICAgICAgY29uc3QgdXNlcklkcyA9IFsuLi5uZXcgU2V0KGRhdGEubWFwKGxvZyA9PiBsb2cuY2hhbmdlZF9ieSkuZmlsdGVyKEJvb2xlYW4pKV1cclxuICAgICAgY29uc29sZS5sb2coJ1BvYmllcmFuaWUgdcW8eXRrb3duaWvDs3c6JywgdXNlcklkcylcclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgYXZhdGFyX3VybCcpXHJcbiAgICAgICAgLmluKCdpZCcsIHVzZXJJZHMpXHJcblxyXG4gICAgICBpZiAodXNlcnNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCBwb2JpZXJhbmlhIHXFvHl0a293bmlrw7N3OicsIHVzZXJzRXJyb3IpXHJcbiAgICAgICAgLy8gS29udHludXVqIGJleiBkYW55Y2ggdcW8eXRrb3duaWvDs3dcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1BvYnJhbm8gdcW8eXRrb3duaWvDs3c6JywgdXNlcnM/Lmxlbmd0aCB8fCAwKVxyXG5cclxuICAgICAgLy8gTWFwdWogdcW8eXRrb3duaWvDs3cgZG8gc8WCb3duaWthIGRsYSBzenlia2llZ28gZG9zdMSZcHVcclxuICAgICAgY29uc3QgdXNlcnNNYXAgPSAodXNlcnMgfHwgW10pLnJlZHVjZSgoYWNjLCB1c2VyKSA9PiB7XHJcbiAgICAgICAgYWNjW3VzZXIuaWRdID0gdXNlclxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgYW55PilcclxuXHJcbiAgICAgIC8vIFByemVrc3p0YcWCxIcgZGFuZSB6IGluZm9ybWFjamFtaSBvIGVkeXRvcnplXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGRhdGEubWFwKChsb2c6IGFueSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXIgPSB1c2Vyc01hcFtsb2cuY2hhbmdlZF9ieV1cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgaWQ6IGxvZy5pZCxcclxuICAgICAgICAgIGNsaWVudF9pZDogbG9nLmNsaWVudF9pZCxcclxuICAgICAgICAgIGNoYW5nZWRfYnk6IGxvZy5jaGFuZ2VkX2J5LFxyXG4gICAgICAgICAgY2hhbmdlX3R5cGU6IGxvZy5jaGFuZ2VfdHlwZSxcclxuICAgICAgICAgIGZpZWxkX2NoYW5nZWQ6IGxvZy5maWVsZF9jaGFuZ2VkLFxyXG4gICAgICAgICAgb2xkX3ZhbHVlOiBsb2cub2xkX3ZhbHVlLFxyXG4gICAgICAgICAgbmV3X3ZhbHVlOiBsb2cubmV3X3ZhbHVlLFxyXG4gICAgICAgICAgdGltZXN0YW1wOiBsb2cudGltZXN0YW1wLFxyXG4gICAgICAgICAgZWRpdG9yX25hbWU6IHVzZXI/LmZ1bGxfbmFtZSB8fCBsb2cuY2hhbmdlZF9ieSB8fCAnTmllem5hbnkgdcW8eXRrb3duaWsnLFxyXG4gICAgICAgICAgZWRpdG9yX3JvbGU6IHVzZXI/LnJvbGUgfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgZWRpdG9yX2F2YXRhcjogdXNlcj8uYXZhdGFyX3VybCB8fCBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1p3cmFjYW5pZSBoaXN0b3JpaTonLCByZXN1bHQubGVuZ3RoLCAnd3Bpc8OzdycpXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgdyBnZXRDbGllbnRIaXN0b3J5OicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIERvZGFqIGxvZyBha3R5d25vxZtjaVxyXG4gIGFzeW5jIGNyZWF0ZUxvZyhsb2c6IE9taXQ8QWN0aXZpdHlMb2csICdpZCcgfCAndGltZXN0YW1wJz4pIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgLmluc2VydChbe1xyXG4gICAgICAgIC4uLmxvZyxcclxuICAgICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YSBhcyBBY3Rpdml0eUxvZ1xyXG4gIH0sXHJcblxyXG4gIC8vIEZ1bmtjamEgdGVzdG93YSBkbyBzcHJhd2R6YW5pYSBkb3N0xJlwdSBkbyBhY3Rpdml0eV9sb2dzXHJcbiAgYXN5bmMgdGVzdEFjdGl2aXR5TG9nc0FjY2VzcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0b3dhbmllIGRvc3TEmXB1IGRvIGFjdGl2aXR5X2xvZ3MuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogYXV0b3J5emFjasSZXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IC0gdcW8eXRrb3duaWs6JywgdXNlcj8uaWQsIHVzZXI/LmVtYWlsKVxyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgICBlcnJvcjogJ0JyYWsgYXV0b3J5emFjamkgLSB1xbx5dGtvd25payBuaWUgamVzdCB6YWxvZ293YW55JyBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBpc3RuaWVqZSB3IHRhYmVsaSB1c2Vyc1xyXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJQcm9maWxlLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGVtYWlsLCByb2xlJylcclxuICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcclxuICAgICAgICAuc2luZ2xlKClcclxuICAgICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSBwcm9maWwgdcW8eXRrb3duaWthOicsIHVzZXJQcm9maWxlKVxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCAtIGLFgsSFZCBwcm9maWx1OicsIHVzZXJFcnJvcilcclxuICAgICAgXHJcbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXJQcm9maWxlKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgICBlcnJvcjogJ1XFvHl0a293bmlrIG5pZSBpc3RuaWVqZSB3IHRhYmVsaSB1c2VycycgXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBUZXN0dWogZG9zdMSZcCBkbyBhY3Rpdml0eV9sb2dzXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IsIGNvdW50IH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JyB9KVxyXG4gICAgICAgIC5saW1pdCgxKVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgYWN0aXZpdHlfbG9ncyAtIGRhdGE6JywgZGF0YSlcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgYWN0aXZpdHlfbG9ncyAtIGVycm9yOicsIGVycm9yKVxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY3Rpdml0eV9sb2dzIC0gY291bnQ6JywgY291bnQpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICBzdWNjZXNzOiAhZXJyb3IsIFxyXG4gICAgICAgIGRhdGEsIFxyXG4gICAgICAgIGVycm9yLCBcclxuICAgICAgICBjb3VudCxcclxuICAgICAgICB1c2VyOiB1c2VyUHJvZmlsZVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgdGVzdHUgYWN0aXZpdHlfbG9nczonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIFR5cHkgZGxhIHN0YXR5c3R5ayBwcmFjb3duaWvDs3dcclxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZVN0YXRzIHtcclxuICBpZDogc3RyaW5nXHJcbiAgdXNlcl9pZDogc3RyaW5nXHJcbiAgZGFpbHlfdGFyZ2V0OiBudW1iZXJcclxuICBjb21taXNzaW9uX3JhdGU6IG51bWJlclxyXG4gIG1vbnRobHlfY2FudmFzOiBudW1iZXJcclxuICBtb250aGx5X2FudHlzYWxlOiBudW1iZXJcclxuICBtb250aGx5X3NhbGU6IG51bWJlclxyXG4gIHRvdGFsX2NvbW1pc3Npb25zOiBudW1iZXJcclxuICB0b3RhbF9wZW5hbHRpZXM6IG51bWJlclxyXG4gIC8vIFBvbGEgZG8gZWR5Y2ppIHLEmWN6bmVqXHJcbiAgY3VzdG9tX2NsaWVudHNfY291bnQ/OiBudW1iZXJcclxuICBjdXN0b21fdG90YWxfcGF5bWVudHM/OiBudW1iZXJcclxuICAvLyBEb2RhdGtvd2UgZGFuZSB6IEpPSU5cclxuICB1c2VyPzoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcclxuICAgIHJvbGU6IHN0cmluZ1xyXG4gIH1cclxuICAvLyBPYmxpY3pvbmUgbmEgcG9kc3Rhd2llIGRhbnljaCB6IGNsaWVudHNcclxuICBkYWlseV9hY2hpZXZlZD86IG51bWJlclxyXG4gIHllc3RlcmRheV9zaG9ydGFnZT86IG51bWJlclxyXG4gIHN0YXR1c19jaGFuZ2VzX3RvZGF5PzogUmVjb3JkPHN0cmluZywgbnVtYmVyPlxyXG59XHJcblxyXG4vLyBGdW5rY2plIEFQSSBkbGEgcmFwb3J0w7N3XHJcbmV4cG9ydCBjb25zdCByZXBvcnRzQXBpID0ge1xyXG4gIC8vIFBvYmllcnogc3RhdHlzdHlraSB0eWxrbyBwcmFjb3duaWvDs3cgeiBwcm93aXpqxIVcclxuICBhc3luYyBnZXRFbXBsb3llZVN0YXRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPEVtcGxveWVlU3RhdHNbXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBzdGF0eXN0eWsgcHJhY293bmlrw7N3Li4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIEtST0sgMTogUG9iaWVyeiB3c3p5c3RraWNoIHXFvHl0a293bmlrw7N3IHogcm9sxIUgJ3ByYWNvd25paydcclxuICAgICAgY29uc3QgeyBkYXRhOiBhbGxFbXBsb3llZXMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgYXZhdGFyX3VybCxcclxuICAgICAgICAgIHJvbGVcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5lcSgncm9sZScsICdwcmFjb3duaWsnKVxyXG4gICAgICAgIC5vcmRlcignZnVsbF9uYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmICh1c2Vyc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHXFvHl0a293bmlrw7N3LXByYWNvd25pa8OzdzonLCB1c2Vyc0Vycm9yKVxyXG4gICAgICAgIHRocm93IHVzZXJzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKCFhbGxFbXBsb3llZXMgfHwgYWxsRW1wbG95ZWVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQnJhayB1xbx5dGtvd25pa8OzdyB6IHJvbMSFIHByYWNvd25paycpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUG9icmFubyB3c3p5c3RraWNoIHByYWNvd25pa8OzdzonLCBhbGxFbXBsb3llZXMubGVuZ3RoLCBhbGxFbXBsb3llZXMubWFwKGUgPT4gZS5mdWxsX25hbWUpKVxyXG5cclxuICAgICAgLy8gS1JPSyAyOiBQb2JpZXJ6IHN0YXR5c3R5a2kgeiB0YWJlbGkgZW1wbG95ZWVfc3RhdHMgZGxhIHR5Y2ggcHJhY293bmlrw7N3XHJcbiAgICAgIGNvbnN0IGVtcGxveWVlSWRzID0gYWxsRW1wbG95ZWVzLm1hcChlbXAgPT4gZW1wLmlkKVxyXG4gICAgICBsZXQgZXhpc3RpbmdTdGF0czogYW55W10gPSBbXVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBzdGF0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgLmluKCd1c2VyX2lkJywgZW1wbG95ZWVJZHMpXHJcblxyXG4gICAgICAgIGlmIChzdGF0c0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgcG9iaWVyYW5pYSBlbXBsb3llZV9zdGF0czonLCBzdGF0c0Vycm9yKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBleGlzdGluZ1N0YXRzID0gZGF0YSB8fCBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBlbXBsb3llZV9zdGF0czonLCBlcnJvcilcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIHN0YXR5c3R5a2kgZGxhIHByYWNvd25pa8OzdzonLCBleGlzdGluZ1N0YXRzPy5sZW5ndGggfHwgMClcclxuXHJcbiAgICAgIC8vIEtST0sgMzogUG9iaWVyeiBkemlzaWVqc3plIHN0YXR5c3R5a2kgeiB0YWJlbGkgY2xpZW50cyAoeiBvYnPFgnVnxIUgYsWCxJlkw7N3KVxyXG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIGxldCB0b2RheUNsaWVudHM6IGFueVtdID0gW11cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogY2xpZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnc3RhdHVzLCBlZGl0ZWRfYnksIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXQnKVxyXG4gICAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIGAke3RvZGF5fVQwMDowMDowMGApXHJcbiAgICAgICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBgJHt0b2RheX1UMjM6NTk6NTlgKVxyXG5cclxuICAgICAgICBpZiAoY2xpZW50c0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBkemlzaWFqOicsIGNsaWVudHNFcnJvcilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdG9kYXlDbGllbnRzID0gZGF0YSB8fCBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBkemlzaWVqc3p5Y2gga2xpZW50w7N3OicsIGVycm9yKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gZHppc2llanN6eWNoIGtsaWVudMOzdzonLCB0b2RheUNsaWVudHMubGVuZ3RoKVxyXG5cclxuICAgICAgLy8gS1JPSyA0OiBQb2JpZXJ6IHdjem9yYWpzemUgc3RhdHlzdHlraSBkbGEga2FyICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKClcclxuICAgICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpXHJcbiAgICAgIGNvbnN0IHllc3RlcmRheVN0ciA9IHllc3RlcmRheS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuICAgICAgbGV0IHllc3RlcmRheUNsaWVudHM6IGFueVtdID0gW11cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogeWVzdGVyZGF5RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIGVkaXRlZF9ieScpXHJcbiAgICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0JywgYCR7eWVzdGVyZGF5U3RyfVQwMDowMDowMGApXHJcbiAgICAgICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBgJHt5ZXN0ZXJkYXlTdHJ9VDIzOjU5OjU5YClcclxuXHJcbiAgICAgICAgaWYgKHllc3RlcmRheUVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgcG9iaWVyYW5pYSB3Y3pvcmFqc3p5Y2gga2xpZW50w7N3OicsIHllc3RlcmRheUVycm9yKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB5ZXN0ZXJkYXlDbGllbnRzID0gZGF0YSB8fCBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyB3Y3pvcmFqc3p5Y2gga2xpZW50w7N3OicsIGVycm9yKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLUk9LIDU6IFBvYmllcnogV1NaWVNUS0lDSCBrbGllbnTDs3cgcHJ6eXBpc2FueWNoIGRvIHByYWNvd25pa8OzdyAoeiBvYnPFgnVnxIUgYsWCxJlkw7N3KVxyXG4gICAgICBsZXQgYWxsT3duZWRDbGllbnRzOiBhbnlbXSA9IFtdXHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IG93bmVkRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIG93bmVyX2lkJylcclxuICAgICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcclxuICAgICAgICAgIC5pbignb3duZXJfaWQnLCBlbXBsb3llZUlkcylcclxuXHJcbiAgICAgICAgaWYgKG93bmVkRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBwb2JpZXJhbmlhIGtsaWVudMOzdyBwcnp5cGlzYW55Y2g6Jywgb3duZWRFcnJvcilcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWxsT3duZWRDbGllbnRzID0gZGF0YSB8fCBbXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBwcnp5cGlzYW55Y2gga2xpZW50w7N3OicsIGVycm9yKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gd3N6eXN0a2ljaCBwcnp5cGlzYW55Y2gga2xpZW50w7N3OicsIGFsbE93bmVkQ2xpZW50cy5sZW5ndGgpXHJcblxyXG4gICAgICAvLyBLUk9LIDY6IEFncmVndWogZHppc2llanN6ZSBzdGF0eXN0eWtpIHBlciBwcmFjb3duaWtcclxuICAgICAgY29uc3QgdG9kYXlTdGF0cyA9IHRvZGF5Q2xpZW50cy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgYW55PiwgY2xpZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gY2xpZW50LmVkaXRlZF9ieVxyXG4gICAgICAgIGlmICghdXNlcklkKSByZXR1cm4gYWNjXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFhY2NbdXNlcklkXSkge1xyXG4gICAgICAgICAgYWNjW3VzZXJJZF0gPSB7IHRvdGFsOiAwLCBjYW52YXM6IDAsIGFudHlzYWxlOiAwLCBzYWxlOiAwLCBvdGhlcjogMCB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGFjY1t1c2VySWRdLnRvdGFsKytcclxuICAgICAgICBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpIGFjY1t1c2VySWRdLmNhbnZhcysrXHJcbiAgICAgICAgZWxzZSBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ2FudHlzYWxlJykgYWNjW3VzZXJJZF0uYW50eXNhbGUrK1xyXG4gICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdzYWxlJykgYWNjW3VzZXJJZF0uc2FsZSsrXHJcbiAgICAgICAgZWxzZSBhY2NbdXNlcklkXS5vdGhlcisrXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSlcclxuXHJcbiAgICAgIC8vIEtST0sgNzogQWdyZWd1aiB3Y3pvcmFqc3plIHN0YXR5c3R5a2kgcGVyIHByYWNvd25pa1xyXG4gICAgICBjb25zdCB5ZXN0ZXJkYXlTdGF0cyA9IHllc3RlcmRheUNsaWVudHMucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIGNsaWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGNsaWVudC5lZGl0ZWRfYnlcclxuICAgICAgICBpZiAodXNlcklkKSB7XHJcbiAgICAgICAgICBhY2NbdXNlcklkXSA9IChhY2NbdXNlcklkXSB8fCAwKSArIDFcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSlcclxuXHJcbiAgICAgIC8vIEtST0sgODogQWdyZWd1aiBzdGF0dXN5IFdTWllTVEtJQ0ggcHJ6eXBpc2FueWNoIGtsaWVudMOzdyBwZXIgcHJhY293bmlrXHJcbiAgICAgIGNvbnN0IG93bmVkQ2xpZW50c1N0YXRzID0gYWxsT3duZWRDbGllbnRzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjbGllbnQpID0+IHtcclxuICAgICAgICBjb25zdCBvd25lcklkID0gY2xpZW50Lm93bmVyX2lkXHJcbiAgICAgICAgaWYgKCFvd25lcklkKSByZXR1cm4gYWNjXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFhY2Nbb3duZXJJZF0pIHtcclxuICAgICAgICAgIGFjY1tvd25lcklkXSA9IHsgdG90YWw6IDAsIGNhbnZhczogMCwgYW50eXNhbGU6IDAsIHNhbGU6IDAsIGJyYWtfa29udGFrdHU6IDAsIG5pZV96YWludGVyZXNvd2FueTogMCwgemRlbmVyd293YW55OiAwLCAnJCQnOiAwIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWNjW293bmVySWRdLnRvdGFsKytcclxuICAgICAgICBcclxuICAgICAgICBzd2l0Y2ggKGNsaWVudC5zdGF0dXMpIHtcclxuICAgICAgICAgIGNhc2UgJ2NhbnZhcyc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS5jYW52YXMrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnYW50eXNhbGUnOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uYW50eXNhbGUrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnc2FsZSc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS5zYWxlKytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ2JyYWtfa29udGFrdHUnOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uYnJha19rb250YWt0dSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICduaWVfemFpbnRlcmVzb3dhbnknOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0ubmllX3phaW50ZXJlc293YW55KytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ3pkZW5lcndvd2FueSc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS56ZGVuZXJ3b3dhbnkrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnJCQnOlxyXG4gICAgICAgICAgICBhY2Nbb3duZXJJZF1bJyQkJ10rK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgIH0sIHt9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogU3RhdHlzdHlraSBwcnp5cGlzYW55Y2gga2xpZW50w7N3OicsIG93bmVkQ2xpZW50c1N0YXRzKVxyXG5cclxuICAgICAgLy8gS1JPSyA5OiBTdHfDs3J6IG1hcMSZIHN0YXR5c3R5ayBlbXBsb3llZV9zdGF0c1xyXG4gICAgICBjb25zdCBzdGF0c01hcCA9IG5ldyBNYXAoKVxyXG4gICAgICBleGlzdGluZ1N0YXRzLmZvckVhY2goc3RhdCA9PiB7XHJcbiAgICAgICAgc3RhdHNNYXAuc2V0KHN0YXQudXNlcl9pZCwgc3RhdClcclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIEtST0sgMTA6IEtvbWJpbnVqIGRhbmUgLSBkbGEgV1NaWVNUS0lDSCBwcmFjb3duaWvDs3cgKHphd3N6ZSB6d3JhY2EgbGlzdMSZKVxyXG4gICAgICBjb25zdCBlbmhhbmNlZFN0YXRzOiBFbXBsb3llZVN0YXRzW10gPSBhbGxFbXBsb3llZXMubWFwKGVtcGxveWVlID0+IHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBlbXBsb3llZS5pZFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBvYmllcnogc3RhdHlzdHlraSB6IGVtcGxveWVlX3N0YXRzIGx1YiB1dHfDs3J6IGRvbXnFm2xuZVxyXG4gICAgICAgIGNvbnN0IGJhc2ljU3RhdCA9IHN0YXRzTWFwLmdldCh1c2VySWQpIHx8IHtcclxuICAgICAgICAgIGlkOiAndGVtcF8nICsgdXNlcklkLFxyXG4gICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcclxuICAgICAgICAgIGNvbW1pc3Npb25fcmF0ZTogMy4wLFxyXG4gICAgICAgICAgbW9udGhseV9jYW52YXM6IDAsXHJcbiAgICAgICAgICBtb250aGx5X2FudHlzYWxlOiAwLFxyXG4gICAgICAgICAgbW9udGhseV9zYWxlOiAwLFxyXG4gICAgICAgICAgdG90YWxfY29tbWlzc2lvbnM6IDAsXHJcbiAgICAgICAgICB0b3RhbF9wZW5hbHRpZXM6IDAsXHJcbiAgICAgICAgICBjdXN0b21fY2xpZW50c19jb3VudDogMCxcclxuICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogMCxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBjb25zdCB0b2RheUZvclVzZXIgPSB0b2RheVN0YXRzW3VzZXJJZF0gfHwgeyB0b3RhbDogMCwgY2FudmFzOiAwLCBhbnR5c2FsZTogMCwgc2FsZTogMCB9XHJcbiAgICAgICAgY29uc3QgeWVzdGVyZGF5Rm9yVXNlciA9IHllc3RlcmRheVN0YXRzW3VzZXJJZF0gfHwgMFxyXG4gICAgICAgIGNvbnN0IG93bmVkRm9yVXNlciA9IG93bmVkQ2xpZW50c1N0YXRzW3VzZXJJZF0gfHwgeyBcclxuICAgICAgICAgIHRvdGFsOiAwLCBcclxuICAgICAgICAgIGNhbnZhczogMCwgXHJcbiAgICAgICAgICBhbnR5c2FsZTogMCwgXHJcbiAgICAgICAgICBzYWxlOiAwLCBcclxuICAgICAgICAgIGJyYWtfa29udGFrdHU6IDAsIFxyXG4gICAgICAgICAgbmllX3phaW50ZXJlc293YW55OiAwLCBcclxuICAgICAgICAgIHpkZW5lcndvd2FueTogMCwgXHJcbiAgICAgICAgICAnJCQnOiAwIFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBPYmxpY3oga2FyxJkgemEgd2N6b3JhalxyXG4gICAgICAgIGNvbnN0IHllc3RlcmRheVNob3J0YWdlID0gTWF0aC5tYXgoMCwgYmFzaWNTdGF0LmRhaWx5X3RhcmdldCAtIHllc3RlcmRheUZvclVzZXIpXHJcbiAgICAgICAgY29uc3QgcGVuYWx0eSA9IHllc3RlcmRheVNob3J0YWdlICogMTVcclxuXHJcbiAgICAgICAgLy8gT2JsaWN6IHByb3dpemrEmSBuYSBwb2RzdGF3aWUgcHJ6eXBpc2FueWNoIGtsaWVudMOzdyBTYWxlXHJcbiAgICAgICAgY29uc3QgY29tbWlzc2lvbiA9IChvd25lZEZvclVzZXIuc2FsZSAqIGJhc2ljU3RhdC5jb21taXNzaW9uX3JhdGUgLyAxMDApICogMTAwXHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFByYWNvd25payAke2VtcGxveWVlLmZ1bGxfbmFtZX06IENhbnZhcz0ke293bmVkRm9yVXNlci5jYW52YXN9LCBBbnR5Uz0ke293bmVkRm9yVXNlci5hbnR5c2FsZX0sIFNhbGU9JHtvd25lZEZvclVzZXIuc2FsZX1gKVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uYmFzaWNTdGF0LFxyXG4gICAgICAgICAgLy8gV0HFu05FOiBEb8WCxIVjeiBkYW5lIHXFvHl0a293bmlrYVxyXG4gICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICBpZDogZW1wbG95ZWUuaWQsXHJcbiAgICAgICAgICAgIGZ1bGxfbmFtZTogZW1wbG95ZWUuZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcl91cmw6IGVtcGxveWVlLmF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgIHJvbGU6IGVtcGxveWVlLnJvbGVcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBkYWlseV9hY2hpZXZlZDogdG9kYXlGb3JVc2VyLnRvdGFsLFxyXG4gICAgICAgICAgeWVzdGVyZGF5X3Nob3J0YWdlOiB5ZXN0ZXJkYXlTaG9ydGFnZSxcclxuICAgICAgICAgIHN0YXR1c19jaGFuZ2VzX3RvZGF5OiB7XHJcbiAgICAgICAgICAgIGNhbnZhczogdG9kYXlGb3JVc2VyLmNhbnZhcyxcclxuICAgICAgICAgICAgYW50eXNhbGU6IHRvZGF5Rm9yVXNlci5hbnR5c2FsZSxcclxuICAgICAgICAgICAgc2FsZTogdG9kYXlGb3JVc2VyLnNhbGUsXHJcbiAgICAgICAgICAgIG90aGVyOiB0b2RheUZvclVzZXIub3RoZXJcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICAvLyBVxbx5d2FqIHN0YXR5c3R5ayBvcGFydHljaCBuYSBvd25lcl9pZCAocHJ6eXBpc2FueWNoIGtsaWVudMOzdylcclxuICAgICAgICAgIG1vbnRobHlfY2FudmFzOiBvd25lZEZvclVzZXIuY2FudmFzLFxyXG4gICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogb3duZWRGb3JVc2VyLmFudHlzYWxlLFxyXG4gICAgICAgICAgbW9udGhseV9zYWxlOiBvd25lZEZvclVzZXIuc2FsZSxcclxuICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiBjb21taXNzaW9uLFxyXG4gICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiBwZW5hbHR5XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQcnp5Z290b3dhbm8gcm96c3plcnpvbmUgc3RhdHlzdHlraSBkbGEgd3N6eXN0a2ljaCBwcmFjb3duaWvDs3c6JywgZW5oYW5jZWRTdGF0cy5sZW5ndGgpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIExpc3RhIHByYWNvd25pa8OzdzonLCBlbmhhbmNlZFN0YXRzLm1hcChzID0+IHMudXNlcj8uZnVsbF9uYW1lKS5qb2luKCcsICcpKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGVuaGFuY2VkU3RhdHNcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIHByYWNvd25pa8OzdzonLCBlcnJvcilcclxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSwgendyw7PEhyBwdXN0xIUgbGlzdMSZIHphbWlhc3Qgcnp1Y2HEhyBixYLEhWRcclxuICAgICAgcmV0dXJuIFtdXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9kc3Vtb3dhbmllIGRuaWFcclxuICBhc3luYyBnZXREYWlseVN1bW1hcnkoZGF0ZTogc3RyaW5nKSB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5JylcclxuICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIGAke2RhdGV9VDAwOjAwOjAwYClcclxuICAgICAgLmx0KCd1cGRhdGVkX2F0JywgYCR7ZGF0ZX1UMjM6NTk6NTlgKVxyXG5cclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuXHJcbiAgICAvLyBBZ3JlZ2FjamEgZGFueWNoXHJcbiAgICBjb25zdCBzdGF0dXNCcmVha2Rvd24gPSBkYXRhLnJlZHVjZSgoYWNjOiBhbnksIGNsaWVudCkgPT4ge1xyXG4gICAgICBhY2NbY2xpZW50LnN0YXR1c10gPSAoYWNjW2NsaWVudC5zdGF0dXNdIHx8IDApICsgMVxyXG4gICAgICByZXR1cm4gYWNjXHJcbiAgICB9LCB7fSlcclxuXHJcbiAgICBjb25zdCBlbXBsb3llZVN0YXRzID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55LCBjbGllbnQpID0+IHtcclxuICAgICAgYWNjW2NsaWVudC5lZGl0ZWRfYnldID0gKGFjY1tjbGllbnQuZWRpdGVkX2J5XSB8fCAwKSArIDFcclxuICAgICAgcmV0dXJuIGFjY1xyXG4gICAgfSwge30pXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxDbGllbnRzOiBkYXRhLmxlbmd0aCxcclxuICAgICAgc3RhdHVzQnJlYWtkb3duLFxyXG4gICAgICBlbXBsb3llZVN0YXRzXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9kc3Vtb3dhbmllIHR5Z29kbmlvd2VcclxuICBhc3luYyBnZXRXZWVrbHlTdW1tYXJ5KHN0YXJ0RGF0ZTogc3RyaW5nLCBlbmREYXRlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLnNlbGVjdCgnc3RhdHVzLCBlZGl0ZWRfYnksIHVwZGF0ZWRfYXQnKVxyXG4gICAgICAuZ3RlKCd1cGRhdGVkX2F0Jywgc3RhcnREYXRlKVxyXG4gICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBlbmREYXRlKVxyXG5cclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8gQWt0dWFsaXp1aiBzdGF0eXN0eWtpIHByYWNvd25pa2EgKGRsYSBtYW5hZ2VyL3Byb2plY3RfbWFuYWdlci9qdW5pb3JfbWFuYWdlci9zemVmL2FkbWluKVxyXG4gIGFzeW5jIHVwZGF0ZUVtcGxveWVlU3RhdHModXNlcklkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8RW1wbG95ZWVTdGF0cz4sIGN1cnJlbnRVc2VyOiBVc2VyKSB7XHJcbiAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYVxyXG4gICAgaWYgKCFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyhjdXJyZW50VXNlci5yb2xlKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyBtb2R5ZmlrYWNqaSBzdGF0eXN0eWsnKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlcylcclxuICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyBFZHl0dWogaWxvxZvEhyBrbGllbnTDs3cgaSBzdW3EmSB3cMWCYXQgcHJhY293bmlrYSAoZGxhIG1hbmFnZXIvcHJvamVjdF9tYW5hZ2VyL2p1bmlvcl9tYW5hZ2VyL3N6ZWYvYWRtaW4pXHJcbiAgYXN5bmMgdXBkYXRlRW1wbG95ZWVDbGllbnRTdGF0cyh1c2VySWQ6IHN0cmluZywgY2xpZW50c0NvdW50OiBudW1iZXIsIHRvdGFsUGF5bWVudHM6IG51bWJlciwgY3VycmVudFVzZXI6IFVzZXIpIHtcclxuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXHJcbiAgICBpZiAoIVsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnJvbGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEIGRvIG1vZHlmaWthY2ppIHN0YXR5c3R5aycpXHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk50gQWt0dWFsaXp1asSZIHN0YXR5c3R5a2kgcHJhY293bmlrYSAke3VzZXJJZH06IGtsaWVuY2k9JHtjbGllbnRzQ291bnR9LCB3cMWCYXR5PSR7dG90YWxQYXltZW50c31gKVxyXG4gICAgICBcclxuICAgICAgLy8gTUVUT0RBIDE6IFNwcsOzYnVqIHByb3N0xIUgYWt0dWFsaXphY2rEmSB3IGVtcGxveWVlX3N0YXRzXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gUHLDs2JhIHByb3N0ZWogYWt0dWFsaXphY2ppIHcgZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGxlZ2FjeVVwZGF0ZXMgPSB7XHJcbiAgICAgICAgICBjdXN0b21fY2xpZW50c19jb3VudDogY2xpZW50c0NvdW50LFxyXG4gICAgICAgICAgY3VzdG9tX3RvdGFsX3BheW1lbnRzOiB0b3RhbFBheW1lbnRzLFxyXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAgIC51cGRhdGUobGVnYWN5VXBkYXRlcylcclxuICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcclxuICAgICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgICAqLFxyXG4gICAgICAgICAgICB1c2VyOnVzZXJzIXVzZXJfaWQgKFxyXG4gICAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICBhdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICAgIHJvbGVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgYClcclxuICAgICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgWmFrdHVhbGl6b3dhbm8gc3RhdHlzdHlraSB3IGVtcGxveWVlX3N0YXRzIChtZXRvZGEgMSknKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogS2xpZW5jaTogJHtjbGllbnRzQ291bnR9LCBXcMWCYXR5OiDigqwke3RvdGFsUGF5bWVudHN9YClcclxuICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1ldG9kYSAxIG5pZSB6YWR6aWHFgmHFgmE6JywgZXJyb3IpXHJcbiAgICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIH0gY2F0Y2ggKG1ldGhvZDFFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1ldG9kYSAxIChwcm9zdGEgYWt0dWFsaXphY2phKSBuaWUgemFkemlhxYJhxYJhOicsIG1ldGhvZDFFcnJvcilcclxuICAgICAgICBcclxuICAgICAgICAvLyBNRVRPREEgMjogU3Byw7NidWogSU5TRVJUIHogT04gQ09ORkxJQ1RcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gUHLDs2JhIElOU0VSVCB6IE9OIENPTkZMSUNUIHcgZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBpbnNlcnREYXRhID0ge1xyXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICAgIGRhaWx5X3RhcmdldDogMjAsXHJcbiAgICAgICAgICAgIGNvbW1pc3Npb25fcmF0ZTogMy4wLFxyXG4gICAgICAgICAgICBtb250aGx5X2NhbnZhczogMCxcclxuICAgICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogMCxcclxuICAgICAgICAgICAgbW9udGhseV9zYWxlOiAwLFxyXG4gICAgICAgICAgICB0b3RhbF9jb21taXNzaW9uczogMCxcclxuICAgICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiAwLFxyXG4gICAgICAgICAgICBjdXN0b21fY2xpZW50c19jb3VudDogY2xpZW50c0NvdW50LFxyXG4gICAgICAgICAgICBjdXN0b21fdG90YWxfcGF5bWVudHM6IHRvdGFsUGF5bWVudHMsXHJcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAgICAgLnVwc2VydChpbnNlcnREYXRhLCB7IFxyXG4gICAgICAgICAgICAgIG9uQ29uZmxpY3Q6ICd1c2VyX2lkJyxcclxuICAgICAgICAgICAgICBpZ25vcmVEdXBsaWNhdGVzOiBmYWxzZSBcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICAgICAgKixcclxuICAgICAgICAgICAgICB1c2VyOnVzZXJzIXVzZXJfaWQgKFxyXG4gICAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgICAgICByb2xlXHJcbiAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICBgKVxyXG4gICAgICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBaYWt0dWFsaXpvd2FubyBzdGF0eXN0eWtpIHcgZW1wbG95ZWVfc3RhdHMgKG1ldG9kYSAyKScpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIEtsaWVuY2k6ICR7Y2xpZW50c0NvdW50fSwgV3DFgmF0eTog4oKsJHt0b3RhbFBheW1lbnRzfWApXHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMiBuaWUgemFkemlhxYJhxYJhOicsIGVycm9yKVxyXG4gICAgICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChtZXRob2QyRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1ldG9kYSAyICh1cHNlcnQpIG5pZSB6YWR6aWHFgmHFgmE6JywgbWV0aG9kMkVycm9yKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBNRVRPREEgMzogWmFrdHVhbGl6dWogdHlsa28gdyBwYW1pxJljaSAoZmFsbGJhY2spXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBGYWxsYmFjayAtIHp3cmFjYW0gc3ltdWxvd2FuZSBkYW5lJylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6ICd0ZW1wXycgKyB1c2VySWQsXHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcclxuICAgICAgICAgICAgY29tbWlzc2lvbl9yYXRlOiAzLjAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfY2FudmFzOiAwLFxyXG4gICAgICAgICAgICBtb250aGx5X2FudHlzYWxlOiAwLFxyXG4gICAgICAgICAgICBtb250aGx5X3NhbGU6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiAwLFxyXG4gICAgICAgICAgICB0b3RhbF9wZW5hbHRpZXM6IDAsXHJcbiAgICAgICAgICAgIGN1c3RvbV9jbGllbnRzX2NvdW50OiBjbGllbnRzQ291bnQsXHJcbiAgICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcclxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICBpZDogdXNlcklkLFxyXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogJ1ByYWNvd25paycsXHJcbiAgICAgICAgICAgICAgZW1haWw6ICdicmFrQGVtYWlsLmNvbScsXHJcbiAgICAgICAgICAgICAgYXZhdGFyX3VybDogbnVsbCxcclxuICAgICAgICAgICAgICByb2xlOiAncHJhY293bmlrJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgdXBkYXRlRW1wbG95ZWVDbGllbnRTdGF0czonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTdHfDs3J6IHN0YXR5c3R5a2kgZGxhIG5vd2VnbyBwcmFjb3duaWthXHJcbiAgYXN5bmMgY3JlYXRlRW1wbG95ZWVTdGF0cyh1c2VySWQ6IHN0cmluZywgY3VycmVudFVzZXI6IFVzZXIpIHtcclxuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXHJcbiAgICBpZiAoIVsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnJvbGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEIGRvIHR3b3J6ZW5pYSBzdGF0eXN0eWsnKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgIC5pbnNlcnQoW3tcclxuICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcclxuICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMFxyXG4gICAgICB9XSlcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhXHJcbiAgfSxcclxuXHJcbiAgLy8g8J+TiiBOb3dhIGZ1bmtjamE6IFBvYmllcnogc3RhdHlzdHlraSB3eWtvcnp5c3RhbmlhIGJhenkgKGtsaWVuY2kgei9iZXogd8WCYcWbY2ljaWVsYSlcclxuICBhc3luYyBnZXREYXRhYmFzZVV0aWxpemF0aW9uKCk6IFByb21pc2U8eyB3aXRoT3duZXI6IG51bWJlciwgd2l0aG91dE93bmVyOiBudW1iZXIsIHRvdGFsOiBudW1iZXIsIHV0aWxpemF0aW9uUGVyY2VudGFnZTogbnVtYmVyIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIHd5a29yenlzdGFuaWEgYmF6eS4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBabGljeiB3c3p5c3RraWNoIGtsaWVudMOzd1xyXG4gICAgICBjb25zdCB7IGNvdW50OiB0b3RhbENvdW50LCBlcnJvcjogdG90YWxFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmICh0b3RhbEVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIMWCxIVjem5laiBsaWN6Ynkga2xpZW50w7N3OicsIHRvdGFsRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgdG90YWxFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBabGljeiBrbGllbnTDs3cgeiB3xYJhxZtjaWNpZWxlbSAob3duZXJfaWQgIT0gbnVsbClcclxuICAgICAgY29uc3QgeyBjb3VudDogd2l0aE93bmVyQ291bnQsIGVycm9yOiB3aXRoT3duZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcclxuICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpXHJcblxyXG4gICAgICBpZiAod2l0aE93bmVyRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHogd8WCYcWbY2ljaWVsZW06Jywgd2l0aE93bmVyRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgd2l0aE93bmVyRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT2JsaWN6IGtsaWVudMOzdyBiZXogd8WCYcWbY2ljaWVsYVxyXG4gICAgICBjb25zdCB3aXRob3V0T3duZXJDb3VudCA9ICh0b3RhbENvdW50IHx8IDApIC0gKHdpdGhPd25lckNvdW50IHx8IDApXHJcbiAgICAgIFxyXG4gICAgICAvLyBPYmxpY3ogcHJvY2VudCB3eWtvcnp5c3RhbmlhXHJcbiAgICAgIGNvbnN0IHV0aWxpemF0aW9uUGVyY2VudGFnZSA9IHRvdGFsQ291bnQgPyBNYXRoLnJvdW5kKCh3aXRoT3duZXJDb3VudCB8fCAwKSAvIHRvdGFsQ291bnQgKiAxMDApIDogMFxyXG5cclxuICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgIHdpdGhPd25lcjogd2l0aE93bmVyQ291bnQgfHwgMCxcclxuICAgICAgICB3aXRob3V0T3duZXI6IHdpdGhvdXRPd25lckNvdW50LFxyXG4gICAgICAgIHRvdGFsOiB0b3RhbENvdW50IHx8IDAsXHJcbiAgICAgICAgdXRpbGl6YXRpb25QZXJjZW50YWdlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFN0YXR5c3R5a2kgd3lrb3J6eXN0YW5pYSBiYXp5OicsIHJlc3VsdClcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgd3lrb3J6eXN0YW5pYSBiYXp5OicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIPCflIQgQURNSU46IFJlc2V0dWogd8WCYcWbY2ljaWVsaSB3c3p5c3RraWNoIGtsaWVudMOzd1xyXG4gIGFzeW5jIHJlc2V0QWxsQ2xpZW50T3duZXJzKGN1cnJlbnRVc2VyOiBVc2VyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlciwgbWVzc2FnZTogc3RyaW5nIH0+IHtcclxuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhIC0gdHlsa28gYWRtaW5cclxuICAgIGlmIChjdXJyZW50VXNlci5yb2xlICE9PSAnYWRtaW4nKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEISBUeWxrbyBhZG1pbmlzdHJhdG9yIG1vxbxlIHJlc2V0b3dhxIcgd8WCYcWbY2ljaWVsaSBrbGllbnTDs3cuJylcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBSb3pwb2N6eW5hbSByZXNldG93YW5pZSB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IGxpY3pixJkga2xpZW50w7N3IHogd8WCYcWbY2ljaWVsZW0gcHJ6ZWQgcmVzZXRvd2FuaWVtXHJcbiAgICAgIGNvbnN0IHsgY291bnQ6IGJlZm9yZUNvdW50LCBlcnJvcjogYmVmb3JlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXHJcbiAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKVxyXG5cclxuICAgICAgaWYgKGJlZm9yZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBzcHJhd2R6YW5pYSBzdGFudSBwcnplZCByZXNldG93YW5pZW06JywgYmVmb3JlRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgYmVmb3JlRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUmVzZXR1aiBvd25lcl9pZCBkbGEgd3N6eXN0a2ljaCBrbGllbnTDs3dcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnVwZGF0ZSh7IG93bmVyX2lkOiBudWxsIH0pXHJcbiAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKSAvLyBUeWxrbyB0ZSBrdMOzcmUgbWFqxIUgd8WCYcWbY2ljaWVsYVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUnKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCByZXNldG93YW5pYSB3xYJhxZtjaWNpZWxpOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHJlc2V0Q291bnQgPSBkYXRhPy5sZW5ndGggfHwgMFxyXG4gICAgICBcclxuICAgICAgLy8gTG9ndWogYWtjasSZIGRvIGFjdGl2aXR5X2xvZ3NcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBhd2FpdCBhY3Rpdml0eUxvZ3NBcGkuY3JlYXRlTG9nKHtcclxuICAgICAgICAgIGNsaWVudF9pZDogJ2J1bGtfYWN0aW9uJyxcclxuICAgICAgICAgIGNoYW5nZWRfYnk6IGN1cnJlbnRVc2VyLmlkLFxyXG4gICAgICAgICAgY2hhbmdlX3R5cGU6ICd1cGRhdGUnLFxyXG4gICAgICAgICAgZmllbGRfY2hhbmdlZDogJ293bmVyX2lkJyxcclxuICAgICAgICAgIG9sZF92YWx1ZTogJ3ZhcmlvdXMnLFxyXG4gICAgICAgICAgbmV3X3ZhbHVlOiAnbnVsbCAocmVzZXQgYnkgYWRtaW4pJyxcclxuICAgICAgICB9KVxyXG4gICAgICB9IGNhdGNoIChsb2dFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgemFsb2dvd2HEhyBha2NqaTonLCBsb2dFcnJvcilcclxuICAgICAgICAvLyBOaWUgcHJ6ZXJ5d2FteSBwcm9jZXN1IHogcG93b2R1IGLFgsSZZHUgbG9nb3dhbmlhXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWnJlc2V0b3dhbm8gd8WCYcWbY2ljaWVsaSBkbGEgJHtyZXNldENvdW50fSBrbGllbnTDs3dgKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBzdWNjZXNzOiByZXNldENvdW50LFxyXG4gICAgICAgIG1lc3NhZ2U6IGBQb215xZtsbmllIHpyZXNldG93YW5vIHfFgmHFm2NpY2llbGkgZGxhICR7cmVzZXRDb3VudH0ga2xpZW50w7N3LiBXc3p5c2N5IGtsaWVuY2kgc8SFIHRlcmF6IGJleiBwcnp5cGlzYW5lZ28gd8WCYcWbY2ljaWVsYS5gXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcmVzZXRvd2FuaWEgd8WCYcWbY2ljaWVsaSBrbGllbnTDs3c6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBzdGF0eXN0eWtpIGFrdHl3bm/Fm2NpIHByYWNvd25pa8OzdyB6IHRhYmVsaSBlbXBsb3llZV9zdGF0aXN0aWNzXHJcbiAgYXN5bmMgZ2V0RW1wbG95ZWVBY3Rpdml0eVN0YXRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPEVtcGxveWVlQWN0aXZpdHlTdGF0c1tdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHN0YXR5c3R5ayBha3R5d25vxZtjaSBwcmFjb3duaWvDs3cuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcclxuICAgICAgaWYgKCF1c2VyIHx8ICFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQnJhayB1cHJhd25pZcWEIGRvIHBvZGdsxIVkdSBzdGF0eXN0eWsgYWt0eXdub8WbY2knKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLUk9LIDE6IFBvYmllcnogd3N6eXN0a2ljaCB1xbx5dGtvd25pa8OzdyB6IHJvbMSFICdwcmFjb3duaWsnXHJcbiAgICAgIGxldCBhbGxFbXBsb3llZXMgPSBbXVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgIHJvbGVcclxuICAgICAgICAgIGApXHJcbiAgICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcclxuICAgICAgICAgIC5vcmRlcignZnVsbF9uYW1lJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgICAgaWYgKHVzZXJzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB1xbx5dGtvd25pa8Ozdy1wcmFjb3duaWvDs3c6JywgdXNlcnNFcnJvcilcclxuICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYWxsRW1wbG95ZWVzID0gZW1wbG95ZWVzIHx8IFtdXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyBwcmFjb3duaWvDs3c6ICR7YWxsRW1wbG95ZWVzLmxlbmd0aH1gKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChhbGxFbXBsb3llZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEJyYWsgdcW8eXRrb3duaWvDs3cgeiByb2zEhSBwcmFjb3duaWsnKVxyXG4gICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBwcmFjb3duaWvDs3c6JywgZXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtST0sgMjogUG9iaWVyeiBzdGF0eXN0eWtpIGFrdHl3bm/Fm2NpIC0geiBvYnPFgnVnxIUgYsWCxJlkw7N3IFJMU1xyXG4gICAgICBsZXQgYWN0aXZpdHlTdGF0cyA9IFtdXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSBhbGxFbXBsb3llZXMubWFwKGVtcCA9PiBlbXAuaWQpXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gUG9iaWVyYW5pZSBzdGF0eXN0eWsgZGxhIElEOiAke2VtcGxveWVlSWRzLnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9Li4uICgke2VtcGxveWVlSWRzLmxlbmd0aH0gdG90YWwpYClcclxuXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBzdGF0cywgZXJyb3I6IHN0YXRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdGlzdGljcycpXHJcbiAgICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAgIC5lcSgncGVyaW9kX3R5cGUnLCAnbW9udGhseScpXHJcbiAgICAgICAgICAuaW4oJ3VzZXJfaWQnLCBlbXBsb3llZUlkcylcclxuICAgICAgICAgIC5vcmRlcigncGVyaW9kX2VuZCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgICAgICBpZiAoc3RhdHNFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBha3R5d25vxZtjaTonLCBzdGF0c0Vycm9yKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBKZcWbbGkgdG8gYsWCxIVkIFJMUyAoNDAzKSwgbmllIHByemVyeXdhaiAtIHXFvHlqIGRvbXnFm2xueWNoIGRhbnljaFxyXG4gICAgICAgICAgaWYgKHN0YXRzRXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBzdGF0c0Vycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdSTFMnKSB8fCBzdGF0c0Vycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdwZXJtaXNzaW9uJykpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKCfwn5SSIFByb2JsZW0geiBSTFMgLSB1xbx5d2FtIGRvbXnFm2xueWNoIGRhbnljaCBha3R5d25vxZtjaScpXHJcbiAgICAgICAgICAgIGFjdGl2aXR5U3RhdHMgPSBbXVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign8J+SpSBLcnl0eWN6bnkgYsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIC0gcHJ6ZXJ5d2FtJylcclxuICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGFjdGl2aXR5U3RhdHMgPSBzdGF0cyB8fCBbXVxyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogWm5hbGV6aW9ubyByZWtvcmTDs3cgYWt0eXdub8WbY2k6ICR7YWN0aXZpdHlTdGF0cy5sZW5ndGh9YClcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB6YXB5dGFuaWEgbyBzdGF0eXN0eWtpIGFrdHl3bm/Fm2NpOicsIGVycm9yKVxyXG4gICAgICAgIGFjdGl2aXR5U3RhdHMgPSBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLUk9LIDM6IFN0d8OzcnogbWFwxJkgbmFqbm93c3p5Y2ggc3RhdHlzdHlrIGRsYSBrYcW8ZGVnbyBwcmFjb3duaWthXHJcbiAgICAgIGNvbnN0IGxhdGVzdFN0YXRzTWFwID0gbmV3IE1hcCgpXHJcbiAgICAgIGlmIChhY3Rpdml0eVN0YXRzICYmIGFjdGl2aXR5U3RhdHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFjdGl2aXR5U3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IHN0YXQudXNlcl9pZFxyXG4gICAgICAgICAgaWYgKCFsYXRlc3RTdGF0c01hcC5oYXModXNlcklkKSkge1xyXG4gICAgICAgICAgICBsYXRlc3RTdGF0c01hcC5zZXQodXNlcklkLCBzdGF0KVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfl7rvuI8gWm1hcG93YW5vIHN0YXR5c3R5a2kgZGxhICR7bGF0ZXN0U3RhdHNNYXAuc2l6ZX0gcHJhY293bmlrw7N3YClcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEJyYWsgZGFueWNoIGFrdHl3bm/Fm2NpIC0gdcW8eWrEmSBkb215xZtsbnljaCB3YXJ0b8WbY2knKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLUk9LIDQ6IEtvbWJpbnVqIGRhbmUgcHJhY293bmlrw7N3IHplIHN0YXR5c3R5a2FtaSBha3R5d25vxZtjaVxyXG4gICAgICBjb25zdCByZXN1bHQ6IEVtcGxveWVlQWN0aXZpdHlTdGF0c1tdID0gYWxsRW1wbG95ZWVzLm1hcChlbXBsb3llZSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gZW1wbG95ZWUuaWRcclxuICAgICAgICBjb25zdCBhY3Rpdml0eVN0YXQgPSBsYXRlc3RTdGF0c01hcC5nZXQodXNlcklkKVxyXG5cclxuICAgICAgICBpZiAoYWN0aXZpdHlTdGF0KSB7XHJcbiAgICAgICAgICAvLyBNYW15IHN0YXR5c3R5a2kgLSB1xbx5aiBwcmF3ZHppd3ljaCBkYW55Y2hcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIC4uLmFjdGl2aXR5U3RhdCxcclxuICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgIGlkOiBlbXBsb3llZS5pZCxcclxuICAgICAgICAgICAgICBmdWxsX25hbWU6IGVtcGxveWVlLmZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXHJcbiAgICAgICAgICAgICAgYXZhdGFyX3VybDogZW1wbG95ZWUuYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgICByb2xlOiBlbXBsb3llZS5yb2xlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gQnJhayBzdGF0eXN0eWsgLSBzdHfDs3J6IGRvbXnFm2xuZSBkYW5lXHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxXHJcbiAgICAgICAgICBjb25zdCBjdXJyZW50WWVhciA9IGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKClcclxuICAgICAgICAgIGNvbnN0IG1vbnRoU3RhcnQgPSBgJHtjdXJyZW50WWVhcn0tJHtjdXJyZW50TW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0wMWBcclxuICAgICAgICAgIGNvbnN0IG1vbnRoRW5kID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcblxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgaWQ6ICd0ZW1wXycgKyB1c2VySWQsXHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgcGVyaW9kX3R5cGU6ICdtb250aGx5JyxcclxuICAgICAgICAgICAgcGVyaW9kX3N0YXJ0OiBtb250aFN0YXJ0LFxyXG4gICAgICAgICAgICBwZXJpb2RfZW5kOiBtb250aEVuZCxcclxuICAgICAgICAgICAgdG90YWxfd29ya19taW51dGVzOiAwLFxyXG4gICAgICAgICAgICBhdmVyYWdlX2RhaWx5X21pbnV0ZXM6IDAsXHJcbiAgICAgICAgICAgIGV4cGVjdGVkX3dvcmtfbWludXRlczogMTc2ICogNjAsIC8vIDE3NmggKiA2MG1pbiA9IDEwNTYwIG1pblxyXG4gICAgICAgICAgICBlZmZpY2llbmN5X3BlcmNlbnRhZ2U6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsX2FjdGl2aXRpZXM6IDAsXHJcbiAgICAgICAgICAgIGF2ZXJhZ2VfZGFpbHlfYWN0aXZpdGllczogMCxcclxuICAgICAgICAgICAgZGF5c193b3JrZWQ6IDAsXHJcbiAgICAgICAgICAgIGRheXNfYWJzZW50OiAwLFxyXG4gICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxyXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogZW1wbG95ZWUuZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcclxuICAgICAgICAgICAgICBhdmF0YXJfdXJsOiBlbXBsb3llZS5hdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICAgIHJvbGU6IGVtcGxveWVlLnJvbGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJ6eWdvdG93YW5vIHN0YXR5c3R5a2kgYWt0eXdub8WbY2kgZGxhIHdzenlzdGtpY2ggcHJhY293bmlrw7N3OiAke3Jlc3VsdC5sZW5ndGh9YClcclxuICAgICAgY29uc29sZS5sb2coYPCfkaUgTGlzdGEgcHJhY293bmlrw7N3OiAke3Jlc3VsdC5tYXAocyA9PiBzLnVzZXI/LmZ1bGxfbmFtZSkuam9pbignLCAnKX1gKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9rYcW8IHN0YXR5c3R5a2kgcG9kc3Vtb3d1asSFY2VcclxuICAgICAgY29uc3Qgd2l0aERhdGEgPSByZXN1bHQuZmlsdGVyKHIgPT4gci50b3RhbF93b3JrX21pbnV0ZXMgPiAwKS5sZW5ndGhcclxuICAgICAgY29uc3Qgd2l0aG91dERhdGEgPSByZXN1bHQubGVuZ3RoIC0gd2l0aERhdGFcclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJhY293bmljeSB6IGRhbnltaTogJHt3aXRoRGF0YX0sIGJleiBkYW55Y2g6ICR7d2l0aG91dERhdGF9YClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIGFrdHl3bm/Fm2NpOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gR3JhY2VmdWwgZmFsbGJhY2sgLSB6d3LDs8SHIHB1c3TEhSB0YWJsaWPEmSB6YW1pYXN0IGNyYXNob3dhxIdcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgR3JhY2VmdWwgZmFsbGJhY2sgLSB6d3JhY2FtIHB1c3TEhSB0YWJsaWPEmScpXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogdHJlbmR5IHNwcnplZGHFvG93ZSB6IG9zdGF0bmljaCA3IGRuaVxyXG4gIGFzeW5jIGdldFNhbGVzVHJlbmRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPEFycmF5PHsgZGF5OiBzdHJpbmcsIGNhbnZhczogbnVtYmVyLCBzYWxlOiBudW1iZXIsIGFudHlzYWxlOiBudW1iZXIgfT4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OIIFBvYmllcmFuaWUgdHJlbmTDs3cgc3ByemVkYcW8b3d5Y2ggeiBvc3RhdG5pY2ggNyBkbmkuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiBkYW5lIHogb3N0YXRuaWNoIDcgZG5pXHJcbiAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgc3RhcnREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgLSA2KSAvLyA3IGRuaSB3c3RlY3ogKHfFgsSFY3puaWUgeiBkemlzaWFqKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnc3RhdHVzLCB1cGRhdGVkX2F0LCBzdGF0dXNfY2hhbmdlZF9hdCwgb3duZXJfaWQsIGVkaXRlZF9ieScpXHJcbiAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXHJcbiAgICAgICAgLmx0ZSgndXBkYXRlZF9hdCcsIGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdICsgJ1QyMzo1OTo1OScpXHJcbiAgICAgICAgLmluKCdzdGF0dXMnLCBbJ2NhbnZhcycsICdzYWxlJywgJ2FudHlzYWxlJ10pXHJcbiAgICAgICAgLm9yZGVyKCd1cGRhdGVkX2F0JywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB0cmVuZMOzdyBzcHJ6ZWRhxbxvd3ljaDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVrb3Jkw7N3IHogb3N0YXRuaWNoIDcgZG5pYClcclxuXHJcbiAgICAgIC8vIEZpbHRydWoga2xpZW50w7N3IHdlZMWCdWcgdXByYXduaWXFhCB1xbx5dGtvd25pa2FcclxuICAgICAgbGV0IGZpbHRlcmVkRGF0YSA9IGRhdGEgfHwgW11cclxuICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ3ByYWNvd25paycpIHtcclxuICAgICAgICBmaWx0ZXJlZERhdGEgPSBmaWx0ZXJlZERhdGEuZmlsdGVyKGNsaWVudCA9PiBcclxuICAgICAgICAgIGNsaWVudC5vd25lcl9pZCA9PT0gdXNlci5pZCB8fCBcclxuICAgICAgICAgIGNsaWVudC5vd25lcl9pZCA9PT0gbnVsbCB8fCBcclxuICAgICAgICAgIGNsaWVudC5lZGl0ZWRfYnkgPT09IHVzZXIuaWRcclxuICAgICAgICApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFN0d8OzcnogbWFwxJkgZGxhIGRuaSB0eWdvZG5pYVxyXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXHJcbiAgICAgIGNvbnN0IHRyZW5kczogUmVjb3JkPHN0cmluZywgeyBjYW52YXM6IG51bWJlciwgc2FsZTogbnVtYmVyLCBhbnR5c2FsZTogbnVtYmVyIH0+ID0ge31cclxuXHJcbiAgICAgIC8vIEluaWNqYWxpenVqIG9zdGF0bmllIDcgZG5pXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICB0cmVuZHNbZGF5TmFtZV0gPSB7IGNhbnZhczogMCwgc2FsZTogMCwgYW50eXNhbGU6IDAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBHcnVwdWogZGFuZSB3ZWTFgnVnIGRuaVxyXG4gICAgICBmaWx0ZXJlZERhdGEuZm9yRWFjaChjbGllbnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjbGllbnQudXBkYXRlZF9hdClcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICBcclxuICAgICAgICBpZiAodHJlbmRzW2RheU5hbWVdKSB7XHJcbiAgICAgICAgICBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpIHRyZW5kc1tkYXlOYW1lXS5jYW52YXMrK1xyXG4gICAgICAgICAgZWxzZSBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ3NhbGUnKSB0cmVuZHNbZGF5TmFtZV0uc2FsZSsrXHJcbiAgICAgICAgICBlbHNlIGlmIChjbGllbnQuc3RhdHVzID09PSAnYW50eXNhbGUnKSB0cmVuZHNbZGF5TmFtZV0uYW50eXNhbGUrK1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuXHJcbiAgICAgIC8vIFByemVrc3p0YcWCxIcgbmEgZm9ybWF0IGRsYSB3eWtyZXN1IChvc3RhdG5pZSA3IGRuaSB3IGtvbGVqbm/Fm2NpKVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxyXG4gICAgICAgICAgY2FudmFzOiB0cmVuZHNbZGF5TmFtZV0uY2FudmFzLFxyXG4gICAgICAgICAgc2FsZTogdHJlbmRzW2RheU5hbWVdLnNhbGUsXHJcbiAgICAgICAgICBhbnR5c2FsZTogdHJlbmRzW2RheU5hbWVdLmFudHlzYWxlXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBUcmVuZHkgc3ByemVkYcW8b3dlIHByenlnb3Rvd2FuZTonLCByZXN1bHQpXHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdHJlbmTDs3cgc3ByemVkYcW8b3d5Y2g6JywgZXJyb3IpXHJcbiAgICAgIC8vIFcgcHJ6eXBhZGt1IGLFgsSZZHUgendyw7PEhyBwdXN0ZSBkYW5lIGRsYSBvc3RhdG5pY2ggNyBkbmlcclxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxyXG4gICAgICAgICAgY2FudmFzOiAwLFxyXG4gICAgICAgICAgc2FsZTogMCxcclxuICAgICAgICAgIGFudHlzYWxlOiAwXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBzdGF0eXN0eWtpIGtsaWtuacSZxIcgdGVsZWZvbnUgdHlsa28gZGxhIHByYWNvd25pa8Ozd1xyXG4gIGFzeW5jIGdldFBob25lQ2xpY2tzU3RhdHModXNlcjogVXNlcik6IFByb21pc2U8eyB0b3RhbFBob25lQ2FsbHM6IG51bWJlciwgdG90YWxQaG9uZUNhbGxzVG9kYXk6IG51bWJlciB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TniBQb2JpZXJhbmllIHN0YXR5c3R5ayBrbGlrbmnEmcSHIHRlbGVmb251Li4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBwcmFjb3duaWvDs3dcclxuICAgICAgY29uc3QgeyBkYXRhOiBlbXBsb3llZXMsIGVycm9yOiBlbXBsb3llZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcclxuICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcclxuXHJcbiAgICAgIGlmIChlbXBsb3llZXNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBwcmFjb3duaWvDs3c6JywgZW1wbG95ZWVzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZW1wbG95ZWVzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSAoZW1wbG95ZWVzIHx8IFtdKS5tYXAoZW1wID0+IGVtcC5pZClcclxuICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyAke2VtcGxveWVlSWRzLmxlbmd0aH0gcHJhY293bmlrw7N3YClcclxuXHJcbiAgICAgIGlmIChlbXBsb3llZUlkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4geyB0b3RhbFBob25lQ2FsbHM6IDAsIHRvdGFsUGhvbmVDYWxsc1RvZGF5OiAwIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUga2xpa25pxJljaWEgdGVsZWZvbnUgeiBhY3Rpdml0eV9sb2dzIHR5bGtvIGRsYSBwcmFjb3duaWvDs3dcclxuICAgICAgY29uc3QgeyBkYXRhOiBhbGxQaG9uZUNsaWNrcywgZXJyb3I6IGFsbENsaWNrc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgY2hhbmdlZF9ieSwgdGltZXN0YW1wJylcclxuICAgICAgICAuZXEoJ2ZpZWxkX2NoYW5nZWQnLCAnbGFzdF9waG9uZV9jbGljaycpXHJcbiAgICAgICAgLmluKCdjaGFuZ2VkX2J5JywgZW1wbG95ZWVJZHMpXHJcblxyXG4gICAgICBpZiAoYWxsQ2xpY2tzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpa25pxJnEhyB0ZWxlZm9udTonLCBhbGxDbGlja3NFcnJvcilcclxuICAgICAgICB0aHJvdyBhbGxDbGlja3NFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0b3RhbFBob25lQ2FsbHMgPSBhbGxQaG9uZUNsaWNrcz8ubGVuZ3RoIHx8IDBcclxuXHJcbiAgICAgIC8vIFBvYmllcnogZHppc2llanN6ZSBrbGlrbmnEmWNpYSB0ZWxlZm9udVxyXG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIC8vIFlZWVktTU0tRERcclxuICAgICAgY29uc3QgeyBkYXRhOiB0b2RheVBob25lQ2xpY2tzLCBlcnJvcjogdG9kYXlDbGlja3NFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGNoYW5nZWRfYnksIHRpbWVzdGFtcCcpXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5pbignY2hhbmdlZF9ieScsIGVtcGxveWVlSWRzKVxyXG4gICAgICAgIC5ndGUoJ3RpbWVzdGFtcCcsIGAke3RvZGF5fVQwMDowMDowMGApXHJcbiAgICAgICAgLmx0KCd0aW1lc3RhbXAnLCBgJHt0b2RheX1UMjM6NTk6NTlgKVxyXG5cclxuICAgICAgaWYgKHRvZGF5Q2xpY2tzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgZHppc2llanN6eWNoIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgdG9kYXlDbGlja3NFcnJvcilcclxuICAgICAgICB0aHJvdyB0b2RheUNsaWNrc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsUGhvbmVDYWxsc1RvZGF5ID0gdG9kYXlQaG9uZUNsaWNrcz8ubGVuZ3RoIHx8IDBcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgU3RhdHlzdHlraSBrbGlrbmnEmcSHIHRlbGVmb251OiDFgsSFY3puaWUgJHt0b3RhbFBob25lQ2FsbHN9LCBkemnFmyAke3RvdGFsUGhvbmVDYWxsc1RvZGF5fWApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsUGhvbmVDYWxscyxcclxuICAgICAgICB0b3RhbFBob25lQ2FsbHNUb2RheVxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBrbGlrbmnEmcSHIHRlbGVmb251OicsIGVycm9yKVxyXG4gICAgICAvLyBXIHByenlwYWRrdSBixYLEmWR1IHp3csOzxIcgemVyb3dlIHN0YXR5c3R5a2lcclxuICAgICAgcmV0dXJuIHsgdG90YWxQaG9uZUNhbGxzOiAwLCB0b3RhbFBob25lQ2FsbHNUb2RheTogMCB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBkYW5lIHRyZW5kw7N3IHd5ZGFqbm/Fm2NpIHplc3BvxYJ1IHogb3N0YXRuaWNoIDcgZG5pXHJcbiAgYXN5bmMgZ2V0VGVhbVBlcmZvcm1hbmNlVHJlbmRzKHVzZXI6IFVzZXIpOiBQcm9taXNlPEFycmF5PHsgZGF5OiBzdHJpbmcsIHRlbGVmb255OiBudW1iZXIsIGtvbndlcnNqYTogbnVtYmVyLCBrbGllbmNpOiBudW1iZXIgfT4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgdHJlbmTDs3cgd3lkYWpub8WbY2kgemVzcG/FgnUgeiBvc3RhdG5pY2ggNyBkbmkuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIHByYWNvd25pa8Ozd1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3I6IGVtcGxveWVlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAgIC5lcSgncm9sZScsICdwcmFjb3duaWsnKVxyXG5cclxuICAgICAgaWYgKGVtcGxveWVlc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHByYWNvd25pa8OzdzonLCBlbXBsb3llZXNFcnJvcilcclxuICAgICAgICB0aHJvdyBlbXBsb3llZXNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbXBsb3llZUlkcyA9IChlbXBsb3llZXMgfHwgW10pLm1hcChlbXAgPT4gZW1wLmlkKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpSBabmFsZXppb25vICR7ZW1wbG95ZWVJZHMubGVuZ3RofSBwcmFjb3duaWvDs3dgKVxyXG5cclxuICAgICAgaWYgKGVtcGxveWVlSWRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIFp3csOzxIcgcHVzdGUgZGFuZSBkbGEgb3N0YXRuaWNoIDcgZG5pXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgICAgcmVzdWx0LnB1c2goe1xyXG4gICAgICAgICAgICBkYXk6IGRheU5hbWUsXHJcbiAgICAgICAgICAgIHRlbGVmb255OiAwLFxyXG4gICAgICAgICAgICBrb253ZXJzamE6IDAsXHJcbiAgICAgICAgICAgIGtsaWVuY2k6IDBcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiBkYW5lIHogb3N0YXRuaWNoIDcgZG5pXHJcbiAgICAgIGNvbnN0IGVuZERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgc3RhcnREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgLSA2KSAvLyA3IGRuaSB3c3RlY3ogKHfFgsSFY3puaWUgeiBkemlzaWFqKVxyXG4gICAgICBcclxuICAgICAgLy8gMS4gUG9iaWVyeiBrbGlrbmnEmWNpYSB0ZWxlZm9udSB6IGFjdGl2aXR5X2xvZ3MgKHR5bGtvIHByYWNvd25pY3kpXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogcGhvbmVDbGlja3MsIGVycm9yOiBwaG9uZUVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCdjaGFuZ2VkX2J5LCB0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcclxuICAgICAgICAuaW4oJ2NoYW5nZWRfYnknLCBlbXBsb3llZUlkcylcclxuICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxyXG4gICAgICAgIC5sdGUoJ3RpbWVzdGFtcCcsIGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdICsgJ1QyMzo1OTo1OScpXHJcblxyXG4gICAgICBpZiAocGhvbmVFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGlrbmnEmcSHIHRlbGVmb251OicsIHBob25lRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgcGhvbmVFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyAyLiBQb2JpZXJ6IHptaWFueSBrbGllbnTDs3cgeiBvc3RhdG5pY2ggNyBkbmkgKHR5bGtvIHByemV6IHByYWNvd25pa8OzdylcclxuICAgICAgY29uc3QgeyBkYXRhOiBjbGllbnRDaGFuZ2VzLCBlcnJvcjogY2hhbmdlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCd1cGRhdGVkX2F0LCBzdGF0dXMsIGVkaXRlZF9ieScpXHJcbiAgICAgICAgLmluKCdlZGl0ZWRfYnknLCBlbXBsb3llZUlkcylcclxuICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0Jywgc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcclxuICAgICAgICAubHRlKCd1cGRhdGVkX2F0JywgZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gKyAnVDIzOjU5OjU5JylcclxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgaWYgKGNoYW5nZXNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB6bWlhbiBrbGllbnTDs3c6JywgY2hhbmdlc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGNoYW5nZXNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gJHtwaG9uZUNsaWNrcz8ubGVuZ3RoIHx8IDB9IGtsaWtuacSZxIcgdGVsZWZvbnUgaSAke2NsaWVudENoYW5nZXM/Lmxlbmd0aCB8fCAwfSB6bWlhbiBrbGllbnTDs3dgKVxyXG5cclxuICAgICAgLy8gU3R3w7NyeiBtYXDEmSBkbGEgZG5pIHR5Z29kbmlhXHJcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cclxuICAgICAgY29uc3QgdHJlbmRzRGF0YTogUmVjb3JkPHN0cmluZywgeyB0ZWxlZm9ueTogbnVtYmVyLCBrbGllbmNpOiBudW1iZXIsIHNhbGVzOiBudW1iZXIgfT4gPSB7fVxyXG5cclxuICAgICAgLy8gSW5pY2phbGl6dWogb3N0YXRuaWUgNyBkbmlcclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIHRyZW5kc0RhdGFbZGF5TmFtZV0gPSB7IHRlbGVmb255OiAwLCBrbGllbmNpOiAwLCBzYWxlczogMCB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAvLyBHcnVwdWoga2xpa25pxJljaWEgdGVsZWZvbnUgd2VkxYJ1ZyBkbmlcclxuICAgICAgIGlmIChwaG9uZUNsaWNrcyAmJiBBcnJheS5pc0FycmF5KHBob25lQ2xpY2tzKSkge1xyXG4gICAgICAgICBwaG9uZUNsaWNrcy5mb3JFYWNoKChjbGljazogYW55KSA9PiB7XHJcbiAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNsaWNrLnRpbWVzdGFtcClcclxuICAgICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICAgICBpZiAodHJlbmRzRGF0YVtkYXlOYW1lXSkge1xyXG4gICAgICAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXS50ZWxlZm9ueSsrXHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KVxyXG4gICAgICAgfVxyXG5cclxuICAgICAgIC8vIEdydXB1aiB6bWlhbnkga2xpZW50w7N3IHdlZMWCdWcgZG5pXHJcbiAgICAgICBpZiAoY2xpZW50Q2hhbmdlcyAmJiBBcnJheS5pc0FycmF5KGNsaWVudENoYW5nZXMpKSB7XHJcbiAgICAgICAgIGNsaWVudENoYW5nZXMuZm9yRWFjaCgoY2hhbmdlOiBhbnkpID0+IHtcclxuICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY2hhbmdlLnVwZGF0ZWRfYXQpXHJcbiAgICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgICAgaWYgKHRyZW5kc0RhdGFbZGF5TmFtZV0pIHtcclxuICAgICAgICAgICAgIHRyZW5kc0RhdGFbZGF5TmFtZV0ua2xpZW5jaSsrXHJcbiAgICAgICAgICAgICBpZiAoY2hhbmdlLnN0YXR1cyA9PT0gJ3NhbGUnKSB7XHJcbiAgICAgICAgICAgICAgIHRyZW5kc0RhdGFbZGF5TmFtZV0uc2FsZXMrK1xyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgICAgIH1cclxuICAgICAgICAgfSlcclxuICAgICAgIH1cclxuXHJcbiAgICAgIC8vIFByemVrc3p0YcWCxIcgbmEgZm9ybWF0IGRsYSB3eWtyZXN1IChvc3RhdG5pZSA3IGRuaSB3IGtvbGVqbm/Fm2NpKVxyXG4gICAgICBjb25zdCByZXN1bHQgPSBbXVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgY29uc3QgZGF5RGF0YSA9IHRyZW5kc0RhdGFbZGF5TmFtZV1cclxuICAgICAgICBcclxuICAgICAgICAvLyBPYmxpY3oga29ud2Vyc2rEmSAocHJvY2VudCBzYWxlcyB3emdsxJlkZW0gd3N6eXN0a2ljaCBrbGllbnTDs3cpXHJcbiAgICAgICAgY29uc3Qga29ud2Vyc2phID0gZGF5RGF0YS5rbGllbmNpID4gMCA/IE1hdGgucm91bmQoKGRheURhdGEuc2FsZXMgLyBkYXlEYXRhLmtsaWVuY2kpICogMTAwKSA6IDBcclxuICAgICAgICBcclxuICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICBkYXk6IGRheU5hbWUsXHJcbiAgICAgICAgICB0ZWxlZm9ueTogZGF5RGF0YS50ZWxlZm9ueSxcclxuICAgICAgICAgIGtvbndlcnNqYToga29ud2Vyc2phLFxyXG4gICAgICAgICAga2xpZW5jaTogZGF5RGF0YS5rbGllbmNpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBUcmVuZHkgd3lkYWpub8WbY2kgemVzcG/FgnUgcHJ6eWdvdG93YW5lOicsIHJlc3VsdClcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB0cmVuZMOzdyB3eWRham5vxZtjaSB6ZXNwb8WCdTonLCBlcnJvcilcclxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSB6d3LDs8SHIHB1c3RlIGRhbmUgZGxhIG9zdGF0bmljaCA3IGRuaVxyXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICBkYXk6IGRheU5hbWUsXHJcbiAgICAgICAgICB0ZWxlZm9ueTogMCxcclxuICAgICAgICAgIGtvbndlcnNqYTogMCxcclxuICAgICAgICAgIGtsaWVuY2k6IDBcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBBUEkgZGxhIHN0YXR5c3R5ayBvc29iaXN0eWNoIHByYWNvd25pa2FcclxuICBhc3luYyBnZXRNeVBlcnNvbmFsU3RhdHModXNlcjogVXNlcik6IFByb21pc2U8e1xyXG4gICAgcGhvbmVDYWxsc1RoaXNNb250aDogbnVtYmVyLFxyXG4gICAgY2xpZW50U3RhdHM6IHsgc3RhdHVzOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGNvbG9yOiBzdHJpbmcgfVtdLFxyXG4gICAgdG90YWxDbGllbnRzOiBudW1iZXIsXHJcbiAgICBjb21taXNzaW9uVG90YWw6IG51bWJlcixcclxuICAgIHdvcmtpbmdIb3Vyc1RoaXNNb250aDogeyBkYXk6IHN0cmluZywgaG91cnM6IG51bWJlciB9W10sXHJcbiAgICB0b3RhbFdvcmtpbmdIb3VyczogbnVtYmVyLFxyXG4gICAgdG90YWxXb3JraW5nRGF5czogbnVtYmVyXHJcbiAgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBvc29iaXN0eWNoIHN0YXR5c3R5ayBwcmFjb3duaWthOicsIHVzZXIuaWQsIHVzZXIucm9sZSlcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payB0byBwcmFjb3duaWtcclxuICAgICAgaWYgKHVzZXIucm9sZSAhPT0gJ3ByYWNvd25paycpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllYXV0b3J5em93YW5hIHJvbGE6JywgdXNlci5yb2xlKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRG9zdMSZcCB0eWxrbyBkbGEgcHJhY293bmlrw7N3JylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBVxbx5dGtvd25payBhdXRvcnl6b3dhbnkgamFrbyBwcmFjb3duaWsnKVxyXG5cclxuICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLnRvSVNPU3RyaW5nKCkuc2xpY2UoMCwgNykgLy8gWVlZWS1NTVxyXG4gICAgICBcclxuICAgICAgLy8gVXN0YXcgcGllcndzenkgaSBvc3RhdG5pIGR6aWXFhCBtaWVzacSFY2EgcHJhd2lkxYJvd29cclxuICAgICAgY29uc3Qgc3RhcnRPZk1vbnRoID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUuZ2V0TW9udGgoKSwgMSlcclxuICAgICAgY29uc3QgZW5kT2ZNb250aCA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxLCAwLCAyMywgNTksIDU5KVxyXG4gICAgICBcclxuICAgICAgLy8gMS4gUG9iaWVyeiBsaWN6YsSZIHRlbGVmb27Ds3cgdyB0eW0gbWllc2nEhWN1IChrbGlrbmnEmWNpYSB0ZWxlZm9udSlcclxuICAgICAgY29uc3QgeyBkYXRhOiBwaG9uZUNsaWNrcywgZXJyb3I6IHBob25lRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCB0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnY2hhbmdlZF9ieScsIHVzZXIuaWQpXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5ndGUoJ3RpbWVzdGFtcCcsIHN0YXJ0T2ZNb250aC50b0lTT1N0cmluZygpKVxyXG4gICAgICAgIC5sdGUoJ3RpbWVzdGFtcCcsIGVuZE9mTW9udGgudG9JU09TdHJpbmcoKSlcclxuXHJcbiAgICAgIGlmIChwaG9uZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgcGhvbmVFcnJvcilcclxuICAgICAgICB0aHJvdyBwaG9uZUVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHBob25lQ2FsbHNUaGlzTW9udGggPSBwaG9uZUNsaWNrcz8ubGVuZ3RoIHx8IDBcclxuICAgICAgY29uc29sZS5sb2coYPCfk54gWm5hbGV6aW9ubyAke3Bob25lQ2FsbHNUaGlzTW9udGh9IGtsaWtuacSZxIcgdGVsZWZvbnUgdyB0eW0gbWllc2nEhWN1YClcclxuXHJcbiAgICAgIC8vIDIuIFBvYmllcnoga2xpZW50w7N3IHByenlwaXNhbnljaCBkbyBwcmFjb3duaWthXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFBvYmllcmFuaWUga2xpZW50w7N3IHByenlwaXNhbnljaCBkbyBwcmFjb3duaWthLi4uJylcclxuICAgICAgY29uc3QgeyBkYXRhOiBteUNsaWVudHMsIGVycm9yOiBjbGllbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBzdGF0dXMsIGZpcnN0X25hbWUsIGxhc3RfbmFtZSwgY29tcGFueV9uYW1lJylcclxuICAgICAgICAuZXEoJ293bmVyX2lkJywgdXNlci5pZClcclxuXHJcbiAgICAgIGlmIChjbGllbnRzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3OicsIGNsaWVudHNFcnJvcilcclxuICAgICAgICB0aHJvdyBjbGllbnRzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2xpZW50cyA9IG15Q2xpZW50cyB8fCBbXVxyXG4gICAgICBjb25zdCB0b3RhbENsaWVudHMgPSBjbGllbnRzLmxlbmd0aFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpCBQcmFjb3duaWsgbWEgJHt0b3RhbENsaWVudHN9IHByenlwaXNhbnljaCBrbGllbnTDs3dgKVxyXG5cclxuICAgICAgLy8gMy4gQWdyZWd1aiBzdGF0dXN5IGtsaWVudMOzd1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBBZ3JlZ293YW5pZSBzdGF0dXPDs3cga2xpZW50w7N3Li4uJylcclxuICAgICAgY29uc3Qgc3RhdHVzTWFwID0gbmV3IE1hcDxzdHJpbmcsIG51bWJlcj4oKVxyXG4gICAgICBjbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcclxuICAgICAgICBjb25zdCBzdGF0dXMgPSBjbGllbnQuc3RhdHVzXHJcbiAgICAgICAgc3RhdHVzTWFwLnNldChzdGF0dXMsIChzdGF0dXNNYXAuZ2V0KHN0YXR1cykgfHwgMCkgKyAxKVxyXG4gICAgICB9KVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiCBTdGF0dXN5IGtsaWVudMOzdzonLCBPYmplY3QuZnJvbUVudHJpZXMoc3RhdHVzTWFwKSlcclxuXHJcbiAgICAgIC8vIE1hcHVqIHN0YXR1c3kgbmEga29sb3J5XHJcbiAgICAgIGNvbnN0IHN0YXR1c0NvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcclxuICAgICAgICBjYW52YXM6ICcjMDZiNmQ0JyxcclxuICAgICAgICBzYWxlOiAnIzEwYjk4MScsXHJcbiAgICAgICAgYW50eXNhbGU6ICcjZjU5ZTBiJyxcclxuICAgICAgICBicmFrX2tvbnRha3R1OiAnIzZiNzI4MCcsXHJcbiAgICAgICAgbmllX3phaW50ZXJlc293YW55OiAnI2VmNDQ0NCcsXHJcbiAgICAgICAgemRlbmVyd293YW55OiAnI2RjMjYyNicsXHJcbiAgICAgICAgJyQkJzogJyNmYmJmMjQnXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGNsaWVudFN0YXRzID0gQXJyYXkuZnJvbShzdGF0dXNNYXAuZW50cmllcygpKS5tYXAoKFtzdGF0dXMsIGNvdW50XSkgPT4gKHtcclxuICAgICAgICBzdGF0dXMsXHJcbiAgICAgICAgY291bnQsXHJcbiAgICAgICAgY29sb3I6IHN0YXR1c0NvbG9yc1tzdGF0dXNdIHx8ICcjNjQ3NDhiJ1xyXG4gICAgICB9KSlcclxuXHJcbiAgICAgIC8vIDQuIFBvYmllcnogcHJvd2l6asSZIHogdGFiZWxpIGVtcGxveWVlX3N0YXRzXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5KwIFBvYmllcmFuaWUgcHJvd2l6amkgeiB0YWJlbGkgZW1wbG95ZWVfc3RhdHMuLi4nKVxyXG4gICAgICBsZXQgY29tbWlzc2lvblRvdGFsID0gMCAvLyB3IEVVUlxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlU3RhdHMsIGVycm9yOiBzdGF0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ3RvdGFsX2NvbW1pc3Npb25zJylcclxuICAgICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgICAgaWYgKHN0YXRzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB6bmFsZXppb25vIHN0YXR5c3R5ayBwcmFjb3duaWthLCBwcm93aXpqYSA9IDA6Jywgc3RhdHNFcnJvcilcclxuICAgICAgICAgIGNvbW1pc3Npb25Ub3RhbCA9IDBcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gdG90YWxfY29tbWlzc2lvbnMganXFvCBqZXN0IHcgRVVSIC0gdcW8eXdhaiBiZXpwb8WbcmVkbmlvXHJcbiAgICAgICAgICBjb21taXNzaW9uVG90YWwgPSBlbXBsb3llZVN0YXRzLnRvdGFsX2NvbW1pc3Npb25zIHx8IDBcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5KwIFByb3dpemphIHBvYnJhbmEgeiBiYXp5OiAke2NvbW1pc3Npb25Ub3RhbH0gRVVSYClcclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHByb3dpemppIHogZW1wbG95ZWVfc3RhdHM6JywgZXJyb3IpXHJcbiAgICAgICAgY29tbWlzc2lvblRvdGFsID0gMFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyA1LiBQb2JpZXJ6IGdvZHppbnkgcHJhY3kgeiB0ZWdvIG1pZXNpxIVjYSBuYSBwb2RzdGF3aWUgYWN0aXZpdHlfbG9nc1xyXG4gICAgICBjb25zb2xlLmxvZygn4o+wIFBvYmllcmFuaWUgYWt0eXdub8WbY2kgeiB0ZWdvIG1pZXNpxIVjYS4uLicpXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OFIFpha3JlcyBkYXQ6ICR7c3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9IC0gJHtlbmRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9YClcclxuICAgICAgY29uc3QgeyBkYXRhOiBhY3Rpdml0aWVzLCBlcnJvcjogYWN0aXZpdGllc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCd0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnY2hhbmdlZF9ieScsIHVzZXIuaWQpXHJcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgc3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCkpXHJcbiAgICAgICAgLmx0ZSgndGltZXN0YW1wJywgZW5kT2ZNb250aC50b0lTT1N0cmluZygpKVxyXG4gICAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmIChhY3Rpdml0aWVzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0eXdub8WbY2k6JywgYWN0aXZpdGllc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGFjdGl2aXRpZXNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4o+wIFpuYWxlemlvbm8gJHthY3Rpdml0aWVzPy5sZW5ndGggfHwgMH0gYWt0eXdub8WbY2kgdyB0eW0gbWllc2nEhWN1YClcclxuXHJcbiAgICAgIC8vIEdydXB1aiBha3R5d25vxZtjaSB3ZWTFgnVnIGRuaSBpIG9ibGljeiBnb2R6aW55IHByYWN5XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OFIEdydXBvd2FuaWUgYWt0eXdub8WbY2kgd2VkxYJ1ZyBkbmkuLi4nKVxyXG4gICAgICBjb25zdCBkYWlseUFjdGl2aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgU2V0PG51bWJlcj4+KClcclxuICAgICAgXHJcbiAgICAgIGlmIChhY3Rpdml0aWVzICYmIGFjdGl2aXRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFjdGl2aXRpZXMuZm9yRWFjaChhY3Rpdml0eSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYWN0aXZpdHkudGltZXN0YW1wKVxyXG4gICAgICAgICAgY29uc3QgZGF5ID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gWVlZWS1NTS1ERFxyXG4gICAgICAgICAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIWRhaWx5QWN0aXZpdGllcy5oYXMoZGF5KSkge1xyXG4gICAgICAgICAgICBkYWlseUFjdGl2aXRpZXMuc2V0KGRheSwgbmV3IFNldCgpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGFpbHlBY3Rpdml0aWVzLmdldChkYXkpIS5hZGQoaG91cilcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdVxyXG4gICAgICBjb25zdCB3b3JraW5nSG91cnNUaGlzTW9udGggPSBBcnJheS5mcm9tKGRhaWx5QWN0aXZpdGllcy5lbnRyaWVzKCkpXHJcbiAgICAgICAgLm1hcCgoW2RheSwgaG91cnNdKSA9PiAoe1xyXG4gICAgICAgICAgZGF5OiBuZXcgRGF0ZShkYXkpLnRvTG9jYWxlRGF0ZVN0cmluZygncGwtUEwnLCB7IHdlZWtkYXk6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pLFxyXG4gICAgICAgICAgaG91cnM6IGhvdXJzLnNpemUsXHJcbiAgICAgICAgICBzb3J0RGF0ZTogbmV3IERhdGUoZGF5KSAvLyBEb2RhaiBwb2xlIGRvIHNvcnRvd2FuaWFcclxuICAgICAgICB9KSlcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5zb3J0RGF0ZS5nZXRUaW1lKCkgLSBiLnNvcnREYXRlLmdldFRpbWUoKSlcclxuICAgICAgICAubWFwKCh7IGRheSwgaG91cnMgfSkgPT4gKHsgZGF5LCBob3VycyB9KSkgLy8gVXN1xYQgcG9sZSBzb3J0RGF0ZSB6IHd5bmlrb3d5Y2ggZGFueWNoXHJcblxyXG4gICAgICBjb25zdCB0b3RhbFdvcmtpbmdIb3VycyA9IEFycmF5LmZyb20oZGFpbHlBY3Rpdml0aWVzLnZhbHVlcygpKVxyXG4gICAgICAgIC5yZWR1Y2UoKHN1bSwgaG91cnMpID0+IHN1bSArIGhvdXJzLnNpemUsIDApXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0b3RhbFdvcmtpbmdEYXlzID0gZGFpbHlBY3Rpdml0aWVzLnNpemVcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHlzdHlraSBvc29iaXN0ZSBwcnp5Z290b3dhbmU6Jywge1xyXG4gICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGgsXHJcbiAgICAgICAgdG90YWxDbGllbnRzLFxyXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcclxuICAgICAgICB0b3RhbFdvcmtpbmdIb3VycyxcclxuICAgICAgICB0b3RhbFdvcmtpbmdEYXlzXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGgsXHJcbiAgICAgICAgY2xpZW50U3RhdHMsXHJcbiAgICAgICAgdG90YWxDbGllbnRzLFxyXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcclxuICAgICAgICB3b3JraW5nSG91cnNUaGlzTW9udGgsXHJcbiAgICAgICAgdG90YWxXb3JraW5nSG91cnMsXHJcbiAgICAgICAgdG90YWxXb3JraW5nRGF5c1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIG9zb2Jpc3R5Y2ggc3RhdHlzdHlrOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gU3pjemVnw7PFgm93ZSBpbmZvcm1hY2plIG8gYsWCxJlkemllXHJcbiAgICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+TiyBTemN6ZWfDs8WCeSBixYLEmWR1OicsIHtcclxuICAgICAgICAgIG1lc3NhZ2U6IChlcnJvciBhcyBhbnkpLm1lc3NhZ2UsXHJcbiAgICAgICAgICBjb2RlOiAoZXJyb3IgYXMgYW55KS5jb2RlLFxyXG4gICAgICAgICAgZGV0YWlsczogKGVycm9yIGFzIGFueSkuZGV0YWlscyxcclxuICAgICAgICAgIGhpbnQ6IChlcnJvciBhcyBhbnkpLmhpbnQsXHJcbiAgICAgICAgICBzdGFjazogKGVycm9yIGFzIGFueSkuc3RhY2tcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBKZcWbbGkgdG8gYsWCxIVkIFJMUyBsdWIgdXByYXduaWXFhCwgendyw7PEhyBwdXN0xIUgc3RydWt0dXLEmSB6YW1pYXN0IGNyYXNob3dhxIdcclxuICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgXHJcbiAgICAgICAgICAoKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBcclxuICAgICAgICAgICAoZXJyb3IgYXMgYW55KS5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgXHJcbiAgICAgICAgICAgKGVycm9yIGFzIGFueSkubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ/CflJIgUHJvYmxlbSB6IHVwcmF3bmllbmlhbWkgLSB6d3JhY2FtIGRvbXnFm2xuZSBkYW5lJylcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcGhvbmVDYWxsc1RoaXNNb250aDogMCxcclxuICAgICAgICAgIGNsaWVudFN0YXRzOiBbXSxcclxuICAgICAgICAgIHRvdGFsQ2xpZW50czogMCxcclxuICAgICAgICAgIGNvbW1pc3Npb25Ub3RhbDogMCxcclxuICAgICAgICAgIHdvcmtpbmdIb3Vyc1RoaXNNb250aDogW10sXHJcbiAgICAgICAgICB0b3RhbFdvcmtpbmdIb3VyczogMCxcclxuICAgICAgICAgIHRvdGFsV29ya2luZ0RheXM6IDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gRnVua2NqZSBkbyB6YXJ6xIVkemFuaWEgZ29kemluYW1pIHByYWN5IHByYWNvd25pa2FcclxuICBhc3luYyBzYXZlV29ya2luZ0hvdXJzKHVzZXI6IFVzZXIsIGRhdGU6IHN0cmluZywgaG91cnM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYOKPsCBaYXBpc3l3YW5pZSBnb2R6aW4gcHJhY3k6ICR7aG91cnN9aCBkbGEgZG5pYSAke2RhdGV9YClcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payB0byBwcmFjb3duaWtcclxuICAgICAgaWYgKHVzZXIucm9sZSAhPT0gJ3ByYWNvd25paycpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEVOSEFOQ0VEIERFQlVHOiBTcHJhd2TFuiBjenkgdG8gZHppZcWEIHJvYm9jenkgKHBvbi1wdCkgLSBiZXpwaWVjem5lIHBhcnNvd2FuaWUgZGF0eVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+UjSBERUJVRzogSW5wdXQgZGF0ZSBzdHJpbmc6IFwiJHtkYXRlfVwiYClcclxuICAgICAgY29uc3QgZGF0ZVBhcnRzID0gZGF0ZS5zcGxpdCgnLScpIC8vIFwiMjAyNS0wNi0wMlwiIC0+IFtcIjIwMjVcIiwgXCIwNlwiLCBcIjAyXCJdXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIERFQlVHOiBEYXRlIHBhcnRzOmAsIGRhdGVQYXJ0cylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHllYXIgPSBwYXJzZUludChkYXRlUGFydHNbMF0pXHJcbiAgICAgIGNvbnN0IG1vbnRoID0gcGFyc2VJbnQoZGF0ZVBhcnRzWzFdKSAtIDEgLy8gLTEgYm8gSmF2YVNjcmlwdCB1xbx5d2EgMC0xMSBkbGEgbWllc2nEmWN5XHJcbiAgICAgIGNvbnN0IGRheSA9IHBhcnNlSW50KGRhdGVQYXJ0c1syXSlcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIERFQlVHOiBQYXJzZWQgY29tcG9uZW50czogeWVhcj0ke3llYXJ9LCBtb250aD0ke21vbnRofSAoSlMgZm9ybWF0KSwgZGF5PSR7ZGF5fWApXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBkYXRlT2JqID0gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSlcclxuICAgICAgY29uc3QgZGF5T2ZXZWVrID0gZGF0ZU9iai5nZXREYXkoKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYPCflI0gREVCVUc6IENyZWF0ZWQgRGF0ZSBvYmplY3Q6ICR7ZGF0ZU9iai50b0lTT1N0cmluZygpfWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5SNIERFQlVHOiBEYXRlIGluIGxvY2FsIGZvcm1hdDogJHtkYXRlT2JqLnRvTG9jYWxlRGF0ZVN0cmluZygncGwtUEwnLCB7IHdlZWtkYXk6ICdsb25nJywgeWVhcjogJ251bWVyaWMnLCBtb250aDogJ2xvbmcnLCBkYXk6ICdudW1lcmljJyB9KX1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+Xk++4jyBTcHJhd2R6YW5pZSBkbmlhIHJvYm9jemVnbzogJHtkYXRlfSA9PiBkYXlPZldlZWs9JHtkYXlPZldlZWt9ICgke1snbmllZHppZWxhJywgJ3BvbmllZHppYcWCZWsnLCAnd3RvcmVrJywgJ8Wbcm9kYScsICdjendhcnRlaycsICdwacSFdGVrJywgJ3NvYm90YSddW2RheU9mV2Vla119KWApXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF5T2ZXZWVrID09PSAwIHx8IGRheU9mV2VlayA9PT0gNikgeyAvLyAwID0gbmllZHppZWxhLCA2ID0gc29ib3RhXHJcbiAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIELFgcSERDogUHLDs2JhIHphcGlzYW5pYSBnb2R6aW4gZGxhIHdlZWtlbmR1ISBEemllxYQgdHlnb2RuaWE6ICR7ZGF5T2ZXZWVrfSAoJHtbJ25pZWR6aWVsYScsICdwb25pZWR6aWHFgmVrJywgJ3d0b3JlaycsICfFm3JvZGEnLCAnY3p3YXJ0ZWsnLCAncGnEhXRlaycsICdzb2JvdGEnXVtkYXlPZldlZWtdfSlgKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTW/FvG5hIHdwaXN5d2HEhyBnb2R6aW55IHR5bGtvIGRsYSBkbmkgcm9ib2N6eWNoIChwb24tcHQpJylcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBEemllxYQgcm9ib2N6eSBwb3R3aWVyZHpvbnk6ICR7WyduaWVkemllbGEnLCAncG9uaWVkemlhxYJlaycsICd3dG9yZWsnLCAnxZtyb2RhJywgJ2N6d2FydGVrJywgJ3BpxIV0ZWsnLCAnc29ib3RhJ11bZGF5T2ZXZWVrXX1gKVxyXG5cclxuICAgICAgLy8gV2FsaWRhY2phIGdvZHppbiAoMC0xMilcclxuICAgICAgaWYgKGhvdXJzIDwgMCB8fCBob3VycyA+IDEyKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdMaWN6YmEgZ29kemluIG11c2kgYnnEhyBtacSZZHp5IDAgYSAxMicpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFVwc2VydCBnb2R6aW4gcHJhY3kgdyBiYXppZSBkYW55Y2ggKHRhYmVsYSBqdcW8IGlzdG5pZWplKVxyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd3b3JraW5nX2hvdXJzJylcclxuICAgICAgICAudXBzZXJ0KHtcclxuICAgICAgICAgIHVzZXJfaWQ6IHVzZXIuaWQsXHJcbiAgICAgICAgICB3b3JrX2RhdGU6IGRhdGUsXHJcbiAgICAgICAgICBob3Vyc193b3JrZWQ6IGhvdXJzLFxyXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgb25Db25mbGljdDogJ3VzZXJfaWQsd29ya19kYXRlJ1xyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHphcGlzeXdhbmlhIGdvZHppbiBwcmFjeSBkbyBiYXp5OicsIGVycm9yKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZhbGxiYWNrIGRvIGxvY2FsU3RvcmFnZSB0eWxrbyBwcnp5IGLFgsSZZHppZSBiYXp5IGRhbnljaFxyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBiYXp5IGRhbnljaCAtIHXFvHl3YW0gbG9jYWxTdG9yYWdlIGpha28gZmFsbGJhY2snKVxyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkgfHwgJ3t9JylcclxuICAgICAgICBleGlzdGluZ0RhdGFbZGF0ZV0gPSBob3Vyc1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nRGF0YSkpXHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBaYXBpc2FubyAke2hvdXJzfWggZGxhIGRuaWEgJHtkYXRlfSAobG9jYWxTdG9yYWdlIGZhbGxiYWNrKWApXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFwaXNhbm8gJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX0gKGJhemEgZGFueWNoIHdvcmtpbmdfaG91cnMpYClcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBzYXZlV29ya2luZ0hvdXJzOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gVWx0aW1hdGUgZmFsbGJhY2sgLSBsb2NhbFN0b3JhZ2VcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBVxbx5d2FtIGxvY2FsU3RvcmFnZSBqYWtvIG9zdGF0ZWN6bnkgZmFsbGJhY2snKVxyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxyXG4gICAgICAgIGNvbnN0IGV4aXN0aW5nRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkgfHwgJ3t9JylcclxuICAgICAgICBleGlzdGluZ0RhdGFbZGF0ZV0gPSBob3Vyc1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nRGF0YSkpXHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBaYXBpc2FubyAke2hvdXJzfWggZGxhIGRuaWEgJHtkYXRlfSAobG9jYWxTdG9yYWdlIHVsdGltYXRlIGZhbGxiYWNrKWApXHJcbiAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgdWRhxYJvIHNpxJkgemFwaXNhxIcgbmF3ZXQgZG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgYXN5bmMgZ2V0V29ya2luZ0hvdXJzRm9yTW9udGgodXNlcjogVXNlciwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg4o+wIFBvYmllcmFuaWUgZ29kemluIHByYWN5IGRsYSAke3llYXJ9LSR7bW9udGh9YClcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payB0byBwcmFjb3duaWtcclxuICAgICAgaWYgKHVzZXIucm9sZSAhPT0gJ3ByYWNvd25paycpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE9ibGljeiBwaWVyd3N6eSBpIG9zdGF0bmkgZHppZcWEIG1pZXNpxIVjYSAocG9wcmF3a2Egc3RyZWZ5IGN6YXNvd2VqKVxyXG4gICAgICBjb25zdCBzdGFydERhdGUgPSBgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tMDFgXHJcbiAgICAgIGNvbnN0IGVuZERhdGUgPSBgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tJHtuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+ThSBQb2JpZXJhbmllIGdvZHppbiBkbGEgemFrcmVzdTogJHtzdGFydERhdGV9IC0gJHtlbmREYXRlfWApXHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IGdvZHppbnkgcHJhY3kgeiB0YWJlbGkgd29ya2luZ19ob3VycyAodGFiZWxhIGp1xbwgaXN0bmllamUpXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3dvcmtpbmdfaG91cnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ3dvcmtfZGF0ZSwgaG91cnNfd29ya2VkJylcclxuICAgICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VyLmlkKVxyXG4gICAgICAgIC5ndGUoJ3dvcmtfZGF0ZScsIHN0YXJ0RGF0ZSlcclxuICAgICAgICAubHRlKCd3b3JrX2RhdGUnLCBlbmREYXRlKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGdvZHppbiBwcmFjeSB6IGJhenk6JywgZXJyb3IpXHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIGJhenkgZGFueWNoIC0gdcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBmYWxsYmFjaycpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgZG8gbG9jYWxTdG9yYWdlIHR5bGtvIHByenkgYsWCxJlkemllIGJhenkgZGFueWNoXHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXHJcbiAgICAgICAgY29uc3Qgc3RvcmVkRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkgfHwgJ3t9JylcclxuICAgICAgICBcclxuICAgICAgICAvLyBGaWx0cnVqIGRhbmUgZGxhIG9kcG93aWVkbmllZ28gbWllc2nEhWNhXHJcbiAgICAgICAgY29uc3QgaG91cnNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHN0b3JlZERhdGEpLmZvckVhY2goKFtkYXRlLCBob3Vyc10pID0+IHtcclxuICAgICAgICAgIC8vIFXFvHlqIHBvcsOzd25hbmlhIHN0cmluZ8OzdyBkbGEgZGF0IHcgZm9ybWFjaWUgWVlZWS1NTS1ERFxyXG4gICAgICAgICAgaWYgKGRhdGUgPj0gc3RhcnREYXRlICYmIGRhdGUgPD0gZW5kRGF0ZSkge1xyXG4gICAgICAgICAgICBob3Vyc01hcFtkYXRlXSA9IGhvdXJzIGFzIG51bWJlclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vIGdvZHppbnkgcHJhY3kgeiBsb2NhbFN0b3JhZ2UgZmFsbGJhY2sgZGxhICR7T2JqZWN0LmtleXMoaG91cnNNYXApLmxlbmd0aH0gZG5pYClcclxuICAgICAgICByZXR1cm4gaG91cnNNYXBcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS29ud2VydHVqIG5hIG9iaWVrdCBkYXRlIC0+IGhvdXJzXHJcbiAgICAgIGNvbnN0IGhvdXJzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cclxuICAgICAgaWYgKGRhdGEpIHtcclxuICAgICAgICBkYXRhLmZvckVhY2goZW50cnkgPT4ge1xyXG4gICAgICAgICAgaG91cnNNYXBbZW50cnkud29ya19kYXRlXSA9IGVudHJ5LmhvdXJzX3dvcmtlZFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyBnb2R6aW55IHByYWN5IHogdGFiZWxpIHdvcmtpbmdfaG91cnMgZGxhICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IGRuaWApXHJcbiAgICAgIHJldHVybiBob3Vyc01hcFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGdldFdvcmtpbmdIb3Vyc0Zvck1vbnRoOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gVWx0aW1hdGUgZmFsbGJhY2sgLSBsb2NhbFN0b3JhZ2VcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBVxbx5d2FtIGxvY2FsU3RvcmFnZSBqYWtvIG9zdGF0ZWN6bnkgZmFsbGJhY2snKVxyXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxyXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmlsdHJ1aiBkYW5lIGRsYSBvZHBvd2llZG5pZWdvIG1pZXNpxIVjYVxyXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZVN0ciA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0wMWBcclxuICAgICAgICBjb25zdCBlbmREYXRlU3RyID0gYCR7eWVhcn0tJHttb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LSR7bmV3IERhdGUoeWVhciwgbW9udGgsIDApLmdldERhdGUoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YFxyXG4gICAgICAgIGNvbnN0IGhvdXJzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cclxuICAgICAgICBcclxuICAgICAgICBPYmplY3QuZW50cmllcyhzdG9yZWREYXRhKS5mb3JFYWNoKChbZGF0ZSwgaG91cnNdKSA9PiB7XHJcbiAgICAgICAgICAvLyBVxbx5aiBwb3LDs3duYW5pYSBzdHJpbmfDs3cgZGxhIGRhdCB3IGZvcm1hY2llIFlZWVktTU0tRERcclxuICAgICAgICAgIGlmIChkYXRlID49IHN0YXJ0RGF0ZVN0ciAmJiBkYXRlIDw9IGVuZERhdGVTdHIpIHtcclxuICAgICAgICAgICAgaG91cnNNYXBbZGF0ZV0gPSBob3VycyBhcyBudW1iZXJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyBnb2R6aW55IHByYWN5IHogbG9jYWxTdG9yYWdlIHVsdGltYXRlIGZhbGxiYWNrIGRsYSAke09iamVjdC5rZXlzKGhvdXJzTWFwKS5sZW5ndGh9IGRuaWApXHJcbiAgICAgICAgcmV0dXJuIGhvdXJzTWFwXHJcbiAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBuYXdldCB6IGxvY2FsU3RvcmFnZTonLCBzdG9yYWdlRXJyb3IpXHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyDwn5qAIE5PV0UgRlVOS0NKRSBQRVJGT1JNQU5DRSAtIE1hdGVyaWFsaXpvd2FuZSBXaWRva2lcclxuXHJcbiAgLy8gWmFzdMSZcHVqZSBjacSZxbxraWUgSk9JTid5IC0gdGVyYXogbmF0eWNobWlhc3Rvd2UgxYJhZG93YW5pZVxyXG4gIGFzeW5jIGdldE1vbnRobHlFbXBsb3llZVBlcmZvcm1hbmNlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUG9iaWVyYW5pZSB3eWRham5vxZtjaSBwcmFjb3duaWvDs3cgZGxhICR7eWVhcn0tJHttb250aH0gKHpvcHR5bWFsaXpvd2FuZSkuLi5gKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfbW9udGhseV9lbXBsb3llZV9wZXJmb3JtYW5jZScsIHtcclxuICAgICAgICB0YXJnZXRfeWVhcjogeWVhcixcclxuICAgICAgICB0YXJnZXRfbW9udGg6IG1vbnRoXHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgd3lkYWpub8WbY2kgcHJhY293bmlrw7N3OicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgV3lkYWpub8WbxIcgcHJhY293bmlrw7N3IHBvYnJhbmE6ICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJla29yZMOzd2ApXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0TW9udGhseUVtcGxveWVlUGVyZm9ybWFuY2UgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFN6eWJraWUgc3RhdHlzdHlraSB6ZXNwb8WCdSBuYSBwb2RzdGF3aWUgbWF0ZXJpYWxpem93YW55Y2ggd2lkb2vDs3dcclxuICBhc3luYyBnZXRUZWFtU3VtbWFyeSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X21vbnRobHlfZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5lcSgneWVhcicsIHllYXIpXHJcbiAgICAgICAgLmVxKCdtb250aCcsIG1vbnRoKVxyXG4gICAgICAgIC5vcmRlcignb3duZWRfc2FsZXMnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0VGVhbVN1bW1hcnkgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5dGljcyAtIHRvcCBwZXJmb3JtZXJzXHJcbiAgYXN5bmMgZ2V0VG9wUGVyZm9ybWVycyhsaW1pdDogbnVtYmVyID0gMTApIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X3RvcF9wZXJmb3JtZXJzJywge1xyXG4gICAgICAgIGxpbWl0X2NvdW50OiBsaW1pdFxyXG4gICAgICB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRUb3BQZXJmb3JtZXJzIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEFQSSBkbGEgbG9rYWxpemFjamkva3JhasOzd1xyXG5leHBvcnQgY29uc3QgbG9jYXRpb25zQXBpID0ge1xyXG4gIC8vIFBvYmllcnogd3N6eXN0a2llIGxva2FsaXphY2plIChwb2RzdGF3b3dlIGluZm9ybWFjamUgLSBkbGEgcmVqZXN0cmFjamkpXHJcbiAgYXN5bmMgZ2V0QWxsTG9jYXRpb25zKCk6IFByb21pc2U8TG9jYXRpb25bXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbG9jYXRpb25zJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgbmFtZSxcclxuICAgICAgICAgIGNvZGUsXHJcbiAgICAgICAgICBjdXJyZW5jeSxcclxuICAgICAgICAgIHRpbWV6b25lLFxyXG4gICAgICAgICAgcmVnaW9uLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVwZGF0ZWRfYXRcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5vcmRlcignbmFtZScpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgbG9rYWxpemFjamk6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIGxva2FsaXphY2plOicsIGRhdGE/Lmxlbmd0aCB8fCAwKVxyXG4gICAgICByZXR1cm4gZGF0YSBhcyBMb2NhdGlvbltdXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWxsTG9jYXRpb25zIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHdzenlzdGtpZSBsb2thbGl6YWNqZSB6IHBlxYJueW1pIGluZm9ybWFjamFtaSAoZGxhIHphbG9nb3dhbnljaCB1xbx5dGtvd25pa8OzdylcclxuICBhc3luYyBnZXRBbGxMb2NhdGlvbnNXaXRoTWFuYWdlcnMoKTogUHJvbWlzZTxMb2NhdGlvbltdPiB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbG9jYXRpb25zJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBjb2RlLFxyXG4gICAgICAgIGN1cnJlbmN5LFxyXG4gICAgICAgIHRpbWV6b25lLFxyXG4gICAgICAgIHJlZ2lvbixcclxuICAgICAgICBwcm9qZWN0X21hbmFnZXJfaWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0LFxyXG4gICAgICAgIHByb2plY3RfbWFuYWdlcjp1c2VycyFwcm9qZWN0X21hbmFnZXJfaWQgKFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgIGF2YXRhcl91cmxcclxuICAgICAgICApXHJcbiAgICAgIGApXHJcbiAgICAgIC5vcmRlcignbmFtZScpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIFxyXG4gICAgLy8gUHJ6ZWtzenRhxYLEhyBkYW5lIC0gU3VwYWJhc2UgSk9JTiB6d3JhY2EgcHJvamVjdF9tYW5hZ2VyIGpha28gdGFibGljxJlcclxuICAgIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IGRhdGE/Lm1hcCgobG9jYXRpb246IGFueSkgPT4gKHtcclxuICAgICAgLi4ubG9jYXRpb24sXHJcbiAgICAgIHByb2plY3RfbWFuYWdlcjogbG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyICYmIEFycmF5LmlzQXJyYXkobG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyKSAmJiBsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIubGVuZ3RoID4gMCBcclxuICAgICAgICA/IGxvY2F0aW9uLnByb2plY3RfbWFuYWdlclswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgOiBsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIgJiYgIUFycmF5LmlzQXJyYXkobG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyKVxyXG4gICAgICAgID8gbG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyIC8vIEp1xbwgamVzdCBwb2plZHluY3p5bSBvYmlla3RlbVxyXG4gICAgICAgIDogbnVsbCAvLyBCcmFrIHByb2plY3QgbWFuYWdlcmFcclxuICAgIH0pKVxyXG4gICAgXHJcbiAgICByZXR1cm4gdHJhbnNmb3JtZWREYXRhIGFzIExvY2F0aW9uW11cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGRvc3TEmXBuZSBsb2thbGl6YWNqZSBkbGEgdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgZ2V0VXNlckFjY2Vzc2libGVMb2NhdGlvbnModXNlcklkOiBzdHJpbmcpOiBQcm9taXNlPExvY2F0aW9uW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIE5hanBpZXJ3IHNwcsOzYnVqIHXFvHnEhyBmdW5rY2ppIFNRTCAoamXFm2xpIGlzdG5pZWplKVxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5ycGMoJ2dldF91c2VyX2FjY2Vzc2libGVfbG9jYXRpb25zJywgeyB1c2VyX2lkOiB1c2VySWQgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign8J+UhCBGdW5rY2phIFNRTCBnZXRfdXNlcl9hY2Nlc3NpYmxlX2xvY2F0aW9ucyBuaWUgaXN0bmllamUsIHXFvHl3YW0gZmFsbGJhY2sgbG9naWtpJylcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZGF0YSBhcyBMb2NhdGlvbltdXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgd3l3b8WCYW5pYSBmdW5rY2ppIFNRTCwgdcW8eXdhbSBKYXZhU2NyaXB0IGZhbGxiYWNrOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gRmFsbGJhY2sgLSBpbXBsZW1lbnRhY2phIGxvZ2lraSB3IEphdmFTY3JpcHRcclxuICAgICAgdHJ5IHtcclxuICAgICAgICAvLyBQb2JpZXJ6IHXFvHl0a293bmlrYVxyXG4gICAgICAgIGNvbnN0IHsgZGF0YTogdXNlciwgZXJyb3I6IHVzZXJFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdyb2xlLCBsb2NhdGlvbl9pZCcpXHJcbiAgICAgICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHVzZXJFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBkYW55Y2ggdcW8eXRrb3duaWthOicsIHVzZXJFcnJvcilcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldEFsbExvY2F0aW9ucygpIC8vIEZhbGxiYWNrIC0gendyw7PEhyB3c3p5c3RraWVcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3ByYXdkxbogcm9sxJkgdcW8eXRrb3duaWthXHJcbiAgICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ2FkbWluJyB8fCB1c2VyLnJvbGUgPT09ICdzemVmJykge1xyXG4gICAgICAgICAgLy8gQWRtaW4gaSBzemVmIHdpZHrEhSB3c3p5c3RraWUgbG9rYWxpemFjamVcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GRIEFkbWluL1N6ZWYgLSB6d3JhY2FtIHdzenlzdGtpZSBsb2thbGl6YWNqZScpXHJcbiAgICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMb2NhdGlvbnMoKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBQb3pvc3RhbGkgd2lkesSFIHR5bGtvIHN3b2rEhSBsb2thbGl6YWNqxJlcclxuICAgICAgICAgIGlmICghdXNlci5sb2NhdGlvbl9pZCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBVxbx5dGtvd25payBuaWUgbWEgcHJ6eXBpc2FuZWogbG9rYWxpemFjamknKVxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgWnd5a8WCeSB1xbx5dGtvd25payAtIHp3cmFjYW0gbG9rYWxpemFjasSZOicsIHVzZXIubG9jYXRpb25faWQpXHJcbiAgICAgICAgICBjb25zdCB7IGRhdGE6IGxvY2F0aW9uLCBlcnJvcjogbG9jYXRpb25FcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20oJ2xvY2F0aW9ucycpXHJcbiAgICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgICAuZXEoJ2lkJywgdXNlci5sb2NhdGlvbl9pZClcclxuICAgICAgICAgICAgLnNpbmdsZSgpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChsb2NhdGlvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgbG9rYWxpemFjamkgdcW8eXRrb3duaWthOicsIGxvY2F0aW9uRXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4gW2xvY2F0aW9uIGFzIExvY2F0aW9uXVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgfSBjYXRjaCAoZmFsbGJhY2tFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBGYWxsYmFjayBsb2dpYyBmYWlsZWQ6JywgZmFsbGJhY2tFcnJvcilcclxuICAgICAgICAvLyBPc3RhdGVjem55IGZhbGxiYWNrIC0gd3N6eXN0a2llIGxva2FsaXphY2plXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTG9jYXRpb25zKClcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogbG9rYWxpemFjasSZIHBvIElEXHJcbiAgYXN5bmMgZ2V0TG9jYXRpb25CeUlkKGlkOiBzdHJpbmcpOiBQcm9taXNlPExvY2F0aW9uPiB7XHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnbG9jYXRpb25zJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgaWQsXHJcbiAgICAgICAgbmFtZSxcclxuICAgICAgICBjb2RlLFxyXG4gICAgICAgIGN1cnJlbmN5LFxyXG4gICAgICAgIHRpbWV6b25lLFxyXG4gICAgICAgIHJlZ2lvbixcclxuICAgICAgICBwcm9qZWN0X21hbmFnZXJfaWQsXHJcbiAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICB1cGRhdGVkX2F0LFxyXG4gICAgICAgIHByb2plY3RfbWFuYWdlcjp1c2VycyFwcm9qZWN0X21hbmFnZXJfaWQgKFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBmdWxsX25hbWUsXHJcbiAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgIGF2YXRhcl91cmxcclxuICAgICAgICApXHJcbiAgICAgIGApXHJcbiAgICAgIC5lcSgnaWQnLCBpZClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIFxyXG4gICAgLy8gUHJ6ZWtzenRhxYLEhyBkYW5lIC0gU3VwYWJhc2UgSk9JTiB6d3JhY2EgcHJvamVjdF9tYW5hZ2VyIGpha28gdGFibGljxJlcclxuICAgIGNvbnN0IHRyYW5zZm9ybWVkRGF0YSA9IHtcclxuICAgICAgLi4uZGF0YSxcclxuICAgICAgcHJvamVjdF9tYW5hZ2VyOiBkYXRhLnByb2plY3RfbWFuYWdlciAmJiBBcnJheS5pc0FycmF5KGRhdGEucHJvamVjdF9tYW5hZ2VyKSAmJiBkYXRhLnByb2plY3RfbWFuYWdlci5sZW5ndGggPiAwIFxyXG4gICAgICAgID8gZGF0YS5wcm9qZWN0X21hbmFnZXJbMF0gLy8gV2XFuiBwaWVyd3N6eSBlbGVtZW50IHogdGFibGljeVxyXG4gICAgICAgIDogZGF0YS5wcm9qZWN0X21hbmFnZXIgJiYgIUFycmF5LmlzQXJyYXkoZGF0YS5wcm9qZWN0X21hbmFnZXIpXHJcbiAgICAgICAgPyBkYXRhLnByb2plY3RfbWFuYWdlciAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICA6IG51bGwgLy8gQnJhayBwcm9qZWN0IG1hbmFnZXJhXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB0cmFuc2Zvcm1lZERhdGEgYXMgTG9jYXRpb25cclxuICB9LFxyXG5cclxuICAvLyBBa3R1YWxpenVqIHByb2plY3QgbWFuYWdlcmEgZGxhIGxva2FsaXphY2ppXHJcbiAgYXN5bmMgdXBkYXRlTG9jYXRpb25Qcm9qZWN0TWFuYWdlcihsb2NhdGlvbklkOiBzdHJpbmcsIHByb2plY3RNYW5hZ2VySWQ6IHN0cmluZyB8IG51bGwsIGN1cnJlbnRVc2VyOiBVc2VyKTogUHJvbWlzZTxMb2NhdGlvbj4ge1xyXG4gICAgaWYgKCFwZXJtaXNzaW9uc0FwaS5jYW5DaGFuZ2VSb2xlcyhjdXJyZW50VXNlcikpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gem1pYW55IHByb2plY3QgbWFuYWdlcmEnKVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsb2NhdGlvbnMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBwcm9qZWN0X21hbmFnZXJfaWQ6IHByb2plY3RNYW5hZ2VySWQsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBsb2NhdGlvbklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhIGFzIExvY2F0aW9uXHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW5rY2plIGF1dG9yeXphY2ppXHJcbmV4cG9ydCBjb25zdCBhdXRoQXBpID0ge1xyXG4gIC8vIFphbG9ndWogdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgc2lnbkluKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbkluV2l0aFBhc3N3b3JkKHtcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkXHJcbiAgICB9KVxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyBaYXJlamVzdHJ1aiBub3dlZ28gdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgc2lnblVwKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIGZ1bGxOYW1lOiBzdHJpbmcsIGxvY2F0aW9uSWQ/OiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcclxuICAgICAgZW1haWwsXHJcbiAgICAgIHBhc3N3b3JkLFxyXG4gICAgICBvcHRpb25zOiB7XHJcbiAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgZnVsbF9uYW1lOiBmdWxsTmFtZSxcclxuICAgICAgICAgIGxvY2F0aW9uX2lkOiBsb2NhdGlvbklkXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyBXeWxvZ3VqIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIHNpZ25PdXQoKSB7XHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLnNpZ25PdXQoKVxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICBhc3luYyBnZXRDdXJyZW50VXNlcigpIHtcclxuICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXHJcbiAgICByZXR1cm4gdXNlclxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogcHJvZmlsIHXFvHl0a293bmlrYSB6IHJvbMSFXHJcbiAgYXN5bmMgZ2V0VXNlclByb2ZpbGUodXNlcklkOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGEgYXMgVXNlclxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogd3N6eXN0a2ljaCB1xbx5dGtvd25pa8OzdyAoZGxhIG9wY2ppIGZpbHRyb3dhbmlhKVxyXG4gIGFzeW5jIGdldEFsbFVzZXJzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgZ2V0QWxsVXNlcnMgU1RBUlQgLSBzcHJhd2R6YW0gUkxTLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEFrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmVtYWlsLCB1c2VyPy5pZClcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgZnVsbF9uYW1lLCBlbWFpbCwgcm9sZSwgYXZhdGFyX3VybCcpXHJcbiAgICAgICAgLm9yZGVyKCdmdWxsX25hbWUnKVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgZ2V0QWxsVXNlcnMgLSB6bmFsZXppb25vIHXFvHl0a293bmlrw7N3OicsIGRhdGE/Lmxlbmd0aCB8fCAwKVxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2VycyAtIGLFgsSFZDonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBSTFMgRXJyb3IgaW4gZ2V0QWxsVXNlcnM6JywgZXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3ByYXdkxbogY3p5IHRvIHByb2JsZW0geiBSTFNcclxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UkiBQcm9ibGVtIHogUm93IExldmVsIFNlY3VyaXR5IC0gcHJhY293bmlrIG5pZSBtb8W8ZSB3aWR6aWXEhyBpbm55Y2ggdcW8eXRrb3duaWvDs3cnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBQcnp5a8WCYWQgdcW8eXRrb3duaWvDs3c6JywgZGF0YS5zbGljZSgwLCAzKS5tYXAodSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IHUuaWQsXHJcbiAgICAgICAgICBuYW1lOiB1LmZ1bGxfbmFtZSxcclxuICAgICAgICAgIHJvbGU6IHUucm9sZVxyXG4gICAgICAgIH0pKSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVV0FHQTogQnJhayBkYW55Y2ggdcW8eXRrb3duaWvDs3cgLSBtb8W8ZSBSTFMgYmxva3VqZSBkb3N0xJlwJylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgVXNlcltdXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWxsVXNlcnMgRkFJTEVEOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IHNlc2rEmSB1xbx5dGtvd25pa2FcclxuICBhc3luYyBnZXRTZXNzaW9uKCkge1xyXG4gICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKClcclxuICAgIHJldHVybiBzZXNzaW9uXHJcbiAgfSxcclxuXHJcbiAgLy8gTmFzxYJ1Y2h1aiB6bWlhbiB3IGF1dG9yeXphY2ppXHJcbiAgb25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2s6IChldmVudDogc3RyaW5nLCBzZXNzaW9uOiBhbnkpID0+IHZvaWQpIHtcclxuICAgIHJldHVybiBzdXBhYmFzZS5hdXRoLm9uQXV0aFN0YXRlQ2hhbmdlKGNhbGxiYWNrKVxyXG4gIH0sXHJcblxyXG4gIC8vIFpha3R1YWxpenVqIGrEmXp5ayB1xbx5dGtvd25pa2FcclxuICBhc3luYyB1cGRhdGVVc2VyTGFuZ3VhZ2UodXNlcklkOiBzdHJpbmcsIGxhbmd1YWdlOiAncGwnIHwgJ2VuJyB8ICdzaycpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgIC51cGRhdGUoeyBsYW5ndWFnZSB9KVxyXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhIGFzIFVzZXJcclxuICB9LFxyXG5cclxuICAvLyBCZXpwaWVjem5lIHBvYmllcmFuaWUgdcW8eXRrb3duaWvDs3cgZG8gd3nFm3dpZXRsYW5pYSAob2Rwb3JuZSBuYSBSTFMpXHJcbiAgYXN5bmMgZ2V0QWxsVXNlcnNGb3JEaXNwbGF5KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IFNUQVJUIC0gYmV6cGllY3puZSBwb2JpZXJhbmllLi4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEFrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmVtYWlsLCB1c2VyPy5pZClcclxuICAgICAgXHJcbiAgICAgIGlmICghdXNlcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgQnJhayB6YWxvZ293YW5lZ28gdcW8eXRrb3duaWthJylcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIGVtYWlsLCByb2xlLCBhdmF0YXJfdXJsJylcclxuICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkgLSB6bmFsZXppb25vIHXFvHl0a293bmlrw7N3OicsIGRhdGE/Lmxlbmd0aCB8fCAwKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFJMUyBFcnJvciBpbiBnZXRBbGxVc2Vyc0ZvckRpc3BsYXk6JywgZXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSmXFm2xpIHRvIHByb2JsZW0geiBSTFMsIHp3csOzxIcgcHJ6eW5ham1uaWVqIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdwZXJtaXNzaW9uJykpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflJIgUkxTIGJsb2t1amUgZG9zdMSZcCAtIHp3cmFjYW0gdHlsa28gYWt0dWFsbmVnbyB1xbx5dGtvd25pa2EnKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBQb2JpZXJ6IHByb2ZpbCBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSBhd2FpdCB0aGlzLmdldFVzZXJQcm9maWxlKHVzZXIuaWQpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEZhbGxiYWNrOiB1xbx5d2FtIHByb2ZpbHUgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUuZnVsbF9uYW1lKVxyXG4gICAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxyXG4gICAgICAgICAgfSBjYXRjaCAocHJvZmlsZUVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgcHJvZmlsdSB1xbx5dGtvd25pa2E6JywgcHJvZmlsZUVycm9yKVxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSW5ueSBixYLEhWQgLSB6d3LDs8SHIHB1c3TEhSB0YWJsaWPEmVxyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbm55IGLFgsSFZCAtIHp3cmFjYW0gcHVzdMSFIHRhYmxpY8SZJylcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgVWRhbmUgcG9icmFuaWUgdcW8eXRrb3duaWvDs3c6JywgZGF0YS5sZW5ndGgpXHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgUHJ6eWvFgmFkIHXFvHl0a293bmlrw7N3OicsIGRhdGEuc2xpY2UoMCwgMykubWFwKHUgPT4gKHtcclxuICAgICAgICAgIGlkOiB1LmlkLFxyXG4gICAgICAgICAgbmFtZTogdS5mdWxsX25hbWUsXHJcbiAgICAgICAgICByb2xlOiB1LnJvbGVcclxuICAgICAgICB9KSkpXHJcbiAgICAgICAgcmV0dXJuIGRhdGEgYXMgVXNlcltdXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgVVdBR0E6IEJyYWsgZGFueWNoIHXFvHl0a293bmlrw7N3JylcclxuICAgICAgICBcclxuICAgICAgICAvLyBGYWxsYmFjayAtIHByenluYWptbmllaiBha3R1YWxueSB1xbx5dGtvd25pa1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEZhbGxiYWNrOiB1xbx5d2FtIHByb2ZpbHUgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUuZnVsbF9uYW1lKVxyXG4gICAgICAgICAgcmV0dXJuIFt1c2VyUHJvZmlsZV1cclxuICAgICAgICB9IGNhdGNoIChwcm9maWxlRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgcHJvZmlsdSB1xbx5dGtvd25pa2E6JywgcHJvZmlsZUVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldEFsbFVzZXJzRm9yRGlzcGxheSBDUklUSUNBTCBFUlJPUjonLCBlcnJvcilcclxuICAgICAgXHJcbiAgICAgIC8vIEtyeXR5Y3pueSBmYWxsYmFjayAtIHNwcsOzYnVqIHByenluYWptbmllaiBwb2JyYcSHIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSBhd2FpdCB0aGlzLmdldFVzZXJQcm9maWxlKHVzZXIuaWQpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBLcnl0eWN6bnkgZmFsbGJhY2s6IHp3cmFjYW0gYWt0dWFsbmVnbyB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUuZnVsbF9uYW1lKVxyXG4gICAgICAgICAgcmV0dXJuIFt1c2VyUHJvZmlsZV1cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGNyaXRpY2FsRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgS3J5dHljem55IGLFgsSFZCBmYWxsYmFjazonLCBjcml0aWNhbEVycm9yKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamEgZG8gb2tyZcWbbGFuaWEga29sb3J1IHN0YXR1c3UgXCJjYW52YXNcIiBuYSBwb2RzdGF3aWUgY3phc3VcclxuZXhwb3J0IGNvbnN0IGdldENhbnZhc1N0YXR1c0NvbG9yID0gKHN0YXR1c0NoYW5nZWRBdD86IHN0cmluZyk6IHsgY29sb3I6IHN0cmluZywgZGVzY3JpcHRpb246IHN0cmluZywgcHJpb3JpdHk6ICdsb3cnIHwgJ21lZGl1bScgfCAnaGlnaCcgfSA9PiB7XHJcbiAgaWYgKCFzdGF0dXNDaGFuZ2VkQXQpIHtcclxuICAgIHJldHVybiB7IGNvbG9yOiAnYmctYmx1ZS01MDAvMjAgdGV4dC1ibHVlLTQwMCBib3JkZXItYmx1ZS01MDAvMzAnLCBkZXNjcmlwdGlvbjogJ05vd3knLCBwcmlvcml0eTogJ2xvdycgfVxyXG4gIH1cclxuXHJcbiAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gIGNvbnN0IHN0YXR1c0RhdGUgPSBuZXcgRGF0ZShzdGF0dXNDaGFuZ2VkQXQpXHJcbiAgY29uc3QgZGF5c0RpZmYgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gc3RhdHVzRGF0ZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxyXG5cclxuICBpZiAoZGF5c0RpZmYgPD0gMikge1xyXG4gICAgLy8gMC0yIGRuaSAtIHppZWxvbnkgKMWbd2llxbx5KVxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIGNvbG9yOiAnYmctZ3JlZW4tNTAwLzIwIHRleHQtZ3JlZW4tNDAwIGJvcmRlci1ncmVlbi01MDAvMzAnLCBcclxuICAgICAgZGVzY3JpcHRpb246IGDFmndpZcW8eSAoJHtkYXlzRGlmZn1kKWAsXHJcbiAgICAgIHByaW9yaXR5OiAnbG93J1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoZGF5c0RpZmYgPD0gNCkge1xyXG4gICAgLy8gMi00IGRuaSAtIMW8w7PFgnR5ICh1d2FnYSlcclxuICAgIHJldHVybiB7IFxyXG4gICAgICBjb2xvcjogJ2JnLXllbGxvdy01MDAvMjAgdGV4dC15ZWxsb3ctNDAwIGJvcmRlci15ZWxsb3ctNTAwLzMwJywgXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBgV3ltYWdhIHV3YWdpICgke2RheXNEaWZmfWQpYCxcclxuICAgICAgcHJpb3JpdHk6ICdtZWRpdW0nXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIC8vIDUrIGRuaSAtIGN6ZXJ3b255IChwaWxueSlcclxuICAgIHJldHVybiB7IFxyXG4gICAgICBjb2xvcjogJ2JnLXJlZC01MDAvMjAgdGV4dC1yZWQtNDAwIGJvcmRlci1yZWQtNTAwLzMwJywgXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBgUGlsbnkgKCR7ZGF5c0RpZmZ9ZClgLFxyXG4gICAgICBwcmlvcml0eTogJ2hpZ2gnXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW5rY2phIGRvIHBvYmllcmFuaWEga2xpZW50w7N3IHogb3puYWN6ZW5pYW1pIHByaW9yeXRldMOzd1xyXG5leHBvcnQgY29uc3QgZ2V0Q2FudmFzQ2xpZW50c1dpdGhQcmlvcml0eSA9IGFzeW5jICh1c2VyOiBVc2VyKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGNsaWVudHMgPSBhd2FpdCBjbGllbnRzQXBpLmdldENsaWVudHModXNlcilcclxuICAgIGNvbnN0IGNhbnZhc0NsaWVudHMgPSBjbGllbnRzLmZpbHRlcigoY2xpZW50OiBhbnkpID0+IGNsaWVudC5zdGF0dXMgPT09ICdjYW52YXMnKVxyXG4gICAgXHJcbiAgICBjb25zdCBwcmlvcml0eVN0YXRzID0ge1xyXG4gICAgICBoaWdoOiAwLFxyXG4gICAgICBtZWRpdW06IDAsXHJcbiAgICAgIGxvdzogMCxcclxuICAgICAgdG90YWw6IGNhbnZhc0NsaWVudHMubGVuZ3RoXHJcbiAgICB9XHJcblxyXG4gICAgY2FudmFzQ2xpZW50cy5mb3JFYWNoKChjbGllbnQ6IGFueSkgPT4ge1xyXG4gICAgICBjb25zdCB7IHByaW9yaXR5IH0gPSBnZXRDYW52YXNTdGF0dXNDb2xvcihjbGllbnQuc3RhdHVzX2NoYW5nZWRfYXQpXHJcbiAgICAgIHByaW9yaXR5U3RhdHNbcHJpb3JpdHldKytcclxuICAgIH0pXHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgY2xpZW50czogY2FudmFzQ2xpZW50cyxcclxuICAgICAgc3RhdHM6IHByaW9yaXR5U3RhdHNcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IGNhbnZhczonLCBlcnJvcilcclxuICAgIHJldHVybiB7IGNsaWVudHM6IFtdLCBzdGF0czogeyBoaWdoOiAwLCBtZWRpdW06IDAsIGxvdzogMCwgdG90YWw6IDAgfSB9XHJcbiAgfVxyXG59IFxyXG5cclxuLy8g8J+agCBOT1dFIEFQSSBQRVJGT1JNQU5DRSAtIE1hdGVyaWFsaXpvd2FuZSBXaWRva2kgaSBPcHR5bWFsaXphY2plXHJcbi8vIERvZGFuZSB6Z29kbmllIHogSU5TVFJVS0NKRV9QRVJGT1JNQU5DRV9PUFRJTUlaQVRJT05TLm1kXHJcblxyXG5leHBvcnQgY29uc3QgZGFzaGJvYXJkQXBpID0ge1xyXG4gIC8vIFphc3TEmXB1amUgd29sbmUgemFweXRhbmlhIGRhc2hib2FyZCAtIHRlcmF6IH4xMG1zIHphbWlhc3QgfjIwMG1zXHJcbiAgYXN5bmMgZ2V0RGFzaGJvYXJkTWV0cmljcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfimqEgUG9iaWVyYW5pZSBzenlia2ljaCBtZXRyeWsgZGFzaGJvYXJkIHogbWF0ZXJpYWxpem93YW5lZ28gd2lkb2t1Li4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X2Rhc2hib2FyZF9tZXRyaWNzJyk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgbWV0cnlrIGRhc2hib2FyZDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIERhc2hib2FyZCBtZXRyaWNzIHBvYnJhbmUgdyB0cnliaWUgZXhwcmVzczonLCBkYXRhPy5sZW5ndGggfHwgMCwgJ21ldHJ5aycpXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0RGFzaGJvYXJkTWV0cmljcyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkemVuaWUgY3p5IG1hdGVyaWFsaXpvd2FuZSB3aWRva2kgc8SFIMWbd2llxbxlXHJcbiAgYXN5bmMgY2hlY2tWaWV3RnJlc2huZXNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHRhYmVsYSBtdl9kYXNoYm9hcmRfc3VtbWFyeSBpc3RuaWVqZVxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdtdl9kYXNoYm9hcmRfc3VtbWFyeScpXHJcbiAgICAgICAgLnNlbGVjdCgnbGFzdF91cGRhdGVkJylcclxuICAgICAgICAubGltaXQoMSlcclxuICAgICAgICAuc2luZ2xlKClcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1hdGVyaWFsaXplZCB2aWV3IG12X2Rhc2hib2FyZF9zdW1tYXJ5IG5pZSBpc3RuaWVqZSBsdWIgYnJhayB1cHJhd25pZcWEOicsIGVycm9yKVxyXG4gICAgICAgIC8vIEZhbGxiYWNrIC0gdcW8eWogYWt0dWFsbmVnbyBjemFzdVxyXG4gICAgICAgIHJldHVybiB7IFxyXG4gICAgICAgICAgbGFzdFVwZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBcclxuICAgICAgICAgIG1pbnV0ZXNTaW5jZVVwZGF0ZTogMCwgXHJcbiAgICAgICAgICBpc1N0YWxlOiBmYWxzZSAvLyBaYcWCb8W8IMW8ZSBkYW5lIHPEhSDFm3dpZcW8ZSBqZcWbbGkgbmllIG1hIHdpZG9rdVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc3QgbGFzdFVwZGF0ZSA9IG5ldyBEYXRlKGRhdGEubGFzdF91cGRhdGVkKVxyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGNvbnN0IG1pbnV0ZXNTaW5jZVVwZGF0ZSA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBsYXN0VXBkYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSlcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgbGFzdFVwZGF0ZTogZGF0YS5sYXN0X3VwZGF0ZWQsXHJcbiAgICAgICAgbWludXRlc1NpbmNlVXBkYXRlLFxyXG4gICAgICAgIGlzU3RhbGU6IG1pbnV0ZXNTaW5jZVVwZGF0ZSA+IDMwIC8vIFV6bmFqIHphIG5pZWFrdHVhbG5lIHBvIDMwIG1pbnV0YWNoXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgc3ByYXdkemFuaWEgxZt3aWXFvG/Fm2NpIHdpZG9rw7N3OicsIGVycm9yKVxyXG4gICAgICAvLyBHcmFjZWZ1bCBmYWxsYmFja1xyXG4gICAgICByZXR1cm4geyBcclxuICAgICAgICBsYXN0VXBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIFxyXG4gICAgICAgIG1pbnV0ZXNTaW5jZVVwZGF0ZTogMCwgXHJcbiAgICAgICAgaXNTdGFsZTogZmFsc2UgXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIPCfmoAgTk9XRSBGVU5LQ0pFIFBFUkZPUk1BTkNFIGRvZGFuZSBkbyBpc3RuaWVqxIVjZWdvIHJlcG9ydHNBcGlcclxuXHJcbmV4cG9ydCBjb25zdCB0ZWFtQXBpID0ge1xyXG4gIC8vIFN6eWJraSBwcnplZ2zEhWQgYWt0eXdub8WbY2kgemVzcG/FgnVcclxuICBhc3luYyBnZXRUZWFtQWN0aXZpdHlPdmVydmlldygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFBvYmllcmFuaWUgcHJ6ZWdsxIVkdSBha3R5d25vxZtjaSB6ZXNwb8WCdSAoem9wdHltYWxpem93YW5lKS4uLicpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdtdl9hY3Rpdml0eV9zdW1tYXJ5JylcclxuICAgICAgICAuc2VsZWN0KCcqJylcclxuICAgICAgICAuaW4oJ3JvbGUnLCBbJ3ByYWNvd25paycsICdtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJ10pXHJcbiAgICAgICAgLm9yZGVyKCdhY3Rpdml0aWVzXzI0aCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGFrdHl3bm/Fm2NpIHplc3BvxYJ1OicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQWt0eXdub8WbxIcgemVzcG/FgnUgcG9icmFuYTogJHtkYXRhPy5sZW5ndGggfHwgMH0gdcW8eXRrb3duaWvDs3dgKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRlYW1BY3Rpdml0eU92ZXJ2aWV3IGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2R6ZW5pZSBha3R5d255Y2ggdcW8eXRrb3duaWvDs3cgdyBjemFzaWUgcnplY3p5d2lzdHltXHJcbiAgYXN5bmMgZ2V0QWN0aXZlVXNlcnNOb3coKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdtdl9hY3Rpdml0eV9zdW1tYXJ5JylcclxuICAgICAgICAuc2VsZWN0KCd1c2VyX2lkLCBmdWxsX25hbWUsIGFjdGl2aXR5X3N0YXR1cywgbGFzdF9hY3Rpdml0eScpXHJcbiAgICAgICAgLmVxKCdhY3Rpdml0eV9zdGF0dXMnLCAnYWN0aXZlJylcclxuICAgICAgICAub3JkZXIoJ2xhc3RfYWN0aXZpdHknLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWN0aXZlVXNlcnNOb3cgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFN0YXR5c3R5a2kgcHJvZHVrdHl3bm/Fm2NpIHplc3BvxYJ1XHJcbiAgYXN5bmMgZ2V0UHJvZHVjdGl2aXR5U3RhdHMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdtdl9hY3Rpdml0eV9zdW1tYXJ5JylcclxuICAgICAgICAuc2VsZWN0KCdhY3Rpdml0aWVzXzI0aCwgYWN0aXZpdGllc183ZCwgcGhvbmVfY2xpY2tzLCBzdGF0dXNfY2hhbmdlcycpXHJcbiAgICAgICAgLmluKCdyb2xlJywgWydwcmFjb3duaWsnLCAnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZiddKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgICBcclxuICAgICAgLy8gT2JsaWN6IMWbcmVkbmllXHJcbiAgICAgIGNvbnN0IHRvdGFsVXNlcnMgPSBkYXRhLmxlbmd0aFxyXG4gICAgICBjb25zdCBhdmdEYWlseSA9IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc18yNGgsIDApIC8gdG90YWxVc2Vyc1xyXG4gICAgICBjb25zdCBhdmdXZWVrbHkgPSBkYXRhLnJlZHVjZSgoc3VtLCB1c2VyKSA9PiBzdW0gKyB1c2VyLmFjdGl2aXRpZXNfN2QsIDApIC8gdG90YWxVc2Vyc1xyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbFVzZXJzLFxyXG4gICAgICAgIGF2Z0RhaWx5QWN0aXZpdGllczogTWF0aC5yb3VuZChhdmdEYWlseSksXHJcbiAgICAgICAgYXZnV2Vla2x5QWN0aXZpdGllczogTWF0aC5yb3VuZChhdmdXZWVrbHkpLFxyXG4gICAgICAgIHRvdGFsRGFpbHlBY3Rpdml0aWVzOiBkYXRhLnJlZHVjZSgoc3VtLCB1c2VyKSA9PiBzdW0gKyB1c2VyLmFjdGl2aXRpZXNfMjRoLCAwKSxcclxuICAgICAgICB0b3RhbFdlZWtseUFjdGl2aXRpZXM6IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc183ZCwgMClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFByb2R1Y3Rpdml0eVN0YXRzIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIPCflKcgUEVSRk9STUFOQ0UgTU9OSVRPUklORyBBUElcclxuZXhwb3J0IGNvbnN0IHBlcmZvcm1hbmNlQXBpID0ge1xyXG4gIC8vIFNwcmF3ZHplbmllIG1ldHJ5ayB3eWRham5vxZtjaSBzeXN0ZW11XHJcbiAgYXN5bmMgZ2V0U3lzdGVtTWV0cmljcygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFBvYmllcmFuaWUgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXUuLi4nKVxyXG4gICAgICBjb25zdCB0YWJsZVN0YXRzID0gW11cclxuICAgICAgXHJcbiAgICAgIC8vIFBvbW9jbmljemEgZnVua2NqYSBkbyBiZXpwaWVjem5lZ28gcG9iaWVyYW5pYSBzdGF0eXN0eWsgdGFiZWxpXHJcbiAgICAgIGNvbnN0IGdldFRhYmxlU3RhdHMgPSBhc3luYyAodGFibGVOYW1lOiBzdHJpbmcpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgeyBjb3VudCwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAgIC5mcm9tKHRhYmxlTmFtZSlcclxuICAgICAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIE5pZSBtb8W8bmEgcG9icmHEhyBzdGF0eXN0eWsgdGFiZWxpICR7dGFibGVOYW1lfTpgLCBlcnJvci5tZXNzYWdlKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB0YWJsZV9uYW1lOiB0YWJsZU5hbWUsXHJcbiAgICAgICAgICAgIHJlY29yZF9jb3VudDogY291bnQgfHwgMCxcclxuICAgICAgICAgICAgdGFibGVfc2l6ZTogJ04vQScsIC8vIFVwcm9zemN6ZW5pZSAtIHJvem1pYXIgbmllIGplc3Qga3J5dHljem55XHJcbiAgICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oYOKaoO+4jyBCxYLEhWQgdGFiZWxpICR7dGFibGVOYW1lfTpgLCBlcnIpXHJcbiAgICAgICAgICByZXR1cm4gbnVsbFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxboga2HFvGTEhSB0YWJlbMSZIG9kZHppZWxuaWVcclxuICAgICAgY29uc3QgdGFibGVzID0gWydjbGllbnRzJywgJ3VzZXJzJywgJ2FjdGl2aXR5X2xvZ3MnLCAnYWN0aXZpdHlfbG9nc19hcmNoaXZlJ11cclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3QgdGFibGVOYW1lIG9mIHRhYmxlcykge1xyXG4gICAgICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZ2V0VGFibGVTdGF0cyh0YWJsZU5hbWUpXHJcbiAgICAgICAgaWYgKHN0YXRzKSB7XHJcbiAgICAgICAgICB0YWJsZVN0YXRzLnB1c2goc3RhdHMpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBKZcWbbGkgbmllIHVkYcWCbyBzacSZIHBvYnJhxIcgxbxhZG55Y2ggc3RhdHlzdHlrLCB6d3LDs8SHIHBvZHN0YXdvd2UgaW5mb3JtYWNqZVxyXG4gICAgICBpZiAodGFibGVTdGF0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBzdGF0eXN0eWsgxbxhZG5laiB0YWJlbGkgLSB6d3JhY2FtIGRhbmUgcHJ6eWvFgmFkb3dlJylcclxuICAgICAgICB0YWJsZVN0YXRzLnB1c2goe1xyXG4gICAgICAgICAgdGFibGVfbmFtZTogJ3N5c3RlbV9pbmZvJyxcclxuICAgICAgICAgIHJlY29yZF9jb3VudDogMCxcclxuICAgICAgICAgIHRhYmxlX3NpemU6ICdCcmFrIGRvc3TEmXB1JyxcclxuICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vIHN0YXR5c3R5a2kgJHt0YWJsZVN0YXRzLmxlbmd0aH0gdGFiZWxgKVxyXG4gICAgICByZXR1cm4gdGFibGVTdGF0c1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFN5c3RlbU1ldHJpY3MgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gR3JhY2VmdWwgZmFsbGJhY2sgLSB6d3LDs8SHIHBvZHN0YXdvd2UgZGFuZSB6YW1pYXN0IHJ6dWNhxIcgYsWCxIVkXHJcbiAgICAgIHJldHVybiBbe1xyXG4gICAgICAgIHRhYmxlX25hbWU6ICdlcnJvcl9mYWxsYmFjaycsXHJcbiAgICAgICAgcmVjb3JkX2NvdW50OiAwLFxyXG4gICAgICAgIHRhYmxlX3NpemU6ICdCxYLEhWQgcG/FgsSFY3plbmlhJyxcclxuICAgICAgICBsYXN0X3VwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9XVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIE1hbnVhbG5lIG9kxZt3aWXFvGVuaWUgbWF0ZXJpYWxpem93YW55Y2ggd2lkb2vDs3dcclxuICBhc3luYyByZWZyZXNoTWF0ZXJpYWxpemVkVmlld3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBNYW51YWxuaWUgb2TFm3dpZcW8YW0gbWF0ZXJpYWxpem93YW5lIHdpZG9raS4uLicpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ3JlZnJlc2hfYWxsX21hdGVyaWFsaXplZF92aWV3cycpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFdpZG9raSBvZMWbd2llxbxvbmU6JywgZGF0YSlcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCByZWZyZXNoTWF0ZXJpYWxpemVkVmlld3MgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEFyY2hpd2l6YWNqYSBzdGFyeWNoIGxvZ8Ozd1xyXG4gIGFzeW5jIGFyY2hpdmVPbGRMb2dzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk6YgVXJ1Y2hhbWlhbSBhcmNoaXdpemFjasSZIHN0YXJ5Y2ggbG9nw7N3Li4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnYXJjaGl2ZV9vbGRfYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFphcmNoaXdpem93YW5vICR7ZGF0YX0gc3RhcnljaCBsb2fDs3dgKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGFyY2hpdmVPbGRMb2dzIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBPcHR5bWFsaXphY2phIGJhenkgZGFueWNoXHJcbiAgYXN5bmMgb3B0aW1pemVEYXRhYmFzZSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5qAIFVydWNoYW1pYW0gb3B0eW1hbGl6YWNqxJkgYmF6eSBkYW55Y2guLi4nKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdvcHRpbWl6ZV9kYXRhYmFzZV9wZXJmb3JtYW5jZScpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEJhemEgZGFueWNoIHpvcHR5bWFsaXpvd2FuYTonLCBkYXRhKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIG9wdGltaXplRGF0YWJhc2UgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBFbXBsb3llZUFjdGl2aXR5U3RhdHMge1xyXG4gIGlkOiBzdHJpbmdcclxuICB1c2VyX2lkOiBzdHJpbmdcclxuICBwZXJpb2RfdHlwZTogc3RyaW5nXHJcbiAgcGVyaW9kX3N0YXJ0OiBzdHJpbmdcclxuICBwZXJpb2RfZW5kOiBzdHJpbmdcclxuICB0b3RhbF93b3JrX21pbnV0ZXM6IG51bWJlclxyXG4gIGF2ZXJhZ2VfZGFpbHlfbWludXRlczogbnVtYmVyXHJcbiAgZXhwZWN0ZWRfd29ya19taW51dGVzOiBudW1iZXJcclxuICBlZmZpY2llbmN5X3BlcmNlbnRhZ2U6IG51bWJlclxyXG4gIHRvdGFsX2FjdGl2aXRpZXM6IG51bWJlclxyXG4gIGF2ZXJhZ2VfZGFpbHlfYWN0aXZpdGllczogbnVtYmVyXHJcbiAgZGF5c193b3JrZWQ6IG51bWJlclxyXG4gIGRheXNfYWJzZW50OiBudW1iZXJcclxuICB1c2VyPzoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcclxuICAgIHJvbGU6IHN0cmluZ1xyXG4gIH1cclxufSBcclxuXHJcbi8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuLy8gQ0FMTFMgQVBJIC0gSElTVE9SSUEgUE/FgcSEQ1pFxYMgVEVMRUZPTklDWk5ZQ0hcclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBDYWxsUmVjb3JkIHtcclxuICBpZDogc3RyaW5nXHJcbiAgY2xpZW50X2lkOiBzdHJpbmdcclxuICBjbGllbnRfbmFtZTogc3RyaW5nXHJcbiAgY2xpZW50X2NvbXBhbnk6IHN0cmluZ1xyXG4gIGNsaWVudF9waG9uZTogc3RyaW5nXHJcbiAgY2FsbGVkX2J5OiBzdHJpbmdcclxuICBjYWxsZXJfbmFtZTogc3RyaW5nXHJcbiAgY2FsbGVyX3JvbGU6IHN0cmluZ1xyXG4gIGNhbGxlcl9hdmF0YXI/OiBzdHJpbmdcclxuICBjYWxsX3RpbWVzdGFtcDogc3RyaW5nXHJcbiAgbG9jYXRpb25faWQ/OiBzdHJpbmdcclxuICBsb2NhdGlvbl9uYW1lPzogc3RyaW5nXHJcbiAgbG9jYXRpb25fY29kZT86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhbGxzRmlsdGVyIHtcclxuICBsb2NhdGlvbklkPzogc3RyaW5nIHwgbnVsbFxyXG4gIHVzZXJJZD86IHN0cmluZ1xyXG4gIHN0YXJ0RGF0ZT86IHN0cmluZ1xyXG4gIGVuZERhdGU/OiBzdHJpbmdcclxuICBsaW1pdD86IG51bWJlclxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgY2FsbHNBcGkgPSB7XHJcbiAgLyoqXHJcbiAgICog8J+TniBQT0JJRVJaIEhJU1RPUknEmCBQT8WBxIRDWkXFg1xyXG4gICAqIFxyXG4gICAqIFBvYmllcmEgaGlzdG9yacSZIHBvxYLEhWN6ZcWEIHRlbGVmb25pY3pueWNoIHogYWN0aXZpdHlfbG9nc1xyXG4gICAqIFV3emdsxJlkbmlhIHVwcmF3bmllbmlhIHXFvHl0a293bmlrYTpcclxuICAgKiAtIEFkbWluL1N6ZWY6IHdzenlzdGtpZSBwb8WCxIVjemVuaWEgeiB3eWJyYW5lZ28ga3JhanVcclxuICAgKiAtIFByb2plY3QgTWFuYWdlci9KdW5pb3IgTWFuYWdlcjogd3N6eXN0a2llIHogaWNoIGxva2FsaXphY2ppXHJcbiAgICogLSBQcmFjb3duaWs6IHR5bGtvIHN3b2plIHBvxYLEhWN6ZW5pYVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldENhbGxzKHVzZXI6IFVzZXIsIGZpbHRlcjogQ2FsbHNGaWx0ZXIgPSB7fSk6IFByb21pc2U8Q2FsbFJlY29yZFtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TniBQb2JpZXJhbmllIGhpc3RvcmlpIHBvxYLEhWN6ZcWELi4uJywgeyB1c2VyOiB1c2VyLnJvbGUsIGZpbHRlciB9KVxyXG5cclxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGNsaWVudF9pZCxcclxuICAgICAgICAgIGNoYW5nZWRfYnksXHJcbiAgICAgICAgICB0aW1lc3RhbXAsXHJcbiAgICAgICAgICBjbGllbnRzIWlubmVyIChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGZpcnN0X25hbWUsXHJcbiAgICAgICAgICAgIGxhc3RfbmFtZSxcclxuICAgICAgICAgICAgY29tcGFueV9uYW1lLFxyXG4gICAgICAgICAgICBwaG9uZSxcclxuICAgICAgICAgICAgbG9jYXRpb25faWQsXHJcbiAgICAgICAgICAgIGxvY2F0aW9uOmxvY2F0aW9ucyAoXHJcbiAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgICBjb2RlXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIClcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcclxuICAgICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICAgIC5saW1pdChmaWx0ZXIubGltaXQgfHwgMTAwKVxyXG5cclxuICAgICAgLy8gRmlsdHJvd2FuaWUgd2VkxYJ1ZyB1cHJhd25pZcWEIHXFvHl0a293bmlrYVxyXG4gICAgICBpZiAodXNlci5yb2xlID09PSAncHJhY293bmlrJykge1xyXG4gICAgICAgIC8vIFByYWNvd25payB3aWR6aSB0eWxrbyBzd29qZSBwb8WCxIVjemVuaWFcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjaGFuZ2VkX2J5JywgdXNlci5pZClcclxuICAgICAgfSBlbHNlIGlmIChbJ2p1bmlvcl9tYW5hZ2VyJywgJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgICAgIC8vIE1lbmVkxbxlcm93aWUgd2lkesSFIHBvxYLEhWN6ZW5pYSB6IGljaCBsb2thbGl6YWNqaVxyXG4gICAgICAgIGlmIChmaWx0ZXIubG9jYXRpb25JZCkge1xyXG4gICAgICAgICAgLy8gSmXFm2xpIHd5YnJhbm8ga29ua3JldG7EhSBsb2thbGl6YWNqxJksIGZpbHRydWogcG8gbmllalxyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2xpZW50cy5sb2NhdGlvbl9pZCcsIGZpbHRlci5sb2NhdGlvbklkKVxyXG4gICAgICAgIH0gZWxzZSBpZiAodXNlci5sb2NhdGlvbl9pZCkge1xyXG4gICAgICAgICAgLy8gSmXFm2xpIG5pZSB3eWJyYW5vIGxva2FsaXphY2ppLCBwb2thxbwgeiBsb2thbGl6YWNqaSB1xbx5dGtvd25pa2FcclxuICAgICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NsaWVudHMubG9jYXRpb25faWQnLCB1c2VyLmxvY2F0aW9uX2lkKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIGlmIChbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgICAgLy8gU3plZiBpIGFkbWluIHdpZHrEhSB3c3p5c3Rrbywgb3Bjam9uYWxuaWUgZmlsdHJvd2FuZSBwbyBsb2thbGl6YWNqaVxyXG4gICAgICAgIGlmIChmaWx0ZXIubG9jYXRpb25JZCkge1xyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2xpZW50cy5sb2NhdGlvbl9pZCcsIGZpbHRlci5sb2NhdGlvbklkKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gRG9kYXRrb3dlIGZpbHRyeSBjemFzb3dlXHJcbiAgICAgIGlmIChmaWx0ZXIuc3RhcnREYXRlKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoJ3RpbWVzdGFtcCcsIGZpbHRlci5zdGFydERhdGUpXHJcbiAgICAgIH1cclxuICAgICAgaWYgKGZpbHRlci5lbmREYXRlKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5sdGUoJ3RpbWVzdGFtcCcsIGZpbHRlci5lbmREYXRlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGRhdGE6IGNhbGxMb2dzLCBlcnJvciB9ID0gYXdhaXQgcXVlcnlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBwb8WCxIVjemXFhDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWNhbGxMb2dzIHx8IGNhbGxMb2dzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5OeIEJyYWsgcG/FgsSFY3plxYQgZGxhIHBvZGFueWNoIGtyeXRlcmnDs3cnKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IGluZm9ybWFjamUgbyB1xbx5dGtvd25pa2FjaCAoZHp3b25pxIVjeWNoKVxyXG4gICAgICBjb25zdCBjYWxsZXJJZHMgPSBbLi4ubmV3IFNldChjYWxsTG9ncy5tYXAobG9nID0+IGxvZy5jaGFuZ2VkX2J5KSldXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY2FsbGVycywgZXJyb3I6IGNhbGxlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIHJvbGUsIGF2YXRhcl91cmwnKVxyXG4gICAgICAgIC5pbignaWQnLCBjYWxsZXJJZHMpXHJcblxyXG4gICAgICBpZiAoY2FsbGVyc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHXFvHl0a293bmlrw7N3OicsIGNhbGxlcnNFcnJvcilcclxuICAgICAgICAvLyBLb250eW51dWogYmV6IHN6Y3plZ8OzxYLDs3cgdcW8eXRrb3duaWvDs3dcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3R3w7NyeiBtYXDEmSB1xbx5dGtvd25pa8Ozd1xyXG4gICAgICBjb25zdCBjYWxsZXJzTWFwID0gKGNhbGxlcnMgfHwgW10pLnJlZHVjZSgoYWNjLCBjYWxsZXIpID0+IHtcclxuICAgICAgICBhY2NbY2FsbGVyLmlkXSA9IGNhbGxlclxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgYW55PilcclxuXHJcbiAgICAgICAgICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgbmEgZm9ybWF0IENhbGxSZWNvcmRcclxuICAgICAgIGNvbnN0IGNhbGxSZWNvcmRzOiBDYWxsUmVjb3JkW10gPSBjYWxsTG9ncy5tYXAobG9nID0+IHtcclxuICAgICAgICAgY29uc3QgY2xpZW50ID0gQXJyYXkuaXNBcnJheShsb2cuY2xpZW50cykgPyBsb2cuY2xpZW50c1swXSA6IGxvZy5jbGllbnRzXHJcbiAgICAgICAgIGNvbnN0IGNhbGxlciA9IGNhbGxlcnNNYXBbbG9nLmNoYW5nZWRfYnldXHJcbiAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gQXJyYXkuaXNBcnJheShjbGllbnQ/LmxvY2F0aW9uKSA/IGNsaWVudC5sb2NhdGlvblswXSA6IGNsaWVudD8ubG9jYXRpb25cclxuXHJcbiAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgaWQ6IGxvZy5pZCxcclxuICAgICAgICAgICBjbGllbnRfaWQ6IGxvZy5jbGllbnRfaWQsXHJcbiAgICAgICAgICAgY2xpZW50X25hbWU6IGNsaWVudCA/IGAke2NsaWVudC5maXJzdF9uYW1lfSAke2NsaWVudC5sYXN0X25hbWV9YC50cmltKCkgOiAnTmllem5hbnkga2xpZW50JyxcclxuICAgICAgICAgICBjbGllbnRfY29tcGFueTogY2xpZW50Py5jb21wYW55X25hbWUgfHwgJ0JyYWsgaW5mb3JtYWNqaScsXHJcbiAgICAgICAgICAgY2xpZW50X3Bob25lOiBjbGllbnQ/LnBob25lIHx8ICdCcmFrIHRlbGVmb251JyxcclxuICAgICAgICAgICBjYWxsZWRfYnk6IGxvZy5jaGFuZ2VkX2J5LFxyXG4gICAgICAgICAgIGNhbGxlcl9uYW1lOiBjYWxsZXI/LmZ1bGxfbmFtZSB8fCAnTmllem5hbnkgdcW8eXRrb3duaWsnLFxyXG4gICAgICAgICAgIGNhbGxlcl9yb2xlOiBjYWxsZXI/LnJvbGUgfHwgJ3Vua25vd24nLFxyXG4gICAgICAgICAgIGNhbGxlcl9hdmF0YXI6IGNhbGxlcj8uYXZhdGFyX3VybCB8fCBudWxsLFxyXG4gICAgICAgICAgIGNhbGxfdGltZXN0YW1wOiBsb2cudGltZXN0YW1wLFxyXG4gICAgICAgICAgIGxvY2F0aW9uX2lkOiBjbGllbnQ/LmxvY2F0aW9uX2lkIHx8IG51bGwsXHJcbiAgICAgICAgICAgbG9jYXRpb25fbmFtZTogbG9jYXRpb24/Lm5hbWUgfHwgbnVsbCxcclxuICAgICAgICAgICBsb2NhdGlvbl9jb2RlOiBsb2NhdGlvbj8uY29kZSB8fCBudWxsXHJcbiAgICAgICAgIH1cclxuICAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gJHtjYWxsUmVjb3Jkcy5sZW5ndGh9IHJla29yZMOzdyBwb8WCxIVjemXFhGApXHJcbiAgICAgIHJldHVybiBjYWxsUmVjb3Jkc1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBjYWxsc0FwaS5nZXRDYWxsczonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvKipcclxuICAgKiDwn5OKIFBPQklFUlogU1RBVFlTVFlLSSBQT8WBxIRDWkXFg1xyXG4gICAqIFxyXG4gICAqIFBvYmllcmEgc3RhdHlzdHlraSBwb8WCxIVjemXFhCBkbGEgd3licmFuZWdvIG9rcmVzdVxyXG4gICAqL1xyXG4gIGFzeW5jIGdldENhbGxzU3RhdHModXNlcjogVXNlciwgZmlsdGVyOiBDYWxsc0ZpbHRlciA9IHt9KTogUHJvbWlzZTx7XHJcbiAgICB0b3RhbENhbGxzOiBudW1iZXJcclxuICAgIGNhbGxzVG9kYXk6IG51bWJlclxyXG4gICAgY2FsbHNUaGlzV2VlazogbnVtYmVyXHJcbiAgICBjYWxsc1RoaXNNb250aDogbnVtYmVyXHJcbiAgICB0b3BDYWxsZXJzOiBBcnJheTx7IG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nLCBjb3VudDogbnVtYmVyLCBhdmF0YXI/OiBzdHJpbmcgfT5cclxuICB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHN0YXR5c3R5ayBwb8WCxIVjemXFhC4uLicpXHJcblxyXG4gICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgICBjb25zdCB3ZWVrU3RhcnQgPSBuZXcgRGF0ZShub3cuc2V0RGF0ZShub3cuZ2V0RGF0ZSgpIC0gbm93LmdldERheSgpKSkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIGNvbnN0IG1vbnRoU3RhcnQgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpLnRvSVNPU3RyaW5nKClcclxuXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2llIHBvxYLEhWN6ZW5pYSB6Z29kbmllIHogdXByYXduaWVuaWFtaVxyXG4gICAgICBjb25zdCBhbGxDYWxscyA9IGF3YWl0IGNhbGxzQXBpLmdldENhbGxzKHVzZXIsIHsgLi4uZmlsdGVyLCBsaW1pdDogMTAwMCB9KVxyXG5cclxuICAgICAgLy8gWmxpY3ogc3RhdHlzdHlraVxyXG4gICAgICBjb25zdCB0b3RhbENhbGxzID0gYWxsQ2FsbHMubGVuZ3RoXHJcbiAgICAgIGNvbnN0IGNhbGxzVG9kYXkgPSBhbGxDYWxscy5maWx0ZXIoY2FsbCA9PiBjYWxsLmNhbGxfdGltZXN0YW1wLnN0YXJ0c1dpdGgodG9kYXkpKS5sZW5ndGhcclxuICAgICAgY29uc3QgY2FsbHNUaGlzV2VlayA9IGFsbENhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuY2FsbF90aW1lc3RhbXAgPj0gd2Vla1N0YXJ0KS5sZW5ndGhcclxuICAgICAgY29uc3QgY2FsbHNUaGlzTW9udGggPSBhbGxDYWxscy5maWx0ZXIoY2FsbCA9PiBjYWxsLmNhbGxfdGltZXN0YW1wID49IG1vbnRoU3RhcnQpLmxlbmd0aFxyXG5cclxuICAgICAgLy8gVG9wIGR6d29uacSFY3lcclxuICAgICAgY29uc3QgY2FsbGVyQ291bnRzID0gYWxsQ2FsbHMucmVkdWNlKChhY2MsIGNhbGwpID0+IHtcclxuICAgICAgICBjb25zdCBrZXkgPSBjYWxsLmNhbGxlZF9ieVxyXG4gICAgICAgIGlmICghYWNjW2tleV0pIHtcclxuICAgICAgICAgIGFjY1trZXldID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBjYWxsLmNhbGxlcl9uYW1lLFxyXG4gICAgICAgICAgICByb2xlOiBjYWxsLmNhbGxlcl9yb2xlLFxyXG4gICAgICAgICAgICBhdmF0YXI6IGNhbGwuY2FsbGVyX2F2YXRhcixcclxuICAgICAgICAgICAgY291bnQ6IDBcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgYWNjW2tleV0uY291bnQrK1xyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30gYXMgUmVjb3JkPHN0cmluZywgeyBuYW1lOiBzdHJpbmcsIHJvbGU6IHN0cmluZywgYXZhdGFyPzogc3RyaW5nLCBjb3VudDogbnVtYmVyIH0+KVxyXG5cclxuICAgICAgY29uc3QgdG9wQ2FsbGVycyA9IE9iamVjdC52YWx1ZXMoY2FsbGVyQ291bnRzKVxyXG4gICAgICAgIC5zb3J0KChhLCBiKSA9PiBiLmNvdW50IC0gYS5jb3VudClcclxuICAgICAgICAuc2xpY2UoMCwgNSlcclxuXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG90YWxDYWxscyxcclxuICAgICAgICBjYWxsc1RvZGF5LFxyXG4gICAgICAgIGNhbGxzVGhpc1dlZWssXHJcbiAgICAgICAgY2FsbHNUaGlzTW9udGgsXHJcbiAgICAgICAgdG9wQ2FsbGVyc1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBwb8WCxIVjemXFhDonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbENhbGxzOiAwLFxyXG4gICAgICAgIGNhbGxzVG9kYXk6IDAsXHJcbiAgICAgICAgY2FsbHNUaGlzV2VlazogMCxcclxuICAgICAgICBjYWxsc1RoaXNNb250aDogMCxcclxuICAgICAgICB0b3BDYWxsZXJzOiBbXVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vLyDwn5OhIE5PVElGSUNBVElPTlMgQVBJIC0gU3lzdGVtIHBvd2lhZG9taWXFhFxyXG5leHBvcnQgY29uc3Qgbm90aWZpY2F0aW9uc0FwaSA9IHtcclxuICAvLyBQb2JpZXJ6IHBvd2lhZG9taWVuaWEgZGxhIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIGdldE5vdGlmaWNhdGlvbnModXNlcjogVXNlciwgb3B0aW9ucz86IHtcclxuICAgIHVucmVhZE9ubHk/OiBib29sZWFuXHJcbiAgICBsaW1pdD86IG51bWJlclxyXG4gICAgdHlwZT86IE5vdGlmaWNhdGlvblsndHlwZSddXHJcbiAgfSk6IFByb21pc2U8Tm90aWZpY2F0aW9uW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ25vdGlmaWNhdGlvbnMnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICB1c2VyX2lkLFxyXG4gICAgICAgICAgY2xpZW50X2lkLFxyXG4gICAgICAgICAgdHlwZSxcclxuICAgICAgICAgIHRpdGxlLFxyXG4gICAgICAgICAgbWVzc2FnZSxcclxuICAgICAgICAgIHJlYWQsXHJcbiAgICAgICAgICB1cmdlbnQsXHJcbiAgICAgICAgICBtZXRhZGF0YSxcclxuICAgICAgICAgIGNyZWF0ZWRfYXQsXHJcbiAgICAgICAgICBleHBpcmVzX2F0LFxyXG4gICAgICAgICAgY2xpZW50OmNsaWVudHMgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgZmlyc3RfbmFtZSxcclxuICAgICAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgICAgICBjb21wYW55X25hbWVcclxuICAgICAgICAgIClcclxuICAgICAgICBgKVxyXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLm9yZGVyKCdjcmVhdGVkX2F0JywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcblxyXG4gICAgICAvLyBGaWx0cnVqIHR5bGtvIG5pZXByemVjenl0YW5lXHJcbiAgICAgIGlmIChvcHRpb25zPy51bnJlYWRPbmx5KSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgncmVhZCcsIGZhbHNlKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBGaWx0cnVqIHBvIHR5cGllXHJcbiAgICAgIGlmIChvcHRpb25zPy50eXBlKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndHlwZScsIG9wdGlvbnMudHlwZSlcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gTGltaXRcclxuICAgICAgaWYgKG9wdGlvbnM/LmxpbWl0KSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5saW1pdChvcHRpb25zLmxpbWl0KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHBvd2lhZG9taWXFhDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gKGRhdGEgfHwgW10pLm1hcChub3RpZmljYXRpb24gPT4gKHtcclxuICAgICAgICAuLi5ub3RpZmljYXRpb24sXHJcbiAgICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBkYW5lIGtsaWVudGEgeiBKT0lOXHJcbiAgICAgICAgY2xpZW50OiBub3RpZmljYXRpb24uY2xpZW50ICYmIEFycmF5LmlzQXJyYXkobm90aWZpY2F0aW9uLmNsaWVudCkgJiYgbm90aWZpY2F0aW9uLmNsaWVudC5sZW5ndGggPiAwXHJcbiAgICAgICAgICA/IG5vdGlmaWNhdGlvbi5jbGllbnRbMF1cclxuICAgICAgICAgIDogbm90aWZpY2F0aW9uLmNsaWVudCAmJiAhQXJyYXkuaXNBcnJheShub3RpZmljYXRpb24uY2xpZW50KVxyXG4gICAgICAgICAgPyBub3RpZmljYXRpb24uY2xpZW50XHJcbiAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICB9KSkgYXMgTm90aWZpY2F0aW9uW11cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0Tm90aWZpY2F0aW9uczonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGxpY3pixJkgbmllcHJ6ZWN6eXRhbnljaCBwb3dpYWRvbWllxYRcclxuICBhc3luYyBnZXRVbnJlYWRDb3VudCh1c2VyOiBVc2VyKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgY291bnQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdub3RpZmljYXRpb25zJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLmVxKCdyZWFkJywgZmFsc2UpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgbGljemJ5IG5pZXByemVjenl0YW55Y2g6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGNvdW50IHx8IDBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXRVbnJlYWRDb3VudDonLCBlcnJvcilcclxuICAgICAgcmV0dXJuIDBcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBPem5hY3ogcG93aWFkb21pZW5pZSBqYWtvIHByemVjenl0YW5lXHJcbiAgYXN5bmMgbWFya0FzUmVhZChub3RpZmljYXRpb25JZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ21hcmtfbm90aWZpY2F0aW9uX2FzX3JlYWQnLCB7XHJcbiAgICAgICAgbm90aWZpY2F0aW9uX2lkOiBub3RpZmljYXRpb25JZFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBvem5hY3phbmlhIGpha28gcHJ6ZWN6eXRhbmU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBtYXJrQXNSZWFkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIE96bmFjeiB3c3p5c3RraWUgcG93aWFkb21pZW5pYSBqYWtvIHByemVjenl0YW5lXHJcbiAgYXN5bmMgbWFya0FsbEFzUmVhZCh1c2VyOiBVc2VyKTogUHJvbWlzZTxudW1iZXI+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnbWFya19hbGxfbm90aWZpY2F0aW9uc19hc19yZWFkJylcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgb3puYWN6YW5pYSB3c3p5c3RraWNoIGpha28gcHJ6ZWN6eXRhbmU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGRhdGEgfHwgMFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IG1hcmtBbGxBc1JlYWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gVXR3w7NyeiBub3dlIHBvd2lhZG9taWVuaWVcclxuICBhc3luYyBjcmVhdGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uOiBPbWl0PE5vdGlmaWNhdGlvbiwgJ2lkJyB8ICdjcmVhdGVkX2F0Jz4pOiBQcm9taXNlPE5vdGlmaWNhdGlvbj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXHJcbiAgICAgICAgLmluc2VydChbbm90aWZpY2F0aW9uXSlcclxuICAgICAgICAuc2VsZWN0KClcclxuICAgICAgICAuc2luZ2xlKClcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdHdvcnplbmlhIHBvd2lhZG9taWVuaWE6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgcmV0dXJuIGRhdGEgYXMgTm90aWZpY2F0aW9uXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgY3JlYXRlTm90aWZpY2F0aW9uOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFVzdcWEIHBvd2lhZG9taWVuaWVcclxuICBhc3luYyBkZWxldGVOb3RpZmljYXRpb24obm90aWZpY2F0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXHJcbiAgICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgICAgLmVxKCdpZCcsIG5vdGlmaWNhdGlvbklkKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB1c3V3YW5pYSBwb3dpYWRvbWllbmlhOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZGVsZXRlTm90aWZpY2F0aW9uOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFd5Y3p5xZvEhyBzdGFyZSBwb3dpYWRvbWllbmlhXHJcbiAgYXN5bmMgY2xlYW51cE9sZE5vdGlmaWNhdGlvbnMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2NsZWFudXBfb2xkX25vdGlmaWNhdGlvbnMnKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBjenlzemN6ZW5pYSBzdGFyeWNoIHBvd2lhZG9taWXFhDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNsZWFudXBPbGROb3RpZmljYXRpb25zOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogZHppc2llanN6ZSBwcnp5cG9tbmllbmlhIGRsYSBkYXNoYm9hcmRcclxuICBhc3luYyBnZXRUb2RheVJlbWluZGVycyh1c2VyOiBVc2VyKTogUHJvbWlzZTxOb3RpZmljYXRpb25bXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG5cclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbm90aWZpY2F0aW9ucycpXHJcbiAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIHVzZXJfaWQsXHJcbiAgICAgICAgICBjbGllbnRfaWQsXHJcbiAgICAgICAgICB0eXBlLFxyXG4gICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICBtZXNzYWdlLFxyXG4gICAgICAgICAgcmVhZCxcclxuICAgICAgICAgIHVyZ2VudCxcclxuICAgICAgICAgIG1ldGFkYXRhLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIGV4cGlyZXNfYXQsXHJcbiAgICAgICAgICBjbGllbnQ6Y2xpZW50cyAoXHJcbiAgICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgICBmaXJzdF9uYW1lLFxyXG4gICAgICAgICAgICBsYXN0X25hbWUsXHJcbiAgICAgICAgICAgIGNvbXBhbnlfbmFtZVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcclxuICAgICAgICAuZXEoJ3R5cGUnLCAncmVtaW5kZXInKVxyXG4gICAgICAgIC5ndGUoJ2NyZWF0ZWRfYXQnLCBgJHt0b2RheX1UMDA6MDA6MDAuMDAwWmApXHJcbiAgICAgICAgLmx0KCdjcmVhdGVkX2F0JywgYCR7dG9kYXl9VDIzOjU5OjU5Ljk5OVpgKVxyXG4gICAgICAgIC5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgZHppc2llanN6eWNoIHByenlwb21uaWXFhDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4gKGRhdGEgfHwgW10pLm1hcChub3RpZmljYXRpb24gPT4gKHtcclxuICAgICAgICAuLi5ub3RpZmljYXRpb24sXHJcbiAgICAgICAgY2xpZW50OiBub3RpZmljYXRpb24uY2xpZW50ICYmIEFycmF5LmlzQXJyYXkobm90aWZpY2F0aW9uLmNsaWVudCkgJiYgbm90aWZpY2F0aW9uLmNsaWVudC5sZW5ndGggPiAwXHJcbiAgICAgICAgICA/IG5vdGlmaWNhdGlvbi5jbGllbnRbMF1cclxuICAgICAgICAgIDogbm90aWZpY2F0aW9uLmNsaWVudCAmJiAhQXJyYXkuaXNBcnJheShub3RpZmljYXRpb24uY2xpZW50KVxyXG4gICAgICAgICAgPyBub3RpZmljYXRpb24uY2xpZW50XHJcbiAgICAgICAgICA6IHVuZGVmaW5lZFxyXG4gICAgICB9KSkgYXMgTm90aWZpY2F0aW9uW11cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0VG9kYXlSZW1pbmRlcnM6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFVydWNob20gZnVua2NqZSBnZW5lcm93YW5pYSBwb3dpYWRvbWllxYQgKGRvIHRlc3Rvd2FuaWEpXHJcbiAgYXN5bmMgdHJpZ2dlclJlbWluZGVyQ2hlY2soKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2NyZWF0ZV9yZW1pbmRlcl9ub3RpZmljYXRpb25zJylcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdXJ1Y2hhbWlhbmlhIHNwcmF3ZHphbmlhIHByenlwb21uaWXFhDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IHRyaWdnZXJSZW1pbmRlckNoZWNrOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIGFzeW5jIHRyaWdnZXJBbnRpc2FsZUNoZWNrKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdjcmVhdGVfYW50eXNhbGVfd2FybmluZ3MnKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB1cnVjaGFtaWFuaWEgc3ByYXdkemFuaWEgYW50eXNhbGU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyB0cmlnZ2VyQW50aXNhbGVDaGVjazonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTdWJza3J5cGNqYSBuYSByZWFsLXRpbWUgcG93aWFkb21pZW5pYVxyXG4gIHN1YnNjcmliZVRvTm90aWZpY2F0aW9ucyh1c2VySWQ6IHN0cmluZywgY2FsbGJhY2s6IChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbikgPT4gdm9pZCkge1xyXG4gICAgcmV0dXJuIHN1cGFiYXNlXHJcbiAgICAgIC5jaGFubmVsKGBub3RpZmljYXRpb25zXyR7dXNlcklkfWApXHJcbiAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxyXG4gICAgICAgIHsgXHJcbiAgICAgICAgICBldmVudDogJ0lOU0VSVCcsIFxyXG4gICAgICAgICAgc2NoZW1hOiAncHVibGljJywgXHJcbiAgICAgICAgICB0YWJsZTogJ25vdGlmaWNhdGlvbnMnLFxyXG4gICAgICAgICAgZmlsdGVyOiBgdXNlcl9pZD1lcS4ke3VzZXJJZH1gXHJcbiAgICAgICAgfSwgXHJcbiAgICAgICAgKHBheWxvYWQpID0+IHtcclxuICAgICAgICAgIGNhbGxiYWNrKHBheWxvYWQubmV3IGFzIE5vdGlmaWNhdGlvbilcclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgICAgLnN1YnNjcmliZSgpXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiLCJnZXRBdmF0YXJVcmwiLCJhdmF0YXJVcmwiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJkYXRhIiwic3RvcmFnZSIsImZyb20iLCJnZXRQdWJsaWNVcmwiLCJwdWJsaWNVcmwiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic3RvcmFnZUFwaSIsInVwbG9hZENTViIsImZpbGUiLCJ1c2VyIiwiY2xlYW5GaWxlTmFtZSIsIm5hbWUiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJmaWxlTmFtZSIsImlkIiwiRGF0ZSIsIm5vdyIsImZpbGVQYXRoIiwibG9nIiwidXBsb2FkIiwiY2FjaGVDb250cm9sIiwidXBzZXJ0IiwiRXJyb3IiLCJtZXNzYWdlIiwicGF0aCIsImRlbGV0ZUZpbGUiLCJyZW1vdmUiLCJjc3ZJbXBvcnRBcGkiLCJwYXJzZUNTViIsImNzdlRleHQiLCJsaW5lcyIsInNwbGl0IiwiZmlsdGVyIiwibGluZSIsInRyaW0iLCJsZW5ndGgiLCJwYXJzZUNTVkxpbmUiLCJyZXN1bHQiLCJjdXJyZW50IiwiaW5RdW90ZXMiLCJpIiwiY2hhciIsInB1c2giLCJtYXAiLCJjZWxsIiwiaGVhZGVycyIsInJvd3MiLCJzbGljZSIsIm1hcEhlYWRlcnMiLCJtYXBwaW5nIiwiZmllbGRNYXBwaW5ncyIsImZpZWxkcyIsImRiRmllbGQiLCJmaWVsZE1hcHBpbmciLCJoZWFkZXIiLCJzb21lIiwiZmllbGQiLCJ2YWxpZGF0ZVJlcXVpcmVkRmllbGRzIiwicmVxdWlyZWRGaWVsZHMiLCJtaXNzaW5nRmllbGRzIiwiam9pbiIsImFuYWx5emVDb2x1bW5zIiwiYWxsUG9zc2libGVGaWVsZHMiLCJkaXNwbGF5TmFtZSIsInJlcXVpcmVkIiwiZm91bmQiLCJtaXNzaW5nIiwib3B0aW9uYWwiLCJmb3JFYWNoIiwicm93VG9DbGllbnQiLCJyb3ciLCJsb2NhdGlvbklkIiwiZ2V0RmllbGQiLCJkZWZhdWx0VmFsdWUiLCJpbmRleCIsInVuZGVmaW5lZCIsInZhbHVlIiwicmF3U3RhdHVzIiwidmFsaWRTdGF0dXNlcyIsInN0YXR1cyIsImZpcnN0X25hbWUiLCJsYXN0X25hbWUiLCJjb21wYW55X25hbWUiLCJuaXAiLCJwaG9uZSIsImVtYWlsIiwid2Vic2l0ZSIsIm5vdGVzIiwiZWRpdGVkX2J5IiwiZWRpdGVkX2F0IiwidG9JU09TdHJpbmciLCJvd25lcl9pZCIsImxvY2F0aW9uX2lkIiwibGFzdF9lZGl0ZWRfYnlfbmFtZSIsImZ1bGxfbmFtZSIsImxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmwiLCJhdmF0YXJfdXJsIiwiaW1wb3J0Q1NWIiwib25Qcm9ncmVzcyIsInRvdGFsIiwidGV4dCIsImNvbHVtbkFuYWx5c2lzIiwicmVzdWx0cyIsInN1Y2Nlc3MiLCJlcnJvcnMiLCJldmVyeSIsImNsaWVudERhdGEiLCJjbGllbnRzQXBpIiwicHJvZ3Jlc3MiLCJNYXRoIiwiZmxvb3IiLCJwZXJtaXNzaW9uc0FwaSIsImNhblZpZXciLCJjbGllbnQiLCJyb2xlIiwic2FtZUxvY2F0aW9uIiwiY2FuRWRpdCIsImNhbkRlbGV0ZSIsImNhbkFzc2lnbkNsaWVudHMiLCJjYW5DaGFuZ2VSb2xlcyIsImNhbkFjY2Vzc0FkdmFuY2VkUmVwb3J0cyIsImNhblZpZXdBbGxMb2NhdGlvbnMiLCJjYW5GaWx0ZXJCeUxvY2F0aW9uIiwiY2FuTWFuYWdlVXNlciIsInVzZXIxIiwidXNlcjIiLCJoaWdoZXJJbkhpZXJhcmNoeSIsInJvbGVfaGllcmFyY2h5X2xldmVsIiwidGVzdEJhc2ljUXVlcnkiLCJzZWxlY3QiLCJsaW1pdCIsImdldENsaWVudHNQYWdpbmF0ZWQiLCJmaWx0ZXJzIiwicXVlcnkiLCJjb3VudCIsInNvcnRGaWVsZCIsInNvcnRCeSIsImlzQXNjZW5kaW5nIiwic29ydERpcmVjdGlvbiIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZGF0ZSIsImd0ZSIsImVxIiwiZW1wbG95ZWUiLCJzZWFyY2giLCJzZWFyY2hUZXJtIiwib3IiLCJsb2NhdGlvbiIsInBhZ2UiLCJwYWdlU2l6ZSIsInRvIiwicmFuZ2UiLCJjbGllbnRzIiwidHJhbnNmb3JtZWRDbGllbnRzIiwib3duZXIiLCJBcnJheSIsImlzQXJyYXkiLCJjbGllbnRzV2l0aE93bmVycyIsImNsaWVudHNXaXRob3V0T3duZXJzIiwib3duZXJfbmFtZSIsIm93bmVyX2VtYWlsIiwiZ2V0Q2xpZW50cyIsInNhZmVTdGF0dXMiLCJjbGllbnRUb0NyZWF0ZSIsInN0YXR1c19jaGFuZ2VkX2F0IiwicmVtaW5kZXIiLCJpbnNlcnQiLCJzaW5nbGUiLCJ1cGRhdGVDbGllbnQiLCJ1cGRhdGVzIiwiY3VycmVudENsaWVudCIsImZldGNoRXJyb3IiLCJ1cGRhdGVkRGF0YSIsInN0YXR1c0NoYW5nZWQiLCJmaW5hbERhdGEiLCJ1cGRhdGVkX2F0IiwidXBkYXRlIiwiY29kZSIsImRldGFpbHMiLCJoaW50IiwidXBkYXRlTGFzdFBob25lQ2xpY2siLCJjbGllbnRJZCIsImxhc3RfcGhvbmVfY2xpY2siLCJhY3Rpdml0eUxvZ3NBcGkiLCJjcmVhdGVMb2ciLCJjbGllbnRfaWQiLCJjaGFuZ2VkX2J5IiwiY2hhbmdlX3R5cGUiLCJmaWVsZF9jaGFuZ2VkIiwib2xkX3ZhbHVlIiwibmV3X3ZhbHVlIiwibG9nRXJyb3IiLCJkZWxldGVDbGllbnQiLCJkZWxldGUiLCJhc3NpZ25DbGllbnQiLCJuZXdPd25lcklkIiwiY2xlYW51cEludmFsaWRPd25lcklkcyIsImFsbENsaWVudHMiLCJjbGllbnRzRXJyb3IiLCJub3QiLCJjbGVhbmVkIiwib3duZXJJZHMiLCJTZXQiLCJjIiwiZXhpc3RpbmdVc2VycyIsInVzZXJzRXJyb3IiLCJpbiIsImV4aXN0aW5nVXNlcklkcyIsInUiLCJjbGllbnRzVG9DbGVhbiIsImNsZWFudXBSZXN1bHRzIiwiZXJyIiwiU3RyaW5nIiwiY2xlYW5lZENsaWVudHMiLCJzdWJzY3JpYmVUb0NoYW5nZXMiLCJjYWxsYmFjayIsImNoYW5uZWwiLCJvbiIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJzdWJzY3JpYmUiLCJzdWJzY3JpYmVUb093bmVyQ2hhbmdlcyIsImNoYW5uZWxOYW1lIiwicGF5bG9hZCIsImV2ZW50VHlwZSIsImNoYW5nZXMiLCJuZXciLCJjYWxsYmFja0Vycm9yIiwic2V0VGltZW91dCIsInN0YXRlIiwidW5zdWJzY3JpYmUiLCJnZXRDbGllbnRzV2l0aFJlbWluZGVycyIsInRhcmdldERhdGUiLCJ0b2RheSIsImNsaWVudHNXaXRoVG9kYXlSZW1pbmRlcnMiLCJlbmFibGVkIiwidGltZSIsIm5vdGUiLCJzb3J0ZWRDbGllbnRzIiwic29ydCIsImEiLCJiIiwidGltZUEiLCJ0aW1lQiIsImxvY2FsZUNvbXBhcmUiLCJnZXREYWlseVNjaGVkdWxlV2l0aENsaWVudHMiLCJjbGllbnRzV2l0aFJlbWluZGVycyIsInRpbWVTbG90cyIsInR5cGUiLCJjb2xvciIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJzdGF0dXNlcyIsInNsb3RzV2l0aENsaWVudHMiLCJzbG90Iiwic2xvdENsaWVudHMiLCJyZW1pbmRlclRpbWUiLCJob3VycyIsIm1pbnV0ZXMiLCJOdW1iZXIiLCJyZW1pbmRlck1pbnV0ZXMiLCJzdGFydEhvdXJzIiwic3RhcnRNaW5zIiwiZW5kSG91cnMiLCJlbmRNaW5zIiwic3RhcnRNaW51dGVzIiwiZW5kTWludXRlcyIsInRpbWVJblNsb3QiLCJyZWR1Y2UiLCJzdW0iLCJnZXRMb2dzIiwiZ2V0Q2xpZW50SGlzdG9yeSIsImF1dGgiLCJnZXRVc2VyIiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZXJJZHMiLCJCb29sZWFuIiwidXNlcnMiLCJ1c2Vyc01hcCIsImFjYyIsInRpbWVzdGFtcCIsImVkaXRvcl9uYW1lIiwiZWRpdG9yX3JvbGUiLCJlZGl0b3JfYXZhdGFyIiwidGVzdEFjdGl2aXR5TG9nc0FjY2VzcyIsInVzZXJQcm9maWxlIiwidXNlckVycm9yIiwicmVwb3J0c0FwaSIsImdldEVtcGxveWVlU3RhdHMiLCJhbGxFbXBsb3llZXMiLCJlIiwiZW1wbG95ZWVJZHMiLCJlbXAiLCJleGlzdGluZ1N0YXRzIiwic3RhdHNFcnJvciIsInRvZGF5Q2xpZW50cyIsImx0IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ5ZXN0ZXJkYXlTdHIiLCJ5ZXN0ZXJkYXlDbGllbnRzIiwieWVzdGVyZGF5RXJyb3IiLCJhbGxPd25lZENsaWVudHMiLCJvd25lZEVycm9yIiwidG9kYXlTdGF0cyIsInVzZXJJZCIsImNhbnZhcyIsImFudHlzYWxlIiwic2FsZSIsIm90aGVyIiwieWVzdGVyZGF5U3RhdHMiLCJvd25lZENsaWVudHNTdGF0cyIsIm93bmVySWQiLCJicmFrX2tvbnRha3R1IiwibmllX3phaW50ZXJlc293YW55IiwiemRlbmVyd293YW55Iiwic3RhdHNNYXAiLCJNYXAiLCJzdGF0Iiwic2V0IiwidXNlcl9pZCIsImVuaGFuY2VkU3RhdHMiLCJiYXNpY1N0YXQiLCJnZXQiLCJkYWlseV90YXJnZXQiLCJjb21taXNzaW9uX3JhdGUiLCJtb250aGx5X2NhbnZhcyIsIm1vbnRobHlfYW50eXNhbGUiLCJtb250aGx5X3NhbGUiLCJ0b3RhbF9jb21taXNzaW9ucyIsInRvdGFsX3BlbmFsdGllcyIsImN1c3RvbV9jbGllbnRzX2NvdW50IiwiY3VzdG9tX3RvdGFsX3BheW1lbnRzIiwiY3JlYXRlZF9hdCIsInRvZGF5Rm9yVXNlciIsInllc3RlcmRheUZvclVzZXIiLCJvd25lZEZvclVzZXIiLCJ5ZXN0ZXJkYXlTaG9ydGFnZSIsIm1heCIsInBlbmFsdHkiLCJjb21taXNzaW9uIiwiZGFpbHlfYWNoaWV2ZWQiLCJ5ZXN0ZXJkYXlfc2hvcnRhZ2UiLCJzdGF0dXNfY2hhbmdlc190b2RheSIsInMiLCJnZXREYWlseVN1bW1hcnkiLCJzdGF0dXNCcmVha2Rvd24iLCJlbXBsb3llZVN0YXRzIiwidG90YWxDbGllbnRzIiwiZ2V0V2Vla2x5U3VtbWFyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ1cGRhdGVFbXBsb3llZVN0YXRzIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzIiwiY2xpZW50c0NvdW50IiwidG90YWxQYXltZW50cyIsImxlZ2FjeVVwZGF0ZXMiLCJtZXRob2QxRXJyb3IiLCJpbnNlcnREYXRhIiwib25Db25mbGljdCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJtZXRob2QyRXJyb3IiLCJjcmVhdGVFbXBsb3llZVN0YXRzIiwiZ2V0RGF0YWJhc2VVdGlsaXphdGlvbiIsInRvdGFsQ291bnQiLCJ0b3RhbEVycm9yIiwiaGVhZCIsIndpdGhPd25lckNvdW50Iiwid2l0aE93bmVyRXJyb3IiLCJ3aXRob3V0T3duZXJDb3VudCIsInV0aWxpemF0aW9uUGVyY2VudGFnZSIsInJvdW5kIiwid2l0aE93bmVyIiwid2l0aG91dE93bmVyIiwicmVzZXRBbGxDbGllbnRPd25lcnMiLCJiZWZvcmVDb3VudCIsImJlZm9yZUVycm9yIiwicmVzZXRDb3VudCIsImdldEVtcGxveWVlQWN0aXZpdHlTdGF0cyIsImVtcGxveWVlcyIsImFjdGl2aXR5U3RhdHMiLCJzdGF0cyIsImxhdGVzdFN0YXRzTWFwIiwiaGFzIiwic2l6ZSIsImFjdGl2aXR5U3RhdCIsImN1cnJlbnREYXRlIiwiY3VycmVudE1vbnRoIiwiZ2V0TW9udGgiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwibW9udGhTdGFydCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJtb250aEVuZCIsInBlcmlvZF90eXBlIiwicGVyaW9kX3N0YXJ0IiwicGVyaW9kX2VuZCIsInRvdGFsX3dvcmtfbWludXRlcyIsImF2ZXJhZ2VfZGFpbHlfbWludXRlcyIsImV4cGVjdGVkX3dvcmtfbWludXRlcyIsImVmZmljaWVuY3lfcGVyY2VudGFnZSIsInRvdGFsX2FjdGl2aXRpZXMiLCJhdmVyYWdlX2RhaWx5X2FjdGl2aXRpZXMiLCJkYXlzX3dvcmtlZCIsImRheXNfYWJzZW50Iiwid2l0aERhdGEiLCJyIiwid2l0aG91dERhdGEiLCJnZXRTYWxlc1RyZW5kcyIsImx0ZSIsImZpbHRlcmVkRGF0YSIsImRheU5hbWVzIiwidHJlbmRzIiwiZGF5TmFtZSIsImdldERheSIsImRheSIsImdldFBob25lQ2xpY2tzU3RhdHMiLCJlbXBsb3llZXNFcnJvciIsInRvdGFsUGhvbmVDYWxscyIsInRvdGFsUGhvbmVDYWxsc1RvZGF5IiwiYWxsUGhvbmVDbGlja3MiLCJhbGxDbGlja3NFcnJvciIsInRvZGF5UGhvbmVDbGlja3MiLCJ0b2RheUNsaWNrc0Vycm9yIiwiZ2V0VGVhbVBlcmZvcm1hbmNlVHJlbmRzIiwidGVsZWZvbnkiLCJrb253ZXJzamEiLCJrbGllbmNpIiwicGhvbmVDbGlja3MiLCJwaG9uZUVycm9yIiwiY2xpZW50Q2hhbmdlcyIsImNoYW5nZXNFcnJvciIsInRyZW5kc0RhdGEiLCJzYWxlcyIsImNsaWNrIiwiY2hhbmdlIiwiZGF5RGF0YSIsImdldE15UGVyc29uYWxTdGF0cyIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJwaG9uZUNhbGxzVGhpc01vbnRoIiwibXlDbGllbnRzIiwic3RhdHVzTWFwIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJzdGF0dXNDb2xvcnMiLCJjbGllbnRTdGF0cyIsImVudHJpZXMiLCJjb21taXNzaW9uVG90YWwiLCJhY3Rpdml0aWVzIiwiYWN0aXZpdGllc0Vycm9yIiwiZGFpbHlBY3Rpdml0aWVzIiwiYWN0aXZpdHkiLCJob3VyIiwiZ2V0SG91cnMiLCJhZGQiLCJ3b3JraW5nSG91cnNUaGlzTW9udGgiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ3ZWVrZGF5Iiwic29ydERhdGUiLCJnZXRUaW1lIiwidG90YWxXb3JraW5nSG91cnMiLCJ2YWx1ZXMiLCJ0b3RhbFdvcmtpbmdEYXlzIiwic3RhY2siLCJzYXZlV29ya2luZ0hvdXJzIiwiZGF0ZVBhcnRzIiwieWVhciIsInBhcnNlSW50IiwibW9udGgiLCJkYXRlT2JqIiwiZGF5T2ZXZWVrIiwid29ya19kYXRlIiwiaG91cnNfd29ya2VkIiwic3RvcmFnZUtleSIsImV4aXN0aW5nRGF0YSIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzdG9yYWdlRXJyb3IiLCJnZXRXb3JraW5nSG91cnNGb3JNb250aCIsInN0b3JlZERhdGEiLCJob3Vyc01hcCIsImtleXMiLCJlbnRyeSIsInN0YXJ0RGF0ZVN0ciIsImVuZERhdGVTdHIiLCJnZXRNb250aGx5RW1wbG95ZWVQZXJmb3JtYW5jZSIsInJwYyIsInRhcmdldF95ZWFyIiwidGFyZ2V0X21vbnRoIiwiZ2V0VGVhbVN1bW1hcnkiLCJnZXRUb3BQZXJmb3JtZXJzIiwibGltaXRfY291bnQiLCJsb2NhdGlvbnNBcGkiLCJnZXRBbGxMb2NhdGlvbnMiLCJnZXRBbGxMb2NhdGlvbnNXaXRoTWFuYWdlcnMiLCJ0cmFuc2Zvcm1lZERhdGEiLCJwcm9qZWN0X21hbmFnZXIiLCJnZXRVc2VyQWNjZXNzaWJsZUxvY2F0aW9ucyIsImxvY2F0aW9uRXJyb3IiLCJmYWxsYmFja0Vycm9yIiwiZ2V0TG9jYXRpb25CeUlkIiwidXBkYXRlTG9jYXRpb25Qcm9qZWN0TWFuYWdlciIsInByb2plY3RNYW5hZ2VySWQiLCJwcm9qZWN0X21hbmFnZXJfaWQiLCJhdXRoQXBpIiwic2lnbkluIiwicGFzc3dvcmQiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJzaWduVXAiLCJmdWxsTmFtZSIsIm9wdGlvbnMiLCJzaWduT3V0IiwiZ2V0Q3VycmVudFVzZXIiLCJnZXRVc2VyUHJvZmlsZSIsImdldEFsbFVzZXJzIiwiZ2V0U2Vzc2lvbiIsInNlc3Npb24iLCJvbkF1dGhTdGF0ZUNoYW5nZSIsInVwZGF0ZVVzZXJMYW5ndWFnZSIsImxhbmd1YWdlIiwiZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IiwicHJvZmlsZUVycm9yIiwiY3JpdGljYWxFcnJvciIsImdldENhbnZhc1N0YXR1c0NvbG9yIiwic3RhdHVzQ2hhbmdlZEF0IiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsInN0YXR1c0RhdGUiLCJkYXlzRGlmZiIsImdldENhbnZhc0NsaWVudHNXaXRoUHJpb3JpdHkiLCJjYW52YXNDbGllbnRzIiwicHJpb3JpdHlTdGF0cyIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJkYXNoYm9hcmRBcGkiLCJnZXREYXNoYm9hcmRNZXRyaWNzIiwiY2hlY2tWaWV3RnJlc2huZXNzIiwibGFzdFVwZGF0ZSIsIm1pbnV0ZXNTaW5jZVVwZGF0ZSIsImlzU3RhbGUiLCJsYXN0X3VwZGF0ZWQiLCJ0ZWFtQXBpIiwiZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXciLCJnZXRBY3RpdmVVc2Vyc05vdyIsImdldFByb2R1Y3Rpdml0eVN0YXRzIiwidG90YWxVc2VycyIsImF2Z0RhaWx5IiwiYWN0aXZpdGllc18yNGgiLCJhdmdXZWVrbHkiLCJhY3Rpdml0aWVzXzdkIiwiYXZnRGFpbHlBY3Rpdml0aWVzIiwiYXZnV2Vla2x5QWN0aXZpdGllcyIsInRvdGFsRGFpbHlBY3Rpdml0aWVzIiwidG90YWxXZWVrbHlBY3Rpdml0aWVzIiwicGVyZm9ybWFuY2VBcGkiLCJnZXRTeXN0ZW1NZXRyaWNzIiwidGFibGVTdGF0cyIsImdldFRhYmxlU3RhdHMiLCJ0YWJsZU5hbWUiLCJ0YWJsZV9uYW1lIiwicmVjb3JkX2NvdW50IiwidGFibGVfc2l6ZSIsInRhYmxlcyIsInJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyIsImFyY2hpdmVPbGRMb2dzIiwib3B0aW1pemVEYXRhYmFzZSIsImNhbGxzQXBpIiwiZ2V0Q2FsbHMiLCJjYWxsTG9ncyIsImNhbGxlcklkcyIsImNhbGxlcnMiLCJjYWxsZXJzRXJyb3IiLCJjYWxsZXJzTWFwIiwiY2FsbGVyIiwiY2FsbFJlY29yZHMiLCJjbGllbnRfbmFtZSIsImNsaWVudF9jb21wYW55IiwiY2xpZW50X3Bob25lIiwiY2FsbGVkX2J5IiwiY2FsbGVyX25hbWUiLCJjYWxsZXJfcm9sZSIsImNhbGxlcl9hdmF0YXIiLCJjYWxsX3RpbWVzdGFtcCIsImxvY2F0aW9uX25hbWUiLCJsb2NhdGlvbl9jb2RlIiwiZ2V0Q2FsbHNTdGF0cyIsIndlZWtTdGFydCIsImFsbENhbGxzIiwidG90YWxDYWxscyIsImNhbGxzVG9kYXkiLCJjYWxsIiwiY2FsbHNUaGlzV2VlayIsImNhbGxzVGhpc01vbnRoIiwiY2FsbGVyQ291bnRzIiwia2V5IiwiYXZhdGFyIiwidG9wQ2FsbGVycyIsIm5vdGlmaWNhdGlvbnNBcGkiLCJnZXROb3RpZmljYXRpb25zIiwidW5yZWFkT25seSIsIm5vdGlmaWNhdGlvbiIsImdldFVucmVhZENvdW50IiwibWFya0FzUmVhZCIsIm5vdGlmaWNhdGlvbklkIiwibm90aWZpY2F0aW9uX2lkIiwibWFya0FsbEFzUmVhZCIsImNyZWF0ZU5vdGlmaWNhdGlvbiIsImRlbGV0ZU5vdGlmaWNhdGlvbiIsImNsZWFudXBPbGROb3RpZmljYXRpb25zIiwiZ2V0VG9kYXlSZW1pbmRlcnMiLCJ0cmlnZ2VyUmVtaW5kZXJDaGVjayIsInRyaWdnZXJBbnRpc2FsZUNoZWNrIiwic3Vic2NyaWJlVG9Ob3RpZmljYXRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/performance-check/route.ts */ \"(rsc)/./app/api/admin/performance-check/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"standalone\"\r\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/admin/performance-check/route\",\r\n        pathname: \"/api/admin/performance-check\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/admin/performance-check/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\kkacp\\\\Desktop\\\\SpectresGroupCRM\\\\dashboard\\\\app\\\\api\\\\admin\\\\performance-check\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        workAsyncStorage,\r\n        workUnitAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZwZXJmb3JtYW5jZS1jaGVjayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0Q7QUFDakk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDMUY7QUFDQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcclxuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xyXG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XHJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxra2FjcFxcXFxEZXNrdG9wXFxcXFNwZWN0cmVzR3JvdXBDUk1cXFxcZGFzaGJvYXJkXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxccGVyZm9ybWFuY2UtY2hlY2tcXFxccm91dGUudHNcIjtcclxuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXHJcbi8vIG1vZHVsZS5cclxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXHJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xyXG4gICAgZGVmaW5pdGlvbjoge1xyXG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXHJcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCIsXHJcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9wZXJmb3JtYW5jZS1jaGVja1wiLFxyXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXHJcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCJcclxuICAgIH0sXHJcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGtrYWNwXFxcXERlc2t0b3BcXFxcU3BlY3RyZXNHcm91cENSTVxcXFxkYXNoYm9hcmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxwZXJmb3JtYW5jZS1jaGVja1xcXFxyb3V0ZS50c1wiLFxyXG4gICAgbmV4dENvbmZpZ091dHB1dCxcclxuICAgIHVzZXJsYW5kXHJcbn0pO1xyXG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcclxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXHJcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXHJcbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcclxuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcclxuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XHJcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcclxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();