/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/performance-check/route";
exports.ids = ["app/api/admin/performance-check/route"];
exports.modules = {

/***/ "(rsc)/./app/api/admin/performance-check/route.ts":
/*!**************************************************!*\
  !*** ./app/api/admin/performance-check/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n/**\r\n * üîç PERFORMANCE MONITORING: System Performance Check\r\n * \r\n * Endpoint dla sprawdzania metryk wydajno≈õci systemu\r\n * \r\n * Zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\r\n */ function generateRecommendations(tableStats) {\n    const recommendations = [];\n    if (!tableStats || !Array.isArray(tableStats)) {\n        recommendations.push('Nie mo≈ºna sprawdziƒá statystyk tabel');\n        return recommendations;\n    }\n    // Sprawd≈∫ czy sƒÖ tabele do archiwizacji\n    const activeLogsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs');\n    if (activeLogsTable && activeLogsTable.record_count > 10000) {\n        recommendations.push(`Tabela activity_logs ma ${activeLogsTable.record_count} rekord√≥w - rozwa≈º archiwizacjƒô`);\n    }\n    // Sprawd≈∫ rozmiar g≈Ç√≥wnej tabeli\n    const clientsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs_archive');\n    if (clientsTable && clientsTable.record_count > 50000) {\n        recommendations.push('Tabela archiwalna jest du≈ºa - rozwa≈º czyszczenie bardzo starych danych');\n    }\n    if (recommendations.length === 0) {\n        recommendations.push('System wydajno≈õciowy dzia≈Ça optymalnie');\n    }\n    return recommendations;\n}\nasync function GET() {\n    try {\n        console.log('üîç ADMIN: Sprawdzanie metryk wydajno≈õci systemu...');\n        let tableStats = [];\n        let viewFreshness = {\n            lastUpdate: null,\n            minutesSinceUpdate: 0,\n            isStale: false\n        };\n        const errors = [];\n        // Sprawd≈∫ rozmiary tabel i statystyki (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            tableStats = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.getSystemMetrics();\n            console.log('‚úÖ Statystyki tabel pobrane pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk tabel:', error);\n            errors.push('Nie uda≈Ço siƒô pobraƒá statystyk tabel');\n            // Fallback data\n            tableStats = [\n                {\n                    table_name: 'fallback',\n                    record_count: 0,\n                    table_size: 'Brak danych',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n        // Sprawd≈∫ ostatnie od≈õwie≈ºenie materializowanych widok√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n        try {\n            viewFreshness = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.dashboardApi.checkViewFreshness();\n            console.log('‚úÖ ≈öwie≈ºo≈õƒá widok√≥w sprawdzona pomy≈õlnie');\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            errors.push('Nie uda≈Ço siƒô sprawdziƒá ≈õwie≈ºo≈õci widok√≥w');\n            // Fallback data\n            viewFreshness = {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n        // Generuj rekomendacje (zawsze dzia≈ÇajƒÖce)\n        const recommendations = generateRecommendations(tableStats);\n        // Dodaj informacje o b≈Çƒôdach do rekomendacji\n        if (errors.length > 0) {\n            recommendations.unshift(...errors.map((error)=>`‚ö†Ô∏è ${error}`));\n        }\n        console.log('‚úÖ ADMIN: Metryki wydajno≈õci pobrane (z eventualnymi ostrze≈ºeniami)');\n        const overallStatus = errors.length > 0 ? 'warning' : viewFreshness.isStale ? 'warning' : 'healthy';\n        return Response.json({\n            success: true,\n            timestamp: new Date().toISOString(),\n            tableStats,\n            viewFreshness,\n            recommendations,\n            systemHealth: {\n                viewsStale: viewFreshness.isStale,\n                tablesHealthy: tableStats && tableStats.length > 0,\n                overallStatus,\n                hasErrors: errors.length > 0,\n                errorCount: errors.length\n            }\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: Krytyczny b≈ÇƒÖd sprawdzania wydajno≈õci:', error);\n        let errorMessage = 'Krytyczny b≈ÇƒÖd systemu monitorowania wydajno≈õci';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString(),\n            recommendations: [\n                'Sprawd≈∫ po≈ÇƒÖczenie z bazƒÖ danych',\n                'Sprawd≈∫ uprawnienia u≈ºytkownika',\n                'Skontaktuj siƒô z administratorem systemu'\n            ],\n            systemHealth: {\n                viewsStale: true,\n                tablesHealthy: false,\n                overallStatus: 'error',\n                hasErrors: true,\n                errorCount: 1\n            }\n        }, {\n            status: 200\n        }) // Zwr√≥cƒô 200 ale z success: false ≈ºeby frontend m√≥g≈Ç obs≈Çu≈ºyƒá\n        ;\n    }\n}\n/**\r\n * üöÄ POST endpoint dla manualnej optymalizacji systemu\r\n */ async function POST() {\n    try {\n        console.log('üöÄ ADMIN: Uruchamiam pe≈ÇnƒÖ optymalizacjƒô systemu...');\n        const startTime = Date.now();\n        // Uruchom pe≈ÇnƒÖ optymalizacjƒô bazy danych\n        const optimizationResult = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.optimizeDatabase();\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n        console.log(`‚úÖ ADMIN: Optymalizacja zako≈Ñczona w ${duration}ms:`, optimizationResult);\n        return Response.json({\n            success: true,\n            message: optimizationResult,\n            duration: `${duration}ms`,\n            timestamp: new Date().toISOString(),\n            actions: [\n                'Zarchiwizowano stare logi',\n                'Od≈õwie≈ºono materializowane widoki',\n                'Zaktualizowano statystyki bazy danych'\n            ]\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: B≈ÇƒÖd optymalizacji systemu:', error);\n        let errorMessage = 'Nie uda≈Ço siƒô zoptymalizowaƒá systemu';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RDtBQUU5RDs7Ozs7O0NBTUMsR0FFRCxTQUFTRSx3QkFBd0JDLFVBQWlCO0lBQ2hELE1BQU1DLGtCQUE0QixFQUFFO0lBRXBDLElBQUksQ0FBQ0QsY0FBYyxDQUFDRSxNQUFNQyxPQUFPLENBQUNILGFBQWE7UUFDN0NDLGdCQUFnQkcsSUFBSSxDQUFDO1FBQ3JCLE9BQU9IO0lBQ1Q7SUFFQSx3Q0FBd0M7SUFDeEMsTUFBTUksa0JBQWtCTCxXQUFXTSxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFVBQVUsS0FBSztJQUNwRSxJQUFJSCxtQkFBbUJBLGdCQUFnQkksWUFBWSxHQUFHLE9BQU87UUFDM0RSLGdCQUFnQkcsSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUVDLGdCQUFnQkksWUFBWSxDQUFDLCtCQUErQixDQUFDO0lBQy9HO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1DLGVBQWVWLFdBQVdNLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsVUFBVSxLQUFLO0lBQ2pFLElBQUlFLGdCQUFnQkEsYUFBYUQsWUFBWSxHQUFHLE9BQU87UUFDckRSLGdCQUFnQkcsSUFBSSxDQUFDO0lBQ3ZCO0lBRUEsSUFBSUgsZ0JBQWdCVSxNQUFNLEtBQUssR0FBRztRQUNoQ1YsZ0JBQWdCRyxJQUFJLENBQUM7SUFDdkI7SUFFQSxPQUFPSDtBQUNUO0FBRU8sZUFBZVc7SUFDcEIsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFFWixJQUFJZCxhQUFhLEVBQUU7UUFDbkIsSUFBSWUsZ0JBQWdCO1lBQUVDLFlBQVk7WUFBdUJDLG9CQUFvQjtZQUFHQyxTQUFTO1FBQU07UUFDL0YsTUFBTUMsU0FBUyxFQUFFO1FBRWpCLHlEQUF5RDtRQUN6RCxJQUFJO1lBQ0ZuQixhQUFhLE1BQU1ILHlEQUFjQSxDQUFDdUIsZ0JBQWdCO1lBQ2xEUCxRQUFR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QUFFLE9BQU83QixPQUFPO1FBQ2RSLFFBQVFRLEtBQUssQ0FBQyx3Q0FBd0NBO1FBRXRELElBQUlrQixlQUFlO1FBQ25CLElBQUlsQixpQkFBaUJtQixPQUFPO1lBQzFCRCxlQUFlbEIsTUFBTW9CLE9BQU87UUFDOUIsT0FBTyxJQUFJLE9BQU9wQixVQUFVLFVBQVU7WUFDcENrQixlQUFlbEI7UUFDakI7UUFFQSxPQUFPUyxTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFgsT0FBT2tCO1lBQ1BOLFdBQVcsSUFBSVQsT0FBT0MsV0FBVztRQUNuQyxHQUFHO1lBQUVpQixRQUFRO1FBQUk7SUFDbkI7QUFDRiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxra2FjcFxcRGVza3RvcFxcU3BlY3RyZXNHcm91cENSTVxcZGFzaGJvYXJkXFxhcHBcXGFwaVxcYWRtaW5cXHBlcmZvcm1hbmNlLWNoZWNrXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwZXJmb3JtYW5jZUFwaSwgZGFzaGJvYXJkQXBpIH0gZnJvbSAnQC9saWIvc3VwYWJhc2UnO1xyXG5cclxuLyoqXHJcbiAqIPCflI0gUEVSRk9STUFOQ0UgTU9OSVRPUklORzogU3lzdGVtIFBlcmZvcm1hbmNlIENoZWNrXHJcbiAqIFxyXG4gKiBFbmRwb2ludCBkbGEgc3ByYXdkemFuaWEgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXVcclxuICogXHJcbiAqIFpnb2RuaWUgeiBJTlNUUlVLQ0pFX1BFUkZPUk1BTkNFX09QVElNSVpBVElPTlMubWRcclxuICovXHJcblxyXG5mdW5jdGlvbiBnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyh0YWJsZVN0YXRzOiBhbnlbXSk6IHN0cmluZ1tdIHtcclxuICBjb25zdCByZWNvbW1lbmRhdGlvbnM6IHN0cmluZ1tdID0gW11cclxuICBcclxuICBpZiAoIXRhYmxlU3RhdHMgfHwgIUFycmF5LmlzQXJyYXkodGFibGVTdGF0cykpIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdOaWUgbW/FvG5hIHNwcmF3ZHppxIcgc3RhdHlzdHlrIHRhYmVsJylcclxuICAgIHJldHVybiByZWNvbW1lbmRhdGlvbnNcclxuICB9XHJcbiAgXHJcbiAgLy8gU3ByYXdkxbogY3p5IHPEhSB0YWJlbGUgZG8gYXJjaGl3aXphY2ppXHJcbiAgY29uc3QgYWN0aXZlTG9nc1RhYmxlID0gdGFibGVTdGF0cy5maW5kKHN0YXQgPT4gc3RhdC50YWJsZV9uYW1lID09PSAnYWN0aXZpdHlfbG9ncycpXHJcbiAgaWYgKGFjdGl2ZUxvZ3NUYWJsZSAmJiBhY3RpdmVMb2dzVGFibGUucmVjb3JkX2NvdW50ID4gMTAwMDApIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKGBUYWJlbGEgYWN0aXZpdHlfbG9ncyBtYSAke2FjdGl2ZUxvZ3NUYWJsZS5yZWNvcmRfY291bnR9IHJla29yZMOzdyAtIHJvendhxbwgYXJjaGl3aXphY2rEmWApXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNwcmF3ZMW6IHJvem1pYXIgZ8WCw7N3bmVqIHRhYmVsaVxyXG4gIGNvbnN0IGNsaWVudHNUYWJsZSA9IHRhYmxlU3RhdHMuZmluZChzdGF0ID0+IHN0YXQudGFibGVfbmFtZSA9PT0gJ2FjdGl2aXR5X2xvZ3NfYXJjaGl2ZScpXHJcbiAgaWYgKGNsaWVudHNUYWJsZSAmJiBjbGllbnRzVGFibGUucmVjb3JkX2NvdW50ID4gNTAwMDApIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdUYWJlbGEgYXJjaGl3YWxuYSBqZXN0IGR1xbxhIC0gcm96d2HFvCBjenlzemN6ZW5pZSBiYXJkem8gc3RhcnljaCBkYW55Y2gnKVxyXG4gIH1cclxuICBcclxuICBpZiAocmVjb21tZW5kYXRpb25zLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgcmVjb21tZW5kYXRpb25zLnB1c2goJ1N5c3RlbSB3eWRham5vxZtjaW93eSBkemlhxYJhIG9wdHltYWxuaWUnKVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gcmVjb21tZW5kYXRpb25zXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnNvbGUubG9nKCfwn5SNIEFETUlOOiBTcHJhd2R6YW5pZSBtZXRyeWsgd3lkYWpub8WbY2kgc3lzdGVtdS4uLicpXHJcbiAgICBcclxuICAgIGxldCB0YWJsZVN0YXRzID0gW11cclxuICAgIGxldCB2aWV3RnJlc2huZXNzID0geyBsYXN0VXBkYXRlOiBudWxsIGFzIHN0cmluZyB8IG51bGwsIG1pbnV0ZXNTaW5jZVVwZGF0ZTogMCwgaXNTdGFsZTogZmFsc2UgfVxyXG4gICAgY29uc3QgZXJyb3JzID0gW11cclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbogcm96bWlhcnkgdGFiZWwgaSBzdGF0eXN0eWtpICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICB0cnkge1xyXG4gICAgICB0YWJsZVN0YXRzID0gYXdhaXQgcGVyZm9ybWFuY2VBcGkuZ2V0U3lzdGVtTWV0cmljcygpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHlzdHlraSB0YWJlbCBwb2JyYW5lIHBvbXnFm2xuaWUnKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayB0YWJlbDonLCBlcnJvcilcclxuICAgICAgZXJyb3JzLnB1c2goJ05pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHN0YXR5c3R5ayB0YWJlbCcpXHJcbiAgICAgIC8vIEZhbGxiYWNrIGRhdGFcclxuICAgICAgdGFibGVTdGF0cyA9IFt7XHJcbiAgICAgICAgdGFibGVfbmFtZTogJ2ZhbGxiYWNrJyxcclxuICAgICAgICByZWNvcmRfY291bnQ6IDAsXHJcbiAgICAgICAgdGFibGVfc2l6ZTogJ0JyYWsgZGFueWNoJyxcclxuICAgICAgICBsYXN0X3VwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICB9XVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiBvc3RhdG5pZSBvZMWbd2llxbxlbmllIG1hdGVyaWFsaXpvd2FueWNoIHdpZG9rw7N3ICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICB0cnkge1xyXG4gICAgICB2aWV3RnJlc2huZXNzID0gYXdhaXQgZGFzaGJvYXJkQXBpLmNoZWNrVmlld0ZyZXNobmVzcygpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgxZp3aWXFvG/Fm8SHIHdpZG9rw7N3IHNwcmF3ZHpvbmEgcG9tecWbbG5pZScpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHNwcmF3ZHphbmlhIMWbd2llxbxvxZtjaSB3aWRva8OzdzonLCBlcnJvcilcclxuICAgICAgZXJyb3JzLnB1c2goJ05pZSB1ZGHFgm8gc2nEmSBzcHJhd2R6acSHIMWbd2llxbxvxZtjaSB3aWRva8OzdycpXHJcbiAgICAgIC8vIEZhbGxiYWNrIGRhdGFcclxuICAgICAgdmlld0ZyZXNobmVzcyA9IHsgXHJcbiAgICAgICAgbGFzdFVwZGF0ZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLCBcclxuICAgICAgICBtaW51dGVzU2luY2VVcGRhdGU6IDAsIFxyXG4gICAgICAgIGlzU3RhbGU6IGZhbHNlIFxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIEdlbmVydWogcmVrb21lbmRhY2plICh6YXdzemUgZHppYcWCYWrEhWNlKVxyXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModGFibGVTdGF0cylcclxuICAgIFxyXG4gICAgLy8gRG9kYWogaW5mb3JtYWNqZSBvIGLFgsSZZGFjaCBkbyByZWtvbWVuZGFjamlcclxuICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICByZWNvbW1lbmRhdGlvbnMudW5zaGlmdCguLi5lcnJvcnMubWFwKGVycm9yID0+IGDimqDvuI8gJHtlcnJvcn1gKSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ+KchSBBRE1JTjogTWV0cnlraSB3eWRham5vxZtjaSBwb2JyYW5lICh6IGV2ZW50dWFsbnltaSBvc3RyemXFvGVuaWFtaSknKVxyXG4gICAgXHJcbiAgICBjb25zdCBvdmVyYWxsU3RhdHVzID0gZXJyb3JzLmxlbmd0aCA+IDAgPyAnd2FybmluZycgOiAodmlld0ZyZXNobmVzcy5pc1N0YWxlID8gJ3dhcm5pbmcnIDogJ2hlYWx0aHknKVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB0YWJsZVN0YXRzLFxyXG4gICAgICB2aWV3RnJlc2huZXNzLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXHJcbiAgICAgIHN5c3RlbUhlYWx0aDoge1xyXG4gICAgICAgIHZpZXdzU3RhbGU6IHZpZXdGcmVzaG5lc3MuaXNTdGFsZSxcclxuICAgICAgICB0YWJsZXNIZWFsdGh5OiB0YWJsZVN0YXRzICYmIHRhYmxlU3RhdHMubGVuZ3RoID4gMCxcclxuICAgICAgICBvdmVyYWxsU3RhdHVzLFxyXG4gICAgICAgIGhhc0Vycm9yczogZXJyb3JzLmxlbmd0aCA+IDAsXHJcbiAgICAgICAgZXJyb3JDb3VudDogZXJyb3JzLmxlbmd0aFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBRE1JTjogS3J5dHljem55IGLFgsSFZCBzcHJhd2R6YW5pYSB3eWRham5vxZtjaTonLCBlcnJvcilcclxuICAgIFxyXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdLcnl0eWN6bnkgYsWCxIVkIHN5c3RlbXUgbW9uaXRvcm93YW5pYSB3eWRham5vxZtjaSdcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvclxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnM6IFtcclxuICAgICAgICAnU3ByYXdkxbogcG/FgsSFY3plbmllIHogYmF6xIUgZGFueWNoJywgXHJcbiAgICAgICAgJ1NwcmF3ZMW6IHVwcmF3bmllbmlhIHXFvHl0a293bmlrYScsXHJcbiAgICAgICAgJ1Nrb250YWt0dWogc2nEmSB6IGFkbWluaXN0cmF0b3JlbSBzeXN0ZW11J1xyXG4gICAgICBdLFxyXG4gICAgICBzeXN0ZW1IZWFsdGg6IHtcclxuICAgICAgICB2aWV3c1N0YWxlOiB0cnVlLFxyXG4gICAgICAgIHRhYmxlc0hlYWx0aHk6IGZhbHNlLFxyXG4gICAgICAgIG92ZXJhbGxTdGF0dXM6ICdlcnJvcicsXHJcbiAgICAgICAgaGFzRXJyb3JzOiB0cnVlLFxyXG4gICAgICAgIGVycm9yQ291bnQ6IDFcclxuICAgICAgfVxyXG4gICAgfSwgeyBzdGF0dXM6IDIwMCB9KSAvLyBad3LDs2PEmSAyMDAgYWxlIHogc3VjY2VzczogZmFsc2UgxbxlYnkgZnJvbnRlbmQgbcOzZ8WCIG9ic8WCdcW8ecSHXHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog8J+agCBQT1NUIGVuZHBvaW50IGRsYSBtYW51YWxuZWogb3B0eW1hbGl6YWNqaSBzeXN0ZW11XHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVCgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ/CfmoAgQURNSU46IFVydWNoYW1pYW0gcGXFgm7EhSBvcHR5bWFsaXphY2rEmSBzeXN0ZW11Li4uJylcclxuICAgIFxyXG4gICAgY29uc3Qgc3RhcnRUaW1lID0gRGF0ZS5ub3coKVxyXG4gICAgXHJcbiAgICAvLyBVcnVjaG9tIHBlxYJuxIUgb3B0eW1hbGl6YWNqxJkgYmF6eSBkYW55Y2hcclxuICAgIGNvbnN0IG9wdGltaXphdGlvblJlc3VsdCA9IGF3YWl0IHBlcmZvcm1hbmNlQXBpLm9wdGltaXplRGF0YWJhc2UoKVxyXG4gICAgXHJcbiAgICBjb25zdCBlbmRUaW1lID0gRGF0ZS5ub3coKVxyXG4gICAgY29uc3QgZHVyYXRpb24gPSBlbmRUaW1lIC0gc3RhcnRUaW1lXHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGDinIUgQURNSU46IE9wdHltYWxpemFjamEgemFrb8WEY3pvbmEgdyAke2R1cmF0aW9ufW1zOmAsIG9wdGltaXphdGlvblJlc3VsdClcclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBvcHRpbWl6YXRpb25SZXN1bHQsXHJcbiAgICAgIGR1cmF0aW9uOiBgJHtkdXJhdGlvbn1tc2AsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICBhY3Rpb25zOiBbXHJcbiAgICAgICAgJ1phcmNoaXdpem93YW5vIHN0YXJlIGxvZ2knLFxyXG4gICAgICAgICdPZMWbd2llxbxvbm8gbWF0ZXJpYWxpem93YW5lIHdpZG9raScsIFxyXG4gICAgICAgICdaYWt0dWFsaXpvd2FubyBzdGF0eXN0eWtpIGJhenkgZGFueWNoJ1xyXG4gICAgICBdXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBBRE1JTjogQsWCxIVkIG9wdHltYWxpemFjamkgc3lzdGVtdTonLCBlcnJvcilcclxuICAgIFxyXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICdOaWUgdWRhxYJvIHNpxJkgem9wdHltYWxpem93YcSHIHN5c3RlbXUnXHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlXHJcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBlcnJvciA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3JcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICBlcnJvcjogZXJyb3JNZXNzYWdlLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgfSwgeyBzdGF0dXM6IDUwMCB9KVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsicGVyZm9ybWFuY2VBcGkiLCJkYXNoYm9hcmRBcGkiLCJnZW5lcmF0ZVJlY29tbWVuZGF0aW9ucyIsInRhYmxlU3RhdHMiLCJyZWNvbW1lbmRhdGlvbnMiLCJBcnJheSIsImlzQXJyYXkiLCJwdXNoIiwiYWN0aXZlTG9nc1RhYmxlIiwiZmluZCIsInN0YXQiLCJ0YWJsZV9uYW1lIiwicmVjb3JkX2NvdW50IiwiY2xpZW50c1RhYmxlIiwibGVuZ3RoIiwiR0VUIiwiY29uc29sZSIsImxvZyIsInZpZXdGcmVzaG5lc3MiLCJsYXN0VXBkYXRlIiwibWludXRlc1NpbmNlVXBkYXRlIiwiaXNTdGFsZSIsImVycm9ycyIsImdldFN5c3RlbU1ldHJpY3MiLCJlcnJvciIsInRhYmxlX3NpemUiLCJsYXN0X3VwZGF0ZWQiLCJEYXRlIiwidG9JU09TdHJpbmciLCJjaGVja1ZpZXdGcmVzaG5lc3MiLCJ1bnNoaWZ0IiwibWFwIiwib3ZlcmFsbFN0YXR1cyIsIlJlc3BvbnNlIiwianNvbiIsInN1Y2Nlc3MiLCJ0aW1lc3RhbXAiLCJzeXN0ZW1IZWFsdGgiLCJ2aWV3c1N0YWxlIiwidGFibGVzSGVhbHRoeSIsImhhc0Vycm9ycyIsImVycm9yQ291bnQiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJQT1NUIiwic3RhcnRUaW1lIiwibm93Iiwib3B0aW1pemF0aW9uUmVzdWx0Iiwib3B0aW1pemVEYXRhYmFzZSIsImVuZFRpbWUiLCJkdXJhdGlvbiIsImFjdGlvbnMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/performance-check/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activityLogsApi: () => (/* binding */ activityLogsApi),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   callsApi: () => (/* binding */ callsApi),\n/* harmony export */   clientsApi: () => (/* binding */ clientsApi),\n/* harmony export */   csvImportApi: () => (/* binding */ csvImportApi),\n/* harmony export */   dashboardApi: () => (/* binding */ dashboardApi),\n/* harmony export */   getAvatarUrl: () => (/* binding */ getAvatarUrl),\n/* harmony export */   getCanvasClientsWithPriority: () => (/* binding */ getCanvasClientsWithPriority),\n/* harmony export */   getCanvasStatusColor: () => (/* binding */ getCanvasStatusColor),\n/* harmony export */   locationsApi: () => (/* binding */ locationsApi),\n/* harmony export */   performanceApi: () => (/* binding */ performanceApi),\n/* harmony export */   permissionsApi: () => (/* binding */ permissionsApi),\n/* harmony export */   reportsApi: () => (/* binding */ reportsApi),\n/* harmony export */   storageApi: () => (/* binding */ storageApi),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   teamApi: () => (/* binding */ teamApi)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://pkhuggdkcglicghgxiyp.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBraHVnZ2RrY2dsaWNnaGd4aXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MTEwNzEsImV4cCI6MjA2NTQ4NzA3MX0.LbWtb-modRDlvnkGF5IswRHe1lJpd4zCMgkQ3_E0QQk\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Funkcja pomocnicza do generowania poprawnych URL-i avatar√≥w z Supabase Storage\nconst getAvatarUrl = (avatarUrl)=>{\n    if (!avatarUrl) return null;\n    // Je≈õli to ju≈º pe≈Çny URL (zaczyna siƒô od http), zwr√≥ƒá bez zmian\n    if (avatarUrl.startsWith('http')) {\n        return avatarUrl;\n    }\n    // Je≈õli to ≈õcie≈ºka w bucket'u (zawiera folder), wygeneruj publiczny URL\n    if (avatarUrl.includes('/')) {\n        try {\n            const { data } = supabase.storage.from('avatars').getPublicUrl(avatarUrl);\n            return data.publicUrl;\n        } catch (error) {\n            console.error('B≈ÇƒÖd generowania URL avatara:', error);\n            return null;\n        }\n    }\n    // Fallback - prawdopodobnie niepoprawny format\n    console.warn('Nierozpoznany format avatar_url:', avatarUrl);\n    return null;\n};\n// Storage API dla plik√≥w CSV\nconst storageApi = {\n    // Upload pliku CSV do bucket\n    async uploadCSV (file, user) {\n        try {\n            // Oczyszczenie nazwy pliku z problematycznych znak√≥w\n            const cleanFileName = file.name.replace(/[^a-zA-Z0-9.-]/g, '_') // ZastƒÖp wszystkie znaki specjalne podkre≈õleniami\n            .replace(/_{2,}/g, '_') // Zamie≈Ñ wielokrotne podkre≈õlenia na pojedyncze\n            .replace(/^_+|_+$/g, '') // Usu≈Ñ podkre≈õlenia z poczƒÖtku i ko≈Ñca\n            .toLowerCase() // Ma≈Çe litery dla consistency\n            ;\n            const fileName = `${user.id}_${Date.now()}_${cleanFileName}`;\n            const filePath = `csv-imports/${fileName}`;\n            console.log(`üìÅ Uploading CSV: ${filePath}`);\n            console.log(`üìÅ Original filename: ${file.name}`);\n            console.log(`üìÅ Cleaned filename: ${cleanFileName}`);\n            const { data, error } = await supabase.storage.from('csv-files').upload(filePath, file, {\n                cacheControl: '3600',\n                upsert: false\n            });\n            if (error) {\n                console.error('‚ùå Storage upload error:', error);\n                throw new Error(`B≈ÇƒÖd uploadu: ${error.message}`);\n            }\n            console.log('‚úÖ File uploaded successfully:', data.path);\n            return data.path;\n        } catch (error) {\n            console.error('‚ùå Upload failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz publiczny URL pliku\n    getPublicUrl (path) {\n        const { data } = supabase.storage.from('csv-files').getPublicUrl(path);\n        return data.publicUrl;\n    },\n    // Usu≈Ñ plik z bucket\n    async deleteFile (path) {\n        const { error } = await supabase.storage.from('csv-files').remove([\n            path\n        ]);\n        if (error) {\n            console.error('‚ùå File deletion error:', error);\n            throw new Error(`B≈ÇƒÖd usuwania pliku: ${error.message}`);\n        }\n    }\n};\n// CSV Import API\nconst csvImportApi = {\n    // Parsuj CSV i zwr√≥ƒá dane\n    parseCSV (csvText) {\n        const lines = csvText.split('\\n').filter((line)=>line.trim() !== '');\n        if (lines.length < 2) {\n            throw new Error('Plik CSV jest pusty lub zawiera tylko nag≈Ç√≥wki');\n        }\n        // Parsowanie z obs≈ÇugƒÖ cudzys≈Çow√≥w\n        const parseCSVLine = (line)=>{\n            const result = [];\n            let current = '';\n            let inQuotes = false;\n            for(let i = 0; i < line.length; i++){\n                const char = line[i];\n                if (char === '\"') {\n                    inQuotes = !inQuotes;\n                } else if (char === ',' && !inQuotes) {\n                    result.push(current.trim());\n                    current = '';\n                } else {\n                    current += char;\n                }\n            }\n            result.push(current.trim());\n            return result.map((cell)=>cell.replace(/^\"|\"$/g, '')) // Usu≈Ñ cudzys≈Çowy\n            ;\n        };\n        const headers = parseCSVLine(lines[0]);\n        const rows = lines.slice(1).map(parseCSVLine);\n        return {\n            headers,\n            rows\n        };\n    },\n    // Mapuj nag≈Ç√≥wki CSV na pola bazy danych\n    mapHeaders (headers) {\n        const mapping = {};\n        const fieldMappings = [\n            {\n                fields: [\n                    'first_name',\n                    'imiƒô',\n                    'name',\n                    'firstName'\n                ],\n                dbField: 'first_name'\n            },\n            {\n                fields: [\n                    'last_name',\n                    'nazwisko',\n                    'surname',\n                    'lastName'\n                ],\n                dbField: 'last_name'\n            },\n            {\n                fields: [\n                    'company_name',\n                    'firma',\n                    'company',\n                    'companyName',\n                    'nazwa'\n                ],\n                dbField: 'company_name'\n            },\n            {\n                fields: [\n                    'nip',\n                    'tax_id',\n                    'taxId'\n                ],\n                dbField: 'nip'\n            },\n            {\n                fields: [\n                    'phone',\n                    'telefon',\n                    'telephone'\n                ],\n                dbField: 'phone'\n            },\n            {\n                fields: [\n                    'email',\n                    'e-mail',\n                    'mail'\n                ],\n                dbField: 'email'\n            },\n            {\n                fields: [\n                    'website',\n                    'www',\n                    'strona',\n                    'url'\n                ],\n                dbField: 'website'\n            },\n            {\n                fields: [\n                    'notes',\n                    'notatka',\n                    'note',\n                    'comment'\n                ],\n                dbField: 'notes'\n            },\n            {\n                fields: [\n                    'status'\n                ],\n                dbField: 'status'\n            }\n        ];\n        for (const fieldMapping of fieldMappings){\n            for(let i = 0; i < headers.length; i++){\n                const header = headers[i].toLowerCase().trim();\n                if (fieldMapping.fields.some((field)=>header.includes(field))) {\n                    mapping[fieldMapping.dbField] = i;\n                    break;\n                }\n            }\n        }\n        return mapping;\n    },\n    // Waliduj wymagane pola\n    validateRequiredFields (mapping) {\n        const requiredFields = [\n            'company_name'\n        ];\n        const missingFields = requiredFields.filter((field)=>!(field in mapping));\n        if (missingFields.length > 0) {\n            throw new Error(`Brak wymaganych kolumn: ${missingFields.join(', ')}. Wymagane: Firma/Nazwa`);\n        }\n    },\n    // Sprawd≈∫ dostƒôpne kolumny i poka≈º informacje\n    analyzeColumns (mapping, headers) {\n        const allPossibleFields = [\n            {\n                field: 'first_name',\n                displayName: 'Imiƒô',\n                required: false\n            },\n            {\n                field: 'last_name',\n                displayName: 'Nazwisko',\n                required: false\n            },\n            {\n                field: 'company_name',\n                displayName: 'Firma/Nazwa',\n                required: true\n            },\n            {\n                field: 'phone',\n                displayName: 'Telefon',\n                required: false\n            },\n            {\n                field: 'email',\n                displayName: 'Email',\n                required: false\n            },\n            {\n                field: 'nip',\n                displayName: 'NIP',\n                required: false\n            },\n            {\n                field: 'website',\n                displayName: 'Strona WWW',\n                required: false\n            },\n            {\n                field: 'notes',\n                displayName: 'Notatki',\n                required: false\n            },\n            {\n                field: 'status',\n                displayName: 'Status',\n                required: false\n            }\n        ];\n        const found = [];\n        const missing = [];\n        const optional = [];\n        allPossibleFields.forEach(({ field, displayName, required })=>{\n            if (field in mapping) {\n                found.push(displayName);\n            } else if (required) {\n                missing.push(displayName);\n            } else {\n                optional.push(displayName);\n            }\n        });\n        return {\n            found,\n            missing,\n            optional\n        };\n    },\n    // Przekszta≈Çƒá wiersz CSV na obiekt klienta\n    rowToClient (row, mapping, user, locationId) {\n        const getField = (field, defaultValue = 'brak informacji')=>{\n            const index = mapping[field];\n            if (index === undefined) {\n                return defaultValue;\n            }\n            const value = (row[index] || '').trim();\n            return value === '' ? defaultValue : value;\n        };\n        // Walidacja statusu\n        const rawStatus = getField('status', 'canvas').toLowerCase();\n        const validStatuses = [\n            'canvas',\n            'brak_kontaktu',\n            'nie_zainteresowany',\n            'zdenerwowany',\n            'antysale',\n            'sale',\n            '$$'\n        ];\n        const status = validStatuses.includes(rawStatus) ? rawStatus : 'canvas';\n        return {\n            first_name: getField('first_name'),\n            last_name: getField('last_name'),\n            company_name: getField('company_name', ''),\n            nip: getField('nip'),\n            phone: getField('phone'),\n            email: getField('email'),\n            website: getField('website'),\n            notes: getField('notes'),\n            status,\n            edited_by: user.id,\n            edited_at: new Date().toISOString(),\n            owner_id: user.id,\n            location_id: locationId || user.location_id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url\n        };\n    },\n    // Import pe≈Çnego CSV do bazy danych\n    async importCSV (file, user, locationId, onProgress) {\n        try {\n            onProgress?.({\n                current: 0,\n                total: 100,\n                status: 'Uploading pliku...'\n            });\n            // 1. Upload pliku do Storage\n            const filePath = await storageApi.uploadCSV(file, user);\n            onProgress?.({\n                current: 20,\n                total: 100,\n                status: 'Parsowanie CSV...'\n            });\n            // 2. Czytanie i parsowanie CSV\n            const csvText = await file.text();\n            const { headers, rows } = csvImportApi.parseCSV(csvText);\n            onProgress?.({\n                current: 40,\n                total: 100,\n                status: 'Mapowanie kolumn...'\n            });\n            // 3. Mapowanie nag≈Ç√≥wk√≥w\n            const mapping = csvImportApi.mapHeaders(headers);\n            csvImportApi.validateRequiredFields(mapping);\n            // 4. Analiza dostƒôpnych kolumn\n            const columnAnalysis = csvImportApi.analyzeColumns(mapping, headers);\n            console.log('üìä CSV Headers:', headers);\n            console.log('üìä Field mapping:', mapping);\n            console.log('üìä Rows to import:', rows.length);\n            console.log('‚úÖ Znalezione kolumny:', columnAnalysis.found);\n            console.log('‚ùå BrakujƒÖce wymagane:', columnAnalysis.missing);\n            console.log('‚ö™ Opcjonalne (bƒôdƒÖ \"brak informacji\"):', columnAnalysis.optional);\n            onProgress?.({\n                current: 50,\n                total: 100,\n                status: `Importowanie ${rows.length} klient√≥w...`\n            });\n            // 4. Import wierszy do bazy\n            const results = {\n                success: 0,\n                errors: []\n            };\n            for(let i = 0; i < rows.length; i++){\n                try {\n                    const row = rows[i];\n                    // Sprawd≈∫ czy wiersz nie jest pusty\n                    if (row.every((cell)=>cell.trim() === '')) {\n                        continue;\n                    }\n                    const clientData = csvImportApi.rowToClient(row, mapping, user, locationId);\n                    // Walidacja podstawowych danych\n                    if (!clientData.company_name || clientData.company_name.trim() === '') {\n                        results.errors.push({\n                            row: i + 2,\n                            error: 'Brak wymaganych danych: firma/nazwa',\n                            data: row\n                        });\n                        continue;\n                    }\n                    // Dodaj klienta do bazy\n                    await clientsApi.createClient(clientData, user);\n                    results.success++;\n                    // Aktualizuj progress\n                    const progress = 50 + Math.floor(i / rows.length * 40);\n                    onProgress?.({\n                        current: progress,\n                        total: 100,\n                        status: `Zaimportowano ${results.success}/${rows.length} klient√≥w`\n                    });\n                } catch (error) {\n                    console.error(`‚ùå B≈ÇƒÖd importu wiersza ${i + 2}:`, error);\n                    results.errors.push({\n                        row: i + 2,\n                        error: error instanceof Error ? error.message : 'Nieznany b≈ÇƒÖd',\n                        data: rows[i]\n                    });\n                }\n            }\n            onProgress?.({\n                current: 95,\n                total: 100,\n                status: 'Finalizowanie...'\n            });\n            // 5. Opcjonalnie usu≈Ñ plik z Storage (lub zachowaj dla historii)\n            // await storageApi.deleteFile(filePath)\n            onProgress?.({\n                current: 100,\n                total: 100,\n                status: 'Zako≈Ñczono!'\n            });\n            console.log(`‚úÖ Import zako≈Ñczony: ${results.success} sukces, ${results.errors.length} b≈Çƒôd√≥w`);\n            return results;\n        } catch (error) {\n            console.error('‚ùå CSV Import failed:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje sprawdzania uprawnie≈Ñ z hierarchiƒÖ i lokalizacjƒÖ\nconst permissionsApi = {\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá klienta (zgodnie z RLS)\n    canView: (client, user)=>{\n        // Szef i admin widzƒÖ wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Sprawd≈∫ czy klient jest w tej samej lokalizacji co u≈ºytkownik\n        const sameLocation = client.location_id === user.location_id;\n        if (!sameLocation) {\n            return false;\n        }\n        switch(user.role){\n            case 'pracownik':\n                // Pracownik widzi tylko swoich klient√≥w w swojej lokalizacji\n                return client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id;\n            case 'junior_manager':\n            case 'manager':\n            case 'project_manager':\n                // Mened≈ºerowie widzƒÖ wszystkich klient√≥w w swojej lokalizacji\n                return true;\n            default:\n                return false;\n        }\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe edytowaƒá klienta\n    canEdit: (client, user)=>{\n        // Takie same regu≈Çy jak canView\n        return permissionsApi.canView(client, user);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe usunƒÖƒá klienta\n    canDelete: (client, user)=>{\n        // Szef i admin mogƒÖ usuwaƒá wszystko\n        if ([\n            'szef',\n            'admin'\n        ].includes(user.role)) {\n            return true;\n        }\n        // Mened≈ºerowie mogƒÖ usuwaƒá w swojej lokalizacji\n        if ([\n            'manager',\n            'project_manager',\n            'junior_manager'\n        ].includes(user.role)) {\n            return client.location_id === user.location_id;\n        }\n        // Pracownicy nie mogƒÖ usuwaƒá\n        return false;\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe przypisywaƒá klient√≥w\n    canAssignClients: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe zmieniaƒá role innych u≈ºytkownik√≥w\n    canChangeRoles: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe dostƒôp do zaawansowanych raport√≥w\n    canAccessAdvancedReports: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá wszystkie lokalizacje\n    canViewAllLocations: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe filtrowaƒá po lokalizacjach\n    canFilterByLocation: (user)=>{\n        return [\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ poziom hierarchii - czy user1 mo≈ºe zarzƒÖdzaƒá user2\n    canManageUser: (user1, user2)=>{\n        // Admin mo≈ºe zarzƒÖdzaƒá wszystkimi\n        if (user1.role === 'admin') return true;\n        // Szef mo≈ºe zarzƒÖdzaƒá wszystkimi opr√≥cz admin√≥w\n        if (user1.role === 'szef' && user2.role !== 'admin') return true;\n        // Inni mogƒÖ zarzƒÖdzaƒá tylko podw≈Çadnymi w tej samej lokalizacji\n        const sameLocation = user1.location_id === user2.location_id;\n        const higherInHierarchy = (user1.role_hierarchy_level || 99) < (user2.role_hierarchy_level || 99);\n        return sameLocation && higherInHierarchy;\n    }\n};\n// Funkcje API dla klient√≥w z systemem uprawnie≈Ñ\nconst clientsApi = {\n    // Funkcja testowa - podstawowe zapytanie do klient√≥w\n    async testBasicQuery () {\n        try {\n            console.log('üîç Testowe zapytanie do tabeli clients...');\n            const { data, error } = await supabase.from('clients').select('*').limit(5);\n            console.log('Wynik testu - data:', data);\n            console.log('Wynik testu - error:', error);\n            return {\n                data,\n                error\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testowego zapytania:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n    },\n    // Pobierz klient√≥w z filtrami uprawnie≈Ñ\n    // üöÄ NOWE: Funkcja z paginacjƒÖ zwracajƒÖca obiekt z metadanymi\n    async getClientsPaginated (user, filters) {\n        try {\n            console.log('üîÑ Rozpoczynam pobieranie klient√≥w dla u≈ºytkownika:', user.id, user.role);\n            // U≈ºyj JOIN aby pobraƒá klient√≥w z danymi w≈Ça≈õcicieli i lokalizacji w jednym zapytaniu\n            // üöÄ OPTYMALIZACJA: Wybierz tylko niezbƒôdne pola + lokalizacja\n            let query = supabase.from('clients').select(`\n          id,\n          first_name,\n          last_name,\n          company_name,\n          nip,\n          phone,\n          email,\n          website,\n          status,\n          notes,\n          owner_id,\n          location_id,\n          edited_by,\n          edited_at,\n          created_at,\n          updated_at,\n          status_changed_at,\n          last_phone_click,\n          last_edited_by_name,\n          last_edited_by_avatar_url,\n          owner:users!owner_id (\n            id,\n            full_name,\n            email,\n            avatar_url\n          ),\n          location:locations!location_id (\n            id,\n            name,\n            code,\n            currency,\n            timezone\n          )\n        `, {\n                count: 'exact'\n            }).order('updated_at', {\n                ascending: false\n            });\n            // Dodatkowe filtry\n            if (filters?.date) {\n                query = query.gte('updated_at', filters.date);\n            }\n            if (filters?.status) {\n                query = query.eq('status', filters.status);\n            }\n            if (filters?.employee) {\n                query = query.eq('edited_by', filters.employee);\n            }\n            // üöÄ NOWE: Filtr wyszukiwania\n            if (filters?.search) {\n                const searchTerm = filters.search.toLowerCase();\n                query = query.or(`first_name.ilike.%${searchTerm}%,last_name.ilike.%${searchTerm}%,company_name.ilike.%${searchTerm}%,phone.ilike.%${searchTerm}%,email.ilike.%${searchTerm}%`);\n            }\n            // üöÄ NOWE: Filtr lokalizacji\n            if (filters?.location) {\n                query = query.eq('location_id', filters.location);\n            }\n            // üöÄ NOWE: Paginacja\n            if (filters?.page && filters?.pageSize) {\n                const from = (filters.page - 1) * filters.pageSize;\n                const to = from + filters.pageSize - 1;\n                query = query.range(from, to);\n                console.log(`üìÑ Paginacja: strona ${filters.page}, rozmiar ${filters.pageSize}, zakres: ${from}-${to}`);\n            }\n            console.log('üîÑ Wykonujƒô zapytanie z JOIN i liczeniem...');\n            const { data: clients, error, count } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania clients:', error);\n                throw error;\n            }\n            if (!clients || clients.length === 0) {\n                console.log('‚ÑπÔ∏è Brak klient√≥w w bazie danych');\n                return {\n                    clients: [],\n                    total: 0,\n                    page: filters?.page || 1,\n                    pageSize: filters?.pageSize || 0\n                };\n            }\n            // Przekszta≈Çƒá dane - Supabase JOIN zwraca owner i location jako tablice, ale potrzebujemy pojedynczych obiekt√≥w\n            const transformedClients = clients.map((client)=>({\n                    ...client,\n                    owner: client.owner && Array.isArray(client.owner) && client.owner.length > 0 ? client.owner[0] // We≈∫ pierwszy element z tablicy\n                     : client.owner && !Array.isArray(client.owner) ? client.owner // Ju≈º jest pojedynczym obiektem\n                     : null,\n                    location: client.location && Array.isArray(client.location) && client.location.length > 0 ? client.location[0] // We≈∫ pierwszy element z tablicy\n                     : client.location && !Array.isArray(client.location) ? client.location // Ju≈º jest pojedynczym obiektem\n                     : null // Brak lokalizacji\n                }));\n            // DEBUG: Sprawd≈∫ dane w≈Ça≈õcicieli\n            const clientsWithOwners = transformedClients.filter((client)=>client.owner);\n            const clientsWithoutOwners = transformedClients.filter((client)=>!client.owner);\n            console.log('‚úÖ Klienci z w≈Ça≈õcicielami:', clientsWithOwners.length);\n            console.log('‚ùå Klienci bez w≈Ça≈õcicieli:', clientsWithoutOwners.length);\n            if (clientsWithOwners.length > 0) {\n                console.log('üë§ Przyk≈Çad klienta z w≈Ça≈õcicielem:', {\n                    client: `${clientsWithOwners[0].first_name} ${clientsWithOwners[0].last_name}`,\n                    owner_id: clientsWithOwners[0].owner_id,\n                    owner_name: clientsWithOwners[0].owner?.full_name,\n                    owner_email: clientsWithOwners[0].owner?.email\n                });\n            }\n            // üöÄ NOWE: Zwr√≥ƒá dane z informacjƒÖ o paginacji\n            return {\n                clients: transformedClients,\n                total: count || transformedClients.length,\n                page: filters?.page || 1,\n                pageSize: filters?.pageSize || transformedClients.length\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClientsPaginated:', error);\n            throw error;\n        }\n    },\n    // üîÑ KOMPATYBILNO≈öƒÜ: Stara funkcja zwracajƒÖca tylko tablicƒô klient√≥w\n    async getClients (user, filters) {\n        try {\n            const result = await this.getClientsPaginated(user, filters);\n            return result.clients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClients:', error);\n            throw error;\n        }\n    },\n    // Dodaj nowego klienta z automatycznym przypisaniem w≈Ça≈õciciela\n    async createClient (client, user) {\n        // ZABEZPIECZENIE: Upewnij siƒô ≈ºe status nie jest pusty\n        const safeStatus = client.status || 'canvas';\n        const clientToCreate = {\n            ...client,\n            status: safeStatus,\n            owner_id: user.id,\n            location_id: client.location_id || user.location_id,\n            edited_by: user.id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url,\n            // Je≈õli status to \"canvas\", ustaw status_changed_at\n            ...safeStatus === 'canvas' && {\n                status_changed_at: new Date().toISOString()\n            },\n            // Konwertuj undefined reminder na null dla bazy danych\n            reminder: client.reminder || null\n        };\n        console.log('üìä Tworzenie klienta z danymi:', clientToCreate);\n        const { data, error } = await supabase.from('clients').insert([\n            clientToCreate\n        ]).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd createClient:', error);\n            throw error;\n        }\n        return data;\n    },\n    // Zaktualizuj klienta z sprawdzeniem uprawnie≈Ñ\n    async updateClient (id, updates, user) {\n        try {\n            console.log('üîÑ updateClient START:', {\n                id,\n                updates,\n                user: user.email\n            });\n            // Pobierz aktualny stan klienta aby sprawdziƒá czy status siƒô zmienia\n            const { data: currentClient, error: fetchError } = await supabase.from('clients').select('status, owner_id').eq('id', id).single();\n            if (fetchError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktualnego klienta:', fetchError);\n                throw new Error(`Nie mo≈ºna pobraƒá aktualnego stanu klienta: ${fetchError.message}`);\n            }\n            console.log('‚úÖ Aktualny stan klienta:', currentClient);\n            // NOWA LOGIKA: Ka≈ºda osoba kt√≥ra edytuje klienta zostaje jego w≈Ça≈õcicielem\n            let updatedData = {\n                ...updates\n            };\n            // ZABEZPIECZENIE: Je≈õli status jest w aktualizacji, upewnij siƒô ≈ºe nie jest pusty\n            if ('status' in updatedData && !updatedData.status) {\n                console.log('‚ö†Ô∏è UWAGA: Pusty status w aktualizacji - ustawiam domy≈õlny \"canvas\"');\n                updatedData.status = 'canvas';\n            }\n            // Sprawd≈∫ czy status siƒô zmienia\n            const statusChanged = updatedData.status && updatedData.status !== currentClient.status;\n            if (statusChanged) {\n                updatedData.status_changed_at = new Date().toISOString();\n                console.log(`üìä Status zmieniony z \"${currentClient.status}\" na \"${updates.status}\" - ustawiam status_changed_at`);\n                // Powiadomienie o zmianie na canvas\n                if (updates.status === 'canvas') {\n                    console.log('üîî POWIADOMIENIE: Klient przeszed≈Ç na status CANVAS - start trackingu czasu!');\n                }\n            }\n            // Zawsze przypisz edytujƒÖcego jako w≈Ça≈õciciela\n            updatedData.owner_id = user.id;\n            console.log(`üéØ Przypisujƒô klienta ${id} do u≈ºytkownika ${user.id} (${user.email}) jako w≈Ça≈õciciela`);\n            // Zapisz informacje o edytorze (szczeg√≥lnie wa≈ºne dla pracownik√≥w)\n            updatedData.last_edited_by_name = user.full_name;\n            updatedData.last_edited_by_avatar_url = user.avatar_url;\n            console.log(`üë§ Zapisujƒô dane edytora: ${user.full_name} (rola: ${user.role})`);\n            // Je≈õli to pracownik i zmienia status - dodatkowy log\n            if (user.role === 'pracownik' && statusChanged) {\n                console.log(`üë∑ Pracownik ${user.email} zmienia status z \"${currentClient.status}\" na \"${updates.status}\"`);\n            }\n            console.log('üîÑ Dane do aktualizacji:', updatedData);\n            // Przygotuj finalne dane do UPDATE\n            const finalData = {\n                ...updatedData,\n                edited_by: user.id,\n                updated_at: new Date().toISOString(),\n                // Konwertuj undefined reminder na null dla bazy danych\n                ...updatedData.reminder !== undefined && {\n                    reminder: updatedData.reminder || null\n                }\n            };\n            console.log('üîÑ Finalne dane do UPDATE:', finalData);\n            // Bezpo≈õrednia aktualizacja\n            const { data, error } = await supabase.from('clients').update(finalData).eq('id', id).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd UPDATE clients:', error);\n                console.error('‚ùå Kod b≈Çƒôdu:', error.code);\n                console.error('‚ùå Szczeg√≥≈Çy:', error.details);\n                console.error('‚ùå Hint:', error.hint);\n                throw new Error(`B≈ÇƒÖd aktualizacji: ${error.message} (kod: ${error.code})`);\n            }\n            console.log('‚úÖ updateClient SUCCESS:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå updateClient FAILED:', error);\n            throw error;\n        }\n    },\n    // Aktualizuj czas ostatniego klikniƒôcia telefonu\n    async updateLastPhoneClick (clientId, user) {\n        console.log('üìû Aktualizujƒô czas ostatniego klikniƒôcia telefonu:', clientId);\n        const { data, error } = await supabase.from('clients').update({\n            last_phone_click: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd updateLastPhoneClick:', error);\n            throw error;\n        }\n        // Zaloguj w activity_logs\n        try {\n            await activityLogsApi.createLog({\n                client_id: clientId,\n                changed_by: user.id,\n                change_type: 'update',\n                field_changed: 'last_phone_click',\n                old_value: undefined,\n                new_value: data.last_phone_click\n            });\n        } catch (logError) {\n            console.error('‚ùå B≈ÇƒÖd logowania activity_logs (updateLastPhoneClick):', logError);\n        }\n        return data;\n    },\n    // Usu≈Ñ klienta z sprawdzeniem uprawnie≈Ñ\n    async deleteClient (id, user) {\n        // Bezpo≈õrednie usuniƒôcie bez sprawdzania uprawnie≈Ñ\n        const { error } = await supabase.from('clients').delete().eq('id', id);\n        if (error) throw error;\n    },\n    // Przypisz klienta do innego u≈ºytkownika (tylko manager+)\n    async assignClient (clientId, newOwnerId, user) {\n        if (!permissionsApi.canAssignClients(user)) {\n            throw new Error('Brak uprawnie≈Ñ do przypisywania klient√≥w');\n        }\n        const { data, error } = await supabase.from('clients').update({\n            owner_id: newOwnerId,\n            edited_by: user.id,\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja do czyszczenia nieistniejƒÖcych owner_id\n    async cleanupInvalidOwnerIds () {\n        try {\n            console.log('üßπ Rozpoczynam czyszczenie nieistniejƒÖcych owner_id...');\n            // Pobierz wszystkich klient√≥w z owner_id\n            const { data: allClients, error: clientsError } = await supabase.from('clients').select('id, owner_id, first_name, last_name').not('owner_id', 'is', null);\n            if (clientsError) throw clientsError;\n            console.log('üìä Znaleziono klient√≥w z owner_id:', allClients?.length || 0);\n            if (!allClients || allClients.length === 0) {\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Pobierz wszystkie unikalne owner_id\n            const ownerIds = [\n                ...new Set(allClients.map((c)=>c.owner_id))\n            ];\n            console.log('üîç Sprawdzam owner_id:', ownerIds);\n            // Sprawd≈∫ kt√≥re u≈ºytkownicy istniejƒÖ\n            const { data: existingUsers, error: usersError } = await supabase.from('users').select('id').in('id', ownerIds);\n            if (usersError) throw usersError;\n            const existingUserIds = (existingUsers || []).map((u)=>u.id);\n            console.log('‚úÖ IstniejƒÖcy u≈ºytkownicy:', existingUserIds);\n            // Znajd≈∫ klient√≥w z nieistniejƒÖcymi owner_id\n            const clientsToClean = allClients.filter((client)=>client.owner_id && !existingUserIds.includes(client.owner_id));\n            console.log('üßπ Klienci do wyczyszczenia:', clientsToClean.length);\n            if (clientsToClean.length === 0) {\n                console.log('‚úÖ Brak klient√≥w do wyczyszczenia');\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Wyczy≈õƒá owner_id dla problematycznych klient√≥w\n            const cleanupResults = [];\n            const errors = [];\n            for (const client of clientsToClean){\n                try {\n                    console.log(`üßπ Czyszczƒô owner_id dla ${client.first_name} ${client.last_name} (${client.owner_id})`);\n                    const { error } = await supabase.from('clients').update({\n                        owner_id: null\n                    }).eq('id', client.id);\n                    if (error) {\n                        console.error(`‚ùå B≈ÇƒÖd czyszczenia ${client.id}:`, error);\n                        errors.push({\n                            client: client.id,\n                            error: error.message\n                        });\n                    } else {\n                        cleanupResults.push(client.id);\n                    }\n                } catch (err) {\n                    console.error(`‚ùå WyjƒÖtek podczas czyszczenia ${client.id}:`, err);\n                    errors.push({\n                        client: client.id,\n                        error: String(err)\n                    });\n                }\n            }\n            console.log(`‚úÖ Wyczyszczono ${cleanupResults.length} klient√≥w`);\n            if (errors.length > 0) {\n                console.error(`‚ùå B≈Çƒôdy przy ${errors.length} klientach:`, errors);\n            }\n            return {\n                cleaned: cleanupResults.length,\n                errors,\n                cleanedClients: clientsToClean.filter((c)=>cleanupResults.includes(c.id))\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupInvalidOwnerIds:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na zmiany w czasie rzeczywistym\n    subscribeToChanges (callback) {\n        return supabase.channel('clients_changes').on('postgres_changes', {\n            event: '*',\n            schema: 'public',\n            table: 'clients'\n        }, callback).subscribe();\n    },\n    // Subskrypcja na zmiany owner_id dla real-time aktualizacji\n    subscribeToOwnerChanges (callback) {\n        try {\n            // Sprawd≈∫ czy callback jest funkcjƒÖ\n            if (typeof callback !== 'function') {\n                console.error('‚ùå Callback nie jest funkcjƒÖ w subscribeToOwnerChanges');\n                throw new Error('Callback musi byƒá funkcjƒÖ');\n            }\n            console.log('üì° Tworzƒô kana≈Ç Supabase dla owner changes...');\n            // Najpierw sprawd≈∫ czy real-time jest w≈ÇƒÖczony i dostƒôpny\n            const channelName = `clients_owner_changes_${Date.now()}`;\n            console.log('üì° Nazwa kana≈Çu:', channelName);\n            const channel = supabase.channel(channelName).on('postgres_changes', {\n                event: 'UPDATE',\n                schema: 'public',\n                table: 'clients',\n                filter: 'owner_id=neq.null' // Tylko gdy owner_id siƒô zmienia\n            }, (payload)=>{\n                try {\n                    console.log('üì° Real-time payload otrzymany:', {\n                        eventType: payload.eventType,\n                        table: payload.table,\n                        changes: payload.new ? {\n                            id: payload.new.id,\n                            owner_id: payload.new.owner_id,\n                            first_name: payload.new.first_name,\n                            last_name: payload.new.last_name\n                        } : 'brak danych'\n                    });\n                    if (typeof callback === 'function') {\n                        callback(payload);\n                    } else {\n                        console.error('‚ùå Callback nie jest funkcjƒÖ podczas wywo≈Çania');\n                    }\n                } catch (callbackError) {\n                    console.error('‚ùå B≈ÇƒÖd w callback:', callbackError);\n                }\n            }).subscribe((status, err)=>{\n                console.log('üì° Subskrypcja owner_changes status:', status);\n                if (status === 'SUBSCRIBED') {\n                    console.log('‚úÖ Subskrypcja owner_changes aktywna');\n                } else if (status === 'CLOSED') {\n                    console.warn('‚ö†Ô∏è Subskrypcja owner_changes zamkniƒôta - prawdopodobnie problem z autoryzacjƒÖ real-time');\n                    console.warn('üí° Real-time mo≈ºe byƒá wy≈ÇƒÖczony w ustawieniach Supabase lub brakuje uprawnie≈Ñ');\n                } else if (status === 'CHANNEL_ERROR') {\n                    console.error('‚ùå B≈ÇƒÖd kana≈Çu real-time:', err);\n                    console.error('üí° Sprawd≈∫ ustawienia real-time w Supabase Dashboard');\n                } else if (status === 'TIMED_OUT') {\n                    console.warn('‚è∞ Timeout subskrypcji - problemy z po≈ÇƒÖczeniem WebSocket');\n                } else {\n                    console.log('üì° Status subskrypcji:', status);\n                }\n            });\n            // Sprawd≈∫ stan kana≈Çu po kr√≥tkim czasie\n            setTimeout(()=>{\n                if (channel.state === 'closed') {\n                    console.warn('‚ö†Ô∏è Kana≈Ç real-time zosta≈Ç zamkniƒôty - prawdopodobnie RLS blokuje real-time lub feature jest wy≈ÇƒÖczony');\n                }\n            }, 2000);\n            console.log('‚úÖ Kana≈Ç owner changes utworzony');\n            return channel;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w subscribeToOwnerChanges:', error);\n            console.warn('üí° Real-time nie bƒôdzie dzia≈Çaƒá - aplikacja bƒôdzie u≈ºywaƒá okresowego od≈õwie≈ºania');\n            // Zwr√≥ƒá mock object aby nie powodowaƒá b≈Çƒôd√≥w\n            return {\n                unsubscribe: ()=>{\n                    console.log('üßπ Mock unsubscribe dla b≈Çƒôdnego kana≈Çu');\n                }\n            };\n        }\n    },\n    // Pobierz klient√≥w z przypomnieniami na konkretny dzie≈Ñ\n    async getClientsWithReminders (user, targetDate) {\n        try {\n            const today = targetDate || new Date().toISOString().split('T')[0] // format YYYY-MM-DD\n            ;\n            console.log(`üìÖ Pobieranie klient√≥w z przypomnieniami na: ${today}`);\n            // Pobierz wszystkich klient√≥w u≈ºytkownika (bez paginacji)\n            const allClients = await this.getClients(user);\n            // Filtruj tylko tych z przypomnieniami na dzi≈õ\n            const clientsWithTodayReminders = allClients.filter((client)=>{\n                // Sprawd≈∫ czy klient ma aktywne przypomnienie\n                const reminder = client.reminder || {\n                    enabled: false,\n                    date: '',\n                    time: '',\n                    note: ''\n                };\n                return reminder.enabled && reminder.date === today;\n            });\n            // Sortuj wed≈Çug godziny przypomnienia\n            const sortedClients = clientsWithTodayReminders.sort((a, b)=>{\n                const timeA = a.reminder?.time || '00:00';\n                const timeB = b.reminder?.time || '00:00';\n                return timeA.localeCompare(timeB);\n            });\n            console.log(`‚úÖ Znaleziono ${sortedClients.length} klient√≥w z przypomnieniami na ${today}`);\n            return sortedClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z przypomnieniami:', error);\n            throw error;\n        }\n    },\n    // Pobierz przypomnienia pogrupowane wed≈Çug slot√≥w czasowych dla dashboardu\n    async getDailyScheduleWithClients (user, targetDate) {\n        try {\n            const clientsWithReminders = await this.getClientsWithReminders(user, targetDate);\n            // Definicja slot√≥w czasowych (zgodnie z obecnƒÖ strukturƒÖ dashboardu)\n            const timeSlots = [\n                {\n                    time: '8:00 - 10:00',\n                    type: 'canvas',\n                    color: '#06b6d4',\n                    startTime: '08:00',\n                    endTime: '10:00',\n                    statuses: [\n                        'canvas'\n                    ]\n                },\n                {\n                    time: '10:10 - 12:00',\n                    type: 'sales',\n                    color: '#10b981',\n                    startTime: '10:10',\n                    endTime: '12:00',\n                    statuses: [\n                        'sale'\n                    ]\n                },\n                {\n                    time: '12:30 - 15:00',\n                    type: 'antysales',\n                    color: '#f59e0b',\n                    startTime: '12:30',\n                    endTime: '15:00',\n                    statuses: [\n                        'antysale'\n                    ]\n                },\n                {\n                    time: '15:10 - 16:30',\n                    type: 'canvas + sales',\n                    color: '#8b5cf6',\n                    startTime: '15:10',\n                    endTime: '16:30',\n                    statuses: [\n                        'canvas',\n                        'sale'\n                    ]\n                }\n            ];\n            // Przypisz klient√≥w do odpowiednich slot√≥w\n            const slotsWithClients = timeSlots.map((slot)=>{\n                const slotClients = clientsWithReminders.filter((client)=>{\n                    const reminderTime = client.reminder?.time || '00:00';\n                    const [hours, minutes] = reminderTime.split(':').map(Number);\n                    const reminderMinutes = hours * 60 + minutes;\n                    const [startHours, startMins] = slot.startTime.split(':').map(Number);\n                    const [endHours, endMins] = slot.endTime.split(':').map(Number);\n                    const startMinutes = startHours * 60 + startMins;\n                    const endMinutes = endHours * 60 + endMins;\n                    // Sprawd≈∫ czy godzina przypomnienia mie≈õci siƒô w slocie\n                    const timeInSlot = reminderMinutes >= startMinutes && reminderMinutes <= endMinutes;\n                    // Sprawd≈∫ czy status klienta pasuje do typu slotu\n                    const statusMatches = slot.statuses.includes(client.status);\n                    return timeInSlot && statusMatches;\n                });\n                return {\n                    ...slot,\n                    clients: slotClients\n                };\n            });\n            console.log(`üìä Plan dnia z ${slotsWithClients.reduce((sum, slot)=>sum + slot.clients.length, 0)} klientami`);\n            return slotsWithClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd tworzenia planu dnia:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje API dla log√≥w aktywno≈õci\nconst activityLogsApi = {\n    // Pobierz logi aktywno≈õci\n    async getLogs (clientId) {\n        let query = supabase.from('activity_logs').select(`\n        *,\n        clients(first_name, last_name)\n      `).order('timestamp', {\n            ascending: false\n        }).limit(50);\n        if (clientId) {\n            query = query.eq('client_id', clientId);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz historiƒô zmian dla konkretnego klienta\n    async getClientHistory (clientId) {\n        try {\n            console.log('Pobieranie historii dla klienta:', clientId);\n            // Sprawd≈∫ czy u≈ºytkownik jest zalogowany\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Aktualny u≈ºytkownik:', user?.id);\n            if (!user) {\n                console.error('U≈ºytkownik nie jest zalogowany');\n                return [];\n            }\n            const { data, error } = await supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          change_type,\n          field_changed,\n          old_value,\n          new_value,\n          timestamp\n        `).eq('client_id', clientId).order('timestamp', {\n                ascending: false\n            }).limit(20);\n            if (error) {\n                console.error('B≈ÇƒÖd query activity_logs:', error);\n                console.error('Szczeg√≥≈Çy b≈Çƒôdu:', JSON.stringify(error, null, 2));\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS')) {\n                    console.error('Problem z Row Level Security - u≈ºytkownik mo≈ºe nie mieƒá dostƒôpu');\n                }\n                // Zwr√≥ƒá pustƒÖ tablicƒô zamiast rzucania b≈Çƒôdem\n                return [];\n            }\n            console.log('Pobrano logi:', data?.length || 0);\n            // Je≈õli nie ma log√≥w, zwr√≥ƒá pustƒÖ tablicƒô\n            if (!data || data.length === 0) {\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach osobno z avatarami\n            const userIds = [\n                ...new Set(data.map((log)=>log.changed_by).filter(Boolean))\n            ];\n            console.log('Pobieranie u≈ºytkownik√≥w:', userIds);\n            const { data: users, error: usersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', userIds);\n            if (usersError) {\n                console.error('B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', usersError);\n            // Kontynuuj bez danych u≈ºytkownik√≥w\n            }\n            console.log('Pobrano u≈ºytkownik√≥w:', users?.length || 0);\n            // Mapuj u≈ºytkownik√≥w do s≈Çownika dla szybkiego dostƒôpu\n            const usersMap = (users || []).reduce((acc, user)=>{\n                acc[user.id] = user;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane z informacjami o edytorze\n            const result = data.map((log)=>{\n                const user = usersMap[log.changed_by];\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    changed_by: log.changed_by,\n                    change_type: log.change_type,\n                    field_changed: log.field_changed,\n                    old_value: log.old_value,\n                    new_value: log.new_value,\n                    timestamp: log.timestamp,\n                    editor_name: user?.full_name || log.changed_by || 'Nieznany u≈ºytkownik',\n                    editor_role: user?.role || 'unknown',\n                    editor_avatar: user?.avatar_url || null\n                };\n            });\n            console.log('Zwracanie historii:', result.length, 'wpis√≥w');\n            return result;\n        } catch (error) {\n            console.error('B≈ÇƒÖd w getClientHistory:', error);\n            throw error;\n        }\n    },\n    // Dodaj log aktywno≈õci\n    async createLog (log) {\n        const { data, error } = await supabase.from('activity_logs').insert([\n            {\n                ...log,\n                timestamp: new Date().toISOString()\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja testowa do sprawdzania dostƒôpu do activity_logs\n    async testActivityLogsAccess () {\n        try {\n            console.log('Testowanie dostƒôpu do activity_logs...');\n            // Sprawd≈∫ autoryzacjƒô\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Test - u≈ºytkownik:', user?.id, user?.email);\n            if (!user) {\n                return {\n                    success: false,\n                    error: 'Brak autoryzacji - u≈ºytkownik nie jest zalogowany'\n                };\n            }\n            // Sprawd≈∫ czy u≈ºytkownik istnieje w tabeli users\n            const { data: userProfile, error: userError } = await supabase.from('users').select('id, email, role').eq('id', user.id).single();\n            console.log('Test - profil u≈ºytkownika:', userProfile);\n            console.log('Test - b≈ÇƒÖd profilu:', userError);\n            if (userError || !userProfile) {\n                return {\n                    success: false,\n                    error: 'U≈ºytkownik nie istnieje w tabeli users'\n                };\n            }\n            // Testuj dostƒôp do activity_logs\n            const { data, error, count } = await supabase.from('activity_logs').select('*', {\n                count: 'exact'\n            }).limit(1);\n            console.log('Test activity_logs - data:', data);\n            console.log('Test activity_logs - error:', error);\n            console.log('Test activity_logs - count:', count);\n            return {\n                success: !error,\n                data,\n                error,\n                count,\n                user: userProfile\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testu activity_logs:', error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n};\n// Funkcje API dla raport√≥w\nconst reportsApi = {\n    // Pobierz statystyki tylko pracownik√≥w z prowizjƒÖ\n    async getEmployeeStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk pracownik√≥w...');\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            const { data: allEmployees, error: usersError } = await supabase.from('users').select(`\n          id,\n          full_name,\n          email,\n          avatar_url,\n          role\n        `).eq('role', 'pracownik').order('full_name', {\n                ascending: true\n            });\n            if (usersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                throw usersError;\n            }\n            if (!allEmployees || allEmployees.length === 0) {\n                console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                return [];\n            }\n            console.log('‚úÖ Pobrano wszystkich pracownik√≥w:', allEmployees.length, allEmployees.map((e)=>e.full_name));\n            // KROK 2: Pobierz statystyki z tabeli employee_stats dla tych pracownik√≥w\n            const employeeIds = allEmployees.map((emp)=>emp.id);\n            let existingStats = [];\n            try {\n                const { data, error: statsError } = await supabase.from('employee_stats').select('*').in('user_id', employeeIds);\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania employee_stats:', statsError);\n                } else {\n                    existingStats = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá employee_stats:', error);\n            }\n            console.log('‚úÖ Pobrano statystyki dla pracownik√≥w:', existingStats?.length || 0);\n            // KROK 3: Pobierz dzisiejsze statystyki z tabeli clients (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const today = new Date().toISOString().split('T')[0];\n            let todayClients = [];\n            try {\n                const { data, error: clientsError } = await supabase.from('clients').select('status, edited_by, created_at, updated_at').gte('updated_at', `${today}T00:00:00`).lt('updated_at', `${today}T23:59:59`);\n                if (clientsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w z dzisiaj:', clientsError);\n                } else {\n                    todayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá dzisiejszych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano dzisiejszych klient√≥w:', todayClients.length);\n            // KROK 4: Pobierz wczorajsze statystyki dla kar (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            const yesterdayStr = yesterday.toISOString().split('T')[0];\n            let yesterdayClients = [];\n            try {\n                const { data, error: yesterdayError } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${yesterdayStr}T00:00:00`).lt('updated_at', `${yesterdayStr}T23:59:59`);\n                if (yesterdayError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania wczorajszych klient√≥w:', yesterdayError);\n                } else {\n                    yesterdayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá wczorajszych klient√≥w:', error);\n            }\n            // KROK 5: Pobierz WSZYSTKICH klient√≥w przypisanych do pracownik√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            let allOwnedClients = [];\n            try {\n                const { data, error: ownedError } = await supabase.from('clients').select('status, owner_id').not('owner_id', 'is', null).in('owner_id', employeeIds);\n                if (ownedError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w przypisanych:', ownedError);\n                } else {\n                    allOwnedClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá przypisanych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano wszystkich przypisanych klient√≥w:', allOwnedClients.length);\n            // KROK 6: Agreguj dzisiejsze statystyki per pracownik\n            const todayStats = todayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (!userId) return acc;\n                if (!acc[userId]) {\n                    acc[userId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        other: 0\n                    };\n                }\n                acc[userId].total++;\n                if (client.status === 'canvas') acc[userId].canvas++;\n                else if (client.status === 'antysale') acc[userId].antysale++;\n                else if (client.status === 'sale') acc[userId].sale++;\n                else acc[userId].other++;\n                return acc;\n            }, {});\n            // KROK 7: Agreguj wczorajsze statystyki per pracownik\n            const yesterdayStats = yesterdayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (userId) {\n                    acc[userId] = (acc[userId] || 0) + 1;\n                }\n                return acc;\n            }, {});\n            // KROK 8: Agreguj statusy WSZYSTKICH przypisanych klient√≥w per pracownik\n            const ownedClientsStats = allOwnedClients.reduce((acc, client)=>{\n                const ownerId = client.owner_id;\n                if (!ownerId) return acc;\n                if (!acc[ownerId]) {\n                    acc[ownerId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        brak_kontaktu: 0,\n                        nie_zainteresowany: 0,\n                        zdenerwowany: 0,\n                        '$$': 0\n                    };\n                }\n                acc[ownerId].total++;\n                switch(client.status){\n                    case 'canvas':\n                        acc[ownerId].canvas++;\n                        break;\n                    case 'antysale':\n                        acc[ownerId].antysale++;\n                        break;\n                    case 'sale':\n                        acc[ownerId].sale++;\n                        break;\n                    case 'brak_kontaktu':\n                        acc[ownerId].brak_kontaktu++;\n                        break;\n                    case 'nie_zainteresowany':\n                        acc[ownerId].nie_zainteresowany++;\n                        break;\n                    case 'zdenerwowany':\n                        acc[ownerId].zdenerwowany++;\n                        break;\n                    case '$$':\n                        acc[ownerId]['$$']++;\n                        break;\n                }\n                return acc;\n            }, {});\n            console.log('üìä Statystyki przypisanych klient√≥w:', ownedClientsStats);\n            // KROK 9: Stw√≥rz mapƒô statystyk employee_stats\n            const statsMap = new Map();\n            existingStats.forEach((stat)=>{\n                statsMap.set(stat.user_id, stat);\n            });\n            // KROK 10: Kombinuj dane - dla WSZYSTKICH pracownik√≥w (zawsze zwraca listƒô)\n            const enhancedStats = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                // Pobierz statystyki z employee_stats lub utw√≥rz domy≈õlne\n                const basicStat = statsMap.get(userId) || {\n                    id: 'temp_' + userId,\n                    user_id: userId,\n                    daily_target: 20,\n                    commission_rate: 3.0,\n                    monthly_canvas: 0,\n                    monthly_antysale: 0,\n                    monthly_sale: 0,\n                    total_commissions: 0,\n                    total_penalties: 0,\n                    custom_clients_count: 0,\n                    custom_total_payments: 0,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                const todayForUser = todayStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0\n                };\n                const yesterdayForUser = yesterdayStats[userId] || 0;\n                const ownedForUser = ownedClientsStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0,\n                    brak_kontaktu: 0,\n                    nie_zainteresowany: 0,\n                    zdenerwowany: 0,\n                    '$$': 0\n                };\n                // Oblicz karƒô za wczoraj\n                const yesterdayShortage = Math.max(0, basicStat.daily_target - yesterdayForUser);\n                const penalty = yesterdayShortage * 15;\n                // Oblicz prowizjƒô na podstawie przypisanych klient√≥w Sale\n                const commission = ownedForUser.sale * basicStat.commission_rate / 100 * 100;\n                console.log(`üë§ Pracownik ${employee.full_name}: Canvas=${ownedForUser.canvas}, AntyS=${ownedForUser.antysale}, Sale=${ownedForUser.sale}`);\n                return {\n                    ...basicStat,\n                    // WA≈ªNE: Do≈ÇƒÖcz dane u≈ºytkownika\n                    user: {\n                        id: employee.id,\n                        full_name: employee.full_name,\n                        email: employee.email,\n                        avatar_url: employee.avatar_url,\n                        role: employee.role\n                    },\n                    daily_achieved: todayForUser.total,\n                    yesterday_shortage: yesterdayShortage,\n                    status_changes_today: {\n                        canvas: todayForUser.canvas,\n                        antysale: todayForUser.antysale,\n                        sale: todayForUser.sale,\n                        other: todayForUser.other\n                    },\n                    // U≈ºywaj statystyk opartych na owner_id (przypisanych klient√≥w)\n                    monthly_canvas: ownedForUser.canvas,\n                    monthly_antysale: ownedForUser.antysale,\n                    monthly_sale: ownedForUser.sale,\n                    total_commissions: commission,\n                    total_penalties: penalty\n                };\n            });\n            console.log('‚úÖ Przygotowano rozszerzone statystyki dla wszystkich pracownik√≥w:', enhancedStats.length);\n            console.log('üë• Lista pracownik√≥w:', enhancedStats.map((s)=>s.user?.full_name).join(', '));\n            return enhancedStats;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk pracownik√≥w:', error);\n            // W przypadku b≈Çƒôdu, zwr√≥ƒá pustƒÖ listƒô zamiast rzucaƒá b≈ÇƒÖd\n            return [];\n        }\n    },\n    // Podsumowanie dnia\n    async getDailySummary (date) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${date}T00:00:00`).lt('updated_at', `${date}T23:59:59`);\n        if (error) throw error;\n        // Agregacja danych\n        const statusBreakdown = data.reduce((acc, client)=>{\n            acc[client.status] = (acc[client.status] || 0) + 1;\n            return acc;\n        }, {});\n        const employeeStats = data.reduce((acc, client)=>{\n            acc[client.edited_by] = (acc[client.edited_by] || 0) + 1;\n            return acc;\n        }, {});\n        return {\n            totalClients: data.length,\n            statusBreakdown,\n            employeeStats\n        };\n    },\n    // Podsumowanie tygodniowe\n    async getWeeklySummary (startDate, endDate) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by, updated_at').gte('updated_at', startDate).lt('updated_at', endDate);\n        if (error) throw error;\n        return data;\n    },\n    // Aktualizuj statystyki pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeStats (userId, updates, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').update(updates).eq('user_id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Edytuj ilo≈õƒá klient√≥w i sumƒô wp≈Çat pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeClientStats (userId, clientsCount, totalPayments, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        try {\n            console.log(`üìù Aktualizujƒô statystyki pracownika ${userId}: klienci=${clientsCount}, wp≈Çaty=${totalPayments}`);\n            // METODA 1: Spr√≥buj prostƒÖ aktualizacjƒô w employee_stats\n            try {\n                console.log('üìù Pr√≥ba prostej aktualizacji w employee_stats');\n                const legacyUpdates = {\n                    custom_clients_count: clientsCount,\n                    custom_total_payments: totalPayments,\n                    updated_at: new Date().toISOString()\n                };\n                const { data, error } = await supabase.from('employee_stats').update(legacyUpdates).eq('user_id', userId).select(`\n            *,\n            user:users!user_id (\n              id,\n              full_name,\n              email,\n              avatar_url,\n              role\n            )\n          `).single();\n                if (!error && data) {\n                    console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 1)');\n                    console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                    return data;\n                } else {\n                    console.warn('‚ö†Ô∏è Metoda 1 nie zadzia≈Ça≈Ça:', error);\n                    throw error;\n                }\n            } catch (method1Error) {\n                console.warn('‚ö†Ô∏è Metoda 1 (prosta aktualizacja) nie zadzia≈Ça≈Ça:', method1Error);\n                // METODA 2: Spr√≥buj INSERT z ON CONFLICT\n                try {\n                    console.log('üìù Pr√≥ba INSERT z ON CONFLICT w employee_stats');\n                    const insertData = {\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                    const { data, error } = await supabase.from('employee_stats').upsert(insertData, {\n                        onConflict: 'user_id',\n                        ignoreDuplicates: false\n                    }).select(`\n              *,\n              user:users!user_id (\n                id,\n                full_name,\n                email,\n                avatar_url,\n                role\n              )\n            `).single();\n                    if (!error && data) {\n                        console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 2)');\n                        console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                        return data;\n                    } else {\n                        console.warn('‚ö†Ô∏è Metoda 2 nie zadzia≈Ça≈Ça:', error);\n                        throw error;\n                    }\n                } catch (method2Error) {\n                    console.warn('‚ö†Ô∏è Metoda 2 (upsert) nie zadzia≈Ça≈Ça:', method2Error);\n                    // METODA 3: Zaktualizuj tylko w pamiƒôci (fallback)\n                    console.log('üìù Fallback - zwracam symulowane dane');\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString(),\n                        user: {\n                            id: userId,\n                            full_name: 'Pracownik',\n                            email: 'brak@email.com',\n                            avatar_url: null,\n                            role: 'pracownik'\n                        }\n                    };\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w updateEmployeeClientStats:', error);\n            throw error;\n        }\n    },\n    // Stw√≥rz statystyki dla nowego pracownika\n    async createEmployeeStats (userId, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do tworzenia statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').insert([\n            {\n                user_id: userId,\n                daily_target: 20,\n                commission_rate: 3.0\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // üìä Nowa funkcja: Pobierz statystyki wykorzystania bazy (klienci z/bez w≈Ça≈õciciela)\n    async getDatabaseUtilization () {\n        try {\n            console.log('üìä Pobieranie statystyk wykorzystania bazy...');\n            // Zlicz wszystkich klient√≥w\n            const { count: totalCount, error: totalError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (totalError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania ≈ÇƒÖcznej liczby klient√≥w:', totalError);\n                throw totalError;\n            }\n            // Zlicz klient√≥w z w≈Ça≈õcicielem (owner_id != null)\n            const { count: withOwnerCount, error: withOwnerError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (withOwnerError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z w≈Ça≈õcicielem:', withOwnerError);\n                throw withOwnerError;\n            }\n            // Oblicz klient√≥w bez w≈Ça≈õciciela\n            const withoutOwnerCount = (totalCount || 0) - (withOwnerCount || 0);\n            // Oblicz procent wykorzystania\n            const utilizationPercentage = totalCount ? Math.round((withOwnerCount || 0) / totalCount * 100) : 0;\n            const result = {\n                withOwner: withOwnerCount || 0,\n                withoutOwner: withoutOwnerCount,\n                total: totalCount || 0,\n                utilizationPercentage\n            };\n            console.log('üìä Statystyki wykorzystania bazy:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk wykorzystania bazy:', error);\n            throw error;\n        }\n    },\n    // üîÑ ADMIN: Resetuj w≈Ça≈õcicieli wszystkich klient√≥w\n    async resetAllClientOwners (currentUser) {\n        // Sprawd≈∫ uprawnienia - tylko admin\n        if (currentUser.role !== 'admin') {\n            throw new Error('Brak uprawnie≈Ñ! Tylko administrator mo≈ºe resetowaƒá w≈Ça≈õcicieli klient√≥w.');\n        }\n        try {\n            console.log('üîÑ Rozpoczynam resetowanie w≈Ça≈õcicieli klient√≥w...');\n            // Pobierz liczbƒô klient√≥w z w≈Ça≈õcicielem przed resetowaniem\n            const { count: beforeCount, error: beforeError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (beforeError) {\n                console.error('‚ùå B≈ÇƒÖd sprawdzania stanu przed resetowaniem:', beforeError);\n                throw beforeError;\n            }\n            // Resetuj owner_id dla wszystkich klient√≥w\n            const { data, error } = await supabase.from('clients').update({\n                owner_id: null\n            }).not('owner_id', 'is', null) // Tylko te kt√≥re majƒÖ w≈Ça≈õciciela\n            .select('id, first_name, last_name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli:', error);\n                throw error;\n            }\n            const resetCount = data?.length || 0;\n            // Loguj akcjƒô do activity_logs\n            try {\n                await activityLogsApi.createLog({\n                    client_id: 'bulk_action',\n                    changed_by: currentUser.id,\n                    change_type: 'update',\n                    field_changed: 'owner_id',\n                    old_value: 'various',\n                    new_value: 'null (reset by admin)'\n                });\n            } catch (logError) {\n                console.error('‚ö†Ô∏è Nie uda≈Ço siƒô zalogowaƒá akcji:', logError);\n            // Nie przerywamy procesu z powodu b≈Çƒôdu logowania\n            }\n            console.log(`‚úÖ Zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w`);\n            return {\n                success: resetCount,\n                message: `Pomy≈õlnie zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w. Wszyscy klienci sƒÖ teraz bez przypisanego w≈Ça≈õciciela.`\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli klient√≥w:', error);\n            throw error;\n        }\n    },\n    // Pobierz statystyki aktywno≈õci pracownik√≥w z tabeli employee_statistics\n    async getEmployeeActivityStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk aktywno≈õci pracownik√≥w...');\n            // Sprawd≈∫ uprawnienia\n            if (!user || ![\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                console.warn('‚ö†Ô∏è Brak uprawnie≈Ñ do podglƒÖdu statystyk aktywno≈õci');\n                return [];\n            }\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            let allEmployees = [];\n            try {\n                const { data: employees, error: usersError } = await supabase.from('users').select(`\n            id,\n            full_name,\n            email,\n            avatar_url,\n            role\n          `).eq('role', 'pracownik').order('full_name', {\n                    ascending: true\n                });\n                if (usersError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                    return [];\n                }\n                allEmployees = employees || [];\n                console.log(`üë• Znaleziono pracownik√≥w: ${allEmployees.length}`);\n                if (allEmployees.length === 0) {\n                    console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                    return [];\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', error);\n                return [];\n            }\n            // KROK 2: Pobierz statystyki aktywno≈õci - z obs≈ÇugƒÖ b≈Çƒôd√≥w RLS\n            let activityStats = [];\n            try {\n                const employeeIds = allEmployees.map((emp)=>emp.id);\n                console.log(`üîç Pobieranie statystyk dla ID: ${employeeIds.slice(0, 3).join(', ')}... (${employeeIds.length} total)`);\n                const { data: stats, error: statsError } = await supabase.from('employee_statistics').select('*').eq('period_type', 'monthly').in('user_id', employeeIds).order('period_end', {\n                    ascending: false\n                });\n                if (statsError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', statsError);\n                    // Je≈õli to b≈ÇƒÖd RLS (403), nie przerywaj - u≈ºyj domy≈õlnych danych\n                    if (statsError.code === 'PGRST116' || statsError.message?.includes('RLS') || statsError.message?.includes('permission')) {\n                        console.warn('üîí Problem z RLS - u≈ºywam domy≈õlnych danych aktywno≈õci');\n                        activityStats = [];\n                    } else {\n                        console.error('üí• Krytyczny b≈ÇƒÖd pobierania statystyk - przerywam');\n                        return [];\n                    }\n                } else {\n                    activityStats = stats || [];\n                    console.log(`üìä Znaleziono rekord√≥w aktywno≈õci: ${activityStats.length}`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania o statystyki aktywno≈õci:', error);\n                activityStats = [];\n            }\n            // KROK 3: Stw√≥rz mapƒô najnowszych statystyk dla ka≈ºdego pracownika\n            const latestStatsMap = new Map();\n            if (activityStats && activityStats.length > 0) {\n                activityStats.forEach((stat)=>{\n                    const userId = stat.user_id;\n                    if (!latestStatsMap.has(userId)) {\n                        latestStatsMap.set(userId, stat);\n                    }\n                });\n                console.log(`üó∫Ô∏è Zmapowano statystyki dla ${latestStatsMap.size} pracownik√≥w`);\n            } else {\n                console.log('‚ö†Ô∏è Brak danych aktywno≈õci - u≈ºyjƒô domy≈õlnych warto≈õci');\n            }\n            // KROK 4: Kombinuj dane pracownik√≥w ze statystykami aktywno≈õci\n            const result = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                const activityStat = latestStatsMap.get(userId);\n                if (activityStat) {\n                    // Mamy statystyki - u≈ºyj prawdziwych danych\n                    return {\n                        ...activityStat,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                } else {\n                    // Brak statystyk - stw√≥rz domy≈õlne dane\n                    const currentDate = new Date();\n                    const currentMonth = currentDate.getMonth() + 1;\n                    const currentYear = currentDate.getFullYear();\n                    const monthStart = `${currentYear}-${currentMonth.toString().padStart(2, '0')}-01`;\n                    const monthEnd = new Date(currentYear, currentMonth, 0).toISOString().split('T')[0];\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        period_type: 'monthly',\n                        period_start: monthStart,\n                        period_end: monthEnd,\n                        total_work_minutes: 0,\n                        average_daily_minutes: 0,\n                        expected_work_minutes: 176 * 60,\n                        efficiency_percentage: 0,\n                        total_activities: 0,\n                        average_daily_activities: 0,\n                        days_worked: 0,\n                        days_absent: 0,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                }\n            });\n            console.log(`‚úÖ Przygotowano statystyki aktywno≈õci dla wszystkich pracownik√≥w: ${result.length}`);\n            console.log(`üë• Lista pracownik√≥w: ${result.map((s)=>s.user?.full_name).join(', ')}`);\n            // Poka≈º statystyki podsumowujƒÖce\n            const withData = result.filter((r)=>r.total_work_minutes > 0).length;\n            const withoutData = result.length - withData;\n            console.log(`üìä Pracownicy z danymi: ${withData}, bez danych: ${withoutData}`);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', error);\n            // Graceful fallback - zwr√≥ƒá pustƒÖ tablicƒô zamiast crashowaƒá\n            console.log('üîÑ Graceful fallback - zwracam pustƒÖ tablicƒô');\n            return [];\n        }\n    },\n    // Pobierz trendy sprzeda≈ºowe z ostatnich 7 dni\n    async getSalesTrends (user) {\n        try {\n            console.log('üìà Pobieranie trend√≥w sprzeda≈ºowych z ostatnich 7 dni...');\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            const { data, error } = await supabase.from('clients').select('status, updated_at, status_changed_at, owner_id, edited_by').gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').in('status', [\n                'canvas',\n                'sale',\n                'antysale'\n            ]).order('updated_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Pobrano ${data?.length || 0} rekord√≥w z ostatnich 7 dni`);\n            // Filtruj klient√≥w wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            let filteredData = data || [];\n            if (user.role === 'pracownik') {\n                filteredData = filteredData.filter((client)=>client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id);\n            }\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trends = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trends[dayName] = {\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                };\n            }\n            // Grupuj dane wed≈Çug dni\n            filteredData.forEach((client)=>{\n                const date = new Date(client.updated_at);\n                const dayName = dayNames[date.getDay()];\n                if (trends[dayName]) {\n                    if (client.status === 'canvas') trends[dayName].canvas++;\n                    else if (client.status === 'sale') trends[dayName].sale++;\n                    else if (client.status === 'antysale') trends[dayName].antysale++;\n                }\n            });\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: trends[dayName].canvas,\n                    sale: trends[dayName].sale,\n                    antysale: trends[dayName].antysale\n                });\n            }\n            console.log('‚úÖ Trendy sprzeda≈ºowe przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                });\n            }\n            return result;\n        }\n    },\n    // Pobierz statystyki klikniƒôƒá telefonu tylko dla pracownik√≥w\n    async getPhoneClicksStats (user) {\n        try {\n            console.log('üìû Pobieranie statystyk klikniƒôƒá telefonu...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                return {\n                    totalPhoneCalls: 0,\n                    totalPhoneCallsToday: 0\n                };\n            }\n            // Pobierz wszystkie klikniƒôcia telefonu z activity_logs tylko dla pracownik√≥w\n            const { data: allPhoneClicks, error: allClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds);\n            if (allClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', allClicksError);\n                throw allClicksError;\n            }\n            const totalPhoneCalls = allPhoneClicks?.length || 0;\n            // Pobierz dzisiejsze klikniƒôcia telefonu\n            const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n            ;\n            const { data: todayPhoneClicks, error: todayClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', `${today}T00:00:00`).lt('timestamp', `${today}T23:59:59`);\n            if (todayClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych klikniƒôƒá telefonu:', todayClicksError);\n                throw todayClicksError;\n            }\n            const totalPhoneCallsToday = todayPhoneClicks?.length || 0;\n            console.log(`‚úÖ Statystyki klikniƒôƒá telefonu: ≈ÇƒÖcznie ${totalPhoneCalls}, dzi≈õ ${totalPhoneCallsToday}`);\n            return {\n                totalPhoneCalls,\n                totalPhoneCallsToday\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk klikniƒôƒá telefonu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá zerowe statystyki\n            return {\n                totalPhoneCalls: 0,\n                totalPhoneCallsToday: 0\n            };\n        }\n    },\n    // Pobierz dane trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni\n    async getTeamPerformanceTrends (user) {\n        try {\n            console.log('üìä Pobieranie trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                // Zwr√≥ƒá puste dane dla ostatnich 7 dni\n                const dayNames = [\n                    'Ndz',\n                    'Pon',\n                    'Wt',\n                    '≈ör',\n                    'Czw',\n                    'Pt',\n                    'Sob'\n                ];\n                const result = [];\n                for(let i = 6; i >= 0; i--){\n                    const date = new Date();\n                    date.setDate(date.getDate() - i);\n                    const dayName = dayNames[date.getDay()];\n                    result.push({\n                        day: dayName,\n                        telefony: 0,\n                        konwersja: 0,\n                        klienci: 0\n                    });\n                }\n                return result;\n            }\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            // 1. Pobierz klikniƒôcia telefonu z activity_logs (tylko pracownicy)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', startDate.toISOString().split('T')[0]).lte('timestamp', endDate.toISOString().split('T')[0] + 'T23:59:59');\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            // 2. Pobierz zmiany klient√≥w z ostatnich 7 dni (tylko przez pracownik√≥w)\n            const { data: clientChanges, error: changesError } = await supabase.from('clients').select('updated_at, status, edited_by').in('edited_by', employeeIds).gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').order('updated_at', {\n                ascending: true\n            });\n            if (changesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania zmian klient√≥w:', changesError);\n                throw changesError;\n            }\n            console.log(`‚úÖ Pobrano ${phoneClicks?.length || 0} klikniƒôƒá telefonu i ${clientChanges?.length || 0} zmian klient√≥w`);\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trendsData = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trendsData[dayName] = {\n                    telefony: 0,\n                    klienci: 0,\n                    sales: 0\n                };\n            }\n            // Grupuj klikniƒôcia telefonu wed≈Çug dni\n            if (phoneClicks && Array.isArray(phoneClicks)) {\n                phoneClicks.forEach((click)=>{\n                    const date = new Date(click.timestamp);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].telefony++;\n                    }\n                });\n            }\n            // Grupuj zmiany klient√≥w wed≈Çug dni\n            if (clientChanges && Array.isArray(clientChanges)) {\n                clientChanges.forEach((change)=>{\n                    const date = new Date(change.updated_at);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].klienci++;\n                        if (change.status === 'sale') {\n                            trendsData[dayName].sales++;\n                        }\n                    }\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                const dayData = trendsData[dayName];\n                // Oblicz konwersjƒô (procent sales wzglƒôdem wszystkich klient√≥w)\n                const konwersja = dayData.klienci > 0 ? Math.round(dayData.sales / dayData.klienci * 100) : 0;\n                result.push({\n                    day: dayName,\n                    telefony: dayData.telefony,\n                    konwersja: konwersja,\n                    klienci: dayData.klienci\n                });\n            }\n            console.log('‚úÖ Trendy wydajno≈õci zespo≈Çu przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w wydajno≈õci zespo≈Çu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    telefony: 0,\n                    konwersja: 0,\n                    klienci: 0\n                });\n            }\n            return result;\n        }\n    },\n    // API dla statystyk osobistych pracownika\n    async getMyPersonalStats (user) {\n        try {\n            console.log('üìä Pobieranie osobistych statystyk pracownika:', user.id, user.role);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                console.error('‚ùå Nieautoryzowana rola:', user.role);\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            console.log('‚úÖ U≈ºytkownik autoryzowany jako pracownik');\n            const currentDate = new Date();\n            const currentMonth = currentDate.toISOString().slice(0, 7) // YYYY-MM\n            ;\n            // Ustaw pierwszy i ostatni dzie≈Ñ miesiƒÖca prawid≈Çowo\n            const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n            const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0, 23, 59, 59);\n            // 1. Pobierz liczbƒô telefon√≥w w tym miesiƒÖcu (klikniƒôcia telefonu)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('id, timestamp').eq('changed_by', user.id).eq('field_changed', 'last_phone_click').gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString());\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            const phoneCallsThisMonth = phoneClicks?.length || 0;\n            console.log(`üìû Znaleziono ${phoneCallsThisMonth} klikniƒôƒá telefonu w tym miesiƒÖcu`);\n            // 2. Pobierz klient√≥w przypisanych do pracownika\n            console.log('üë• Pobieranie klient√≥w przypisanych do pracownika...');\n            const { data: myClients, error: clientsError } = await supabase.from('clients').select('id, status, first_name, last_name, company_name').eq('owner_id', user.id);\n            if (clientsError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w:', clientsError);\n                throw clientsError;\n            }\n            const clients = myClients || [];\n            const totalClients = clients.length;\n            console.log(`üë§ Pracownik ma ${totalClients} przypisanych klient√≥w`);\n            // 3. Agreguj statusy klient√≥w\n            console.log('üìä Agregowanie status√≥w klient√≥w...');\n            const statusMap = new Map();\n            clients.forEach((client)=>{\n                const status = client.status;\n                statusMap.set(status, (statusMap.get(status) || 0) + 1);\n            });\n            console.log('üìà Statusy klient√≥w:', Object.fromEntries(statusMap));\n            // Mapuj statusy na kolory\n            const statusColors = {\n                canvas: '#06b6d4',\n                sale: '#10b981',\n                antysale: '#f59e0b',\n                brak_kontaktu: '#6b7280',\n                nie_zainteresowany: '#ef4444',\n                zdenerwowany: '#dc2626',\n                '$$': '#fbbf24'\n            };\n            const clientStats = Array.from(statusMap.entries()).map(([status, count])=>({\n                    status,\n                    count,\n                    color: statusColors[status] || '#64748b'\n                }));\n            // 4. Oblicz prowizjƒô (tylko za klient√≥w ze statusem 'sale')\n            const saleClients = statusMap.get('sale') || 0;\n            const commissionPerSale = 200 // 200 z≈Ç za ka≈ºdego klienta sale\n            ;\n            const commissionTotal = saleClients * commissionPerSale;\n            // 5. Pobierz godziny pracy z tego miesiƒÖca na podstawie activity_logs\n            console.log('‚è∞ Pobieranie aktywno≈õci z tego miesiƒÖca...');\n            console.log(`üìÖ Zakres dat: ${startOfMonth.toISOString()} - ${endOfMonth.toISOString()}`);\n            const { data: activities, error: activitiesError } = await supabase.from('activity_logs').select('timestamp').eq('changed_by', user.id).gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString()).order('timestamp', {\n                ascending: true\n            });\n            if (activitiesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci:', activitiesError);\n                throw activitiesError;\n            }\n            console.log(`‚è∞ Znaleziono ${activities?.length || 0} aktywno≈õci w tym miesiƒÖcu`);\n            // Grupuj aktywno≈õci wed≈Çug dni i oblicz godziny pracy\n            console.log('üìÖ Grupowanie aktywno≈õci wed≈Çug dni...');\n            const dailyActivities = new Map();\n            if (activities && activities.length > 0) {\n                activities.forEach((activity)=>{\n                    const date = new Date(activity.timestamp);\n                    const day = date.toISOString().split('T')[0] // YYYY-MM-DD\n                    ;\n                    const hour = date.getHours();\n                    if (!dailyActivities.has(day)) {\n                        dailyActivities.set(day, new Set());\n                    }\n                    dailyActivities.get(day).add(hour);\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu\n            const workingHoursThisMonth = Array.from(dailyActivities.entries()).map(([day, hours])=>({\n                    day: new Date(day).toLocaleDateString('pl-PL', {\n                        weekday: 'short',\n                        day: 'numeric'\n                    }),\n                    hours: hours.size,\n                    sortDate: new Date(day) // Dodaj pole do sortowania\n                })).sort((a, b)=>a.sortDate.getTime() - b.sortDate.getTime()).map(({ day, hours })=>({\n                    day,\n                    hours\n                })) // Usu≈Ñ pole sortDate z wynikowych danych\n            ;\n            const totalWorkingHours = Array.from(dailyActivities.values()).reduce((sum, hours)=>sum + hours.size, 0);\n            const totalWorkingDays = dailyActivities.size;\n            console.log('‚úÖ Statystyki osobiste przygotowane:', {\n                phoneCallsThisMonth,\n                totalClients,\n                commissionTotal,\n                totalWorkingHours,\n                totalWorkingDays\n            });\n            return {\n                phoneCallsThisMonth,\n                clientStats,\n                totalClients,\n                commissionTotal,\n                workingHoursThisMonth,\n                totalWorkingHours,\n                totalWorkingDays\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania osobistych statystyk:', error);\n            // Szczeg√≥≈Çowe informacje o b≈Çƒôdzie\n            if (error && typeof error === 'object') {\n                console.error('üìã Szczeg√≥≈Çy b≈Çƒôdu:', {\n                    message: error.message,\n                    code: error.code,\n                    details: error.details,\n                    hint: error.hint,\n                    stack: error.stack\n                });\n            }\n            // Je≈õli to b≈ÇƒÖd RLS lub uprawnie≈Ñ, zwr√≥ƒá pustƒÖ strukturƒô zamiast crashowaƒá\n            if (error && typeof error === 'object' && (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission'))) {\n                console.warn('üîí Problem z uprawnieniami - zwracam domy≈õlne dane');\n                return {\n                    phoneCallsThisMonth: 0,\n                    clientStats: [],\n                    totalClients: 0,\n                    commissionTotal: 0,\n                    workingHoursThisMonth: [],\n                    totalWorkingHours: 0,\n                    totalWorkingDays: 0\n                };\n            }\n            throw error;\n        }\n    },\n    // Funkcje do zarzƒÖdzania godzinami pracy pracownika\n    async saveWorkingHours (user, date, hours) {\n        try {\n            console.log(`‚è∞ Zapisywanie godzin pracy: ${hours}h dla dnia ${date}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Sprawd≈∫ czy to dzie≈Ñ roboczy (pon-pt) - bezpieczne parsowanie daty\n            const dateParts = date.split('-') // \"2025-06-02\" -> [\"2025\", \"06\", \"02\"]\n            ;\n            const year = parseInt(dateParts[0]);\n            const month = parseInt(dateParts[1]) - 1 // -1 bo JavaScript u≈ºywa 0-11 dla miesiƒôcy\n            ;\n            const day = parseInt(dateParts[2]);\n            const dayOfWeek = new Date(year, month, day).getDay();\n            console.log(`üóìÔ∏è Sprawdzanie dnia roboczego: ${date} => dayOfWeek=${dayOfWeek} (${[\n                'nie',\n                'pon',\n                'wt',\n                '≈õr',\n                'czw',\n                'pt',\n                'sob'\n            ][dayOfWeek]})`);\n            if (dayOfWeek === 0 || dayOfWeek === 6) {\n                throw new Error('Mo≈ºna wpisywaƒá godziny tylko dla dni roboczych (pon-pt)');\n            }\n            // Walidacja godzin (0-12)\n            if (hours < 0 || hours > 12) {\n                throw new Error('Liczba godzin musi byƒá miƒôdzy 0 a 12');\n            }\n            // Upsert godzin pracy w bazie danych (tabela ju≈º istnieje)\n            const { error } = await supabase.from('working_hours').upsert({\n                user_id: user.id,\n                work_date: date,\n                hours_worked: hours,\n                updated_at: new Date().toISOString()\n            }, {\n                onConflict: 'user_id,work_date'\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapisywania godzin pracy do bazy:', error);\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage fallback)`);\n                return;\n            }\n            console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (baza danych working_hours)`);\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w saveWorkingHours:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage ultimate fallback)`);\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô zapisaƒá nawet do localStorage:', storageError);\n                throw error;\n            }\n        }\n    },\n    async getWorkingHoursForMonth (user, year, month) {\n        try {\n            console.log(`‚è∞ Pobieranie godzin pracy dla ${year}-${month}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Oblicz pierwszy i ostatni dzie≈Ñ miesiƒÖca (poprawka strefy czasowej)\n            const startDate = `${year}-${month.toString().padStart(2, '0')}-01`;\n            const endDate = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n            console.log(`üìÖ Pobieranie godzin dla zakresu: ${startDate} - ${endDate}`);\n            // Pobierz godziny pracy z tabeli working_hours (tabela ju≈º istnieje)\n            const { data, error } = await supabase.from('working_hours').select('work_date, hours_worked').eq('user_id', user.id).gte('work_date', startDate).lte('work_date', endDate);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania godzin pracy z bazy:', error);\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDate && date <= endDate) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            }\n            // Konwertuj na obiekt date -> hours\n            const hoursMap = {};\n            if (data) {\n                data.forEach((entry)=>{\n                    hoursMap[entry.work_date] = entry.hours_worked;\n                });\n            }\n            console.log(`‚úÖ Pobrano godziny pracy z tabeli working_hours dla ${data?.length || 0} dni`);\n            return hoursMap;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getWorkingHoursForMonth:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const startDateStr = `${year}-${month.toString().padStart(2, '0')}-01`;\n                const endDateStr = `${year}-${month.toString().padStart(2, '0')}-${new Date(year, month, 0).getDate().toString().padStart(2, '0')}`;\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    // U≈ºyj por√≥wnania string√≥w dla dat w formacie YYYY-MM-DD\n                    if (date >= startDateStr && date <= endDateStr) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage ultimate fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô pobraƒá nawet z localStorage:', storageError);\n                return {};\n            }\n        }\n    },\n    // üöÄ NOWE FUNKCJE PERFORMANCE - Materializowane Widoki\n    // Zastƒôpuje ciƒô≈ºkie JOIN'y - teraz natychmiastowe ≈Çadowanie\n    async getMonthlyEmployeePerformance (year, month) {\n        try {\n            console.log(`üìä Pobieranie wydajno≈õci pracownik√≥w dla ${year}-${month} (zoptymalizowane)...`);\n            const { data, error } = await supabase.rpc('get_monthly_employee_performance', {\n                target_year: year,\n                target_month: month\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania wydajno≈õci pracownik√≥w:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Wydajno≈õƒá pracownik√≥w pobrana: ${data?.length || 0} rekord√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getMonthlyEmployeePerformance failed:', error);\n            throw error;\n        }\n    },\n    // Szybkie statystyki zespo≈Çu na podstawie materializowanych widok√≥w\n    async getTeamSummary (year, month) {\n        try {\n            const { data, error } = await supabase.from('mv_monthly_employee_stats').select('*').eq('year', year).eq('month', month).order('owned_sales', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamSummary failed:', error);\n            throw error;\n        }\n    },\n    // Performance analytics - top performers\n    async getTopPerformers (limit = 10) {\n        try {\n            const { data, error } = await supabase.rpc('get_top_performers', {\n                limit_count: limit\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTopPerformers failed:', error);\n            throw error;\n        }\n    }\n};\n// API dla lokalizacji/kraj√≥w\nconst locationsApi = {\n    // Pobierz wszystkie lokalizacje (podstawowe informacje - dla rejestracji)\n    async getAllLocations () {\n        try {\n            const { data, error } = await supabase.from('locations').select(`\n          id,\n          name,\n          code,\n          currency,\n          timezone,\n          region,\n          created_at,\n          updated_at\n        `).order('name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania lokalizacji:', error);\n                throw error;\n            }\n            console.log('‚úÖ Pobrano lokalizacje:', data?.length || 0);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllLocations failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz wszystkie lokalizacje z pe≈Çnymi informacjami (dla zalogowanych u≈ºytkownik√≥w)\n    async getAllLocationsWithManagers () {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).order('name');\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = data?.map((location)=>({\n                ...location,\n                project_manager: location.project_manager && Array.isArray(location.project_manager) && location.project_manager.length > 0 ? location.project_manager[0] // We≈∫ pierwszy element z tablicy\n                 : location.project_manager && !Array.isArray(location.project_manager) ? location.project_manager // Ju≈º jest pojedynczym obiektem\n                 : null // Brak project managera\n            }));\n        return transformedData;\n    },\n    // Pobierz dostƒôpne lokalizacje dla u≈ºytkownika\n    async getUserAccessibleLocations (userId) {\n        try {\n            // Najpierw spr√≥buj u≈ºyƒá funkcji SQL (je≈õli istnieje)\n            const { data, error } = await supabase.rpc('get_user_accessible_locations', {\n                user_id: userId\n            });\n            if (error) {\n                console.warn('üîÑ Funkcja SQL get_user_accessible_locations nie istnieje, u≈ºywam fallback logiki');\n                throw error;\n            }\n            return data;\n        } catch (error) {\n            console.warn('‚ö†Ô∏è B≈ÇƒÖd wywo≈Çania funkcji SQL, u≈ºywam JavaScript fallback:', error);\n            // Fallback - implementacja logiki w JavaScript\n            try {\n                // Pobierz u≈ºytkownika\n                const { data: user, error: userError } = await supabase.from('users').select('role, location_id').eq('id', userId).single();\n                if (userError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá danych u≈ºytkownika:', userError);\n                    return this.getAllLocations() // Fallback - zwr√≥ƒá wszystkie\n                    ;\n                }\n                // Sprawd≈∫ rolƒô u≈ºytkownika\n                if (user.role === 'admin' || user.role === 'szef') {\n                    // Admin i szef widzƒÖ wszystkie lokalizacje\n                    console.log('üëë Admin/Szef - zwracam wszystkie lokalizacje');\n                    return this.getAllLocations();\n                } else {\n                    // Pozostali widzƒÖ tylko swojƒÖ lokalizacjƒô\n                    if (!user.location_id) {\n                        console.warn('‚ö†Ô∏è U≈ºytkownik nie ma przypisanej lokalizacji');\n                        return [];\n                    }\n                    console.log('üë§ Zwyk≈Çy u≈ºytkownik - zwracam lokalizacjƒô:', user.location_id);\n                    const { data: location, error: locationError } = await supabase.from('locations').select('*').eq('id', user.location_id).single();\n                    if (locationError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá lokalizacji u≈ºytkownika:', locationError);\n                        return [];\n                    }\n                    return [\n                        location\n                    ];\n                }\n            } catch (fallbackError) {\n                console.error('‚ùå Fallback logic failed:', fallbackError);\n                // Ostateczny fallback - wszystkie lokalizacje\n                return this.getAllLocations();\n            }\n        }\n    },\n    // Pobierz lokalizacjƒô po ID\n    async getLocationById (id) {\n        const { data, error } = await supabase.from('locations').select(`\n        id,\n        name,\n        code,\n        currency,\n        timezone,\n        region,\n        project_manager_id,\n        created_at,\n        updated_at,\n        project_manager:users!project_manager_id (\n          id,\n          full_name,\n          email,\n          avatar_url\n        )\n      `).eq('id', id).single();\n        if (error) throw error;\n        // Przekszta≈Çƒá dane - Supabase JOIN zwraca project_manager jako tablicƒô\n        const transformedData = {\n            ...data,\n            project_manager: data.project_manager && Array.isArray(data.project_manager) && data.project_manager.length > 0 ? data.project_manager[0] // We≈∫ pierwszy element z tablicy\n             : data.project_manager && !Array.isArray(data.project_manager) ? data.project_manager // Ju≈º jest pojedynczym obiektem\n             : null // Brak project managera\n        };\n        return transformedData;\n    },\n    // Aktualizuj project managera dla lokalizacji\n    async updateLocationProjectManager (locationId, projectManagerId, currentUser) {\n        if (!permissionsApi.canChangeRoles(currentUser)) {\n            throw new Error('Brak uprawnie≈Ñ do zmiany project managera');\n        }\n        const { data, error } = await supabase.from('locations').update({\n            project_manager_id: projectManagerId,\n            updated_at: new Date().toISOString()\n        }).eq('id', locationId).select().single();\n        if (error) throw error;\n        return data;\n    }\n};\n// Funkcje autoryzacji\nconst authApi = {\n    // Zaloguj u≈ºytkownika\n    async signIn (email, password) {\n        const { data, error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Zarejestruj nowego u≈ºytkownika\n    async signUp (email, password, fullName, locationId) {\n        const { data, error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: {\n                    full_name: fullName,\n                    location_id: locationId\n                }\n            }\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Wyloguj u≈ºytkownika\n    async signOut () {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n    },\n    // Pobierz aktualnego u≈ºytkownika\n    async getCurrentUser () {\n        const { data: { user } } = await supabase.auth.getUser();\n        return user;\n    },\n    // Pobierz profil u≈ºytkownika z rolƒÖ\n    async getUserProfile (userId) {\n        const { data, error } = await supabase.from('users').select('*').eq('id', userId).single();\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz wszystkich u≈ºytkownik√≥w (dla opcji filtrowania)\n    async getAllUsers () {\n        try {\n            console.log('üë• getAllUsers START - sprawdzam RLS...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsers - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            console.log('üë• getAllUsers - b≈ÇƒÖd:', error);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsers:', error);\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí Problem z Row Level Security - pracownik nie mo≈ºe widzieƒá innych u≈ºytkownik√≥w');\n                }\n                throw error;\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w - mo≈ºe RLS blokuje dostƒôp');\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllUsers FAILED:', error);\n            throw error;\n        }\n    },\n    // Sprawd≈∫ sesjƒô u≈ºytkownika\n    async getSession () {\n        const { data: { session } } = await supabase.auth.getSession();\n        return session;\n    },\n    // Nas≈Çuchuj zmian w autoryzacji\n    onAuthStateChange (callback) {\n        return supabase.auth.onAuthStateChange(callback);\n    },\n    // Zaktualizuj jƒôzyk u≈ºytkownika\n    async updateUserLanguage (userId, language) {\n        const { data, error } = await supabase.from('users').update({\n            language\n        }).eq('id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Bezpieczne pobieranie u≈ºytkownik√≥w do wy≈õwietlania (odporne na RLS)\n    async getAllUsersForDisplay () {\n        try {\n            console.log('üë• getAllUsersForDisplay START - bezpieczne pobieranie...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            if (!user) {\n                console.log('‚ùå Brak zalogowanego u≈ºytkownika');\n                return [];\n            }\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsersForDisplay - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsersForDisplay:', error);\n                // Je≈õli to problem z RLS, zwr√≥ƒá przynajmniej aktualnego u≈ºytkownika\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí RLS blokuje dostƒôp - zwracam tylko aktualnego u≈ºytkownika');\n                    // Pobierz profil aktualnego u≈ºytkownika\n                    try {\n                        const userProfile = await this.getUserProfile(user.id);\n                        console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                        return [\n                            userProfile\n                        ];\n                    } catch (profileError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                        return [];\n                    }\n                }\n                // Inny b≈ÇƒÖd - zwr√≥ƒá pustƒÖ tablicƒô\n                console.error('‚ùå Inny b≈ÇƒÖd - zwracam pustƒÖ tablicƒô');\n                return [];\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Udane pobranie u≈ºytkownik√≥w:', data.length);\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n                return data;\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w');\n                // Fallback - przynajmniej aktualny u≈ºytkownik\n                try {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                } catch (profileError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                    return [];\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå getAllUsersForDisplay CRITICAL ERROR:', error);\n            // Krytyczny fallback - spr√≥buj przynajmniej pobraƒá aktualnego u≈ºytkownika\n            try {\n                const { data: { user } } = await supabase.auth.getUser();\n                if (user) {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Krytyczny fallback: zwracam aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                }\n            } catch (criticalError) {\n                console.error('‚ùå Krytyczny b≈ÇƒÖd fallback:', criticalError);\n            }\n            return [];\n        }\n    }\n};\n// Funkcja do okre≈õlania koloru statusu \"canvas\" na podstawie czasu\nconst getCanvasStatusColor = (statusChangedAt)=>{\n    if (!statusChangedAt) {\n        return {\n            color: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\n            description: 'Nowy',\n            priority: 'low'\n        };\n    }\n    const now = new Date();\n    const statusDate = new Date(statusChangedAt);\n    const daysDiff = Math.floor((now.getTime() - statusDate.getTime()) / (1000 * 60 * 60 * 24));\n    if (daysDiff <= 2) {\n        // 0-2 dni - zielony (≈õwie≈ºy)\n        return {\n            color: 'bg-green-500/20 text-green-400 border-green-500/30',\n            description: `≈öwie≈ºy (${daysDiff}d)`,\n            priority: 'low'\n        };\n    } else if (daysDiff <= 4) {\n        // 2-4 dni - ≈º√≥≈Çty (uwaga)\n        return {\n            color: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n            description: `Wymaga uwagi (${daysDiff}d)`,\n            priority: 'medium'\n        };\n    } else {\n        // 5+ dni - czerwony (pilny)\n        return {\n            color: 'bg-red-500/20 text-red-400 border-red-500/30',\n            description: `Pilny (${daysDiff}d)`,\n            priority: 'high'\n        };\n    }\n};\n// Funkcja do pobierania klient√≥w z oznaczeniami priorytet√≥w\nconst getCanvasClientsWithPriority = async (user)=>{\n    try {\n        const clients = await clientsApi.getClients(user);\n        const canvasClients = clients.filter((client)=>client.status === 'canvas');\n        const priorityStats = {\n            high: 0,\n            medium: 0,\n            low: 0,\n            total: canvasClients.length\n        };\n        canvasClients.forEach((client)=>{\n            const { priority } = getCanvasStatusColor(client.status_changed_at);\n            priorityStats[priority]++;\n        });\n        return {\n            clients: canvasClients,\n            stats: priorityStats\n        };\n    } catch (error) {\n        console.error('B≈ÇƒÖd pobierania klient√≥w canvas:', error);\n        return {\n            clients: [],\n            stats: {\n                high: 0,\n                medium: 0,\n                low: 0,\n                total: 0\n            }\n        };\n    }\n};\n// üöÄ NOWE API PERFORMANCE - Materializowane Widoki i Optymalizacje\n// Dodane zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\nconst dashboardApi = {\n    // Zastƒôpuje wolne zapytania dashboard - teraz ~10ms zamiast ~200ms\n    async getDashboardMetrics () {\n        try {\n            console.log('‚ö° Pobieranie szybkich metryk dashboard z materializowanego widoku...');\n            const { data, error } = await supabase.rpc('get_dashboard_metrics');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania metryk dashboard:', error);\n                throw error;\n            }\n            console.log('‚úÖ Dashboard metrics pobrane w trybie express:', data?.length || 0, 'metryk');\n            return data;\n        } catch (error) {\n            console.error('‚ùå getDashboardMetrics failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie czy materializowane widoki sƒÖ ≈õwie≈ºe\n    async checkViewFreshness () {\n        try {\n            // Sprawd≈∫ czy tabela mv_dashboard_summary istnieje\n            const { data, error } = await supabase.from('mv_dashboard_summary').select('last_updated').limit(1).single();\n            if (error) {\n                console.warn('‚ö†Ô∏è Materialized view mv_dashboard_summary nie istnieje lub brak uprawnie≈Ñ:', error);\n                // Fallback - u≈ºyj aktualnego czasu\n                return {\n                    lastUpdate: new Date().toISOString(),\n                    minutesSinceUpdate: 0,\n                    isStale: false // Za≈Ço≈º ≈ºe dane sƒÖ ≈õwie≈ºe je≈õli nie ma widoku\n                };\n            }\n            const lastUpdate = new Date(data.last_updated);\n            const now = new Date();\n            const minutesSinceUpdate = Math.floor((now.getTime() - lastUpdate.getTime()) / (1000 * 60));\n            return {\n                lastUpdate: data.last_updated,\n                minutesSinceUpdate,\n                isStale: minutesSinceUpdate > 30 // Uznaj za nieaktualne po 30 minutach\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            // Graceful fallback\n            return {\n                lastUpdate: new Date().toISOString(),\n                minutesSinceUpdate: 0,\n                isStale: false\n            };\n        }\n    }\n};\n// üöÄ NOWE FUNKCJE PERFORMANCE dodane do istniejƒÖcego reportsApi\nconst teamApi = {\n    // Szybki przeglƒÖd aktywno≈õci zespo≈Çu\n    async getTeamActivityOverview () {\n        try {\n            console.log('üë• Pobieranie przeglƒÖdu aktywno≈õci zespo≈Çu (zoptymalizowane)...');\n            const { data, error } = await supabase.from('mv_activity_summary').select('*').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]).order('activities_24h', {\n                ascending: false\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci zespo≈Çu:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Aktywno≈õƒá zespo≈Çu pobrana: ${data?.length || 0} u≈ºytkownik√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamActivityOverview failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie aktywnych u≈ºytkownik√≥w w czasie rzeczywistym\n    async getActiveUsersNow () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('user_id, full_name, activity_status, last_activity').eq('activity_status', 'active').order('last_activity', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getActiveUsersNow failed:', error);\n            throw error;\n        }\n    },\n    // Statystyki produktywno≈õci zespo≈Çu\n    async getProductivityStats () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('activities_24h, activities_7d, phone_clicks, status_changes').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]);\n            if (error) throw error;\n            // Oblicz ≈õrednie\n            const totalUsers = data.length;\n            const avgDaily = data.reduce((sum, user)=>sum + user.activities_24h, 0) / totalUsers;\n            const avgWeekly = data.reduce((sum, user)=>sum + user.activities_7d, 0) / totalUsers;\n            return {\n                totalUsers,\n                avgDailyActivities: Math.round(avgDaily),\n                avgWeeklyActivities: Math.round(avgWeekly),\n                totalDailyActivities: data.reduce((sum, user)=>sum + user.activities_24h, 0),\n                totalWeeklyActivities: data.reduce((sum, user)=>sum + user.activities_7d, 0)\n            };\n        } catch (error) {\n            console.error('‚ùå getProductivityStats failed:', error);\n            throw error;\n        }\n    }\n};\n// üîß PERFORMANCE MONITORING API\nconst performanceApi = {\n    // Sprawdzenie metryk wydajno≈õci systemu\n    async getSystemMetrics () {\n        try {\n            console.log('üîç Pobieranie metryk wydajno≈õci systemu...');\n            const tableStats = [];\n            // Pomocnicza funkcja do bezpiecznego pobierania statystyk tabeli\n            const getTableStats = async (tableName)=>{\n                try {\n                    const { count, error } = await supabase.from(tableName).select('*', {\n                        count: 'exact',\n                        head: true\n                    });\n                    if (error) {\n                        console.warn(`‚ö†Ô∏è Nie mo≈ºna pobraƒá statystyk tabeli ${tableName}:`, error.message);\n                        return null;\n                    }\n                    return {\n                        table_name: tableName,\n                        record_count: count || 0,\n                        table_size: 'N/A',\n                        last_updated: new Date().toISOString()\n                    };\n                } catch (err) {\n                    console.warn(`‚ö†Ô∏è B≈ÇƒÖd tabeli ${tableName}:`, err);\n                    return null;\n                }\n            };\n            // Sprawd≈∫ ka≈ºdƒÖ tabelƒô oddzielnie\n            const tables = [\n                'clients',\n                'users',\n                'activity_logs',\n                'activity_logs_archive'\n            ];\n            for (const tableName of tables){\n                const stats = await getTableStats(tableName);\n                if (stats) {\n                    tableStats.push(stats);\n                }\n            }\n            // Je≈õli nie uda≈Ço siƒô pobraƒá ≈ºadnych statystyk, zwr√≥ƒá podstawowe informacje\n            if (tableStats.length === 0) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá statystyk ≈ºadnej tabeli - zwracam dane przyk≈Çadowe');\n                tableStats.push({\n                    table_name: 'system_info',\n                    record_count: 0,\n                    table_size: 'Brak dostƒôpu',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            console.log(`‚úÖ Pobrano statystyki ${tableStats.length} tabel`);\n            return tableStats;\n        } catch (error) {\n            console.error('‚ùå getSystemMetrics failed:', error);\n            // Graceful fallback - zwr√≥ƒá podstawowe dane zamiast rzucaƒá b≈ÇƒÖd\n            return [\n                {\n                    table_name: 'error_fallback',\n                    record_count: 0,\n                    table_size: 'B≈ÇƒÖd po≈ÇƒÖczenia',\n                    last_updated: new Date().toISOString()\n                }\n            ];\n        }\n    },\n    // Manualne od≈õwie≈ºenie materializowanych widok√≥w\n    async refreshMaterializedViews () {\n        try {\n            console.log('üîÑ Manualnie od≈õwie≈ºam materializowane widoki...');\n            const { data, error } = await supabase.rpc('refresh_all_materialized_views');\n            if (error) throw error;\n            console.log('‚úÖ Widoki od≈õwie≈ºone:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå refreshMaterializedViews failed:', error);\n            throw error;\n        }\n    },\n    // Archiwizacja starych log√≥w\n    async archiveOldLogs () {\n        try {\n            console.log('üì¶ Uruchamiam archiwizacjƒô starych log√≥w...');\n            const { data, error } = await supabase.rpc('archive_old_activity_logs');\n            if (error) throw error;\n            console.log(`‚úÖ Zarchiwizowano ${data} starych log√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå archiveOldLogs failed:', error);\n            throw error;\n        }\n    },\n    // Optymalizacja bazy danych\n    async optimizeDatabase () {\n        try {\n            console.log('üöÄ Uruchamiam optymalizacjƒô bazy danych...');\n            const { data, error } = await supabase.rpc('optimize_database_performance');\n            if (error) throw error;\n            console.log('‚úÖ Baza danych zoptymalizowana:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå optimizeDatabase failed:', error);\n            throw error;\n        }\n    }\n};\nconst callsApi = {\n    /**\r\n   * üìû POBIERZ HISTORIƒò PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera historiƒô po≈ÇƒÖcze≈Ñ telefonicznych z activity_logs\r\n   * Uwzglƒôdnia uprawnienia u≈ºytkownika:\r\n   * - Admin/Szef: wszystkie po≈ÇƒÖczenia z wybranego kraju\r\n   * - Project Manager/Junior Manager: wszystkie z ich lokalizacji\r\n   * - Pracownik: tylko swoje po≈ÇƒÖczenia\r\n   */ async getCalls (user, filter = {}) {\n        try {\n            console.log('üìû Pobieranie historii po≈ÇƒÖcze≈Ñ...', {\n                user: user.role,\n                filter\n            });\n            let query = supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          timestamp,\n          clients!inner (\n            id,\n            first_name,\n            last_name,\n            company_name,\n            phone,\n            location_id,\n            location:locations (\n              id,\n              name,\n              code\n            )\n          )\n        `).eq('field_changed', 'last_phone_click').order('timestamp', {\n                ascending: false\n            }).limit(filter.limit || 100);\n            // Filtrowanie wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            if (user.role === 'pracownik') {\n                // Pracownik widzi tylko swoje po≈ÇƒÖczenia\n                query = query.eq('changed_by', user.id);\n            } else if ([\n                'junior_manager',\n                'manager',\n                'project_manager'\n            ].includes(user.role)) {\n                // Mened≈ºerowie widzƒÖ po≈ÇƒÖczenia z ich lokalizacji\n                if (filter.locationId) {\n                    // Je≈õli wybrano konkretnƒÖ lokalizacjƒô, filtruj po niej\n                    query = query.eq('clients.location_id', filter.locationId);\n                } else if (user.location_id) {\n                    // Je≈õli nie wybrano lokalizacji, poka≈º z lokalizacji u≈ºytkownika\n                    query = query.eq('clients.location_id', user.location_id);\n                }\n            } else if ([\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                // Szef i admin widzƒÖ wszystko, opcjonalnie filtrowane po lokalizacji\n                if (filter.locationId) {\n                    query = query.eq('clients.location_id', filter.locationId);\n                }\n            }\n            // Dodatkowe filtry czasowe\n            if (filter.startDate) {\n                query = query.gte('timestamp', filter.startDate);\n            }\n            if (filter.endDate) {\n                query = query.lte('timestamp', filter.endDate);\n            }\n            const { data: callLogs, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania po≈ÇƒÖcze≈Ñ:', error);\n                throw error;\n            }\n            if (!callLogs || callLogs.length === 0) {\n                console.log('üìû Brak po≈ÇƒÖcze≈Ñ dla podanych kryteri√≥w');\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach (dzwoniƒÖcych)\n            const callerIds = [\n                ...new Set(callLogs.map((log)=>log.changed_by))\n            ];\n            const { data: callers, error: callersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', callerIds);\n            if (callersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', callersError);\n            // Kontynuuj bez szczeg√≥≈Ç√≥w u≈ºytkownik√≥w\n            }\n            // Stw√≥rz mapƒô u≈ºytkownik√≥w\n            const callersMap = (callers || []).reduce((acc, caller)=>{\n                acc[caller.id] = caller;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane na format CallRecord\n            const callRecords = callLogs.map((log)=>{\n                const client = Array.isArray(log.clients) ? log.clients[0] : log.clients;\n                const caller = callersMap[log.changed_by];\n                const location = Array.isArray(client?.location) ? client.location[0] : client?.location;\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    client_name: client ? `${client.first_name} ${client.last_name}`.trim() : 'Nieznany klient',\n                    client_company: client?.company_name || 'Brak informacji',\n                    client_phone: client?.phone || 'Brak telefonu',\n                    called_by: log.changed_by,\n                    caller_name: caller?.full_name || 'Nieznany u≈ºytkownik',\n                    caller_role: caller?.role || 'unknown',\n                    caller_avatar: caller?.avatar_url || null,\n                    call_timestamp: log.timestamp,\n                    location_id: client?.location_id || null,\n                    location_name: location?.name || null,\n                    location_code: location?.code || null\n                };\n            });\n            console.log(`‚úÖ Pobrano ${callRecords.length} rekord√≥w po≈ÇƒÖcze≈Ñ`);\n            return callRecords;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w callsApi.getCalls:', error);\n            throw error;\n        }\n    },\n    /**\r\n   * üìä POBIERZ STATYSTYKI PO≈ÅƒÑCZE≈É\r\n   * \r\n   * Pobiera statystyki po≈ÇƒÖcze≈Ñ dla wybranego okresu\r\n   */ async getCallsStats (user, filter = {}) {\n        try {\n            console.log('üìä Pobieranie statystyk po≈ÇƒÖcze≈Ñ...');\n            const now = new Date();\n            const today = now.toISOString().split('T')[0];\n            const weekStart = new Date(now.setDate(now.getDate() - now.getDay())).toISOString().split('T')[0];\n            const monthStart = new Date(now.getFullYear(), now.getMonth(), 1).toISOString();\n            // Pobierz wszystkie po≈ÇƒÖczenia zgodnie z uprawnieniami\n            const allCalls = await callsApi.getCalls(user, {\n                ...filter,\n                limit: 1000\n            });\n            // Zlicz statystyki\n            const totalCalls = allCalls.length;\n            const callsToday = allCalls.filter((call)=>call.call_timestamp.startsWith(today)).length;\n            const callsThisWeek = allCalls.filter((call)=>call.call_timestamp >= weekStart).length;\n            const callsThisMonth = allCalls.filter((call)=>call.call_timestamp >= monthStart).length;\n            // Top dzwoniƒÖcy\n            const callerCounts = allCalls.reduce((acc, call)=>{\n                const key = call.called_by;\n                if (!acc[key]) {\n                    acc[key] = {\n                        name: call.caller_name,\n                        role: call.caller_role,\n                        avatar: call.caller_avatar,\n                        count: 0\n                    };\n                }\n                acc[key].count++;\n                return acc;\n            }, {});\n            const topCallers = Object.values(callerCounts).sort((a, b)=>b.count - a.count).slice(0, 5);\n            return {\n                totalCalls,\n                callsToday,\n                callsThisWeek,\n                callsThisMonth,\n                topCallers\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk po≈ÇƒÖcze≈Ñ:', error);\n            return {\n                totalCalls: 0,\n                callsToday: 0,\n                callsThisWeek: 0,\n                callsThisMonth: 0,\n                topCallers: []\n            };\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQVl0VyxNQUFNO1lBRXhGLGdCQUFnQjtZQUNoQixNQUFNc2pCLGVBQWVOLFNBQVN4VSxNQUFNLENBQUMsQ0FBQ1ksS0FBSytUO2dCQUN6QyxNQUFNSSxNQUFNSixLQUFLWixTQUFTO2dCQUMxQixJQUFJLENBQUNuVCxHQUFHLENBQUNtVSxJQUFJLEVBQUU7b0JBQ2JuVSxHQUFHLENBQUNtVSxJQUFJLEdBQUc7d0JBQ1RobEIsTUFBTTRrQixLQUFLWCxXQUFXO3dCQUN0QnpkLE1BQU1vZSxLQUFLVixXQUFXO3dCQUN0QmUsUUFBUUwsS0FBS1QsYUFBYTt3QkFDMUJ2YyxPQUFPO29CQUNUO2dCQUNGO2dCQUNBaUosR0FBRyxDQUFDbVUsSUFBSSxDQUFDcGQsS0FBSztnQkFDZCxPQUFPaUo7WUFDVCxHQUFHLENBQUM7WUFFSixNQUFNcVUsYUFBYTlKLE9BQU9xQixNQUFNLENBQUNzSSxjQUM5QjVXLElBQUksQ0FBQyxDQUFDQyxHQUFHQyxJQUFNQSxFQUFFekcsS0FBSyxHQUFHd0csRUFBRXhHLEtBQUssRUFDaEN2RixLQUFLLENBQUMsR0FBRztZQUVaLE9BQU87Z0JBQ0xxaUI7Z0JBQ0FDO2dCQUNBRTtnQkFDQUM7Z0JBQ0FJO1lBQ0Y7UUFFRixFQUFFLE9BQU8xbEIsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMseUNBQXlDQTtZQUN2RCxPQUFPO2dCQUNMa2xCLFlBQVk7Z0JBQ1pDLFlBQVk7Z0JBQ1pFLGVBQWU7Z0JBQ2ZDLGdCQUFnQjtnQkFDaEJJLFlBQVksRUFBRTtZQUNoQjtRQUNGO0lBQ0Y7QUFDRixFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXGtrYWNwXFxEZXNrdG9wXFxTcGVjdHJlc0dyb3VwQ1JNXFxkYXNoYm9hcmRcXGxpYlxcc3VwYWJhc2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSAnQHN1cGFiYXNlL3N1cGFiYXNlLWpzJ1xyXG5cclxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJ2h0dHBzOi8vcGtodWdnZGtjZ2xpY2doZ3hpeXAuc3VwYWJhc2UuY28nXHJcbmNvbnN0IHN1cGFiYXNlQW5vbktleSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIHx8ICdleUpoYkdjaU9pSklVekkxTmlJc0luUjVjQ0k2SWtwWFZDSjkuZXlKcGMzTWlPaUp6ZFhCaFltRnpaU0lzSW5KbFppSTZJbkJyYUhWbloyUnJZMmRzYVdObmFHZDRhWGx3SWl3aWNtOXNaU0k2SW1GdWIyNGlMQ0pwWVhRaU9qRTNORGs1TVRFd056RXNJbVY0Y0NJNk1qQTJOVFE0TnpBM01YMC5MYld0Yi1tb2RSRGx2bmtHRjVJc3dSSGUxbEpwZDR6Q01na1EzX0UwUVFrJ1xyXG5cclxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXHJcblxyXG4vLyBGdW5rY2phIHBvbW9jbmljemEgZG8gZ2VuZXJvd2FuaWEgcG9wcmF3bnljaCBVUkwtaSBhdmF0YXLDs3cgeiBTdXBhYmFzZSBTdG9yYWdlXHJcbmV4cG9ydCBjb25zdCBnZXRBdmF0YXJVcmwgPSAoYXZhdGFyVXJsPzogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwgPT4ge1xyXG4gIGlmICghYXZhdGFyVXJsKSByZXR1cm4gbnVsbFxyXG4gIFxyXG4gIC8vIEplxZtsaSB0byBqdcW8IHBlxYJueSBVUkwgKHphY3p5bmEgc2nEmSBvZCBodHRwKSwgendyw7PEhyBiZXogem1pYW5cclxuICBpZiAoYXZhdGFyVXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSkge1xyXG4gICAgcmV0dXJuIGF2YXRhclVybFxyXG4gIH1cclxuICBcclxuICAvLyBKZcWbbGkgdG8gxZtjaWXFvGthIHcgYnVja2V0J3UgKHphd2llcmEgZm9sZGVyKSwgd3lnZW5lcnVqIHB1YmxpY3pueSBVUkxcclxuICBpZiAoYXZhdGFyVXJsLmluY2x1ZGVzKCcvJykpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgIC5mcm9tKCdhdmF0YXJzJylcclxuICAgICAgICAuZ2V0UHVibGljVXJsKGF2YXRhclVybClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhLnB1YmxpY1VybFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIGdlbmVyb3dhbmlhIFVSTCBhdmF0YXJhOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4gbnVsbFxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyBGYWxsYmFjayAtIHByYXdkb3BvZG9ibmllIG5pZXBvcHJhd255IGZvcm1hdFxyXG4gIGNvbnNvbGUud2FybignTmllcm96cG96bmFueSBmb3JtYXQgYXZhdGFyX3VybDonLCBhdmF0YXJVcmwpXHJcbiAgcmV0dXJuIG51bGxcclxufVxyXG5cclxuLy8gU3RvcmFnZSBBUEkgZGxhIHBsaWvDs3cgQ1NWXHJcbmV4cG9ydCBjb25zdCBzdG9yYWdlQXBpID0ge1xyXG4gIC8vIFVwbG9hZCBwbGlrdSBDU1YgZG8gYnVja2V0XHJcbiAgYXN5bmMgdXBsb2FkQ1NWKGZpbGU6IEZpbGUsIHVzZXI6IFVzZXIpOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gT2N6eXN6Y3plbmllIG5hend5IHBsaWt1IHogcHJvYmxlbWF0eWN6bnljaCB6bmFrw7N3XHJcbiAgICAgIGNvbnN0IGNsZWFuRmlsZU5hbWUgPSBmaWxlLm5hbWVcclxuICAgICAgICAucmVwbGFjZSgvW15hLXpBLVowLTkuLV0vZywgJ18nKSAvLyBaYXN0xIVwIHdzenlzdGtpZSB6bmFraSBzcGVjamFsbmUgcG9ka3JlxZtsZW5pYW1pXHJcbiAgICAgICAgLnJlcGxhY2UoL197Mix9L2csICdfJykgLy8gWmFtaWXFhCB3aWVsb2tyb3RuZSBwb2RrcmXFm2xlbmlhIG5hIHBvamVkeW5jemVcclxuICAgICAgICAucmVwbGFjZSgvXl8rfF8rJC9nLCAnJykgLy8gVXN1xYQgcG9ka3JlxZtsZW5pYSB6IHBvY3rEhXRrdSBpIGtvxYRjYVxyXG4gICAgICAgIC50b0xvd2VyQ2FzZSgpIC8vIE1hxYJlIGxpdGVyeSBkbGEgY29uc2lzdGVuY3lcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGZpbGVOYW1lID0gYCR7dXNlci5pZH1fJHtEYXRlLm5vdygpfV8ke2NsZWFuRmlsZU5hbWV9YFxyXG4gICAgICBjb25zdCBmaWxlUGF0aCA9IGBjc3YtaW1wb3J0cy8ke2ZpbGVOYW1lfWBcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OBIFVwbG9hZGluZyBDU1Y6ICR7ZmlsZVBhdGh9YClcclxuICAgICAgY29uc29sZS5sb2coYPCfk4EgT3JpZ2luYWwgZmlsZW5hbWU6ICR7ZmlsZS5uYW1lfWApXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OBIENsZWFuZWQgZmlsZW5hbWU6ICR7Y2xlYW5GaWxlTmFtZX1gKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAgIC5mcm9tKCdjc3YtZmlsZXMnKVxyXG4gICAgICAgIC51cGxvYWQoZmlsZVBhdGgsIGZpbGUsIHtcclxuICAgICAgICAgIGNhY2hlQ29udHJvbDogJzM2MDAnLFxyXG4gICAgICAgICAgdXBzZXJ0OiBmYWxzZVxyXG4gICAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgU3RvcmFnZSB1cGxvYWQgZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgdXBsb2FkdTogJHtlcnJvci5tZXNzYWdlfWApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgZGF0YS5wYXRoKVxyXG4gICAgICByZXR1cm4gZGF0YS5wYXRoXHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIFVwbG9hZCBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyBQb2JpZXJ6IHB1YmxpY3pueSBVUkwgcGxpa3VcclxuICBnZXRQdWJsaWNVcmwocGF0aDogc3RyaW5nKTogc3RyaW5nIHtcclxuICAgIGNvbnN0IHsgZGF0YSB9ID0gc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAuZnJvbSgnY3N2LWZpbGVzJylcclxuICAgICAgLmdldFB1YmxpY1VybChwYXRoKVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YS5wdWJsaWNVcmxcclxuICB9LFxyXG4gIFxyXG4gIC8vIFVzdcWEIHBsaWsgeiBidWNrZXRcclxuICBhc3luYyBkZWxldGVGaWxlKHBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxyXG4gICAgICAuZnJvbSgnY3N2LWZpbGVzJylcclxuICAgICAgLnJlbW92ZShbcGF0aF0pXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgRmlsZSBkZWxldGlvbiBlcnJvcjonLCBlcnJvcilcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgdXN1d2FuaWEgcGxpa3U6ICR7ZXJyb3IubWVzc2FnZX1gKVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQ1NWIEltcG9ydCBBUElcclxuZXhwb3J0IGNvbnN0IGNzdkltcG9ydEFwaSA9IHtcclxuICAvLyBQYXJzdWogQ1NWIGkgendyw7PEhyBkYW5lXHJcbiAgcGFyc2VDU1YoY3N2VGV4dDogc3RyaW5nKTogeyBoZWFkZXJzOiBzdHJpbmdbXSwgcm93czogc3RyaW5nW11bXSB9IHtcclxuICAgIGNvbnN0IGxpbmVzID0gY3N2VGV4dC5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09ICcnKVxyXG4gICAgXHJcbiAgICBpZiAobGluZXMubGVuZ3RoIDwgMikge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1BsaWsgQ1NWIGplc3QgcHVzdHkgbHViIHphd2llcmEgdHlsa28gbmFnxYLDs3draScpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFBhcnNvd2FuaWUgeiBvYnPFgnVnxIUgY3VkenlzxYJvd8Ozd1xyXG4gICAgY29uc3QgcGFyc2VDU1ZMaW5lID0gKGxpbmU6IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcclxuICAgICAgY29uc3QgcmVzdWx0OiBzdHJpbmdbXSA9IFtdXHJcbiAgICAgIGxldCBjdXJyZW50ID0gJydcclxuICAgICAgbGV0IGluUXVvdGVzID0gZmFsc2VcclxuICAgICAgXHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNoYXIgPSBsaW5lW2ldXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcclxuICAgICAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzXHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFyID09PSAnLCcgJiYgIWluUXVvdGVzKSB7XHJcbiAgICAgICAgICByZXN1bHQucHVzaChjdXJyZW50LnRyaW0oKSlcclxuICAgICAgICAgIGN1cnJlbnQgPSAnJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjdXJyZW50ICs9IGNoYXJcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQudHJpbSgpKVxyXG4gICAgICByZXR1cm4gcmVzdWx0Lm1hcChjZWxsID0+IGNlbGwucmVwbGFjZSgvXlwifFwiJC9nLCAnJykpIC8vIFVzdcWEIGN1ZHp5c8WCb3d5XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGNvbnN0IGhlYWRlcnMgPSBwYXJzZUNTVkxpbmUobGluZXNbMF0pXHJcbiAgICBjb25zdCByb3dzID0gbGluZXMuc2xpY2UoMSkubWFwKHBhcnNlQ1NWTGluZSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHsgaGVhZGVycywgcm93cyB9XHJcbiAgfSxcclxuICBcclxuICAvLyBNYXB1aiBuYWfFgsOzd2tpIENTViBuYSBwb2xhIGJhenkgZGFueWNoXHJcbiAgbWFwSGVhZGVycyhoZWFkZXJzOiBzdHJpbmdbXSk6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4ge1xyXG4gICAgY29uc3QgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XHJcbiAgICBcclxuICAgIGNvbnN0IGZpZWxkTWFwcGluZ3MgPSBbXHJcbiAgICAgIHsgZmllbGRzOiBbJ2ZpcnN0X25hbWUnLCAnaW1pxJknLCAnbmFtZScsICdmaXJzdE5hbWUnXSwgZGJGaWVsZDogJ2ZpcnN0X25hbWUnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ2xhc3RfbmFtZScsICduYXp3aXNrbycsICdzdXJuYW1lJywgJ2xhc3ROYW1lJ10sIGRiRmllbGQ6ICdsYXN0X25hbWUnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ2NvbXBhbnlfbmFtZScsICdmaXJtYScsICdjb21wYW55JywgJ2NvbXBhbnlOYW1lJywgJ25hendhJ10sIGRiRmllbGQ6ICdjb21wYW55X25hbWUnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ25pcCcsICd0YXhfaWQnLCAndGF4SWQnXSwgZGJGaWVsZDogJ25pcCcgfSxcclxuICAgICAgeyBmaWVsZHM6IFsncGhvbmUnLCAndGVsZWZvbicsICd0ZWxlcGhvbmUnXSwgZGJGaWVsZDogJ3Bob25lJyB9LFxyXG4gICAgICB7IGZpZWxkczogWydlbWFpbCcsICdlLW1haWwnLCAnbWFpbCddLCBkYkZpZWxkOiAnZW1haWwnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ3dlYnNpdGUnLCAnd3d3JywgJ3N0cm9uYScsICd1cmwnXSwgZGJGaWVsZDogJ3dlYnNpdGUnIH0sXHJcbiAgICAgIHsgZmllbGRzOiBbJ25vdGVzJywgJ25vdGF0a2EnLCAnbm90ZScsICdjb21tZW50J10sIGRiRmllbGQ6ICdub3RlcycgfSxcclxuICAgICAgeyBmaWVsZHM6IFsnc3RhdHVzJ10sIGRiRmllbGQ6ICdzdGF0dXMnIH1cclxuICAgIF1cclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBmaWVsZE1hcHBpbmcgb2YgZmllbGRNYXBwaW5ncykge1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBoZWFkZXIgPSBoZWFkZXJzW2ldLnRvTG93ZXJDYXNlKCkudHJpbSgpXHJcbiAgICAgICAgaWYgKGZpZWxkTWFwcGluZy5maWVsZHMuc29tZShmaWVsZCA9PiBoZWFkZXIuaW5jbHVkZXMoZmllbGQpKSkge1xyXG4gICAgICAgICAgbWFwcGluZ1tmaWVsZE1hcHBpbmcuZGJGaWVsZF0gPSBpXHJcbiAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gbWFwcGluZ1xyXG4gIH0sXHJcbiAgXHJcbiAgLy8gV2FsaWR1aiB3eW1hZ2FuZSBwb2xhXHJcbiAgdmFsaWRhdGVSZXF1aXJlZEZpZWxkcyhtYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+KTogdm9pZCB7XHJcbiAgICBjb25zdCByZXF1aXJlZEZpZWxkcyA9IFsnY29tcGFueV9uYW1lJ11cclxuICAgIGNvbnN0IG1pc3NpbmdGaWVsZHMgPSByZXF1aXJlZEZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIShmaWVsZCBpbiBtYXBwaW5nKSlcclxuICAgIFxyXG4gICAgaWYgKG1pc3NpbmdGaWVsZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJyYWsgd3ltYWdhbnljaCBrb2x1bW46ICR7bWlzc2luZ0ZpZWxkcy5qb2luKCcsICcpfS4gV3ltYWdhbmU6IEZpcm1hL05hendhYClcclxuICAgIH1cclxuICB9LFxyXG4gIFxyXG4gIC8vIFNwcmF3ZMW6IGRvc3TEmXBuZSBrb2x1bW55IGkgcG9rYcW8IGluZm9ybWFjamVcclxuICBhbmFseXplQ29sdW1ucyhtYXBwaW5nOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBoZWFkZXJzOiBzdHJpbmdbXSk6IHsgZm91bmQ6IHN0cmluZ1tdLCBtaXNzaW5nOiBzdHJpbmdbXSwgb3B0aW9uYWw6IHN0cmluZ1tdIH0ge1xyXG4gICAgY29uc3QgYWxsUG9zc2libGVGaWVsZHMgPSBbXHJcbiAgICAgIHsgZmllbGQ6ICdmaXJzdF9uYW1lJywgZGlzcGxheU5hbWU6ICdJbWnEmScsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnbGFzdF9uYW1lJywgZGlzcGxheU5hbWU6ICdOYXp3aXNrbycsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnY29tcGFueV9uYW1lJywgZGlzcGxheU5hbWU6ICdGaXJtYS9OYXp3YScsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICdwaG9uZScsIGRpc3BsYXlOYW1lOiAnVGVsZWZvbicsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnZW1haWwnLCBkaXNwbGF5TmFtZTogJ0VtYWlsJywgcmVxdWlyZWQ6IGZhbHNlIH0sXHJcbiAgICAgIHsgZmllbGQ6ICduaXAnLCBkaXNwbGF5TmFtZTogJ05JUCcsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnd2Vic2l0ZScsIGRpc3BsYXlOYW1lOiAnU3Ryb25hIFdXVycsIHJlcXVpcmVkOiBmYWxzZSB9LFxyXG4gICAgICB7IGZpZWxkOiAnbm90ZXMnLCBkaXNwbGF5TmFtZTogJ05vdGF0a2knLCByZXF1aXJlZDogZmFsc2UgfSxcclxuICAgICAgeyBmaWVsZDogJ3N0YXR1cycsIGRpc3BsYXlOYW1lOiAnU3RhdHVzJywgcmVxdWlyZWQ6IGZhbHNlIH1cclxuICAgIF1cclxuICAgIFxyXG4gICAgY29uc3QgZm91bmQ6IHN0cmluZ1tdID0gW11cclxuICAgIGNvbnN0IG1pc3Npbmc6IHN0cmluZ1tdID0gW11cclxuICAgIGNvbnN0IG9wdGlvbmFsOiBzdHJpbmdbXSA9IFtdXHJcbiAgICBcclxuICAgIGFsbFBvc3NpYmxlRmllbGRzLmZvckVhY2goKHsgZmllbGQsIGRpc3BsYXlOYW1lLCByZXF1aXJlZCB9KSA9PiB7XHJcbiAgICAgIGlmIChmaWVsZCBpbiBtYXBwaW5nKSB7XHJcbiAgICAgICAgZm91bmQucHVzaChkaXNwbGF5TmFtZSlcclxuICAgICAgfSBlbHNlIGlmIChyZXF1aXJlZCkge1xyXG4gICAgICAgIG1pc3NpbmcucHVzaChkaXNwbGF5TmFtZSlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBvcHRpb25hbC5wdXNoKGRpc3BsYXlOYW1lKVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICByZXR1cm4geyBmb3VuZCwgbWlzc2luZywgb3B0aW9uYWwgfVxyXG4gIH0sXHJcbiAgXHJcbiAgLy8gUHJ6ZWtzenRhxYLEhyB3aWVyc3ogQ1NWIG5hIG9iaWVrdCBrbGllbnRhXHJcbiAgcm93VG9DbGllbnQocm93OiBzdHJpbmdbXSwgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgdXNlcjogVXNlciwgbG9jYXRpb25JZD86IHN0cmluZyk6IE9taXQ8Q2xpZW50LCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPiB7XHJcbiAgICBjb25zdCBnZXRGaWVsZCA9IChmaWVsZDogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IHN0cmluZyA9ICdicmFrIGluZm9ybWFjamknKTogc3RyaW5nID0+IHtcclxuICAgICAgY29uc3QgaW5kZXggPSBtYXBwaW5nW2ZpZWxkXVxyXG4gICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWVcclxuICAgICAgfVxyXG4gICAgICBjb25zdCB2YWx1ZSA9IChyb3dbaW5kZXhdIHx8ICcnKS50cmltKClcclxuICAgICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IGRlZmF1bHRWYWx1ZSA6IHZhbHVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFdhbGlkYWNqYSBzdGF0dXN1XHJcbiAgICBjb25zdCByYXdTdGF0dXMgPSBnZXRGaWVsZCgnc3RhdHVzJywgJ2NhbnZhcycpLnRvTG93ZXJDYXNlKClcclxuICAgIGNvbnN0IHZhbGlkU3RhdHVzZXMgPSBbJ2NhbnZhcycsICdicmFrX2tvbnRha3R1JywgJ25pZV96YWludGVyZXNvd2FueScsICd6ZGVuZXJ3b3dhbnknLCAnYW50eXNhbGUnLCAnc2FsZScsICckJCddIGFzIGNvbnN0XHJcbiAgICBjb25zdCBzdGF0dXMgPSB2YWxpZFN0YXR1c2VzLmluY2x1ZGVzKHJhd1N0YXR1cyBhcyBhbnkpID8gcmF3U3RhdHVzIGFzIENsaWVudFsnc3RhdHVzJ10gOiAnY2FudmFzJ1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBmaXJzdF9uYW1lOiBnZXRGaWVsZCgnZmlyc3RfbmFtZScpLCAvLyBPcGNqb25hbG5lIC0gbW/FvGUgYnnEhyBcImJyYWsgaW5mb3JtYWNqaVwiXHJcbiAgICAgIGxhc3RfbmFtZTogZ2V0RmllbGQoJ2xhc3RfbmFtZScpLCAvLyBPcGNqb25hbG5lIC0gbW/FvGUgYnnEhyBcImJyYWsgaW5mb3JtYWNqaVwiXHJcbiAgICAgIGNvbXBhbnlfbmFtZTogZ2V0RmllbGQoJ2NvbXBhbnlfbmFtZScsICcnKSwgLy8gV3ltYWdhbmUgLSBuaWUgbW/FvGUgYnnEhyBcImJyYWsgaW5mb3JtYWNqaVwiXHJcbiAgICAgIG5pcDogZ2V0RmllbGQoJ25pcCcpLFxyXG4gICAgICBwaG9uZTogZ2V0RmllbGQoJ3Bob25lJyksXHJcbiAgICAgIGVtYWlsOiBnZXRGaWVsZCgnZW1haWwnKSxcclxuICAgICAgd2Vic2l0ZTogZ2V0RmllbGQoJ3dlYnNpdGUnKSxcclxuICAgICAgbm90ZXM6IGdldEZpZWxkKCdub3RlcycpLFxyXG4gICAgICBzdGF0dXMsXHJcbiAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcclxuICAgICAgZWRpdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIG93bmVyX2lkOiB1c2VyLmlkLFxyXG4gICAgICBsb2NhdGlvbl9pZDogbG9jYXRpb25JZCB8fCB1c2VyLmxvY2F0aW9uX2lkLCAvLyBVxbx5aiB3eWJyYW5laiBsb2thbGl6YWNqaSBsdWIgbG9rYWxpemFjamkgdcW8eXRrb3duaWthXHJcbiAgICAgIGxhc3RfZWRpdGVkX2J5X25hbWU6IHVzZXIuZnVsbF9uYW1lLCAvLyBaYXBpc3ogZGFuZSBpbXBvcnRlcmFcclxuICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybDogdXNlci5hdmF0YXJfdXJsXHJcbiAgICB9XHJcbiAgfSxcclxuICBcclxuICAvLyBJbXBvcnQgcGXFgm5lZ28gQ1NWIGRvIGJhenkgZGFueWNoXHJcbiAgYXN5bmMgaW1wb3J0Q1NWKGZpbGU6IEZpbGUsIHVzZXI6IFVzZXIsIGxvY2F0aW9uSWQ/OiBzdHJpbmcsIG9uUHJvZ3Jlc3M/OiAocHJvZ3Jlc3M6IHsgY3VycmVudDogbnVtYmVyLCB0b3RhbDogbnVtYmVyLCBzdGF0dXM6IHN0cmluZyB9KSA9PiB2b2lkKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IG51bWJlciwgZXJyb3JzOiBhbnlbXSB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiAwLCB0b3RhbDogMTAwLCBzdGF0dXM6ICdVcGxvYWRpbmcgcGxpa3UuLi4nIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyAxLiBVcGxvYWQgcGxpa3UgZG8gU3RvcmFnZVxyXG4gICAgICBjb25zdCBmaWxlUGF0aCA9IGF3YWl0IHN0b3JhZ2VBcGkudXBsb2FkQ1NWKGZpbGUsIHVzZXIpXHJcbiAgICAgIFxyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiAyMCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnUGFyc293YW5pZSBDU1YuLi4nIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyAyLiBDenl0YW5pZSBpIHBhcnNvd2FuaWUgQ1NWXHJcbiAgICAgIGNvbnN0IGNzdlRleHQgPSBhd2FpdCBmaWxlLnRleHQoKVxyXG4gICAgICBjb25zdCB7IGhlYWRlcnMsIHJvd3MgfSA9IGNzdkltcG9ydEFwaS5wYXJzZUNTVihjc3ZUZXh0KVxyXG4gICAgICBcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogNDAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ01hcG93YW5pZSBrb2x1bW4uLi4nIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyAzLiBNYXBvd2FuaWUgbmFnxYLDs3drw7N3XHJcbiAgICAgIGNvbnN0IG1hcHBpbmcgPSBjc3ZJbXBvcnRBcGkubWFwSGVhZGVycyhoZWFkZXJzKVxyXG4gICAgICBjc3ZJbXBvcnRBcGkudmFsaWRhdGVSZXF1aXJlZEZpZWxkcyhtYXBwaW5nKVxyXG4gICAgICBcclxuICAgICAgLy8gNC4gQW5hbGl6YSBkb3N0xJlwbnljaCBrb2x1bW5cclxuICAgICAgY29uc3QgY29sdW1uQW5hbHlzaXMgPSBjc3ZJbXBvcnRBcGkuYW5hbHl6ZUNvbHVtbnMobWFwcGluZywgaGVhZGVycylcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIENTViBIZWFkZXJzOicsIGhlYWRlcnMpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEZpZWxkIG1hcHBpbmc6JywgbWFwcGluZylcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUm93cyB0byBpbXBvcnQ6Jywgcm93cy5sZW5ndGgpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgWm5hbGV6aW9uZSBrb2x1bW55OicsIGNvbHVtbkFuYWx5c2lzLmZvdW5kKVxyXG4gICAgICBjb25zb2xlLmxvZygn4p2MIEJyYWt1asSFY2Ugd3ltYWdhbmU6JywgY29sdW1uQW5hbHlzaXMubWlzc2luZylcclxuICAgICAgY29uc29sZS5sb2coJ+KaqiBPcGNqb25hbG5lIChixJlkxIUgXCJicmFrIGluZm9ybWFjamlcIik6JywgY29sdW1uQW5hbHlzaXMub3B0aW9uYWwpXHJcbiAgICAgIFxyXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiA1MCwgdG90YWw6IDEwMCwgc3RhdHVzOiBgSW1wb3J0b3dhbmllICR7cm93cy5sZW5ndGh9IGtsaWVudMOzdy4uLmAgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIDQuIEltcG9ydCB3aWVyc3p5IGRvIGJhenlcclxuICAgICAgY29uc3QgcmVzdWx0cyA9IHsgc3VjY2VzczogMCwgZXJyb3JzOiBbXSBhcyBhbnlbXSB9XHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3Qgcm93ID0gcm93c1tpXVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyBTcHJhd2TFuiBjenkgd2llcnN6IG5pZSBqZXN0IHB1c3R5XHJcbiAgICAgICAgICBpZiAocm93LmV2ZXJ5KGNlbGwgPT4gY2VsbC50cmltKCkgPT09ICcnKSkge1xyXG4gICAgICAgICAgICBjb250aW51ZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBjbGllbnREYXRhID0gY3N2SW1wb3J0QXBpLnJvd1RvQ2xpZW50KHJvdywgbWFwcGluZywgdXNlciwgbG9jYXRpb25JZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gV2FsaWRhY2phIHBvZHN0YXdvd3ljaCBkYW55Y2hcclxuICAgICAgICAgIGlmICghY2xpZW50RGF0YS5jb21wYW55X25hbWUgfHwgY2xpZW50RGF0YS5jb21wYW55X25hbWUudHJpbSgpID09PSAnJykge1xyXG4gICAgICAgICAgICByZXN1bHRzLmVycm9ycy5wdXNoKHtcclxuICAgICAgICAgICAgICByb3c6IGkgKyAyLCAvLyArMiBibyBsaWN6eW15IG9kIDEgaSBwb21pamFteSBuYWfFgsOzd2VrXHJcbiAgICAgICAgICAgICAgZXJyb3I6ICdCcmFrIHd5bWFnYW55Y2ggZGFueWNoOiBmaXJtYS9uYXp3YScsXHJcbiAgICAgICAgICAgICAgZGF0YTogcm93XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIERvZGFqIGtsaWVudGEgZG8gYmF6eVxyXG4gICAgICAgICAgYXdhaXQgY2xpZW50c0FwaS5jcmVhdGVDbGllbnQoY2xpZW50RGF0YSwgdXNlcilcclxuICAgICAgICAgIHJlc3VsdHMuc3VjY2VzcysrXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEFrdHVhbGl6dWogcHJvZ3Jlc3NcclxuICAgICAgICAgIGNvbnN0IHByb2dyZXNzID0gNTAgKyBNYXRoLmZsb29yKChpIC8gcm93cy5sZW5ndGgpICogNDApXHJcbiAgICAgICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiBwcm9ncmVzcywgdG90YWw6IDEwMCwgc3RhdHVzOiBgWmFpbXBvcnRvd2FubyAke3Jlc3VsdHMuc3VjY2Vzc30vJHtyb3dzLmxlbmd0aH0ga2xpZW50w7N3YCB9KVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEhWQgaW1wb3J0dSB3aWVyc3phICR7aSArIDJ9OmAsIGVycm9yKVxyXG4gICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaCh7XHJcbiAgICAgICAgICAgIHJvdzogaSArIDIsXHJcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdOaWV6bmFueSBixYLEhWQnLFxyXG4gICAgICAgICAgICBkYXRhOiByb3dzW2ldXHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogOTUsIHRvdGFsOiAxMDAsIHN0YXR1czogJ0ZpbmFsaXpvd2FuaWUuLi4nIH0pXHJcbiAgICAgIFxyXG4gICAgICAvLyA1LiBPcGNqb25hbG5pZSB1c3XFhCBwbGlrIHogU3RvcmFnZSAobHViIHphY2hvd2FqIGRsYSBoaXN0b3JpaSlcclxuICAgICAgLy8gYXdhaXQgc3RvcmFnZUFwaS5kZWxldGVGaWxlKGZpbGVQYXRoKVxyXG4gICAgICBcclxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogMTAwLCB0b3RhbDogMTAwLCBzdGF0dXM6ICdaYWtvxYRjem9ubyEnIH0pXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIEltcG9ydCB6YWtvxYRjem9ueTogJHtyZXN1bHRzLnN1Y2Nlc3N9IHN1a2NlcywgJHtyZXN1bHRzLmVycm9ycy5sZW5ndGh9IGLFgsSZZMOzd2ApXHJcbiAgICAgIHJldHVybiByZXN1bHRzXHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIENTViBJbXBvcnQgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gVHlweSBkbGEgYmF6eSBkYW55Y2ggemdvZG5pZSB6IEVUQVBFTSA1IGkgNiB6IFJFQURNRSArIFN0cnVrdHVyYURCLnR4dFxyXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudCB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIGZpcnN0X25hbWU6IHN0cmluZ1xyXG4gIGxhc3RfbmFtZTogc3RyaW5nXHJcbiAgY29tcGFueV9uYW1lOiBzdHJpbmdcclxuICBuaXA6IHN0cmluZ1xyXG4gIHBob25lOiBzdHJpbmdcclxuICBlbWFpbDogc3RyaW5nXHJcbiAgbm90ZXM6IHN0cmluZ1xyXG4gIHdlYnNpdGU6IHN0cmluZ1xyXG4gIHN0YXR1czogJ2NhbnZhcycgfCAnYnJha19rb250YWt0dScgfCAnbmllX3phaW50ZXJlc293YW55JyB8ICd6ZGVuZXJ3b3dhbnknIHwgJ2FudHlzYWxlJyB8ICdzYWxlJyB8ICckJCcgfCAnbm93eSdcclxuICBlZGl0ZWRfYnk6IHN0cmluZ1xyXG4gIGVkaXRlZF9hdDogc3RyaW5nXHJcbiAgb3duZXJfaWQ/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBzeXN0ZW11IHVwcmF3bmllxYRcclxuICBsb2NhdGlvbl9pZD86IHN0cmluZyAvLyBEb2RhbmUgZGxhIHN5c3RlbXUgbG9rYWxpemFjamlcclxuICBjcmVhdGVkX2F0OiBzdHJpbmdcclxuICB1cGRhdGVkX2F0OiBzdHJpbmdcclxuICBzdGF0dXNfY2hhbmdlZF9hdD86IHN0cmluZyAvLyBDemFzIG9zdGF0bmllaiB6bWlhbnkgc3RhdHVzdVxyXG4gIGxhc3RfcGhvbmVfY2xpY2s/OiBzdHJpbmcgLy8gQ3phcyBvc3RhdG5pZWdvIGtsaWtuacSZY2lhIHcgdGVsZWZvblxyXG4gIGxhc3RfZWRpdGVkX2J5X25hbWU/OiBzdHJpbmcgLy8gUGXFgm5lIGltacSZIGkgbmF6d2lza28gb3N0YXRuaWVnbyBlZHl0b3JhXHJcbiAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybD86IHN0cmluZyAvLyBBdmF0YXIgVVJMIG9zdGF0bmllZ28gZWR5dG9yYVxyXG4gIG93bmVyPzoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcclxuICB9IC8vIEluZm9ybWFjamUgbyB3xYJhxZtjaWNpZWx1IGtsaWVudGFcclxuICBsb2NhdGlvbj86IExvY2F0aW9uIC8vIEluZm9ybWFjamUgbyBsb2thbGl6YWNqaSBrbGllbnRhXHJcbiAgcmVtaW5kZXI/OiB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuXHJcbiAgICBkYXRlOiBzdHJpbmdcclxuICAgIHRpbWU6IHN0cmluZ1xyXG4gICAgbm90ZTogc3RyaW5nXHJcbiAgfSAvLyBQcnp5cG9tbmllbmllIGRsYSBrbGllbnRhXHJcbn1cclxuXHJcbi8vIPCfmoAgTk9XWTogSW50ZXJmYWNlIGRsYSBwYWdpbm93YW55Y2ggd3luaWvDs3dcclxuZXhwb3J0IGludGVyZmFjZSBQYWdpbmF0ZWRDbGllbnRzUmVzdWx0IHtcclxuICBjbGllbnRzOiBDbGllbnRbXVxyXG4gIHRvdGFsOiBudW1iZXJcclxuICBwYWdlOiBudW1iZXJcclxuICBwYWdlU2l6ZTogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZpdHlMb2cge1xyXG4gIGlkOiBzdHJpbmdcclxuICBjbGllbnRfaWQ6IHN0cmluZ1xyXG4gIGNoYW5nZWRfYnk6IHN0cmluZ1xyXG4gIGNoYW5nZV90eXBlOiAnY3JlYXRlJyB8ICd1cGRhdGUnIHwgJ2RlbGV0ZSdcclxuICBmaWVsZF9jaGFuZ2VkOiBzdHJpbmdcclxuICBvbGRfdmFsdWU/OiBzdHJpbmdcclxuICBuZXdfdmFsdWU/OiBzdHJpbmdcclxuICB0aW1lc3RhbXA6IHN0cmluZ1xyXG59XHJcblxyXG4vLyBJbnRlcmZlanMgZGxhIGxva2FsaXphY2ppL2tyYWrDs3dcclxuZXhwb3J0IGludGVyZmFjZSBMb2NhdGlvbiB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIG5hbWU6IHN0cmluZ1xyXG4gIGNvZGU6IHN0cmluZyAvLyAnUEwnLCAnU0snXHJcbiAgY3VycmVuY3k6IHN0cmluZyAvLyAnUExOJywgJ0VVUidcclxuICB0aW1lem9uZTogc3RyaW5nIC8vICdFdXJvcGUvV2Fyc2F3JywgJ0V1cm9wZS9CcmF0aXNsYXZhJ1xyXG4gIHJlZ2lvbj86IHN0cmluZ1xyXG4gIHByb2plY3RfbWFuYWdlcl9pZD86IHN0cmluZ1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHByb2plY3RfbWFuYWdlcj86IHtcclxuICAgIGlkOiBzdHJpbmdcclxuICAgIGZ1bGxfbmFtZTogc3RyaW5nXHJcbiAgICBlbWFpbDogc3RyaW5nXHJcbiAgICBhdmF0YXJfdXJsPzogc3RyaW5nXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xyXG4gIGlkOiBzdHJpbmdcclxuICBlbWFpbDogc3RyaW5nXHJcbiAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICByb2xlOiAnYWRtaW4nIHwgJ21hbmFnZXInIHwgJ3ByYWNvd25paycgfCAnc3plZicgfCAncHJvamVjdF9tYW5hZ2VyJyB8ICdqdW5pb3JfbWFuYWdlcidcclxuICBwaG9uZT86IHN0cmluZyBcclxuICBiaW8/OiBzdHJpbmcgXHJcbiAgYXZhdGFyX3VybD86IHN0cmluZyBcclxuICBsYW5ndWFnZT86ICdwbCcgfCAnZW4nIHwgJ3NrJ1xyXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xyXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xyXG4gIC8vIE5vd2UgcG9sYSBoaWVyYXJjaGljem5lIHogbWlncmFjamlcclxuICBsb2NhdGlvbl9pZD86IHN0cmluZ1xyXG4gIG1hbmFnZXJfaWQ/OiBzdHJpbmdcclxuICByb2xlX2hpZXJhcmNoeV9sZXZlbD86IG51bWJlclxyXG4gIHRlcnJpdG9yeT86IHN0cmluZ1xyXG4gIHN0YXJ0X2RhdGU/OiBzdHJpbmdcclxuICBpc19hY3RpdmU/OiBib29sZWFuXHJcbiAgLy8gUm96c3plcnpvbmUgaW5mb3JtYWNqZSBkbGEgSk9JTlxyXG4gIGxvY2F0aW9uPzogTG9jYXRpb25cclxuICBtYW5hZ2VyPzoge1xyXG4gICAgaWQ6IHN0cmluZ1xyXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcclxuICAgIGVtYWlsOiBzdHJpbmdcclxuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcclxuICB9XHJcbn1cclxuXHJcbi8vIEludGVyZmVqcyBkbGEgaGlzdG9yaWkgem1pYW4geiBkb2RhdGtvd3ltaSBpbmZvcm1hY2phbWlcclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRIaXN0b3J5IHtcclxuICBpZDogc3RyaW5nXHJcbiAgY2xpZW50X2lkOiBzdHJpbmdcclxuICBjaGFuZ2VkX2J5OiBzdHJpbmdcclxuICBjaGFuZ2VfdHlwZTogJ2NyZWF0ZScgfCAndXBkYXRlJyB8ICdkZWxldGUnXHJcbiAgZmllbGRfY2hhbmdlZDogc3RyaW5nXHJcbiAgb2xkX3ZhbHVlPzogc3RyaW5nXHJcbiAgbmV3X3ZhbHVlPzogc3RyaW5nXHJcbiAgdGltZXN0YW1wOiBzdHJpbmdcclxuICBlZGl0b3JfbmFtZT86IHN0cmluZyAvLyBEb2RhbmUgZGxhIFVJXHJcbiAgZWRpdG9yX3JvbGU/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBVSVxyXG4gIGVkaXRvcl9hdmF0YXI/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBVSSAtIGF2YXRhciBlZHl0b3JhXHJcbn1cclxuXHJcbi8vIEZ1bmtjamUgc3ByYXdkemFuaWEgdXByYXduaWXFhCB6IGhpZXJhcmNoacSFIGkgbG9rYWxpemFjasSFXHJcbmV4cG9ydCBjb25zdCBwZXJtaXNzaW9uc0FwaSA9IHtcclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgd2lkemllxIcga2xpZW50YSAoemdvZG5pZSB6IFJMUylcclxuICBjYW5WaWV3OiAoY2xpZW50OiBDbGllbnQsIHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIC8vIFN6ZWYgaSBhZG1pbiB3aWR6xIUgd3N6eXN0a29cclxuICAgIGlmIChbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgIHJldHVybiB0cnVlXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFNwcmF3ZMW6IGN6eSBrbGllbnQgamVzdCB3IHRlaiBzYW1laiBsb2thbGl6YWNqaSBjbyB1xbx5dGtvd25pa1xyXG4gICAgY29uc3Qgc2FtZUxvY2F0aW9uID0gY2xpZW50LmxvY2F0aW9uX2lkID09PSB1c2VyLmxvY2F0aW9uX2lkXHJcbiAgICBpZiAoIXNhbWVMb2NhdGlvbikge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICAgIFxyXG4gICAgc3dpdGNoICh1c2VyLnJvbGUpIHtcclxuICAgICAgY2FzZSAncHJhY293bmlrJzpcclxuICAgICAgICAvLyBQcmFjb3duaWsgd2lkemkgdHlsa28gc3dvaWNoIGtsaWVudMOzdyB3IHN3b2plaiBsb2thbGl6YWNqaVxyXG4gICAgICAgIHJldHVybiBjbGllbnQub3duZXJfaWQgPT09IHVzZXIuaWQgfHwgXHJcbiAgICAgICAgICAgICAgIGNsaWVudC5vd25lcl9pZCA9PT0gbnVsbCB8fCBcclxuICAgICAgICAgICAgICAgY2xpZW50LmVkaXRlZF9ieSA9PT0gdXNlci5pZFxyXG4gICAgICBjYXNlICdqdW5pb3JfbWFuYWdlcic6XHJcbiAgICAgIGNhc2UgJ21hbmFnZXInOlxyXG4gICAgICBjYXNlICdwcm9qZWN0X21hbmFnZXInOlxyXG4gICAgICAgIC8vIE1lbmVkxbxlcm93aWUgd2lkesSFIHdzenlzdGtpY2gga2xpZW50w7N3IHcgc3dvamVqIGxva2FsaXphY2ppXHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgZWR5dG93YcSHIGtsaWVudGFcclxuICBjYW5FZGl0OiAoY2xpZW50OiBDbGllbnQsIHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIC8vIFRha2llIHNhbWUgcmVndcWCeSBqYWsgY2FuVmlld1xyXG4gICAgcmV0dXJuIHBlcm1pc3Npb25zQXBpLmNhblZpZXcoY2xpZW50LCB1c2VyKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSB1c3VuxIXEhyBrbGllbnRhXHJcbiAgY2FuRGVsZXRlOiAoY2xpZW50OiBDbGllbnQsIHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIC8vIFN6ZWYgaSBhZG1pbiBtb2fEhSB1c3V3YcSHIHdzenlzdGtvXHJcbiAgICBpZiAoWydzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgICByZXR1cm4gdHJ1ZVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBNZW5lZMW8ZXJvd2llIG1vZ8SFIHVzdXdhxIcgdyBzd29qZWogbG9rYWxpemFjamlcclxuICAgIGlmIChbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xyXG4gICAgICByZXR1cm4gY2xpZW50LmxvY2F0aW9uX2lkID09PSB1c2VyLmxvY2F0aW9uX2lkXHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIFByYWNvd25pY3kgbmllIG1vZ8SFIHVzdXdhxIdcclxuICAgIHJldHVybiBmYWxzZVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSBwcnp5cGlzeXdhxIcga2xpZW50w7N3XHJcbiAgY2FuQXNzaWduQ2xpZW50czogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHptaWVuaWHEhyByb2xlIGlubnljaCB1xbx5dGtvd25pa8Ozd1xyXG4gIGNhbkNoYW5nZVJvbGVzOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgZG9zdMSZcCBkbyB6YWF3YW5zb3dhbnljaCByYXBvcnTDs3dcclxuICBjYW5BY2Nlc3NBZHZhbmNlZFJlcG9ydHM6ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XHJcbiAgICByZXR1cm4gWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSB3aWR6aWXEhyB3c3p5c3RraWUgbG9rYWxpemFjamVcclxuICBjYW5WaWV3QWxsTG9jYXRpb25zOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgcmV0dXJuIFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgZmlsdHJvd2HEhyBwbyBsb2thbGl6YWNqYWNoXHJcbiAgY2FuRmlsdGVyQnlMb2NhdGlvbjogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcclxuICAgIHJldHVybiBbJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZMW6IHBvemlvbSBoaWVyYXJjaGlpIC0gY3p5IHVzZXIxIG1vxbxlIHphcnrEhWR6YcSHIHVzZXIyXHJcbiAgY2FuTWFuYWdlVXNlcjogKHVzZXIxOiBVc2VyLCB1c2VyMjogVXNlcik6IGJvb2xlYW4gPT4ge1xyXG4gICAgLy8gQWRtaW4gbW/FvGUgemFyesSFZHphxIcgd3N6eXN0a2ltaVxyXG4gICAgaWYgKHVzZXIxLnJvbGUgPT09ICdhZG1pbicpIHJldHVybiB0cnVlXHJcbiAgICBcclxuICAgIC8vIFN6ZWYgbW/FvGUgemFyesSFZHphxIcgd3N6eXN0a2ltaSBvcHLDs2N6IGFkbWluw7N3XHJcbiAgICBpZiAodXNlcjEucm9sZSA9PT0gJ3N6ZWYnICYmIHVzZXIyLnJvbGUgIT09ICdhZG1pbicpIHJldHVybiB0cnVlXHJcbiAgICBcclxuICAgIC8vIElubmkgbW9nxIUgemFyesSFZHphxIcgdHlsa28gcG9kd8WCYWRueW1pIHcgdGVqIHNhbWVqIGxva2FsaXphY2ppXHJcbiAgICBjb25zdCBzYW1lTG9jYXRpb24gPSB1c2VyMS5sb2NhdGlvbl9pZCA9PT0gdXNlcjIubG9jYXRpb25faWRcclxuICAgIGNvbnN0IGhpZ2hlckluSGllcmFyY2h5ID0gKHVzZXIxLnJvbGVfaGllcmFyY2h5X2xldmVsIHx8IDk5KSA8ICh1c2VyMi5yb2xlX2hpZXJhcmNoeV9sZXZlbCB8fCA5OSlcclxuICAgIFxyXG4gICAgcmV0dXJuIHNhbWVMb2NhdGlvbiAmJiBoaWdoZXJJbkhpZXJhcmNoeVxyXG4gIH1cclxufVxyXG5cclxuLy8gSW50ZXJmZWpzIGRsYSBzbG90dSBjemFzb3dlZ28gdyBwbGFuaWUgZG5pYVxyXG5leHBvcnQgaW50ZXJmYWNlIERhaWx5U2NoZWR1bGVTbG90IHtcclxuICB0aW1lOiBzdHJpbmdcclxuICB0eXBlOiBzdHJpbmdcclxuICBjb2xvcjogc3RyaW5nXHJcbiAgc3RhcnRUaW1lOiBzdHJpbmdcclxuICBlbmRUaW1lOiBzdHJpbmdcclxuICBzdGF0dXNlczogc3RyaW5nW11cclxuICBjbGllbnRzOiBDbGllbnRXaXRoUmVtaW5kZXJbXVxyXG59XHJcblxyXG4vLyBJbnRlcmZlanMgZGxhIGtsaWVudGEgeiBwcnp5cG9tbmllbmlhbVxyXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudFdpdGhSZW1pbmRlciBleHRlbmRzIENsaWVudCB7XHJcbiAgcmVtaW5kZXI/OiB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuXHJcbiAgICBkYXRlOiBzdHJpbmdcclxuICAgIHRpbWU6IHN0cmluZ1xyXG4gICAgbm90ZTogc3RyaW5nXHJcbiAgfVxyXG59XHJcblxyXG4vLyBGdW5rY2plIEFQSSBkbGEga2xpZW50w7N3IHogc3lzdGVtZW0gdXByYXduaWXFhFxyXG5leHBvcnQgY29uc3QgY2xpZW50c0FwaSA9IHtcclxuICAvLyBGdW5rY2phIHRlc3Rvd2EgLSBwb2RzdGF3b3dlIHphcHl0YW5pZSBkbyBrbGllbnTDs3dcclxuICBhc3luYyB0ZXN0QmFzaWNRdWVyeSgpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFRlc3Rvd2UgemFweXRhbmllIGRvIHRhYmVsaSBjbGllbnRzLi4uJylcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmxpbWl0KDUpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnV3luaWsgdGVzdHUgLSBkYXRhOicsIGRhdGEpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdXeW5payB0ZXN0dSAtIGVycm9yOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHRlc3Rvd2VnbyB6YXB5dGFuaWE6JywgZXJyb3IpXHJcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGtsaWVudMOzdyB6IGZpbHRyYW1pIHVwcmF3bmllxYRcclxuICAvLyDwn5qAIE5PV0U6IEZ1bmtjamEgeiBwYWdpbmFjasSFIHp3cmFjYWrEhWNhIG9iaWVrdCB6IG1ldGFkYW55bWlcclxuICBhc3luYyBnZXRDbGllbnRzUGFnaW5hdGVkKHVzZXI6IFVzZXIsIGZpbHRlcnM/OiB7IFxyXG4gICAgZGF0ZT86IHN0cmluZ1xyXG4gICAgc3RhdHVzPzogc3RyaW5nXHJcbiAgICBlbXBsb3llZT86IHN0cmluZyBcclxuICAgIHBhZ2U/OiBudW1iZXJcclxuICAgIHBhZ2VTaXplPzogbnVtYmVyXHJcbiAgICBzZWFyY2g/OiBzdHJpbmdcclxuICAgIGxvY2F0aW9uPzogc3RyaW5nXHJcbiAgfSk6IFByb21pc2U8UGFnaW5hdGVkQ2xpZW50c1Jlc3VsdD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflIQgUm96cG9jenluYW0gcG9iaWVyYW5pZSBrbGllbnTDs3cgZGxhIHXFvHl0a293bmlrYTonLCB1c2VyLmlkLCB1c2VyLnJvbGUpXHJcbiAgICAgIFxyXG4gICAgICAvLyBVxbx5aiBKT0lOIGFieSBwb2JyYcSHIGtsaWVudMOzdyB6IGRhbnltaSB3xYJhxZtjaWNpZWxpIGkgbG9rYWxpemFjamkgdyBqZWRueW0gemFweXRhbml1XHJcbiAgICAgIC8vIPCfmoAgT1BUWU1BTElaQUNKQTogV3liaWVyeiB0eWxrbyBuaWV6YsSZZG5lIHBvbGEgKyBsb2thbGl6YWNqYVxyXG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgZmlyc3RfbmFtZSxcclxuICAgICAgICAgIGxhc3RfbmFtZSxcclxuICAgICAgICAgIGNvbXBhbnlfbmFtZSxcclxuICAgICAgICAgIG5pcCxcclxuICAgICAgICAgIHBob25lLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICB3ZWJzaXRlLFxyXG4gICAgICAgICAgc3RhdHVzLFxyXG4gICAgICAgICAgbm90ZXMsXHJcbiAgICAgICAgICBvd25lcl9pZCxcclxuICAgICAgICAgIGxvY2F0aW9uX2lkLFxyXG4gICAgICAgICAgZWRpdGVkX2J5LFxyXG4gICAgICAgICAgZWRpdGVkX2F0LFxyXG4gICAgICAgICAgY3JlYXRlZF9hdCxcclxuICAgICAgICAgIHVwZGF0ZWRfYXQsXHJcbiAgICAgICAgICBzdGF0dXNfY2hhbmdlZF9hdCxcclxuICAgICAgICAgIGxhc3RfcGhvbmVfY2xpY2ssXHJcbiAgICAgICAgICBsYXN0X2VkaXRlZF9ieV9uYW1lLFxyXG4gICAgICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCxcclxuICAgICAgICAgIG93bmVyOnVzZXJzIW93bmVyX2lkIChcclxuICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICAgIGF2YXRhcl91cmxcclxuICAgICAgICAgICksXHJcbiAgICAgICAgICBsb2NhdGlvbjpsb2NhdGlvbnMhbG9jYXRpb25faWQgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgbmFtZSxcclxuICAgICAgICAgICAgY29kZSxcclxuICAgICAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgICAgIHRpbWV6b25lXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgYCwgeyBjb3VudDogJ2V4YWN0JyB9KVxyXG4gICAgICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG5cclxuICAgICAgLy8gRG9kYXRrb3dlIGZpbHRyeVxyXG4gICAgICBpZiAoZmlsdGVycz8uZGF0ZSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZ3RlKCd1cGRhdGVkX2F0JywgZmlsdGVycy5kYXRlKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZmlsdGVycz8uc3RhdHVzKSB7XHJcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgZmlsdGVycy5zdGF0dXMpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5lbXBsb3llZSkge1xyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2VkaXRlZF9ieScsIGZpbHRlcnMuZW1wbG95ZWUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIPCfmoAgTk9XRTogRmlsdHIgd3lzenVraXdhbmlhXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5zZWFyY2gpIHtcclxuICAgICAgICBjb25zdCBzZWFyY2hUZXJtID0gZmlsdGVycy5zZWFyY2gudG9Mb3dlckNhc2UoKVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkub3IoYGZpcnN0X25hbWUuaWxpa2UuJSR7c2VhcmNoVGVybX0lLGxhc3RfbmFtZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUsY29tcGFueV9uYW1lLmlsaWtlLiUke3NlYXJjaFRlcm19JSxwaG9uZS5pbGlrZS4lJHtzZWFyY2hUZXJtfSUsZW1haWwuaWxpa2UuJSR7c2VhcmNoVGVybX0lYClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8g8J+agCBOT1dFOiBGaWx0ciBsb2thbGl6YWNqaVxyXG4gICAgICBpZiAoZmlsdGVycz8ubG9jYXRpb24pIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdsb2NhdGlvbl9pZCcsIGZpbHRlcnMubG9jYXRpb24pXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIPCfmoAgTk9XRTogUGFnaW5hY2phXHJcbiAgICAgIGlmIChmaWx0ZXJzPy5wYWdlICYmIGZpbHRlcnM/LnBhZ2VTaXplKSB7XHJcbiAgICAgICAgY29uc3QgZnJvbSA9IChmaWx0ZXJzLnBhZ2UgLSAxKSAqIGZpbHRlcnMucGFnZVNpemVcclxuICAgICAgICBjb25zdCB0byA9IGZyb20gKyBmaWx0ZXJzLnBhZ2VTaXplIC0gMVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkucmFuZ2UoZnJvbSwgdG8pXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4QgUGFnaW5hY2phOiBzdHJvbmEgJHtmaWx0ZXJzLnBhZ2V9LCByb3ptaWFyICR7ZmlsdGVycy5wYWdlU2l6ZX0sIHpha3JlczogJHtmcm9tfS0ke3RvfWApXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFd5a29udWrEmSB6YXB5dGFuaWUgeiBKT0lOIGkgbGljemVuaWVtLi4uJylcclxuICAgICAgY29uc3QgeyBkYXRhOiBjbGllbnRzLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHF1ZXJ5XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHphcHl0YW5pYSBjbGllbnRzOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIFxyXG4gICAgICBpZiAoIWNsaWVudHMgfHwgY2xpZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn4oS577iPIEJyYWsga2xpZW50w7N3IHcgYmF6aWUgZGFueWNoJylcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgY2xpZW50czogW10sXHJcbiAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgIHBhZ2U6IGZpbHRlcnM/LnBhZ2UgfHwgMSxcclxuICAgICAgICAgIHBhZ2VTaXplOiBmaWx0ZXJzPy5wYWdlU2l6ZSB8fCAwXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgLSBTdXBhYmFzZSBKT0lOIHp3cmFjYSBvd25lciBpIGxvY2F0aW9uIGpha28gdGFibGljZSwgYWxlIHBvdHJ6ZWJ1amVteSBwb2plZHluY3p5Y2ggb2JpZWt0w7N3XHJcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkQ2xpZW50cyA9IGNsaWVudHMubWFwKChjbGllbnQ6IGFueSkgPT4gKHtcclxuICAgICAgICAuLi5jbGllbnQsXHJcbiAgICAgICAgb3duZXI6IGNsaWVudC5vd25lciAmJiBBcnJheS5pc0FycmF5KGNsaWVudC5vd25lcikgJiYgY2xpZW50Lm93bmVyLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgICA/IGNsaWVudC5vd25lclswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgICA6IGNsaWVudC5vd25lciAmJiAhQXJyYXkuaXNBcnJheShjbGllbnQub3duZXIpXHJcbiAgICAgICAgICA/IGNsaWVudC5vd25lciAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICAgIDogbnVsbCwgLy8gQnJhayB3xYJhxZtjaWNpZWxhXHJcbiAgICAgICAgbG9jYXRpb246IGNsaWVudC5sb2NhdGlvbiAmJiBBcnJheS5pc0FycmF5KGNsaWVudC5sb2NhdGlvbikgJiYgY2xpZW50LmxvY2F0aW9uLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgICA/IGNsaWVudC5sb2NhdGlvblswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgICA6IGNsaWVudC5sb2NhdGlvbiAmJiAhQXJyYXkuaXNBcnJheShjbGllbnQubG9jYXRpb24pXHJcbiAgICAgICAgICA/IGNsaWVudC5sb2NhdGlvbiAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cclxuICAgICAgICAgIDogbnVsbCAvLyBCcmFrIGxva2FsaXphY2ppXHJcbiAgICAgIH0pKVxyXG4gICAgICBcclxuICAgICAgLy8gREVCVUc6IFNwcmF3ZMW6IGRhbmUgd8WCYcWbY2ljaWVsaVxyXG4gICAgICBjb25zdCBjbGllbnRzV2l0aE93bmVycyA9IHRyYW5zZm9ybWVkQ2xpZW50cy5maWx0ZXIoKGNsaWVudDogQ2xpZW50KSA9PiBjbGllbnQub3duZXIpXHJcbiAgICAgIGNvbnN0IGNsaWVudHNXaXRob3V0T3duZXJzID0gdHJhbnNmb3JtZWRDbGllbnRzLmZpbHRlcigoY2xpZW50OiBDbGllbnQpID0+ICFjbGllbnQub3duZXIpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgS2xpZW5jaSB6IHfFgmHFm2NpY2llbGFtaTonLCBjbGllbnRzV2l0aE93bmVycy5sZW5ndGgpXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinYwgS2xpZW5jaSBiZXogd8WCYcWbY2ljaWVsaTonLCBjbGllbnRzV2l0aG91dE93bmVycy5sZW5ndGgpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoY2xpZW50c1dpdGhPd25lcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIFByenlrxYJhZCBrbGllbnRhIHogd8WCYcWbY2ljaWVsZW06Jywge1xyXG4gICAgICAgICAgY2xpZW50OiBgJHtjbGllbnRzV2l0aE93bmVyc1swXS5maXJzdF9uYW1lfSAke2NsaWVudHNXaXRoT3duZXJzWzBdLmxhc3RfbmFtZX1gLFxyXG4gICAgICAgICAgb3duZXJfaWQ6IGNsaWVudHNXaXRoT3duZXJzWzBdLm93bmVyX2lkLFxyXG4gICAgICAgICAgb3duZXJfbmFtZTogY2xpZW50c1dpdGhPd25lcnNbMF0ub3duZXI/LmZ1bGxfbmFtZSxcclxuICAgICAgICAgIG93bmVyX2VtYWlsOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcj8uZW1haWxcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyDwn5qAIE5PV0U6IFp3csOzxIcgZGFuZSB6IGluZm9ybWFjasSFIG8gcGFnaW5hY2ppXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgY2xpZW50czogdHJhbnNmb3JtZWRDbGllbnRzIGFzIENsaWVudFtdLFxyXG4gICAgICAgIHRvdGFsOiBjb3VudCB8fCB0cmFuc2Zvcm1lZENsaWVudHMubGVuZ3RoLFxyXG4gICAgICAgIHBhZ2U6IGZpbHRlcnM/LnBhZ2UgfHwgMSxcclxuICAgICAgICBwYWdlU2l6ZTogZmlsdGVycz8ucGFnZVNpemUgfHwgdHJhbnNmb3JtZWRDbGllbnRzLmxlbmd0aFxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0Q2xpZW50c1BhZ2luYXRlZDonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAvLyDwn5SEIEtPTVBBVFlCSUxOT8WaxIY6IFN0YXJhIGZ1bmtjamEgendyYWNhasSFY2EgdHlsa28gdGFibGljxJkga2xpZW50w7N3XHJcbiAgYXN5bmMgZ2V0Q2xpZW50cyh1c2VyOiBVc2VyLCBmaWx0ZXJzPzogeyBcclxuICAgIGRhdGU/OiBzdHJpbmdcclxuICAgIHN0YXR1cz86IHN0cmluZ1xyXG4gICAgZW1wbG95ZWU/OiBzdHJpbmcgXHJcbiAgICBzZWFyY2g/OiBzdHJpbmdcclxuICAgIGxvY2F0aW9uPzogc3RyaW5nXHJcbiAgfSk6IFByb21pc2U8Q2xpZW50W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50c1BhZ2luYXRlZCh1c2VyLCBmaWx0ZXJzKVxyXG4gICAgICByZXR1cm4gcmVzdWx0LmNsaWVudHNcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXRDbGllbnRzOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIERvZGFqIG5vd2VnbyBrbGllbnRhIHogYXV0b21hdHljem55bSBwcnp5cGlzYW5pZW0gd8WCYcWbY2ljaWVsYVxyXG4gIGFzeW5jIGNyZWF0ZUNsaWVudChjbGllbnQ6IE9taXQ8Q2xpZW50LCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPiwgdXNlcjogVXNlcikge1xyXG4gICAgLy8gWkFCRVpQSUVDWkVOSUU6IFVwZXduaWogc2nEmSDFvGUgc3RhdHVzIG5pZSBqZXN0IHB1c3R5XHJcbiAgICBjb25zdCBzYWZlU3RhdHVzID0gY2xpZW50LnN0YXR1cyB8fCAnY2FudmFzJ1xyXG4gICAgXHJcbiAgICBjb25zdCBjbGllbnRUb0NyZWF0ZSA9IHtcclxuICAgICAgLi4uY2xpZW50LFxyXG4gICAgICBzdGF0dXM6IHNhZmVTdGF0dXMsIC8vIFXFvHlqIGJlenBpZWN6bmVnbyBzdGF0dXN1XHJcbiAgICAgIG93bmVyX2lkOiB1c2VyLmlkLCAvLyBBdXRvbWF0eWN6bmllIHByenlwaXN6IHfFgmHFm2NpY2llbGFcclxuICAgICAgbG9jYXRpb25faWQ6IGNsaWVudC5sb2NhdGlvbl9pZCB8fCB1c2VyLmxvY2F0aW9uX2lkLCAvLyBVxbx5aiBsb2thbGl6YWNqaSBrbGllbnRhIGx1YiB1xbx5dGtvd25pa2FcclxuICAgICAgZWRpdGVkX2J5OiB1c2VyLmlkLFxyXG4gICAgICBsYXN0X2VkaXRlZF9ieV9uYW1lOiB1c2VyLmZ1bGxfbmFtZSwgLy8gWmFwaXN6IGRhbmUgdHfDs3JjeVxyXG4gICAgICBsYXN0X2VkaXRlZF9ieV9hdmF0YXJfdXJsOiB1c2VyLmF2YXRhcl91cmwsXHJcbiAgICAgIC8vIEplxZtsaSBzdGF0dXMgdG8gXCJjYW52YXNcIiwgdXN0YXcgc3RhdHVzX2NoYW5nZWRfYXRcclxuICAgICAgLi4uKHNhZmVTdGF0dXMgPT09ICdjYW52YXMnICYmIHsgc3RhdHVzX2NoYW5nZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KSxcclxuICAgICAgLy8gS29ud2VydHVqIHVuZGVmaW5lZCByZW1pbmRlciBuYSBudWxsIGRsYSBiYXp5IGRhbnljaFxyXG4gICAgICByZW1pbmRlcjogY2xpZW50LnJlbWluZGVyIHx8IG51bGxcclxuICAgIH1cclxuXHJcbiAgICBjb25zb2xlLmxvZygn8J+TiiBUd29yemVuaWUga2xpZW50YSB6IGRhbnltaTonLCBjbGllbnRUb0NyZWF0ZSlcclxuICAgIFxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAuaW5zZXJ0KFtjbGllbnRUb0NyZWF0ZV0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgY3JlYXRlQ2xpZW50OicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YSBhcyBDbGllbnRcclxuICB9LFxyXG5cclxuICAvLyBaYWt0dWFsaXp1aiBrbGllbnRhIHogc3ByYXdkemVuaWVtIHVwcmF3bmllxYRcclxuICBhc3luYyB1cGRhdGVDbGllbnQoaWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxDbGllbnQ+LCB1c2VyOiBVc2VyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCB1cGRhdGVDbGllbnQgU1RBUlQ6JywgeyBpZCwgdXBkYXRlcywgdXNlcjogdXNlci5lbWFpbCB9KVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiBha3R1YWxueSBzdGFuIGtsaWVudGEgYWJ5IHNwcmF3ZHppxIcgY3p5IHN0YXR1cyBzacSZIHptaWVuaWFcclxuICAgICAgY29uc3QgeyBkYXRhOiBjdXJyZW50Q2xpZW50LCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnc3RhdHVzLCBvd25lcl9pZCcpXHJcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGZldGNoRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0dWFsbmVnbyBrbGllbnRhOicsIGZldGNoRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOaWUgbW/FvG5hIHBvYnJhxIcgYWt0dWFsbmVnbyBzdGFudSBrbGllbnRhOiAke2ZldGNoRXJyb3IubWVzc2FnZX1gKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEFrdHVhbG55IHN0YW4ga2xpZW50YTonLCBjdXJyZW50Q2xpZW50KVxyXG4gICAgICBcclxuICAgICAgLy8gTk9XQSBMT0dJS0E6IEthxbxkYSBvc29iYSBrdMOzcmEgZWR5dHVqZSBrbGllbnRhIHpvc3RhamUgamVnbyB3xYJhxZtjaWNpZWxlbVxyXG4gICAgICBsZXQgdXBkYXRlZERhdGEgPSB7IC4uLnVwZGF0ZXMgfVxyXG4gICAgICBcclxuICAgICAgLy8gWkFCRVpQSUVDWkVOSUU6IEplxZtsaSBzdGF0dXMgamVzdCB3IGFrdHVhbGl6YWNqaSwgdXBld25paiBzacSZIMW8ZSBuaWUgamVzdCBwdXN0eVxyXG4gICAgICBpZiAoJ3N0YXR1cycgaW4gdXBkYXRlZERhdGEgJiYgIXVwZGF0ZWREYXRhLnN0YXR1cykge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gVVdBR0E6IFB1c3R5IHN0YXR1cyB3IGFrdHVhbGl6YWNqaSAtIHVzdGF3aWFtIGRvbXnFm2xueSBcImNhbnZhc1wiJylcclxuICAgICAgICB1cGRhdGVkRGF0YS5zdGF0dXMgPSAnY2FudmFzJ1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgc3RhdHVzIHNpxJkgem1pZW5pYVxyXG4gICAgICBjb25zdCBzdGF0dXNDaGFuZ2VkID0gdXBkYXRlZERhdGEuc3RhdHVzICYmIHVwZGF0ZWREYXRhLnN0YXR1cyAhPT0gY3VycmVudENsaWVudC5zdGF0dXNcclxuICAgICAgaWYgKHN0YXR1c0NoYW5nZWQpIHtcclxuICAgICAgICB1cGRhdGVkRGF0YS5zdGF0dXNfY2hhbmdlZF9hdCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFN0YXR1cyB6bWllbmlvbnkgeiBcIiR7Y3VycmVudENsaWVudC5zdGF0dXN9XCIgbmEgXCIke3VwZGF0ZXMuc3RhdHVzfVwiIC0gdXN0YXdpYW0gc3RhdHVzX2NoYW5nZWRfYXRgKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIFBvd2lhZG9taWVuaWUgbyB6bWlhbmllIG5hIGNhbnZhc1xyXG4gICAgICAgIGlmICh1cGRhdGVzLnN0YXR1cyA9PT0gJ2NhbnZhcycpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIFBPV0lBRE9NSUVOSUU6IEtsaWVudCBwcnplc3plZMWCIG5hIHN0YXR1cyBDQU5WQVMgLSBzdGFydCB0cmFja2luZ3UgY3phc3UhJylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFphd3N6ZSBwcnp5cGlzeiBlZHl0dWrEhWNlZ28gamFrbyB3xYJhxZtjaWNpZWxhXHJcbiAgICAgIHVwZGF0ZWREYXRhLm93bmVyX2lkID0gdXNlci5pZFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+OryBQcnp5cGlzdWrEmSBrbGllbnRhICR7aWR9IGRvIHXFvHl0a293bmlrYSAke3VzZXIuaWR9ICgke3VzZXIuZW1haWx9KSBqYWtvIHfFgmHFm2NpY2llbGFgKVxyXG4gICAgICBcclxuICAgICAgLy8gWmFwaXN6IGluZm9ybWFjamUgbyBlZHl0b3J6ZSAoc3pjemVnw7NsbmllIHdhxbxuZSBkbGEgcHJhY293bmlrw7N3KVxyXG4gICAgICB1cGRhdGVkRGF0YS5sYXN0X2VkaXRlZF9ieV9uYW1lID0gdXNlci5mdWxsX25hbWVcclxuICAgICAgdXBkYXRlZERhdGEubGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCA9IHVzZXIuYXZhdGFyX3VybFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpCBaYXBpc3VqxJkgZGFuZSBlZHl0b3JhOiAke3VzZXIuZnVsbF9uYW1lfSAocm9sYTogJHt1c2VyLnJvbGV9KWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBKZcWbbGkgdG8gcHJhY293bmlrIGkgem1pZW5pYSBzdGF0dXMgLSBkb2RhdGtvd3kgbG9nXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdwcmFjb3duaWsnICYmIHN0YXR1c0NoYW5nZWQpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+RtyBQcmFjb3duaWsgJHt1c2VyLmVtYWlsfSB6bWllbmlhIHN0YXR1cyB6IFwiJHtjdXJyZW50Q2xpZW50LnN0YXR1c31cIiBuYSBcIiR7dXBkYXRlcy5zdGF0dXN9XCJgKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBEYW5lIGRvIGFrdHVhbGl6YWNqaTonLCB1cGRhdGVkRGF0YSlcclxuICAgICAgXHJcbiAgICAgIC8vIFByenlnb3R1aiBmaW5hbG5lIGRhbmUgZG8gVVBEQVRFXHJcbiAgICAgIGNvbnN0IGZpbmFsRGF0YSA9IHtcclxuICAgICAgICAuLi51cGRhdGVkRGF0YSxcclxuICAgICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgIC8vIEtvbndlcnR1aiB1bmRlZmluZWQgcmVtaW5kZXIgbmEgbnVsbCBkbGEgYmF6eSBkYW55Y2hcclxuICAgICAgICAuLi4odXBkYXRlZERhdGEucmVtaW5kZXIgIT09IHVuZGVmaW5lZCAmJiB7IHJlbWluZGVyOiB1cGRhdGVkRGF0YS5yZW1pbmRlciB8fCBudWxsIH0pXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIEZpbmFsbmUgZGFuZSBkbyBVUERBVEU6JywgZmluYWxEYXRhKVxyXG4gICAgICBcclxuICAgICAgLy8gQmV6cG/Fm3JlZG5pYSBha3R1YWxpemFjamFcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnVwZGF0ZShmaW5hbERhdGEpXHJcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBVUERBVEUgY2xpZW50czonLCBlcnJvcilcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgS29kIGLFgsSZZHU6JywgZXJyb3IuY29kZSlcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgU3pjemVnw7PFgnk6JywgZXJyb3IuZGV0YWlscylcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgSGludDonLCBlcnJvci5oaW50KVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQsWCxIVkIGFrdHVhbGl6YWNqaTogJHtlcnJvci5tZXNzYWdlfSAoa29kOiAke2Vycm9yLmNvZGV9KWApXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgdXBkYXRlQ2xpZW50IFNVQ0NFU1M6JywgZGF0YSlcclxuICAgICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIHVwZGF0ZUNsaWVudCBGQUlMRUQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gQWt0dWFsaXp1aiBjemFzIG9zdGF0bmllZ28ga2xpa25pxJljaWEgdGVsZWZvbnVcclxuICBhc3luYyB1cGRhdGVMYXN0UGhvbmVDbGljayhjbGllbnRJZDogc3RyaW5nLCB1c2VyOiBVc2VyKSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+TniBBa3R1YWxpenVqxJkgY3phcyBvc3RhdG5pZWdvIGtsaWtuacSZY2lhIHRlbGVmb251OicsIGNsaWVudElkKVxyXG4gICAgXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC51cGRhdGUoe1xyXG4gICAgICAgIGxhc3RfcGhvbmVfY2xpY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIGNsaWVudElkKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHVwZGF0ZUxhc3RQaG9uZUNsaWNrOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG5cclxuICAgIC8vIFphbG9ndWogdyBhY3Rpdml0eV9sb2dzXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBhY3Rpdml0eUxvZ3NBcGkuY3JlYXRlTG9nKHtcclxuICAgICAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxyXG4gICAgICAgIGNoYW5nZWRfYnk6IHVzZXIuaWQsXHJcbiAgICAgICAgY2hhbmdlX3R5cGU6ICd1cGRhdGUnLFxyXG4gICAgICAgIGZpZWxkX2NoYW5nZWQ6ICdsYXN0X3Bob25lX2NsaWNrJyxcclxuICAgICAgICBvbGRfdmFsdWU6IHVuZGVmaW5lZCxcclxuICAgICAgICBuZXdfdmFsdWU6IGRhdGEubGFzdF9waG9uZV9jbGlja1xyXG4gICAgICB9KVxyXG4gICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBsb2dvd2FuaWEgYWN0aXZpdHlfbG9ncyAodXBkYXRlTGFzdFBob25lQ2xpY2spOicsIGxvZ0Vycm9yKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gZGF0YSBhcyBDbGllbnRcclxuICB9LFxyXG5cclxuICAvLyBVc3XFhCBrbGllbnRhIHogc3ByYXdkemVuaWVtIHVwcmF3bmllxYRcclxuICBhc3luYyBkZWxldGVDbGllbnQoaWQ6IHN0cmluZywgdXNlcjogVXNlcikge1xyXG4gICAgLy8gQmV6cG/Fm3JlZG5pZSB1c3VuacSZY2llIGJleiBzcHJhd2R6YW5pYSB1cHJhd25pZcWEXHJcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgIC5kZWxldGUoKVxyXG4gICAgICAuZXEoJ2lkJywgaWQpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICB9LFxyXG5cclxuICAvLyBQcnp5cGlzeiBrbGllbnRhIGRvIGlubmVnbyB1xbx5dGtvd25pa2EgKHR5bGtvIG1hbmFnZXIrKVxyXG4gIGFzeW5jIGFzc2lnbkNsaWVudChjbGllbnRJZDogc3RyaW5nLCBuZXdPd25lcklkOiBzdHJpbmcsIHVzZXI6IFVzZXIpIHtcclxuICAgIGlmICghcGVybWlzc2lvbnNBcGkuY2FuQXNzaWduQ2xpZW50cyh1c2VyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyBwcnp5cGlzeXdhbmlhIGtsaWVudMOzdycpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAudXBkYXRlKHtcclxuICAgICAgICBvd25lcl9pZDogbmV3T3duZXJJZCxcclxuICAgICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXHJcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5lcSgnaWQnLCBjbGllbnRJZClcclxuICAgICAgLnNlbGVjdCgpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YSBhcyBDbGllbnRcclxuICB9LFxyXG5cclxuICAvLyBGdW5rY2phIGRvIGN6eXN6Y3plbmlhIG5pZWlzdG5pZWrEhWN5Y2ggb3duZXJfaWRcclxuICBhc3luYyBjbGVhbnVwSW52YWxpZE93bmVySWRzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgUm96cG9jenluYW0gY3p5c3pjemVuaWUgbmllaXN0bmllasSFY3ljaCBvd25lcl9pZC4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2gga2xpZW50w7N3IHogb3duZXJfaWRcclxuICAgICAgY29uc3QgeyBkYXRhOiBhbGxDbGllbnRzLCBlcnJvcjogY2xpZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgb3duZXJfaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZScpXHJcbiAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKVxyXG4gICAgICBcclxuICAgICAgaWYgKGNsaWVudHNFcnJvcikgdGhyb3cgY2xpZW50c0Vycm9yXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBabmFsZXppb25vIGtsaWVudMOzdyB6IG93bmVyX2lkOicsIGFsbENsaWVudHM/Lmxlbmd0aCB8fCAwKVxyXG4gICAgICBcclxuICAgICAgaWYgKCFhbGxDbGllbnRzIHx8IGFsbENsaWVudHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIHsgY2xlYW5lZDogMCwgZXJyb3JzOiBbXSB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2llIHVuaWthbG5lIG93bmVyX2lkXHJcbiAgICAgIGNvbnN0IG93bmVySWRzID0gWy4uLm5ldyBTZXQoYWxsQ2xpZW50cy5tYXAoYyA9PiBjLm93bmVyX2lkKSldXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFNwcmF3ZHphbSBvd25lcl9pZDonLCBvd25lcklkcylcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGt0w7NyZSB1xbx5dGtvd25pY3kgaXN0bmllasSFXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZXhpc3RpbmdVc2VycywgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgICAgLmluKCdpZCcsIG93bmVySWRzKVxyXG4gICAgICBcclxuICAgICAgaWYgKHVzZXJzRXJyb3IpIHRocm93IHVzZXJzRXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IGV4aXN0aW5nVXNlcklkcyA9IChleGlzdGluZ1VzZXJzIHx8IFtdKS5tYXAodSA9PiB1LmlkKVxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIElzdG5pZWrEhWN5IHXFvHl0a293bmljeTonLCBleGlzdGluZ1VzZXJJZHMpXHJcbiAgICAgIFxyXG4gICAgICAvLyBabmFqZMW6IGtsaWVudMOzdyB6IG5pZWlzdG5pZWrEhWN5bWkgb3duZXJfaWRcclxuICAgICAgY29uc3QgY2xpZW50c1RvQ2xlYW4gPSBhbGxDbGllbnRzLmZpbHRlcihjbGllbnQgPT4gXHJcbiAgICAgICAgY2xpZW50Lm93bmVyX2lkICYmICFleGlzdGluZ1VzZXJJZHMuaW5jbHVkZXMoY2xpZW50Lm93bmVyX2lkKVxyXG4gICAgICApXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+nuSBLbGllbmNpIGRvIHd5Y3p5c3pjemVuaWE6JywgY2xpZW50c1RvQ2xlYW4ubGVuZ3RoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGNsaWVudHNUb0NsZWFuLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfinIUgQnJhayBrbGllbnTDs3cgZG8gd3ljenlzemN6ZW5pYScpXHJcbiAgICAgICAgcmV0dXJuIHsgY2xlYW5lZDogMCwgZXJyb3JzOiBbXSB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFd5Y3p5xZvEhyBvd25lcl9pZCBkbGEgcHJvYmxlbWF0eWN6bnljaCBrbGllbnTDs3dcclxuICAgICAgY29uc3QgY2xlYW51cFJlc3VsdHM6IHN0cmluZ1tdID0gW11cclxuICAgICAgY29uc3QgZXJyb3JzOiBhbnlbXSA9IFtdXHJcbiAgICAgIFxyXG4gICAgICBmb3IgKGNvbnN0IGNsaWVudCBvZiBjbGllbnRzVG9DbGVhbikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+nuSBDenlzemN6xJkgb3duZXJfaWQgZGxhICR7Y2xpZW50LmZpcnN0X25hbWV9ICR7Y2xpZW50Lmxhc3RfbmFtZX0gKCR7Y2xpZW50Lm93bmVyX2lkfSlgKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgICAgIC51cGRhdGUoeyBvd25lcl9pZDogbnVsbCB9KVxyXG4gICAgICAgICAgICAuZXEoJ2lkJywgY2xpZW50LmlkKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg4p2MIELFgsSFZCBjenlzemN6ZW5pYSAke2NsaWVudC5pZH06YCwgZXJyb3IpXHJcbiAgICAgICAgICAgIGVycm9ycy5wdXNoKHsgY2xpZW50OiBjbGllbnQuaWQsIGVycm9yOiBlcnJvci5tZXNzYWdlIH0pXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjbGVhbnVwUmVzdWx0cy5wdXNoKGNsaWVudC5pZClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBXeWrEhXRlayBwb2RjemFzIGN6eXN6Y3plbmlhICR7Y2xpZW50LmlkfTpgLCBlcnIpXHJcbiAgICAgICAgICBlcnJvcnMucHVzaCh7IGNsaWVudDogY2xpZW50LmlkLCBlcnJvcjogU3RyaW5nKGVycikgfSlcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgV3ljenlzemN6b25vICR7Y2xlYW51cFJlc3VsdHMubGVuZ3RofSBrbGllbnTDs3dgKVxyXG4gICAgICBpZiAoZXJyb3JzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgQsWCxJlkeSBwcnp5ICR7ZXJyb3JzLmxlbmd0aH0ga2xpZW50YWNoOmAsIGVycm9ycylcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgY2xlYW5lZDogY2xlYW51cFJlc3VsdHMubGVuZ3RoLCBcclxuICAgICAgICBlcnJvcnMsXHJcbiAgICAgICAgY2xlYW5lZENsaWVudHM6IGNsaWVudHNUb0NsZWFuLmZpbHRlcihjID0+IGNsZWFudXBSZXN1bHRzLmluY2x1ZGVzKGMuaWQpKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNsZWFudXBJbnZhbGlkT3duZXJJZHM6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcblxyXG5cclxuICAvLyBTdWJza3J5cGNqYSBuYSB6bWlhbnkgdyBjemFzaWUgcnplY3p5d2lzdHltXHJcbiAgc3Vic2NyaWJlVG9DaGFuZ2VzKGNhbGxiYWNrOiAocGF5bG9hZDogYW55KSA9PiB2b2lkKSB7XHJcbiAgICByZXR1cm4gc3VwYWJhc2VcclxuICAgICAgLmNoYW5uZWwoJ2NsaWVudHNfY2hhbmdlcycpXHJcbiAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxyXG4gICAgICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdjbGllbnRzJyB9LCBcclxuICAgICAgICBjYWxsYmFja1xyXG4gICAgICApXHJcbiAgICAgIC5zdWJzY3JpYmUoKVxyXG4gIH0sXHJcblxyXG4gIC8vIFN1YnNrcnlwY2phIG5hIHptaWFueSBvd25lcl9pZCBkbGEgcmVhbC10aW1lIGFrdHVhbGl6YWNqaVxyXG4gIHN1YnNjcmliZVRvT3duZXJDaGFuZ2VzKGNhbGxiYWNrOiAocGF5bG9hZDogYW55KSA9PiB2b2lkKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgY2FsbGJhY2sgamVzdCBmdW5rY2rEhVxyXG4gICAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENhbGxiYWNrIG5pZSBqZXN0IGZ1bmtjasSFIHcgc3Vic2NyaWJlVG9Pd25lckNoYW5nZXMnKVxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgbXVzaSBiecSHIGZ1bmtjasSFJylcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk6EgVHdvcnrEmSBrYW5hxYIgU3VwYWJhc2UgZGxhIG93bmVyIGNoYW5nZXMuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gTmFqcGllcncgc3ByYXdkxbogY3p5IHJlYWwtdGltZSBqZXN0IHfFgsSFY3pvbnkgaSBkb3N0xJlwbnlcclxuICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSBgY2xpZW50c19vd25lcl9jaGFuZ2VzXyR7RGF0ZS5ub3coKX1gXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OhIE5hendhIGthbmHFgnU6JywgY2hhbm5lbE5hbWUpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2VcclxuICAgICAgICAuY2hhbm5lbChjaGFubmVsTmFtZSlcclxuICAgICAgICAub24oJ3Bvc3RncmVzX2NoYW5nZXMnLCBcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgIGV2ZW50OiAnVVBEQVRFJywgXHJcbiAgICAgICAgICAgIHNjaGVtYTogJ3B1YmxpYycsIFxyXG4gICAgICAgICAgICB0YWJsZTogJ2NsaWVudHMnLFxyXG4gICAgICAgICAgICBmaWx0ZXI6ICdvd25lcl9pZD1uZXEubnVsbCcgLy8gVHlsa28gZ2R5IG93bmVyX2lkIHNpxJkgem1pZW5pYVxyXG4gICAgICAgICAgfSwgXHJcbiAgICAgICAgICAocGF5bG9hZCkgPT4ge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFJlYWwtdGltZSBwYXlsb2FkIG90cnp5bWFueTonLCB7XHJcbiAgICAgICAgICAgICAgICBldmVudFR5cGU6IHBheWxvYWQuZXZlbnRUeXBlLFxyXG4gICAgICAgICAgICAgICAgdGFibGU6IHBheWxvYWQudGFibGUsXHJcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBwYXlsb2FkLm5ldyA/IHtcclxuICAgICAgICAgICAgICAgICAgaWQ6IHBheWxvYWQubmV3LmlkLFxyXG4gICAgICAgICAgICAgICAgICBvd25lcl9pZDogcGF5bG9hZC5uZXcub3duZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgIGZpcnN0X25hbWU6IHBheWxvYWQubmV3LmZpcnN0X25hbWUsXHJcbiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogcGF5bG9hZC5uZXcubGFzdF9uYW1lXHJcbiAgICAgICAgICAgICAgICB9IDogJ2JyYWsgZGFueWNoJ1xyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socGF5bG9hZClcclxuICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIENhbGxiYWNrIG5pZSBqZXN0IGZ1bmtjasSFIHBvZGN6YXMgd3l3b8WCYW5pYScpXHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGNhdGNoIChjYWxsYmFja0Vycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNhbGxiYWNrOicsIGNhbGxiYWNrRXJyb3IpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICAgICAgLnN1YnNjcmliZSgoc3RhdHVzLCBlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFN1YnNrcnlwY2phIG93bmVyX2NoYW5nZXMgc3RhdHVzOicsIHN0YXR1cylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ1NVQlNDUklCRUQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3Vic2tyeXBjamEgb3duZXJfY2hhbmdlcyBha3R5d25hJylcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnQ0xPU0VEJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBTdWJza3J5cGNqYSBvd25lcl9jaGFuZ2VzIHphbWtuacSZdGEgLSBwcmF3ZG9wb2RvYm5pZSBwcm9ibGVtIHogYXV0b3J5emFjasSFIHJlYWwtdGltZScpXHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign8J+SoSBSZWFsLXRpbWUgbW/FvGUgYnnEhyB3ecWCxIVjem9ueSB3IHVzdGF3aWVuaWFjaCBTdXBhYmFzZSBsdWIgYnJha3VqZSB1cHJhd25pZcWEJylcclxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnQ0hBTk5FTF9FUlJPUicpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBrYW5hxYJ1IHJlYWwtdGltZTonLCBlcnIpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqEgU3ByYXdkxbogdXN0YXdpZW5pYSByZWFsLXRpbWUgdyBTdXBhYmFzZSBEYXNoYm9hcmQnKVxyXG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXMgPT09ICdUSU1FRF9PVVQnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4o+wIFRpbWVvdXQgc3Vic2tyeXBjamkgLSBwcm9ibGVteSB6IHBvxYLEhWN6ZW5pZW0gV2ViU29ja2V0JylcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFN0YXR1cyBzdWJza3J5cGNqaTonLCBzdGF0dXMpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IHN0YW4ga2FuYcWCdSBwbyBrcsOzdGtpbSBjemFzaWVcclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKGNoYW5uZWwuc3RhdGUgPT09ICdjbG9zZWQnKSB7XHJcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBLYW5hxYIgcmVhbC10aW1lIHpvc3RhxYIgemFta25pxJl0eSAtIHByYXdkb3BvZG9ibmllIFJMUyBibG9rdWplIHJlYWwtdGltZSBsdWIgZmVhdHVyZSBqZXN0IHd5xYLEhWN6b255JylcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDIwMDApXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEthbmHFgiBvd25lciBjaGFuZ2VzIHV0d29yem9ueScpXHJcbiAgICAgIHJldHVybiBjaGFubmVsXHJcbiAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IHN1YnNjcmliZVRvT3duZXJDaGFuZ2VzOicsIGVycm9yKVxyXG4gICAgICBjb25zb2xlLndhcm4oJ/CfkqEgUmVhbC10aW1lIG5pZSBixJlkemllIGR6aWHFgmHEhyAtIGFwbGlrYWNqYSBixJlkemllIHXFvHl3YcSHIG9rcmVzb3dlZ28gb2TFm3dpZcW8YW5pYScpXHJcbiAgICAgIFxyXG4gICAgICAvLyBad3LDs8SHIG1vY2sgb2JqZWN0IGFieSBuaWUgcG93b2Rvd2HEhyBixYLEmWTDs3dcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/Cfp7kgTW9jayB1bnN1YnNjcmliZSBkbGEgYsWCxJlkbmVnbyBrYW5hxYJ1JylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGtsaWVudMOzdyB6IHByenlwb21uaWVuaWFtaSBuYSBrb25rcmV0bnkgZHppZcWEXHJcbiAgYXN5bmMgZ2V0Q2xpZW50c1dpdGhSZW1pbmRlcnModXNlcjogVXNlciwgdGFyZ2V0RGF0ZT86IHN0cmluZyk6IFByb21pc2U8Q2xpZW50V2l0aFJlbWluZGVyW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gdGFyZ2V0RGF0ZSB8fCBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSAvLyBmb3JtYXQgWVlZWS1NTS1ERFxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYPCfk4UgUG9iaWVyYW5pZSBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWkgbmE6ICR7dG9kYXl9YClcclxuXHJcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBrbGllbnTDs3cgdcW8eXRrb3duaWthIChiZXogcGFnaW5hY2ppKVxyXG4gICAgICBjb25zdCBhbGxDbGllbnRzID0gYXdhaXQgdGhpcy5nZXRDbGllbnRzKHVzZXIpXHJcblxyXG4gICAgICAvLyBGaWx0cnVqIHR5bGtvIHR5Y2ggeiBwcnp5cG9tbmllbmlhbWkgbmEgZHppxZtcclxuICAgICAgY29uc3QgY2xpZW50c1dpdGhUb2RheVJlbWluZGVycyA9IGFsbENsaWVudHMuZmlsdGVyKChjbGllbnQ6IGFueSkgPT4ge1xyXG4gICAgICAgIC8vIFNwcmF3ZMW6IGN6eSBrbGllbnQgbWEgYWt0eXduZSBwcnp5cG9tbmllbmllXHJcbiAgICAgICAgY29uc3QgcmVtaW5kZXIgPSBjbGllbnQucmVtaW5kZXIgfHwge1xyXG4gICAgICAgICAgZW5hYmxlZDogZmFsc2UsXHJcbiAgICAgICAgICBkYXRlOiAnJyxcclxuICAgICAgICAgIHRpbWU6ICcnLFxyXG4gICAgICAgICAgbm90ZTogJydcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZW1pbmRlci5lbmFibGVkICYmIHJlbWluZGVyLmRhdGUgPT09IHRvZGF5XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICAvLyBTb3J0dWogd2VkxYJ1ZyBnb2R6aW55IHByenlwb21uaWVuaWFcclxuICAgICAgY29uc3Qgc29ydGVkQ2xpZW50cyA9IGNsaWVudHNXaXRoVG9kYXlSZW1pbmRlcnMuc29ydCgoYTogYW55LCBiOiBhbnkpID0+IHtcclxuICAgICAgICBjb25zdCB0aW1lQSA9IGEucmVtaW5kZXI/LnRpbWUgfHwgJzAwOjAwJ1xyXG4gICAgICAgIGNvbnN0IHRpbWVCID0gYi5yZW1pbmRlcj8udGltZSB8fCAnMDA6MDAnXHJcbiAgICAgICAgcmV0dXJuIHRpbWVBLmxvY2FsZUNvbXBhcmUodGltZUIpXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFpuYWxlemlvbm8gJHtzb3J0ZWRDbGllbnRzLmxlbmd0aH0ga2xpZW50w7N3IHogcHJ6eXBvbW5pZW5pYW1pIG5hICR7dG9kYXl9YClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBzb3J0ZWRDbGllbnRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHogcHJ6eXBvbW5pZW5pYW1pOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogcHJ6eXBvbW5pZW5pYSBwb2dydXBvd2FuZSB3ZWTFgnVnIHNsb3TDs3cgY3phc293eWNoIGRsYSBkYXNoYm9hcmR1XHJcbiAgYXN5bmMgZ2V0RGFpbHlTY2hlZHVsZVdpdGhDbGllbnRzKHVzZXI6IFVzZXIsIHRhcmdldERhdGU/OiBzdHJpbmcpOiBQcm9taXNlPERhaWx5U2NoZWR1bGVTbG90W10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNsaWVudHNXaXRoUmVtaW5kZXJzID0gYXdhaXQgdGhpcy5nZXRDbGllbnRzV2l0aFJlbWluZGVycyh1c2VyLCB0YXJnZXREYXRlKVxyXG4gICAgICBcclxuICAgICAgLy8gRGVmaW5pY2phIHNsb3TDs3cgY3phc293eWNoICh6Z29kbmllIHogb2JlY27EhSBzdHJ1a3R1csSFIGRhc2hib2FyZHUpXHJcbiAgICAgIGNvbnN0IHRpbWVTbG90cyA9IFtcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgdGltZTogJzg6MDAgLSAxMDowMCcsIFxyXG4gICAgICAgICAgdHlwZTogJ2NhbnZhcycsIFxyXG4gICAgICAgICAgY29sb3I6ICcjMDZiNmQ0JyxcclxuICAgICAgICAgIHN0YXJ0VGltZTogJzA4OjAwJyxcclxuICAgICAgICAgIGVuZFRpbWU6ICcxMDowMCcsXHJcbiAgICAgICAgICBzdGF0dXNlczogWydjYW52YXMnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHRpbWU6ICcxMDoxMCAtIDEyOjAwJywgXHJcbiAgICAgICAgICB0eXBlOiAnc2FsZXMnLCBcclxuICAgICAgICAgIGNvbG9yOiAnIzEwYjk4MScsXHJcbiAgICAgICAgICBzdGFydFRpbWU6ICcxMDoxMCcsXHJcbiAgICAgICAgICBlbmRUaW1lOiAnMTI6MDAnLFxyXG4gICAgICAgICAgc3RhdHVzZXM6IFsnc2FsZSddXHJcbiAgICAgICAgfSxcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgdGltZTogJzEyOjMwIC0gMTU6MDAnLCBcclxuICAgICAgICAgIHR5cGU6ICdhbnR5c2FsZXMnLCBcclxuICAgICAgICAgIGNvbG9yOiAnI2Y1OWUwYicsXHJcbiAgICAgICAgICBzdGFydFRpbWU6ICcxMjozMCcsXHJcbiAgICAgICAgICBlbmRUaW1lOiAnMTU6MDAnLFxyXG4gICAgICAgICAgc3RhdHVzZXM6IFsnYW50eXNhbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHRpbWU6ICcxNToxMCAtIDE2OjMwJywgXHJcbiAgICAgICAgICB0eXBlOiAnY2FudmFzICsgc2FsZXMnLCBcclxuICAgICAgICAgIGNvbG9yOiAnIzhiNWNmNicsXHJcbiAgICAgICAgICBzdGFydFRpbWU6ICcxNToxMCcsXHJcbiAgICAgICAgICBlbmRUaW1lOiAnMTY6MzAnLFxyXG4gICAgICAgICAgc3RhdHVzZXM6IFsnY2FudmFzJywgJ3NhbGUnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgIF1cclxuXHJcbiAgICAgIC8vIFByenlwaXN6IGtsaWVudMOzdyBkbyBvZHBvd2llZG5pY2ggc2xvdMOzd1xyXG4gICAgICBjb25zdCBzbG90c1dpdGhDbGllbnRzID0gdGltZVNsb3RzLm1hcChzbG90ID0+IHtcclxuICAgICAgICBjb25zdCBzbG90Q2xpZW50cyA9IGNsaWVudHNXaXRoUmVtaW5kZXJzLmZpbHRlcihjbGllbnQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgcmVtaW5kZXJUaW1lID0gY2xpZW50LnJlbWluZGVyPy50aW1lIHx8ICcwMDowMCdcclxuICAgICAgICAgIGNvbnN0IFtob3VycywgbWludXRlc10gPSByZW1pbmRlclRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKVxyXG4gICAgICAgICAgY29uc3QgcmVtaW5kZXJNaW51dGVzID0gaG91cnMgKiA2MCArIG1pbnV0ZXNcclxuXHJcbiAgICAgICAgICBjb25zdCBbc3RhcnRIb3Vycywgc3RhcnRNaW5zXSA9IHNsb3Quc3RhcnRUaW1lLnNwbGl0KCc6JykubWFwKE51bWJlcilcclxuICAgICAgICAgIGNvbnN0IFtlbmRIb3VycywgZW5kTWluc10gPSBzbG90LmVuZFRpbWUuc3BsaXQoJzonKS5tYXAoTnVtYmVyKVxyXG4gICAgICAgICAgY29uc3Qgc3RhcnRNaW51dGVzID0gc3RhcnRIb3VycyAqIDYwICsgc3RhcnRNaW5zXHJcbiAgICAgICAgICBjb25zdCBlbmRNaW51dGVzID0gZW5kSG91cnMgKiA2MCArIGVuZE1pbnNcclxuXHJcbiAgICAgICAgICAvLyBTcHJhd2TFuiBjenkgZ29kemluYSBwcnp5cG9tbmllbmlhIG1pZcWbY2kgc2nEmSB3IHNsb2NpZVxyXG4gICAgICAgICAgY29uc3QgdGltZUluU2xvdCA9IHJlbWluZGVyTWludXRlcyA+PSBzdGFydE1pbnV0ZXMgJiYgcmVtaW5kZXJNaW51dGVzIDw9IGVuZE1pbnV0ZXNcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gU3ByYXdkxbogY3p5IHN0YXR1cyBrbGllbnRhIHBhc3VqZSBkbyB0eXB1IHNsb3R1XHJcbiAgICAgICAgICBjb25zdCBzdGF0dXNNYXRjaGVzID0gc2xvdC5zdGF0dXNlcy5pbmNsdWRlcyhjbGllbnQuc3RhdHVzKVxyXG5cclxuICAgICAgICAgIHJldHVybiB0aW1lSW5TbG90ICYmIHN0YXR1c01hdGNoZXNcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgLi4uc2xvdCxcclxuICAgICAgICAgIGNsaWVudHM6IHNsb3RDbGllbnRzXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUGxhbiBkbmlhIHogJHtzbG90c1dpdGhDbGllbnRzLnJlZHVjZSgoc3VtLCBzbG90KSA9PiBzdW0gKyBzbG90LmNsaWVudHMubGVuZ3RoLCAwKX0ga2xpZW50YW1pYClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiBzbG90c1dpdGhDbGllbnRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHR3b3J6ZW5pYSBwbGFudSBkbmlhOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gRnVua2NqZSBBUEkgZGxhIGxvZ8OzdyBha3R5d25vxZtjaVxyXG5leHBvcnQgY29uc3QgYWN0aXZpdHlMb2dzQXBpID0ge1xyXG4gIC8vIFBvYmllcnogbG9naSBha3R5d25vxZtjaVxyXG4gIGFzeW5jIGdldExvZ3MoY2xpZW50SWQ/OiBzdHJpbmcpIHtcclxuICAgIGxldCBxdWVyeSA9IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgKixcclxuICAgICAgICBjbGllbnRzKGZpcnN0X25hbWUsIGxhc3RfbmFtZSlcclxuICAgICAgYClcclxuICAgICAgLm9yZGVyKCd0aW1lc3RhbXAnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcclxuICAgICAgLmxpbWl0KDUwKVxyXG5cclxuICAgIGlmIChjbGllbnRJZCkge1xyXG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRfaWQnLCBjbGllbnRJZClcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGhpc3RvcmnEmSB6bWlhbiBkbGEga29ua3JldG5lZ28ga2xpZW50YVxyXG4gIGFzeW5jIGdldENsaWVudEhpc3RvcnkoY2xpZW50SWQ6IHN0cmluZyk6IFByb21pc2U8Q2xpZW50SGlzdG9yeVtdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygnUG9iaWVyYW5pZSBoaXN0b3JpaSBkbGEga2xpZW50YTonLCBjbGllbnRJZClcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBqZXN0IHphbG9nb3dhbnlcclxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ0FrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmlkKVxyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignVcW8eXRrb3duaWsgbmllIGplc3QgemFsb2dvd2FueScpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBjbGllbnRfaWQsXHJcbiAgICAgICAgICBjaGFuZ2VkX2J5LFxyXG4gICAgICAgICAgY2hhbmdlX3R5cGUsXHJcbiAgICAgICAgICBmaWVsZF9jaGFuZ2VkLFxyXG4gICAgICAgICAgb2xkX3ZhbHVlLFxyXG4gICAgICAgICAgbmV3X3ZhbHVlLFxyXG4gICAgICAgICAgdGltZXN0YW1wXHJcbiAgICAgICAgYClcclxuICAgICAgICAuZXEoJ2NsaWVudF9pZCcsIGNsaWVudElkKVxyXG4gICAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgLmxpbWl0KDIwKVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHF1ZXJ5IGFjdGl2aXR5X2xvZ3M6JywgZXJyb3IpXHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU3pjemVnw7PFgnkgYsWCxJlkdTonLCBKU09OLnN0cmluZ2lmeShlcnJvciwgbnVsbCwgMikpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gU3ByYXdkxbogY3p5IHRvIHByb2JsZW0geiBSTFNcclxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Byb2JsZW0geiBSb3cgTGV2ZWwgU2VjdXJpdHkgLSB1xbx5dGtvd25payBtb8W8ZSBuaWUgbWllxIcgZG9zdMSZcHUnKVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBad3LDs8SHIHB1c3TEhSB0YWJsaWPEmSB6YW1pYXN0IHJ6dWNhbmlhIGLFgsSZZGVtXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCdQb2JyYW5vIGxvZ2k6JywgZGF0YT8ubGVuZ3RoIHx8IDApXHJcblxyXG4gICAgICAvLyBKZcWbbGkgbmllIG1hIGxvZ8Ozdywgendyw7PEhyBwdXN0xIUgdGFibGljxJlcclxuICAgICAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBvYmllcnogaW5mb3JtYWNqZSBvIHXFvHl0a293bmlrYWNoIG9zb2JubyB6IGF2YXRhcmFtaVxyXG4gICAgICBjb25zdCB1c2VySWRzID0gWy4uLm5ldyBTZXQoZGF0YS5tYXAobG9nID0+IGxvZy5jaGFuZ2VkX2J5KS5maWx0ZXIoQm9vbGVhbikpXVxyXG4gICAgICBjb25zb2xlLmxvZygnUG9iaWVyYW5pZSB1xbx5dGtvd25pa8OzdzonLCB1c2VySWRzKVxyXG5cclxuICAgICAgY29uc3QgeyBkYXRhOiB1c2VycywgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgZnVsbF9uYW1lLCByb2xlLCBhdmF0YXJfdXJsJylcclxuICAgICAgICAuaW4oJ2lkJywgdXNlcklkcylcclxuXHJcbiAgICAgIGlmICh1c2Vyc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3c6JywgdXNlcnNFcnJvcilcclxuICAgICAgICAvLyBLb250eW51dWogYmV6IGRhbnljaCB1xbx5dGtvd25pa8Ozd1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnUG9icmFubyB1xbx5dGtvd25pa8OzdzonLCB1c2Vycz8ubGVuZ3RoIHx8IDApXHJcblxyXG4gICAgICAvLyBNYXB1aiB1xbx5dGtvd25pa8OzdyBkbyBzxYJvd25pa2EgZGxhIHN6eWJraWVnbyBkb3N0xJlwdVxyXG4gICAgICBjb25zdCB1c2Vyc01hcCA9ICh1c2VycyB8fCBbXSkucmVkdWNlKChhY2MsIHVzZXIpID0+IHtcclxuICAgICAgICBhY2NbdXNlci5pZF0gPSB1c2VyXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxyXG5cclxuICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBkYW5lIHogaW5mb3JtYWNqYW1pIG8gZWR5dG9yemVcclxuICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YS5tYXAoKGxvZzogYW55KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzTWFwW2xvZy5jaGFuZ2VkX2J5XVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBpZDogbG9nLmlkLFxyXG4gICAgICAgICAgY2xpZW50X2lkOiBsb2cuY2xpZW50X2lkLFxyXG4gICAgICAgICAgY2hhbmdlZF9ieTogbG9nLmNoYW5nZWRfYnksXHJcbiAgICAgICAgICBjaGFuZ2VfdHlwZTogbG9nLmNoYW5nZV90eXBlLFxyXG4gICAgICAgICAgZmllbGRfY2hhbmdlZDogbG9nLmZpZWxkX2NoYW5nZWQsXHJcbiAgICAgICAgICBvbGRfdmFsdWU6IGxvZy5vbGRfdmFsdWUsXHJcbiAgICAgICAgICBuZXdfdmFsdWU6IGxvZy5uZXdfdmFsdWUsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IGxvZy50aW1lc3RhbXAsXHJcbiAgICAgICAgICBlZGl0b3JfbmFtZTogdXNlcj8uZnVsbF9uYW1lIHx8IGxvZy5jaGFuZ2VkX2J5IHx8ICdOaWV6bmFueSB1xbx5dGtvd25paycsXHJcbiAgICAgICAgICBlZGl0b3Jfcm9sZTogdXNlcj8ucm9sZSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICBlZGl0b3JfYXZhdGFyOiB1c2VyPy5hdmF0YXJfdXJsIHx8IG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnWndyYWNhbmllIGhpc3RvcmlpOicsIHJlc3VsdC5sZW5ndGgsICd3cGlzw7N3JylcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCB3IGdldENsaWVudEhpc3Rvcnk6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gRG9kYWogbG9nIGFrdHl3bm/Fm2NpXHJcbiAgYXN5bmMgY3JlYXRlTG9nKGxvZzogT21pdDxBY3Rpdml0eUxvZywgJ2lkJyB8ICd0aW1lc3RhbXAnPikge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAuaW5zZXJ0KFt7XHJcbiAgICAgICAgLi4ubG9nLFxyXG4gICAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcbiAgICBcclxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgIHJldHVybiBkYXRhIGFzIEFjdGl2aXR5TG9nXHJcbiAgfSxcclxuXHJcbiAgLy8gRnVua2NqYSB0ZXN0b3dhIGRvIHNwcmF3ZHphbmlhIGRvc3TEmXB1IGRvIGFjdGl2aXR5X2xvZ3NcclxuICBhc3luYyB0ZXN0QWN0aXZpdHlMb2dzQWNjZXNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3Rvd2FuaWUgZG9zdMSZcHUgZG8gYWN0aXZpdHlfbG9ncy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBhdXRvcnl6YWNqxJlcclxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSB1xbx5dGtvd25pazonLCB1c2VyPy5pZCwgdXNlcj8uZW1haWwpXHJcbiAgICAgIFxyXG4gICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICByZXR1cm4geyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgIGVycm9yOiAnQnJhayBhdXRvcnl6YWNqaSAtIHXFvHl0a293bmlrIG5pZSBqZXN0IHphbG9nb3dhbnknIFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIGlzdG5pZWplIHcgdGFiZWxpIHVzZXJzXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogdXNlclByb2ZpbGUsIGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgZW1haWwsIHJvbGUnKVxyXG4gICAgICAgIC5lcSgnaWQnLCB1c2VyLmlkKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCAtIHByb2ZpbCB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IC0gYsWCxIVkIHByb2ZpbHU6JywgdXNlckVycm9yKVxyXG4gICAgICBcclxuICAgICAgaWYgKHVzZXJFcnJvciB8fCAhdXNlclByb2ZpbGUpIHtcclxuICAgICAgICByZXR1cm4geyBcclxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICAgIGVycm9yOiAnVcW8eXRrb3duaWsgbmllIGlzdG5pZWplIHcgdGFiZWxpIHVzZXJzJyBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIFRlc3R1aiBkb3N0xJlwIGRvIGFjdGl2aXR5X2xvZ3NcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnIH0pXHJcbiAgICAgICAgLmxpbWl0KDEpXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY3Rpdml0eV9sb2dzIC0gZGF0YTonLCBkYXRhKVxyXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY3Rpdml0eV9sb2dzIC0gZXJyb3I6JywgZXJyb3IpXHJcbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IGFjdGl2aXR5X2xvZ3MgLSBjb3VudDonLCBjb3VudClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIHN1Y2Nlc3M6ICFlcnJvciwgXHJcbiAgICAgICAgZGF0YSwgXHJcbiAgICAgICAgZXJyb3IsIFxyXG4gICAgICAgIGNvdW50LFxyXG4gICAgICAgIHVzZXI6IHVzZXJQcm9maWxlXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCB0ZXN0dSBhY3Rpdml0eV9sb2dzOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gVHlweSBkbGEgc3RhdHlzdHlrIHByYWNvd25pa8Ozd1xyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlU3RhdHMge1xyXG4gIGlkOiBzdHJpbmdcclxuICB1c2VyX2lkOiBzdHJpbmdcclxuICBkYWlseV90YXJnZXQ6IG51bWJlclxyXG4gIGNvbW1pc3Npb25fcmF0ZTogbnVtYmVyXHJcbiAgbW9udGhseV9jYW52YXM6IG51bWJlclxyXG4gIG1vbnRobHlfYW50eXNhbGU6IG51bWJlclxyXG4gIG1vbnRobHlfc2FsZTogbnVtYmVyXHJcbiAgdG90YWxfY29tbWlzc2lvbnM6IG51bWJlclxyXG4gIHRvdGFsX3BlbmFsdGllczogbnVtYmVyXHJcbiAgLy8gUG9sYSBkbyBlZHljamkgcsSZY3puZWpcclxuICBjdXN0b21fY2xpZW50c19jb3VudD86IG51bWJlclxyXG4gIGN1c3RvbV90b3RhbF9wYXltZW50cz86IG51bWJlclxyXG4gIC8vIERvZGF0a293ZSBkYW5lIHogSk9JTlxyXG4gIHVzZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gICAgcm9sZTogc3RyaW5nXHJcbiAgfVxyXG4gIC8vIE9ibGljem9uZSBuYSBwb2RzdGF3aWUgZGFueWNoIHogY2xpZW50c1xyXG4gIGRhaWx5X2FjaGlldmVkPzogbnVtYmVyXHJcbiAgeWVzdGVyZGF5X3Nob3J0YWdlPzogbnVtYmVyXHJcbiAgc3RhdHVzX2NoYW5nZXNfdG9kYXk/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XHJcbn1cclxuXHJcbi8vIEZ1bmtjamUgQVBJIGRsYSByYXBvcnTDs3dcclxuZXhwb3J0IGNvbnN0IHJlcG9ydHNBcGkgPSB7XHJcbiAgLy8gUG9iaWVyeiBzdGF0eXN0eWtpIHR5bGtvIHByYWNvd25pa8OzdyB6IHByb3dpemrEhVxyXG4gIGFzeW5jIGdldEVtcGxveWVlU3RhdHModXNlcjogVXNlcik6IFByb21pc2U8RW1wbG95ZWVTdGF0c1tdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHN0YXR5c3R5ayBwcmFjb3duaWvDs3cuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gS1JPSyAxOiBQb2JpZXJ6IHdzenlzdGtpY2ggdcW8eXRrb3duaWvDs3cgeiByb2zEhSAncHJhY293bmlrJ1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGFsbEVtcGxveWVlcywgZXJyb3I6IHVzZXJzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgZW1haWwsXHJcbiAgICAgICAgICBhdmF0YXJfdXJsLFxyXG4gICAgICAgICAgcm9sZVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXHJcbiAgICAgICAgLm9yZGVyKCdmdWxsX25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgaWYgKHVzZXJzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3ctcHJhY293bmlrw7N3OicsIHVzZXJzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgdXNlcnNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoIWFsbEVtcGxveWVlcyB8fCBhbGxFbXBsb3llZXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBCcmFrIHXFvHl0a293bmlrw7N3IHogcm9sxIUgcHJhY293bmlrJylcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIHdzenlzdGtpY2ggcHJhY293bmlrw7N3OicsIGFsbEVtcGxveWVlcy5sZW5ndGgsIGFsbEVtcGxveWVlcy5tYXAoZSA9PiBlLmZ1bGxfbmFtZSkpXHJcblxyXG4gICAgICAvLyBLUk9LIDI6IFBvYmllcnogc3RhdHlzdHlraSB6IHRhYmVsaSBlbXBsb3llZV9zdGF0cyBkbGEgdHljaCBwcmFjb3duaWvDs3dcclxuICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSBhbGxFbXBsb3llZXMubWFwKGVtcCA9PiBlbXAuaWQpXHJcbiAgICAgIGxldCBleGlzdGluZ1N0YXRzOiBhbnlbXSA9IFtdXHJcbiAgICAgIFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3I6IHN0YXRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAuaW4oJ3VzZXJfaWQnLCBlbXBsb3llZUlkcylcclxuXHJcbiAgICAgICAgaWYgKHN0YXRzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBwb2JpZXJhbmlhIGVtcGxveWVlX3N0YXRzOicsIHN0YXRzRXJyb3IpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGV4aXN0aW5nU3RhdHMgPSBkYXRhIHx8IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIGVtcGxveWVlX3N0YXRzOicsIGVycm9yKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gc3RhdHlzdHlraSBkbGEgcHJhY293bmlrw7N3OicsIGV4aXN0aW5nU3RhdHM/Lmxlbmd0aCB8fCAwKVxyXG5cclxuICAgICAgLy8gS1JPSyAzOiBQb2JpZXJ6IGR6aXNpZWpzemUgc3RhdHlzdHlraSB6IHRhYmVsaSBjbGllbnRzICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuICAgICAgbGV0IHRvZGF5Q2xpZW50czogYW55W10gPSBbXVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBjbGllbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIGVkaXRlZF9ieSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXHJcbiAgICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0JywgYCR7dG9kYXl9VDAwOjAwOjAwYClcclxuICAgICAgICAgIC5sdCgndXBkYXRlZF9hdCcsIGAke3RvZGF5fVQyMzo1OTo1OWApXHJcblxyXG4gICAgICAgIGlmIChjbGllbnRzRXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBwb2JpZXJhbmlhIGtsaWVudMOzdyB6IGR6aXNpYWo6JywgY2xpZW50c0Vycm9yKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0b2RheUNsaWVudHMgPSBkYXRhIHx8IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIGR6aXNpZWpzenljaCBrbGllbnTDs3c6JywgZXJyb3IpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUG9icmFubyBkemlzaWVqc3p5Y2gga2xpZW50w7N3OicsIHRvZGF5Q2xpZW50cy5sZW5ndGgpXHJcblxyXG4gICAgICAvLyBLUk9LIDQ6IFBvYmllcnogd2N6b3JhanN6ZSBzdGF0eXN0eWtpIGRsYSBrYXIgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcclxuICAgICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKVxyXG4gICAgICB5ZXN0ZXJkYXkuc2V0RGF0ZSh5ZXN0ZXJkYXkuZ2V0RGF0ZSgpIC0gMSlcclxuICAgICAgY29uc3QgeWVzdGVyZGF5U3RyID0geWVzdGVyZGF5LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxyXG4gICAgICBsZXQgeWVzdGVyZGF5Q2xpZW50czogYW55W10gPSBbXVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiB5ZXN0ZXJkYXlFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5JylcclxuICAgICAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBgJHt5ZXN0ZXJkYXlTdHJ9VDAwOjAwOjAwYClcclxuICAgICAgICAgIC5sdCgndXBkYXRlZF9hdCcsIGAke3llc3RlcmRheVN0cn1UMjM6NTk6NTlgKVxyXG5cclxuICAgICAgICBpZiAoeWVzdGVyZGF5RXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCBwb2JpZXJhbmlhIHdjem9yYWpzenljaCBrbGllbnTDs3c6JywgeWVzdGVyZGF5RXJyb3IpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHllc3RlcmRheUNsaWVudHMgPSBkYXRhIHx8IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHdjem9yYWpzenljaCBrbGllbnTDs3c6JywgZXJyb3IpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtST0sgNTogUG9iaWVyeiBXU1pZU1RLSUNIIGtsaWVudMOzdyBwcnp5cGlzYW55Y2ggZG8gcHJhY293bmlrw7N3ICh6IG9ic8WCdWfEhSBixYLEmWTDs3cpXHJcbiAgICAgIGxldCBhbGxPd25lZENsaWVudHM6IGFueVtdID0gW11cclxuICAgICAgXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogb3duZWRFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgb3duZXJfaWQnKVxyXG4gICAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKVxyXG4gICAgICAgICAgLmluKCdvd25lcl9pZCcsIGVtcGxveWVlSWRzKVxyXG5cclxuICAgICAgICBpZiAob3duZWRFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHByenlwaXNhbnljaDonLCBvd25lZEVycm9yKVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBhbGxPd25lZENsaWVudHMgPSBkYXRhIHx8IFtdXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHByenlwaXNhbnljaCBrbGllbnTDs3c6JywgZXJyb3IpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgUG9icmFubyB3c3p5c3RraWNoIHByenlwaXNhbnljaCBrbGllbnTDs3c6JywgYWxsT3duZWRDbGllbnRzLmxlbmd0aClcclxuXHJcbiAgICAgIC8vIEtST0sgNjogQWdyZWd1aiBkemlzaWVqc3plIHN0YXR5c3R5a2kgcGVyIHByYWNvd25pa1xyXG4gICAgICBjb25zdCB0b2RheVN0YXRzID0gdG9kYXlDbGllbnRzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBhbnk+LCBjbGllbnQpID0+IHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBjbGllbnQuZWRpdGVkX2J5XHJcbiAgICAgICAgaWYgKCF1c2VySWQpIHJldHVybiBhY2NcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWFjY1t1c2VySWRdKSB7XHJcbiAgICAgICAgICBhY2NbdXNlcklkXSA9IHsgdG90YWw6IDAsIGNhbnZhczogMCwgYW50eXNhbGU6IDAsIHNhbGU6IDAsIG90aGVyOiAwIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgYWNjW3VzZXJJZF0udG90YWwrK1xyXG4gICAgICAgIGlmIChjbGllbnQuc3RhdHVzID09PSAnY2FudmFzJykgYWNjW3VzZXJJZF0uY2FudmFzKytcclxuICAgICAgICBlbHNlIGlmIChjbGllbnQuc3RhdHVzID09PSAnYW50eXNhbGUnKSBhY2NbdXNlcklkXS5hbnR5c2FsZSsrXHJcbiAgICAgICAgZWxzZSBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ3NhbGUnKSBhY2NbdXNlcklkXS5zYWxlKytcclxuICAgICAgICBlbHNlIGFjY1t1c2VySWRdLm90aGVyKytcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgIH0sIHt9KVxyXG5cclxuICAgICAgLy8gS1JPSyA3OiBBZ3JlZ3VqIHdjem9yYWpzemUgc3RhdHlzdHlraSBwZXIgcHJhY293bmlrXHJcbiAgICAgIGNvbnN0IHllc3RlcmRheVN0YXRzID0geWVzdGVyZGF5Q2xpZW50cy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgY2xpZW50KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdXNlcklkID0gY2xpZW50LmVkaXRlZF9ieVxyXG4gICAgICAgIGlmICh1c2VySWQpIHtcclxuICAgICAgICAgIGFjY1t1c2VySWRdID0gKGFjY1t1c2VySWRdIHx8IDApICsgMVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYWNjXHJcbiAgICAgIH0sIHt9KVxyXG5cclxuICAgICAgLy8gS1JPSyA4OiBBZ3JlZ3VqIHN0YXR1c3kgV1NaWVNUS0lDSCBwcnp5cGlzYW55Y2gga2xpZW50w7N3IHBlciBwcmFjb3duaWtcclxuICAgICAgY29uc3Qgb3duZWRDbGllbnRzU3RhdHMgPSBhbGxPd25lZENsaWVudHMucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIGFueT4sIGNsaWVudCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG93bmVySWQgPSBjbGllbnQub3duZXJfaWRcclxuICAgICAgICBpZiAoIW93bmVySWQpIHJldHVybiBhY2NcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWFjY1tvd25lcklkXSkge1xyXG4gICAgICAgICAgYWNjW293bmVySWRdID0geyB0b3RhbDogMCwgY2FudmFzOiAwLCBhbnR5c2FsZTogMCwgc2FsZTogMCwgYnJha19rb250YWt0dTogMCwgbmllX3phaW50ZXJlc293YW55OiAwLCB6ZGVuZXJ3b3dhbnk6IDAsICckJCc6IDAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBhY2Nbb3duZXJJZF0udG90YWwrK1xyXG4gICAgICAgIFxyXG4gICAgICAgIHN3aXRjaCAoY2xpZW50LnN0YXR1cykge1xyXG4gICAgICAgICAgY2FzZSAnY2FudmFzJzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLmNhbnZhcysrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICdhbnR5c2FsZSc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS5hbnR5c2FsZSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICdzYWxlJzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLnNhbGUrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnYnJha19rb250YWt0dSc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS5icmFrX2tvbnRha3R1KytcclxuICAgICAgICAgICAgYnJlYWtcclxuICAgICAgICAgIGNhc2UgJ25pZV96YWludGVyZXNvd2FueSc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXS5uaWVfemFpbnRlcmVzb3dhbnkrK1xyXG4gICAgICAgICAgICBicmVha1xyXG4gICAgICAgICAgY2FzZSAnemRlbmVyd293YW55JzpcclxuICAgICAgICAgICAgYWNjW293bmVySWRdLnpkZW5lcndvd2FueSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICBjYXNlICckJCc6XHJcbiAgICAgICAgICAgIGFjY1tvd25lcklkXVsnJCQnXSsrXHJcbiAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBhY2NcclxuICAgICAgfSwge30pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBTdGF0eXN0eWtpIHByenlwaXNhbnljaCBrbGllbnTDs3c6Jywgb3duZWRDbGllbnRzU3RhdHMpXHJcblxyXG4gICAgICAvLyBLUk9LIDk6IFN0d8OzcnogbWFwxJkgc3RhdHlzdHlrIGVtcGxveWVlX3N0YXRzXHJcbiAgICAgIGNvbnN0IHN0YXRzTWFwID0gbmV3IE1hcCgpXHJcbiAgICAgIGV4aXN0aW5nU3RhdHMuZm9yRWFjaChzdGF0ID0+IHtcclxuICAgICAgICBzdGF0c01hcC5zZXQoc3RhdC51c2VyX2lkLCBzdGF0KVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gS1JPSyAxMDogS29tYmludWogZGFuZSAtIGRsYSBXU1pZU1RLSUNIIHByYWNvd25pa8OzdyAoemF3c3plIHp3cmFjYSBsaXN0xJkpXHJcbiAgICAgIGNvbnN0IGVuaGFuY2VkU3RhdHM6IEVtcGxveWVlU3RhdHNbXSA9IGFsbEVtcGxveWVlcy5tYXAoZW1wbG95ZWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IHVzZXJJZCA9IGVtcGxveWVlLmlkXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gUG9iaWVyeiBzdGF0eXN0eWtpIHogZW1wbG95ZWVfc3RhdHMgbHViIHV0d8OzcnogZG9tecWbbG5lXHJcbiAgICAgICAgY29uc3QgYmFzaWNTdGF0ID0gc3RhdHNNYXAuZ2V0KHVzZXJJZCkgfHwge1xyXG4gICAgICAgICAgaWQ6ICd0ZW1wXycgKyB1c2VySWQsXHJcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXHJcbiAgICAgICAgICBkYWlseV90YXJnZXQ6IDIwLFxyXG4gICAgICAgICAgY29tbWlzc2lvbl9yYXRlOiAzLjAsXHJcbiAgICAgICAgICBtb250aGx5X2NhbnZhczogMCxcclxuICAgICAgICAgIG1vbnRobHlfYW50eXNhbGU6IDAsXHJcbiAgICAgICAgICBtb250aGx5X3NhbGU6IDAsXHJcbiAgICAgICAgICB0b3RhbF9jb21taXNzaW9uczogMCxcclxuICAgICAgICAgIHRvdGFsX3BlbmFsdGllczogMCxcclxuICAgICAgICAgIGN1c3RvbV9jbGllbnRzX2NvdW50OiAwLFxyXG4gICAgICAgICAgY3VzdG9tX3RvdGFsX3BheW1lbnRzOiAwLFxyXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRvZGF5Rm9yVXNlciA9IHRvZGF5U3RhdHNbdXNlcklkXSB8fCB7IHRvdGFsOiAwLCBjYW52YXM6IDAsIGFudHlzYWxlOiAwLCBzYWxlOiAwIH1cclxuICAgICAgICBjb25zdCB5ZXN0ZXJkYXlGb3JVc2VyID0geWVzdGVyZGF5U3RhdHNbdXNlcklkXSB8fCAwXHJcbiAgICAgICAgY29uc3Qgb3duZWRGb3JVc2VyID0gb3duZWRDbGllbnRzU3RhdHNbdXNlcklkXSB8fCB7IFxyXG4gICAgICAgICAgdG90YWw6IDAsIFxyXG4gICAgICAgICAgY2FudmFzOiAwLCBcclxuICAgICAgICAgIGFudHlzYWxlOiAwLCBcclxuICAgICAgICAgIHNhbGU6IDAsIFxyXG4gICAgICAgICAgYnJha19rb250YWt0dTogMCwgXHJcbiAgICAgICAgICBuaWVfemFpbnRlcmVzb3dhbnk6IDAsIFxyXG4gICAgICAgICAgemRlbmVyd293YW55OiAwLCBcclxuICAgICAgICAgICckJCc6IDAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE9ibGljeiBrYXLEmSB6YSB3Y3pvcmFqXHJcbiAgICAgICAgY29uc3QgeWVzdGVyZGF5U2hvcnRhZ2UgPSBNYXRoLm1heCgwLCBiYXNpY1N0YXQuZGFpbHlfdGFyZ2V0IC0geWVzdGVyZGF5Rm9yVXNlcilcclxuICAgICAgICBjb25zdCBwZW5hbHR5ID0geWVzdGVyZGF5U2hvcnRhZ2UgKiAxNVxyXG5cclxuICAgICAgICAvLyBPYmxpY3ogcHJvd2l6asSZIG5hIHBvZHN0YXdpZSBwcnp5cGlzYW55Y2gga2xpZW50w7N3IFNhbGVcclxuICAgICAgICBjb25zdCBjb21taXNzaW9uID0gKG93bmVkRm9yVXNlci5zYWxlICogYmFzaWNTdGF0LmNvbW1pc3Npb25fcmF0ZSAvIDEwMCkgKiAxMDBcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coYPCfkaQgUHJhY293bmlrICR7ZW1wbG95ZWUuZnVsbF9uYW1lfTogQ2FudmFzPSR7b3duZWRGb3JVc2VyLmNhbnZhc30sIEFudHlTPSR7b3duZWRGb3JVc2VyLmFudHlzYWxlfSwgU2FsZT0ke293bmVkRm9yVXNlci5zYWxlfWApXHJcblxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAuLi5iYXNpY1N0YXQsXHJcbiAgICAgICAgICAvLyBXQcW7TkU6IERvxYLEhWN6IGRhbmUgdcW8eXRrb3duaWthXHJcbiAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgIGlkOiBlbXBsb3llZS5pZCxcclxuICAgICAgICAgICAgZnVsbF9uYW1lOiBlbXBsb3llZS5mdWxsX25hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyX3VybDogZW1wbG95ZWUuYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgcm9sZTogZW1wbG95ZWUucm9sZVxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGRhaWx5X2FjaGlldmVkOiB0b2RheUZvclVzZXIudG90YWwsXHJcbiAgICAgICAgICB5ZXN0ZXJkYXlfc2hvcnRhZ2U6IHllc3RlcmRheVNob3J0YWdlLFxyXG4gICAgICAgICAgc3RhdHVzX2NoYW5nZXNfdG9kYXk6IHtcclxuICAgICAgICAgICAgY2FudmFzOiB0b2RheUZvclVzZXIuY2FudmFzLFxyXG4gICAgICAgICAgICBhbnR5c2FsZTogdG9kYXlGb3JVc2VyLmFudHlzYWxlLFxyXG4gICAgICAgICAgICBzYWxlOiB0b2RheUZvclVzZXIuc2FsZSxcclxuICAgICAgICAgICAgb3RoZXI6IHRvZGF5Rm9yVXNlci5vdGhlclxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIC8vIFXFvHl3YWogc3RhdHlzdHlrIG9wYXJ0eWNoIG5hIG93bmVyX2lkIChwcnp5cGlzYW55Y2gga2xpZW50w7N3KVxyXG4gICAgICAgICAgbW9udGhseV9jYW52YXM6IG93bmVkRm9yVXNlci5jYW52YXMsXHJcbiAgICAgICAgICBtb250aGx5X2FudHlzYWxlOiBvd25lZEZvclVzZXIuYW50eXNhbGUsXHJcbiAgICAgICAgICBtb250aGx5X3NhbGU6IG93bmVkRm9yVXNlci5zYWxlLFxyXG4gICAgICAgICAgdG90YWxfY29tbWlzc2lvbnM6IGNvbW1pc3Npb24sXHJcbiAgICAgICAgICB0b3RhbF9wZW5hbHRpZXM6IHBlbmFsdHlcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFByenlnb3Rvd2FubyByb3pzemVyem9uZSBzdGF0eXN0eWtpIGRsYSB3c3p5c3RraWNoIHByYWNvd25pa8OzdzonLCBlbmhhbmNlZFN0YXRzLmxlbmd0aClcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgTGlzdGEgcHJhY293bmlrw7N3OicsIGVuaGFuY2VkU3RhdHMubWFwKHMgPT4gcy51c2VyPy5mdWxsX25hbWUpLmpvaW4oJywgJykpXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZW5oYW5jZWRTdGF0c1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgcHJhY293bmlrw7N3OicsIGVycm9yKVxyXG4gICAgICAvLyBXIHByenlwYWRrdSBixYLEmWR1LCB6d3LDs8SHIHB1c3TEhSBsaXN0xJkgemFtaWFzdCByenVjYcSHIGLFgsSFZFxyXG4gICAgICByZXR1cm4gW11cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2RzdW1vd2FuaWUgZG5pYVxyXG4gIGFzeW5jIGdldERhaWx5U3VtbWFyeShkYXRlOiBzdHJpbmcpIHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgLnNlbGVjdCgnc3RhdHVzLCBlZGl0ZWRfYnknKVxyXG4gICAgICAuZ3RlKCd1cGRhdGVkX2F0JywgYCR7ZGF0ZX1UMDA6MDA6MDBgKVxyXG4gICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBgJHtkYXRlfVQyMzo1OTo1OWApXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG5cclxuICAgIC8vIEFncmVnYWNqYSBkYW55Y2hcclxuICAgIGNvbnN0IHN0YXR1c0JyZWFrZG93biA9IGRhdGEucmVkdWNlKChhY2M6IGFueSwgY2xpZW50KSA9PiB7XHJcbiAgICAgIGFjY1tjbGllbnQuc3RhdHVzXSA9IChhY2NbY2xpZW50LnN0YXR1c10gfHwgMCkgKyAxXHJcbiAgICAgIHJldHVybiBhY2NcclxuICAgIH0sIHt9KVxyXG5cclxuICAgIGNvbnN0IGVtcGxveWVlU3RhdHMgPSBkYXRhLnJlZHVjZSgoYWNjOiBhbnksIGNsaWVudCkgPT4ge1xyXG4gICAgICBhY2NbY2xpZW50LmVkaXRlZF9ieV0gPSAoYWNjW2NsaWVudC5lZGl0ZWRfYnldIHx8IDApICsgMVxyXG4gICAgICByZXR1cm4gYWNjXHJcbiAgICB9LCB7fSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbENsaWVudHM6IGRhdGEubGVuZ3RoLFxyXG4gICAgICBzdGF0dXNCcmVha2Rvd24sXHJcbiAgICAgIGVtcGxveWVlU3RhdHNcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2RzdW1vd2FuaWUgdHlnb2RuaW93ZVxyXG4gIGFzeW5jIGdldFdlZWtseVN1bW1hcnkoc3RhcnREYXRlOiBzdHJpbmcsIGVuZERhdGU6IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAuc2VsZWN0KCdzdGF0dXMsIGVkaXRlZF9ieSwgdXBkYXRlZF9hdCcpXHJcbiAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBzdGFydERhdGUpXHJcbiAgICAgIC5sdCgndXBkYXRlZF9hdCcsIGVuZERhdGUpXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyBBa3R1YWxpenVqIHN0YXR5c3R5a2kgcHJhY293bmlrYSAoZGxhIG1hbmFnZXIvcHJvamVjdF9tYW5hZ2VyL2p1bmlvcl9tYW5hZ2VyL3N6ZWYvYWRtaW4pXHJcbiAgYXN5bmMgdXBkYXRlRW1wbG95ZWVTdGF0cyh1c2VySWQ6IHN0cmluZywgdXBkYXRlczogUGFydGlhbDxFbXBsb3llZVN0YXRzPiwgY3VycmVudFVzZXI6IFVzZXIpIHtcclxuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXHJcbiAgICBpZiAoIVsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnJvbGUpKSB7XHJcbiAgICAgIHRocm93IG5ldyBFcnJvcignQnJhayB1cHJhd25pZcWEIGRvIG1vZHlmaWthY2ppIHN0YXR5c3R5aycpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgLnVwZGF0ZSh1cGRhdGVzKVxyXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIEVkeXR1aiBpbG/Fm8SHIGtsaWVudMOzdyBpIHN1bcSZIHdwxYJhdCBwcmFjb3duaWthIChkbGEgbWFuYWdlci9wcm9qZWN0X21hbmFnZXIvanVuaW9yX21hbmFnZXIvc3plZi9hZG1pbilcclxuICBhc3luYyB1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzKHVzZXJJZDogc3RyaW5nLCBjbGllbnRzQ291bnQ6IG51bWJlciwgdG90YWxQYXltZW50czogbnVtYmVyLCBjdXJyZW50VXNlcjogVXNlcikge1xyXG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcclxuICAgIGlmICghWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXMoY3VycmVudFVzZXIucm9sZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gbW9keWZpa2Fjamkgc3RhdHlzdHlrJylcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBBa3R1YWxpenVqxJkgc3RhdHlzdHlraSBwcmFjb3duaWthICR7dXNlcklkfToga2xpZW5jaT0ke2NsaWVudHNDb3VudH0sIHdwxYJhdHk9JHt0b3RhbFBheW1lbnRzfWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBNRVRPREEgMTogU3Byw7NidWogcHJvc3TEhSBha3R1YWxpemFjasSZIHcgZW1wbG95ZWVfc3RhdHNcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBQcsOzYmEgcHJvc3RlaiBha3R1YWxpemFjamkgdyBlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgbGVnYWN5VXBkYXRlcyA9IHtcclxuICAgICAgICAgIGN1c3RvbV9jbGllbnRzX2NvdW50OiBjbGllbnRzQ291bnQsXHJcbiAgICAgICAgICBjdXN0b21fdG90YWxfcGF5bWVudHM6IHRvdGFsUGF5bWVudHMsXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgICAgLnVwZGF0ZShsZWdhY3lVcGRhdGVzKVxyXG4gICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxyXG4gICAgICAgICAgLnNlbGVjdChgXHJcbiAgICAgICAgICAgICosXHJcbiAgICAgICAgICAgIHVzZXI6dXNlcnMhdXNlcl9pZCAoXHJcbiAgICAgICAgICAgICAgaWQsXHJcbiAgICAgICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgIGF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgICAgcm9sZVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgICBgKVxyXG4gICAgICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgICAgIGlmICghZXJyb3IgJiYgZGF0YSkge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coJ+KchSBaYWt0dWFsaXpvd2FubyBzdGF0eXN0eWtpIHcgZW1wbG95ZWVfc3RhdHMgKG1ldG9kYSAxKScpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBLbGllbmNpOiAke2NsaWVudHNDb3VudH0sIFdwxYJhdHk6IOKCrCR7dG90YWxQYXltZW50c31gKVxyXG4gICAgICAgICAgcmV0dXJuIGRhdGFcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDEgbmllIHphZHppYcWCYcWCYTonLCBlcnJvcilcclxuICAgICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgfSBjYXRjaCAobWV0aG9kMUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDEgKHByb3N0YSBha3R1YWxpemFjamEpIG5pZSB6YWR6aWHFgmHFgmE6JywgbWV0aG9kMUVycm9yKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1FVE9EQSAyOiBTcHLDs2J1aiBJTlNFUlQgeiBPTiBDT05GTElDVFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBQcsOzYmEgSU5TRVJUIHogT04gQ09ORkxJQ1QgdyBlbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGluc2VydERhdGEgPSB7XHJcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcclxuICAgICAgICAgICAgY29tbWlzc2lvbl9yYXRlOiAzLjAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfY2FudmFzOiAwLFxyXG4gICAgICAgICAgICBtb250aGx5X2FudHlzYWxlOiAwLFxyXG4gICAgICAgICAgICBtb250aGx5X3NhbGU6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiAwLFxyXG4gICAgICAgICAgICB0b3RhbF9wZW5hbHRpZXM6IDAsXHJcbiAgICAgICAgICAgIGN1c3RvbV9jbGllbnRzX2NvdW50OiBjbGllbnRzQ291bnQsXHJcbiAgICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcclxuICAgICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxyXG4gICAgICAgICAgICAudXBzZXJ0KGluc2VydERhdGEsIHsgXHJcbiAgICAgICAgICAgICAgb25Db25mbGljdDogJ3VzZXJfaWQnLFxyXG4gICAgICAgICAgICAgIGlnbm9yZUR1cGxpY2F0ZXM6IGZhbHNlIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgICAgICAqLFxyXG4gICAgICAgICAgICAgIHVzZXI6dXNlcnMhdXNlcl9pZCAoXHJcbiAgICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgICAgICAgYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgICAgIHJvbGVcclxuICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIGApXHJcbiAgICAgICAgICAgIC5zaW5nbGUoKVxyXG5cclxuICAgICAgICAgIGlmICghZXJyb3IgJiYgZGF0YSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFpha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgdyBlbXBsb3llZV9zdGF0cyAobWV0b2RhIDIpJylcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCfk4ogS2xpZW5jaTogJHtjbGllbnRzQ291bnR9LCBXcMWCYXR5OiDigqwke3RvdGFsUGF5bWVudHN9YClcclxuICAgICAgICAgICAgcmV0dXJuIGRhdGFcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE1ldG9kYSAyIG5pZSB6YWR6aWHFgmHFgmE6JywgZXJyb3IpXHJcbiAgICAgICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKG1ldGhvZDJFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDIgKHVwc2VydCkgbmllIHphZHppYcWCYcWCYTonLCBtZXRob2QyRXJyb3IpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIE1FVE9EQSAzOiBaYWt0dWFsaXp1aiB0eWxrbyB3IHBhbWnEmWNpIChmYWxsYmFjaylcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIEZhbGxiYWNrIC0gendyYWNhbSBzeW11bG93YW5lIGRhbmUnKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogJ3RlbXBfJyArIHVzZXJJZCxcclxuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICBkYWlseV90YXJnZXQ6IDIwLFxyXG4gICAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcclxuICAgICAgICAgICAgbW9udGhseV9jYW52YXM6IDAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfYW50eXNhbGU6IDAsXHJcbiAgICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcclxuICAgICAgICAgICAgdG90YWxfY29tbWlzc2lvbnM6IDAsXHJcbiAgICAgICAgICAgIHRvdGFsX3BlbmFsdGllczogMCxcclxuICAgICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IGNsaWVudHNDb3VudCxcclxuICAgICAgICAgICAgY3VzdG9tX3RvdGFsX3BheW1lbnRzOiB0b3RhbFBheW1lbnRzLFxyXG4gICAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgICAgICAgICAgdXNlcjoge1xyXG4gICAgICAgICAgICAgIGlkOiB1c2VySWQsXHJcbiAgICAgICAgICAgICAgZnVsbF9uYW1lOiAnUHJhY293bmlrJyxcclxuICAgICAgICAgICAgICBlbWFpbDogJ2JyYWtAZW1haWwuY29tJyxcclxuICAgICAgICAgICAgICBhdmF0YXJfdXJsOiBudWxsLFxyXG4gICAgICAgICAgICAgIHJvbGU6ICdwcmFjb3duaWsnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyB1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFN0d8Ozcnogc3RhdHlzdHlraSBkbGEgbm93ZWdvIHByYWNvd25pa2FcclxuICBhc3luYyBjcmVhdGVFbXBsb3llZVN0YXRzKHVzZXJJZDogc3RyaW5nLCBjdXJyZW50VXNlcjogVXNlcikge1xyXG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcclxuICAgIGlmICghWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXMoY3VycmVudFVzZXIucm9sZSkpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gdHdvcnplbmlhIHN0YXR5c3R5aycpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcclxuICAgICAgLmluc2VydChbe1xyXG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcclxuICAgICAgICBkYWlseV90YXJnZXQ6IDIwLFxyXG4gICAgICAgIGNvbW1pc3Npb25fcmF0ZTogMy4wXHJcbiAgICAgIH1dKVxyXG4gICAgICAuc2VsZWN0KClcclxuICAgICAgLnNpbmdsZSgpXHJcblxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGFcclxuICB9LFxyXG5cclxuICAvLyDwn5OKIE5vd2EgZnVua2NqYTogUG9iaWVyeiBzdGF0eXN0eWtpIHd5a29yenlzdGFuaWEgYmF6eSAoa2xpZW5jaSB6L2JleiB3xYJhxZtjaWNpZWxhKVxyXG4gIGFzeW5jIGdldERhdGFiYXNlVXRpbGl6YXRpb24oKTogUHJvbWlzZTx7IHdpdGhPd25lcjogbnVtYmVyLCB3aXRob3V0T3duZXI6IG51bWJlciwgdG90YWw6IG51bWJlciwgdXRpbGl6YXRpb25QZXJjZW50YWdlOiBudW1iZXIgfT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBzdGF0eXN0eWsgd3lrb3J6eXN0YW5pYSBiYXp5Li4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFpsaWN6IHdzenlzdGtpY2gga2xpZW50w7N3XHJcbiAgICAgIGNvbnN0IHsgY291bnQ6IHRvdGFsQ291bnQsIGVycm9yOiB0b3RhbEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG5cclxuICAgICAgaWYgKHRvdGFsRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgxYLEhWN6bmVqIGxpY3pieSBrbGllbnTDs3c6JywgdG90YWxFcnJvcilcclxuICAgICAgICB0aHJvdyB0b3RhbEVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFpsaWN6IGtsaWVudMOzdyB6IHfFgmHFm2NpY2llbGVtIChvd25lcl9pZCAhPSBudWxsKVxyXG4gICAgICBjb25zdCB7IGNvdW50OiB3aXRoT3duZXJDb3VudCwgZXJyb3I6IHdpdGhPd25lckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcclxuXHJcbiAgICAgIGlmICh3aXRoT3duZXJFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgeiB3xYJhxZtjaWNpZWxlbTonLCB3aXRoT3duZXJFcnJvcilcclxuICAgICAgICB0aHJvdyB3aXRoT3duZXJFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBPYmxpY3oga2xpZW50w7N3IGJleiB3xYJhxZtjaWNpZWxhXHJcbiAgICAgIGNvbnN0IHdpdGhvdXRPd25lckNvdW50ID0gKHRvdGFsQ291bnQgfHwgMCkgLSAod2l0aE93bmVyQ291bnQgfHwgMClcclxuICAgICAgXHJcbiAgICAgIC8vIE9ibGljeiBwcm9jZW50IHd5a29yenlzdGFuaWFcclxuICAgICAgY29uc3QgdXRpbGl6YXRpb25QZXJjZW50YWdlID0gdG90YWxDb3VudCA/IE1hdGgucm91bmQoKHdpdGhPd25lckNvdW50IHx8IDApIC8gdG90YWxDb3VudCAqIDEwMCkgOiAwXHJcblxyXG4gICAgICBjb25zdCByZXN1bHQgPSB7XHJcbiAgICAgICAgd2l0aE93bmVyOiB3aXRoT3duZXJDb3VudCB8fCAwLFxyXG4gICAgICAgIHdpdGhvdXRPd25lcjogd2l0aG91dE93bmVyQ291bnQsXHJcbiAgICAgICAgdG90YWw6IHRvdGFsQ291bnQgfHwgMCxcclxuICAgICAgICB1dGlsaXphdGlvblBlcmNlbnRhZ2VcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogU3RhdHlzdHlraSB3eWtvcnp5c3RhbmlhIGJhenk6JywgcmVzdWx0KVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayB3eWtvcnp5c3RhbmlhIGJhenk6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8g8J+UhCBBRE1JTjogUmVzZXR1aiB3xYJhxZtjaWNpZWxpIHdzenlzdGtpY2gga2xpZW50w7N3XHJcbiAgYXN5bmMgcmVzZXRBbGxDbGllbnRPd25lcnMoY3VycmVudFVzZXI6IFVzZXIpOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyLCBtZXNzYWdlOiBzdHJpbmcgfT4ge1xyXG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWEgLSB0eWxrbyBhZG1pblxyXG4gICAgaWYgKGN1cnJlbnRVc2VyLnJvbGUgIT09ICdhZG1pbicpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQhIFR5bGtvIGFkbWluaXN0cmF0b3IgbW/FvGUgcmVzZXRvd2HEhyB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdy4nKVxyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFJvenBvY3p5bmFtIHJlc2V0b3dhbmllIHfFgmHFm2NpY2llbGkga2xpZW50w7N3Li4uJylcclxuICAgICAgXHJcbiAgICAgIC8vIFBvYmllcnogbGljemLEmSBrbGllbnTDs3cgeiB3xYJhxZtjaWNpZWxlbSBwcnplZCByZXNldG93YW5pZW1cclxuICAgICAgY29uc3QgeyBjb3VudDogYmVmb3JlQ291bnQsIGVycm9yOiBiZWZvcmVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcclxuICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpXHJcblxyXG4gICAgICBpZiAoYmVmb3JlRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHNwcmF3ZHphbmlhIHN0YW51IHByemVkIHJlc2V0b3dhbmllbTonLCBiZWZvcmVFcnJvcilcclxuICAgICAgICB0aHJvdyBiZWZvcmVFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBSZXNldHVqIG93bmVyX2lkIGRsYSB3c3p5c3RraWNoIGtsaWVudMOzd1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAudXBkYXRlKHsgb3duZXJfaWQ6IG51bGwgfSlcclxuICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpIC8vIFR5bGtvIHRlIGt0w7NyZSBtYWrEhSB3xYJhxZtjaWNpZWxhXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZScpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHJlc2V0b3dhbmlhIHfFgmHFm2NpY2llbGk6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcmVzZXRDb3VudCA9IGRhdGE/Lmxlbmd0aCB8fCAwXHJcbiAgICAgIFxyXG4gICAgICAvLyBMb2d1aiBha2NqxJkgZG8gYWN0aXZpdHlfbG9nc1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IGFjdGl2aXR5TG9nc0FwaS5jcmVhdGVMb2coe1xyXG4gICAgICAgICAgY2xpZW50X2lkOiAnYnVsa19hY3Rpb24nLFxyXG4gICAgICAgICAgY2hhbmdlZF9ieTogY3VycmVudFVzZXIuaWQsXHJcbiAgICAgICAgICBjaGFuZ2VfdHlwZTogJ3VwZGF0ZScsXHJcbiAgICAgICAgICBmaWVsZF9jaGFuZ2VkOiAnb3duZXJfaWQnLFxyXG4gICAgICAgICAgb2xkX3ZhbHVlOiAndmFyaW91cycsXHJcbiAgICAgICAgICBuZXdfdmFsdWU6ICdudWxsIChyZXNldCBieSBhZG1pbiknLFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSB6YWxvZ293YcSHIGFrY2ppOicsIGxvZ0Vycm9yKVxyXG4gICAgICAgIC8vIE5pZSBwcnplcnl3YW15IHByb2Nlc3UgeiBwb3dvZHUgYsWCxJlkdSBsb2dvd2FuaWFcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBacmVzZXRvd2FubyB3xYJhxZtjaWNpZWxpIGRsYSAke3Jlc2V0Q291bnR9IGtsaWVudMOzd2ApXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHN1Y2Nlc3M6IHJlc2V0Q291bnQsXHJcbiAgICAgICAgbWVzc2FnZTogYFBvbXnFm2xuaWUgenJlc2V0b3dhbm8gd8WCYcWbY2ljaWVsaSBkbGEgJHtyZXNldENvdW50fSBrbGllbnTDs3cuIFdzenlzY3kga2xpZW5jaSBzxIUgdGVyYXogYmV6IHByenlwaXNhbmVnbyB3xYJhxZtjaWNpZWxhLmBcclxuICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCByZXNldG93YW5pYSB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdzonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHN0YXR5c3R5a2kgYWt0eXdub8WbY2kgcHJhY293bmlrw7N3IHogdGFiZWxpIGVtcGxveWVlX3N0YXRpc3RpY3NcclxuICBhc3luYyBnZXRFbXBsb3llZUFjdGl2aXR5U3RhdHModXNlcjogVXNlcik6IFByb21pc2U8RW1wbG95ZWVBY3Rpdml0eVN0YXRzW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIGFrdHl3bm/Fm2NpIHByYWNvd25pa8Ozdy4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiB1cHJhd25pZW5pYVxyXG4gICAgICBpZiAoIXVzZXIgfHwgIVsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCcmFrIHVwcmF3bmllxYQgZG8gcG9kZ2zEhWR1IHN0YXR5c3R5ayBha3R5d25vxZtjaScpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtST0sgMTogUG9iaWVyeiB3c3p5c3RraWNoIHXFvHl0a293bmlrw7N3IHogcm9sxIUgJ3ByYWNvd25paydcclxuICAgICAgbGV0IGFsbEVtcGxveWVlcyA9IFtdXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiBlbXBsb3llZXMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICBlbWFpbCxcclxuICAgICAgICAgICAgYXZhdGFyX3VybCxcclxuICAgICAgICAgICAgcm9sZVxyXG4gICAgICAgICAgYClcclxuICAgICAgICAgIC5lcSgncm9sZScsICdwcmFjb3duaWsnKVxyXG4gICAgICAgICAgLm9yZGVyKCdmdWxsX25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgICBpZiAodXNlcnNFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHXFvHl0a293bmlrw7N3LXByYWNvd25pa8OzdzonLCB1c2Vyc0Vycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhbGxFbXBsb3llZXMgPSBlbXBsb3llZXMgfHwgW11cclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+RpSBabmFsZXppb25vIHByYWNvd25pa8OzdzogJHthbGxFbXBsb3llZXMubGVuZ3RofWApXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGFsbEVtcGxveWVlcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQnJhayB1xbx5dGtvd25pa8OzdyB6IHJvbMSFIHByYWNvd25paycpXHJcbiAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHByYWNvd25pa8OzdzonLCBlcnJvcilcclxuICAgICAgICByZXR1cm4gW11cclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gS1JPSyAyOiBQb2JpZXJ6IHN0YXR5c3R5a2kgYWt0eXdub8WbY2kgLSB6IG9ic8WCdWfEhSBixYLEmWTDs3cgUkxTXHJcbiAgICAgIGxldCBhY3Rpdml0eVN0YXRzID0gW11cclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBlbXBsb3llZUlkcyA9IGFsbEVtcGxveWVlcy5tYXAoZW1wID0+IGVtcC5pZClcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSBQb2JpZXJhbmllIHN0YXR5c3R5ayBkbGEgSUQ6ICR7ZW1wbG95ZWVJZHMuc2xpY2UoMCwgMykuam9pbignLCAnKX0uLi4gKCR7ZW1wbG95ZWVJZHMubGVuZ3RofSB0b3RhbClgKVxyXG5cclxuICAgICAgICBjb25zdCB7IGRhdGE6IHN0YXRzLCBlcnJvcjogc3RhdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0aXN0aWNzJylcclxuICAgICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgICAgLmVxKCdwZXJpb2RfdHlwZScsICdtb250aGx5JylcclxuICAgICAgICAgIC5pbigndXNlcl9pZCcsIGVtcGxveWVlSWRzKVxyXG4gICAgICAgICAgLm9yZGVyKCdwZXJpb2RfZW5kJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcblxyXG4gICAgICAgIGlmIChzdGF0c0Vycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIGFrdHl3bm/Fm2NpOicsIHN0YXRzRXJyb3IpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEplxZtsaSB0byBixYLEhWQgUkxTICg0MDMpLCBuaWUgcHJ6ZXJ5d2FqIC0gdcW8eWogZG9tecWbbG55Y2ggZGFueWNoXHJcbiAgICAgICAgICBpZiAoc3RhdHNFcnJvci5jb2RlID09PSAnUEdSU1QxMTYnIHx8IHN0YXRzRXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpIHx8IHN0YXRzRXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ/CflJIgUHJvYmxlbSB6IFJMUyAtIHXFvHl3YW0gZG9tecWbbG55Y2ggZGFueWNoIGFrdHl3bm/Fm2NpJylcclxuICAgICAgICAgICAgYWN0aXZpdHlTdGF0cyA9IFtdXHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5KlIEtyeXR5Y3pueSBixYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgLSBwcnplcnl3YW0nKVxyXG4gICAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgYWN0aXZpdHlTdGF0cyA9IHN0YXRzIHx8IFtdXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBabmFsZXppb25vIHJla29yZMOzdyBha3R5d25vxZtjaTogJHthY3Rpdml0eVN0YXRzLmxlbmd0aH1gKVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHphcHl0YW5pYSBvIHN0YXR5c3R5a2kgYWt0eXdub8WbY2k6JywgZXJyb3IpXHJcbiAgICAgICAgYWN0aXZpdHlTdGF0cyA9IFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtST0sgMzogU3R3w7NyeiBtYXDEmSBuYWpub3dzenljaCBzdGF0eXN0eWsgZGxhIGthxbxkZWdvIHByYWNvd25pa2FcclxuICAgICAgY29uc3QgbGF0ZXN0U3RhdHNNYXAgPSBuZXcgTWFwKClcclxuICAgICAgaWYgKGFjdGl2aXR5U3RhdHMgJiYgYWN0aXZpdHlTdGF0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgYWN0aXZpdHlTdGF0cy5mb3JFYWNoKHN0YXQgPT4ge1xyXG4gICAgICAgICAgY29uc3QgdXNlcklkID0gc3RhdC51c2VyX2lkXHJcbiAgICAgICAgICBpZiAoIWxhdGVzdFN0YXRzTWFwLmhhcyh1c2VySWQpKSB7XHJcbiAgICAgICAgICAgIGxhdGVzdFN0YXRzTWFwLnNldCh1c2VySWQsIHN0YXQpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+Xuu+4jyBabWFwb3dhbm8gc3RhdHlzdHlraSBkbGEgJHtsYXRlc3RTdGF0c01hcC5zaXplfSBwcmFjb3duaWvDs3dgKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gQnJhayBkYW55Y2ggYWt0eXdub8WbY2kgLSB1xbx5asSZIGRvbXnFm2xueWNoIHdhcnRvxZtjaScpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEtST0sgNDogS29tYmludWogZGFuZSBwcmFjb3duaWvDs3cgemUgc3RhdHlzdHlrYW1pIGFrdHl3bm/Fm2NpXHJcbiAgICAgIGNvbnN0IHJlc3VsdDogRW1wbG95ZWVBY3Rpdml0eVN0YXRzW10gPSBhbGxFbXBsb3llZXMubWFwKGVtcGxveWVlID0+IHtcclxuICAgICAgICBjb25zdCB1c2VySWQgPSBlbXBsb3llZS5pZFxyXG4gICAgICAgIGNvbnN0IGFjdGl2aXR5U3RhdCA9IGxhdGVzdFN0YXRzTWFwLmdldCh1c2VySWQpXHJcblxyXG4gICAgICAgIGlmIChhY3Rpdml0eVN0YXQpIHtcclxuICAgICAgICAgIC8vIE1hbXkgc3RhdHlzdHlraSAtIHXFvHlqIHByYXdkeml3eWNoIGRhbnljaFxyXG4gICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgLi4uYWN0aXZpdHlTdGF0LFxyXG4gICAgICAgICAgICB1c2VyOiB7XHJcbiAgICAgICAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxyXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogZW1wbG95ZWUuZnVsbF9uYW1lLFxyXG4gICAgICAgICAgICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcclxuICAgICAgICAgICAgICBhdmF0YXJfdXJsOiBlbXBsb3llZS5hdmF0YXJfdXJsLFxyXG4gICAgICAgICAgICAgIHJvbGU6IGVtcGxveWVlLnJvbGVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBCcmFrIHN0YXR5c3R5ayAtIHN0d8OzcnogZG9tecWbbG5lIGRhbmVcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgICAgY29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDFcclxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKVxyXG4gICAgICAgICAgY29uc3QgbW9udGhTdGFydCA9IGAke2N1cnJlbnRZZWFyfS0ke2N1cnJlbnRNb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LTAxYFxyXG4gICAgICAgICAgY29uc3QgbW9udGhFbmQgPSBuZXcgRGF0ZShjdXJyZW50WWVhciwgY3VycmVudE1vbnRoLCAwKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuXHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogJ3RlbXBfJyArIHVzZXJJZCxcclxuICAgICAgICAgICAgdXNlcl9pZDogdXNlcklkLFxyXG4gICAgICAgICAgICBwZXJpb2RfdHlwZTogJ21vbnRobHknLFxyXG4gICAgICAgICAgICBwZXJpb2Rfc3RhcnQ6IG1vbnRoU3RhcnQsXHJcbiAgICAgICAgICAgIHBlcmlvZF9lbmQ6IG1vbnRoRW5kLFxyXG4gICAgICAgICAgICB0b3RhbF93b3JrX21pbnV0ZXM6IDAsXHJcbiAgICAgICAgICAgIGF2ZXJhZ2VfZGFpbHlfbWludXRlczogMCxcclxuICAgICAgICAgICAgZXhwZWN0ZWRfd29ya19taW51dGVzOiAxNzYgKiA2MCwgLy8gMTc2aCAqIDYwbWluID0gMTA1NjAgbWluXHJcbiAgICAgICAgICAgIGVmZmljaWVuY3lfcGVyY2VudGFnZTogMCxcclxuICAgICAgICAgICAgdG90YWxfYWN0aXZpdGllczogMCxcclxuICAgICAgICAgICAgYXZlcmFnZV9kYWlseV9hY3Rpdml0aWVzOiAwLFxyXG4gICAgICAgICAgICBkYXlzX3dvcmtlZDogMCxcclxuICAgICAgICAgICAgZGF5c19hYnNlbnQ6IDAsXHJcbiAgICAgICAgICAgIHVzZXI6IHtcclxuICAgICAgICAgICAgICBpZDogZW1wbG95ZWUuaWQsXHJcbiAgICAgICAgICAgICAgZnVsbF9uYW1lOiBlbXBsb3llZS5mdWxsX25hbWUsXHJcbiAgICAgICAgICAgICAgZW1haWw6IGVtcGxveWVlLmVtYWlsLFxyXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IGVtcGxveWVlLmF2YXRhcl91cmwsXHJcbiAgICAgICAgICAgICAgcm9sZTogZW1wbG95ZWUucm9sZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBQcnp5Z290b3dhbm8gc3RhdHlzdHlraSBha3R5d25vxZtjaSBkbGEgd3N6eXN0a2ljaCBwcmFjb3duaWvDs3c6ICR7cmVzdWx0Lmxlbmd0aH1gKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpSBMaXN0YSBwcmFjb3duaWvDs3c6ICR7cmVzdWx0Lm1hcChzID0+IHMudXNlcj8uZnVsbF9uYW1lKS5qb2luKCcsICcpfWApXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2thxbwgc3RhdHlzdHlraSBwb2RzdW1vd3VqxIVjZVxyXG4gICAgICBjb25zdCB3aXRoRGF0YSA9IHJlc3VsdC5maWx0ZXIociA9PiByLnRvdGFsX3dvcmtfbWludXRlcyA+IDApLmxlbmd0aFxyXG4gICAgICBjb25zdCB3aXRob3V0RGF0YSA9IHJlc3VsdC5sZW5ndGggLSB3aXRoRGF0YVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBQcmFjb3duaWN5IHogZGFueW1pOiAke3dpdGhEYXRhfSwgYmV6IGRhbnljaDogJHt3aXRob3V0RGF0YX1gKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgYWt0eXdub8WbY2k6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBHcmFjZWZ1bCBmYWxsYmFjayAtIHp3csOzxIcgcHVzdMSFIHRhYmxpY8SZIHphbWlhc3QgY3Jhc2hvd2HEh1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBHcmFjZWZ1bCBmYWxsYmFjayAtIHp3cmFjYW0gcHVzdMSFIHRhYmxpY8SZJylcclxuICAgICAgcmV0dXJuIFtdXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiB0cmVuZHkgc3ByemVkYcW8b3dlIHogb3N0YXRuaWNoIDcgZG5pXHJcbiAgYXN5bmMgZ2V0U2FsZXNUcmVuZHModXNlcjogVXNlcik6IFByb21pc2U8QXJyYXk8eyBkYXk6IHN0cmluZywgY2FudmFzOiBudW1iZXIsIHNhbGU6IG51bWJlciwgYW50eXNhbGU6IG51bWJlciB9Pj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ggUG9iaWVyYW5pZSB0cmVuZMOzdyBzcHJ6ZWRhxbxvd3ljaCB6IG9zdGF0bmljaCA3IGRuaS4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IGRhbmUgeiBvc3RhdG5pY2ggNyBkbmlcclxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBzdGFydERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSAtIDYpIC8vIDcgZG5pIHdzdGVjeiAod8WCxIVjem5pZSB6IGR6aXNpYWopXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcclxuICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIHVwZGF0ZWRfYXQsIHN0YXR1c19jaGFuZ2VkX2F0LCBvd25lcl9pZCwgZWRpdGVkX2J5JylcclxuICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0Jywgc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcclxuICAgICAgICAubHRlKCd1cGRhdGVkX2F0JywgZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gKyAnVDIzOjU5OjU5JylcclxuICAgICAgICAuaW4oJ3N0YXR1cycsIFsnY2FudmFzJywgJ3NhbGUnLCAnYW50eXNhbGUnXSlcclxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHRyZW5kw7N3IHNwcnplZGHFvG93eWNoOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyAke2RhdGE/Lmxlbmd0aCB8fCAwfSByZWtvcmTDs3cgeiBvc3RhdG5pY2ggNyBkbmlgKVxyXG5cclxuICAgICAgLy8gRmlsdHJ1aiBrbGllbnTDs3cgd2VkxYJ1ZyB1cHJhd25pZcWEIHXFvHl0a293bmlrYVxyXG4gICAgICBsZXQgZmlsdGVyZWREYXRhID0gZGF0YSB8fCBbXVxyXG4gICAgICBpZiAodXNlci5yb2xlID09PSAncHJhY293bmlrJykge1xyXG4gICAgICAgIGZpbHRlcmVkRGF0YSA9IGZpbHRlcmVkRGF0YS5maWx0ZXIoY2xpZW50ID0+IFxyXG4gICAgICAgICAgY2xpZW50Lm93bmVyX2lkID09PSB1c2VyLmlkIHx8IFxyXG4gICAgICAgICAgY2xpZW50Lm93bmVyX2lkID09PSBudWxsIHx8IFxyXG4gICAgICAgICAgY2xpZW50LmVkaXRlZF9ieSA9PT0gdXNlci5pZFxyXG4gICAgICAgIClcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gU3R3w7NyeiBtYXDEmSBkbGEgZG5pIHR5Z29kbmlhXHJcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cclxuICAgICAgY29uc3QgdHJlbmRzOiBSZWNvcmQ8c3RyaW5nLCB7IGNhbnZhczogbnVtYmVyLCBzYWxlOiBudW1iZXIsIGFudHlzYWxlOiBudW1iZXIgfT4gPSB7fVxyXG5cclxuICAgICAgLy8gSW5pY2phbGl6dWogb3N0YXRuaWUgNyBkbmlcclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIHRyZW5kc1tkYXlOYW1lXSA9IHsgY2FudmFzOiAwLCBzYWxlOiAwLCBhbnR5c2FsZTogMCB9XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIEdydXB1aiBkYW5lIHdlZMWCdWcgZG5pXHJcbiAgICAgIGZpbHRlcmVkRGF0YS5mb3JFYWNoKGNsaWVudCA9PiB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNsaWVudC51cGRhdGVkX2F0KVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmICh0cmVuZHNbZGF5TmFtZV0pIHtcclxuICAgICAgICAgIGlmIChjbGllbnQuc3RhdHVzID09PSAnY2FudmFzJykgdHJlbmRzW2RheU5hbWVdLmNhbnZhcysrXHJcbiAgICAgICAgICBlbHNlIGlmIChjbGllbnQuc3RhdHVzID09PSAnc2FsZScpIHRyZW5kc1tkYXlOYW1lXS5zYWxlKytcclxuICAgICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdhbnR5c2FsZScpIHRyZW5kc1tkYXlOYW1lXS5hbnR5c2FsZSsrXHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG5cclxuICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBuYSBmb3JtYXQgZGxhIHd5a3Jlc3UgKG9zdGF0bmllIDcgZG5pIHcga29sZWpub8WbY2kpXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICBkYXk6IGRheU5hbWUsXHJcbiAgICAgICAgICBjYW52YXM6IHRyZW5kc1tkYXlOYW1lXS5jYW52YXMsXHJcbiAgICAgICAgICBzYWxlOiB0cmVuZHNbZGF5TmFtZV0uc2FsZSxcclxuICAgICAgICAgIGFudHlzYWxlOiB0cmVuZHNbZGF5TmFtZV0uYW50eXNhbGVcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRyZW5keSBzcHJ6ZWRhxbxvd2UgcHJ6eWdvdG93YW5lOicsIHJlc3VsdClcclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB0cmVuZMOzdyBzcHJ6ZWRhxbxvd3ljaDonLCBlcnJvcilcclxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSB6d3LDs8SHIHB1c3RlIGRhbmUgZGxhIG9zdGF0bmljaCA3IGRuaVxyXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICBkYXk6IGRheU5hbWUsXHJcbiAgICAgICAgICBjYW52YXM6IDAsXHJcbiAgICAgICAgICBzYWxlOiAwLFxyXG4gICAgICAgICAgYW50eXNhbGU6IDBcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiByZXN1bHRcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IHN0YXR5c3R5a2kga2xpa25pxJnEhyB0ZWxlZm9udSB0eWxrbyBkbGEgcHJhY293bmlrw7N3XHJcbiAgYXN5bmMgZ2V0UGhvbmVDbGlja3NTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTx7IHRvdGFsUGhvbmVDYWxsczogbnVtYmVyLCB0b3RhbFBob25lQ2FsbHNUb2RheTogbnVtYmVyIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OeIFBvYmllcmFuaWUgc3RhdHlzdHlrIGtsaWtuacSZxIcgdGVsZWZvbnUuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIHByYWNvd25pa8Ozd1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3I6IGVtcGxveWVlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQnKVxyXG4gICAgICAgIC5lcSgncm9sZScsICdwcmFjb3duaWsnKVxyXG5cclxuICAgICAgaWYgKGVtcGxveWVlc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHByYWNvd25pa8OzdzonLCBlbXBsb3llZXNFcnJvcilcclxuICAgICAgICB0aHJvdyBlbXBsb3llZXNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBlbXBsb3llZUlkcyA9IChlbXBsb3llZXMgfHwgW10pLm1hcChlbXAgPT4gZW1wLmlkKVxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpSBabmFsZXppb25vICR7ZW1wbG95ZWVJZHMubGVuZ3RofSBwcmFjb3duaWvDs3dgKVxyXG5cclxuICAgICAgaWYgKGVtcGxveWVlSWRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybiB7IHRvdGFsUGhvbmVDYWxsczogMCwgdG90YWxQaG9uZUNhbGxzVG9kYXk6IDAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpZSBrbGlrbmnEmWNpYSB0ZWxlZm9udSB6IGFjdGl2aXR5X2xvZ3MgdHlsa28gZGxhIHByYWNvd25pa8Ozd1xyXG4gICAgICBjb25zdCB7IGRhdGE6IGFsbFBob25lQ2xpY2tzLCBlcnJvcjogYWxsQ2xpY2tzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBjaGFuZ2VkX2J5LCB0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcclxuICAgICAgICAuaW4oJ2NoYW5nZWRfYnknLCBlbXBsb3llZUlkcylcclxuXHJcbiAgICAgIGlmIChhbGxDbGlja3NFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGlrbmnEmcSHIHRlbGVmb251OicsIGFsbENsaWNrc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGFsbENsaWNrc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRvdGFsUGhvbmVDYWxscyA9IGFsbFBob25lQ2xpY2tzPy5sZW5ndGggfHwgMFxyXG5cclxuICAgICAgLy8gUG9iaWVyeiBkemlzaWVqc3plIGtsaWtuacSZY2lhIHRlbGVmb251XHJcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gWVlZWS1NTS1ERFxyXG4gICAgICBjb25zdCB7IGRhdGE6IHRvZGF5UGhvbmVDbGlja3MsIGVycm9yOiB0b2RheUNsaWNrc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCwgY2hhbmdlZF9ieSwgdGltZXN0YW1wJylcclxuICAgICAgICAuZXEoJ2ZpZWxkX2NoYW5nZWQnLCAnbGFzdF9waG9uZV9jbGljaycpXHJcbiAgICAgICAgLmluKCdjaGFuZ2VkX2J5JywgZW1wbG95ZWVJZHMpXHJcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgYCR7dG9kYXl9VDAwOjAwOjAwYClcclxuICAgICAgICAubHQoJ3RpbWVzdGFtcCcsIGAke3RvZGF5fVQyMzo1OTo1OWApXHJcblxyXG4gICAgICBpZiAodG9kYXlDbGlja3NFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBkemlzaWVqc3p5Y2gga2xpa25pxJnEhyB0ZWxlZm9udTonLCB0b2RheUNsaWNrc0Vycm9yKVxyXG4gICAgICAgIHRocm93IHRvZGF5Q2xpY2tzRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgdG90YWxQaG9uZUNhbGxzVG9kYXkgPSB0b2RheVBob25lQ2xpY2tzPy5sZW5ndGggfHwgMFxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBTdGF0eXN0eWtpIGtsaWtuacSZxIcgdGVsZWZvbnU6IMWCxIVjem5pZSAke3RvdGFsUGhvbmVDYWxsc30sIGR6acWbICR7dG90YWxQaG9uZUNhbGxzVG9kYXl9YClcclxuICAgICAgXHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdG90YWxQaG9uZUNhbGxzLFxyXG4gICAgICAgIHRvdGFsUGhvbmVDYWxsc1RvZGF5XHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgZXJyb3IpXHJcbiAgICAgIC8vIFcgcHJ6eXBhZGt1IGLFgsSZZHUgendyw7PEhyB6ZXJvd2Ugc3RhdHlzdHlraVxyXG4gICAgICByZXR1cm4geyB0b3RhbFBob25lQ2FsbHM6IDAsIHRvdGFsUGhvbmVDYWxsc1RvZGF5OiAwIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBQb2JpZXJ6IGRhbmUgdHJlbmTDs3cgd3lkYWpub8WbY2kgemVzcG/FgnUgeiBvc3RhdG5pY2ggNyBkbmlcclxuICBhc3luYyBnZXRUZWFtUGVyZm9ybWFuY2VUcmVuZHModXNlcjogVXNlcik6IFByb21pc2U8QXJyYXk8eyBkYXk6IHN0cmluZywgdGVsZWZvbnk6IG51bWJlciwga29ud2Vyc2phOiBudW1iZXIsIGtsaWVuY2k6IG51bWJlciB9Pj4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSB0cmVuZMOzdyB3eWRham5vxZtjaSB6ZXNwb8WCdSB6IG9zdGF0bmljaCA3IGRuaS4uLicpXHJcbiAgICAgIFxyXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2ggcHJhY293bmlrw7N3XHJcbiAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogZW1wbG95ZWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAuc2VsZWN0KCdpZCcpXHJcbiAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXHJcblxyXG4gICAgICBpZiAoZW1wbG95ZWVzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVtcGxveWVlc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGVtcGxveWVlc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGVtcGxveWVlSWRzID0gKGVtcGxveWVlcyB8fCBbXSkubWFwKGVtcCA9PiBlbXAuaWQpXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GlIFpuYWxlemlvbm8gJHtlbXBsb3llZUlkcy5sZW5ndGh9IHByYWNvd25pa8Ozd2ApXHJcblxyXG4gICAgICBpZiAoZW1wbG95ZWVJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgLy8gWndyw7PEhyBwdXN0ZSBkYW5lIGRsYSBvc3RhdG5pY2ggNyBkbmlcclxuICAgICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgICByZXN1bHQucHVzaCh7XHJcbiAgICAgICAgICAgIGRheTogZGF5TmFtZSxcclxuICAgICAgICAgICAgdGVsZWZvbnk6IDAsXHJcbiAgICAgICAgICAgIGtvbndlcnNqYTogMCxcclxuICAgICAgICAgICAga2xpZW5jaTogMFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQb2JpZXJ6IGRhbmUgeiBvc3RhdG5pY2ggNyBkbmlcclxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICBzdGFydERhdGUuc2V0RGF0ZShlbmREYXRlLmdldERhdGUoKSAtIDYpIC8vIDcgZG5pIHdzdGVjeiAod8WCxIVjem5pZSB6IGR6aXNpYWopXHJcbiAgICAgIFxyXG4gICAgICAvLyAxLiBQb2JpZXJ6IGtsaWtuacSZY2lhIHRlbGVmb251IHogYWN0aXZpdHlfbG9ncyAodHlsa28gcHJhY293bmljeSlcclxuICAgICAgY29uc3QgeyBkYXRhOiBwaG9uZUNsaWNrcywgZXJyb3I6IHBob25lRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2NoYW5nZWRfYnksIHRpbWVzdGFtcCcpXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5pbignY2hhbmdlZF9ieScsIGVtcGxveWVlSWRzKVxyXG4gICAgICAgIC5ndGUoJ3RpbWVzdGFtcCcsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXHJcbiAgICAgICAgLmx0ZSgndGltZXN0YW1wJywgZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gKyAnVDIzOjU5OjU5JylcclxuXHJcbiAgICAgIGlmIChwaG9uZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgcGhvbmVFcnJvcilcclxuICAgICAgICB0aHJvdyBwaG9uZUVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIDIuIFBvYmllcnogem1pYW55IGtsaWVudMOzdyB6IG9zdGF0bmljaCA3IGRuaSAodHlsa28gcHJ6ZXogcHJhY293bmlrw7N3KVxyXG4gICAgICBjb25zdCB7IGRhdGE6IGNsaWVudENoYW5nZXMsIGVycm9yOiBjaGFuZ2VzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ3VwZGF0ZWRfYXQsIHN0YXR1cywgZWRpdGVkX2J5JylcclxuICAgICAgICAuaW4oJ2VkaXRlZF9ieScsIGVtcGxveWVlSWRzKVxyXG4gICAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxyXG4gICAgICAgIC5sdGUoJ3VwZGF0ZWRfYXQnLCBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSArICdUMjM6NTk6NTknKVxyXG4gICAgICAgIC5vcmRlcigndXBkYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXHJcblxyXG4gICAgICBpZiAoY2hhbmdlc0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHptaWFuIGtsaWVudMOzdzonLCBjaGFuZ2VzRXJyb3IpXHJcbiAgICAgICAgdGhyb3cgY2hhbmdlc0Vycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyAke3Bob25lQ2xpY2tzPy5sZW5ndGggfHwgMH0ga2xpa25pxJnEhyB0ZWxlZm9udSBpICR7Y2xpZW50Q2hhbmdlcz8ubGVuZ3RoIHx8IDB9IHptaWFuIGtsaWVudMOzd2ApXHJcblxyXG4gICAgICAvLyBTdHfDs3J6IG1hcMSZIGRsYSBkbmkgdHlnb2RuaWFcclxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxyXG4gICAgICBjb25zdCB0cmVuZHNEYXRhOiBSZWNvcmQ8c3RyaW5nLCB7IHRlbGVmb255OiBudW1iZXIsIGtsaWVuY2k6IG51bWJlciwgc2FsZXM6IG51bWJlciB9PiA9IHt9XHJcblxyXG4gICAgICAvLyBJbmljamFsaXp1aiBvc3RhdG5pZSA3IGRuaVxyXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxyXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXHJcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXHJcbiAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXSA9IHsgdGVsZWZvbnk6IDAsIGtsaWVuY2k6IDAsIHNhbGVzOiAwIH1cclxuICAgICAgfVxyXG5cclxuICAgICAgICAgICAgIC8vIEdydXB1aiBrbGlrbmnEmWNpYSB0ZWxlZm9udSB3ZWTFgnVnIGRuaVxyXG4gICAgICAgaWYgKHBob25lQ2xpY2tzICYmIEFycmF5LmlzQXJyYXkocGhvbmVDbGlja3MpKSB7XHJcbiAgICAgICAgIHBob25lQ2xpY2tzLmZvckVhY2goKGNsaWNrOiBhbnkpID0+IHtcclxuICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoY2xpY2sudGltZXN0YW1wKVxyXG4gICAgICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgICAgIGlmICh0cmVuZHNEYXRhW2RheU5hbWVdKSB7XHJcbiAgICAgICAgICAgICB0cmVuZHNEYXRhW2RheU5hbWVdLnRlbGVmb255KytcclxuICAgICAgICAgICB9XHJcbiAgICAgICAgIH0pXHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gR3J1cHVqIHptaWFueSBrbGllbnTDs3cgd2VkxYJ1ZyBkbmlcclxuICAgICAgIGlmIChjbGllbnRDaGFuZ2VzICYmIEFycmF5LmlzQXJyYXkoY2xpZW50Q2hhbmdlcykpIHtcclxuICAgICAgICAgY2xpZW50Q2hhbmdlcy5mb3JFYWNoKChjaGFuZ2U6IGFueSkgPT4ge1xyXG4gICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjaGFuZ2UudXBkYXRlZF9hdClcclxuICAgICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICAgICBpZiAodHJlbmRzRGF0YVtkYXlOYW1lXSkge1xyXG4gICAgICAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXS5rbGllbmNpKytcclxuICAgICAgICAgICAgIGlmIChjaGFuZ2Uuc3RhdHVzID09PSAnc2FsZScpIHtcclxuICAgICAgICAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXS5zYWxlcysrXHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgICB9KVxyXG4gICAgICAgfVxyXG5cclxuICAgICAgLy8gUHJ6ZWtzenRhxYLEhyBuYSBmb3JtYXQgZGxhIHd5a3Jlc3UgKG9zdGF0bmllIDcgZG5pIHcga29sZWpub8WbY2kpXHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXHJcbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXHJcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcclxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cclxuICAgICAgICBjb25zdCBkYXlEYXRhID0gdHJlbmRzRGF0YVtkYXlOYW1lXVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE9ibGljeiBrb253ZXJzasSZIChwcm9jZW50IHNhbGVzIHd6Z2zEmWRlbSB3c3p5c3RraWNoIGtsaWVudMOzdylcclxuICAgICAgICBjb25zdCBrb253ZXJzamEgPSBkYXlEYXRhLmtsaWVuY2kgPiAwID8gTWF0aC5yb3VuZCgoZGF5RGF0YS5zYWxlcyAvIGRheURhdGEua2xpZW5jaSkgKiAxMDApIDogMFxyXG4gICAgICAgIFxyXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgIGRheTogZGF5TmFtZSxcclxuICAgICAgICAgIHRlbGVmb255OiBkYXlEYXRhLnRlbGVmb255LFxyXG4gICAgICAgICAga29ud2Vyc2phOiBrb253ZXJzamEsXHJcbiAgICAgICAgICBrbGllbmNpOiBkYXlEYXRhLmtsaWVuY2lcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRyZW5keSB3eWRham5vxZtjaSB6ZXNwb8WCdSBwcnp5Z290b3dhbmU6JywgcmVzdWx0KVxyXG4gICAgICByZXR1cm4gcmVzdWx0XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHRyZW5kw7N3IHd5ZGFqbm/Fm2NpIHplc3BvxYJ1OicsIGVycm9yKVxyXG4gICAgICAvLyBXIHByenlwYWRrdSBixYLEmWR1IHp3csOzxIcgcHVzdGUgZGFuZSBkbGEgb3N0YXRuaWNoIDcgZG5pXHJcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cclxuICAgICAgY29uc3QgcmVzdWx0ID0gW11cclxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxyXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxyXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcclxuICAgICAgICAgIGRheTogZGF5TmFtZSxcclxuICAgICAgICAgIHRlbGVmb255OiAwLFxyXG4gICAgICAgICAga29ud2Vyc2phOiAwLFxyXG4gICAgICAgICAga2xpZW5jaTogMFxyXG4gICAgICAgIH0pXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIEFQSSBkbGEgc3RhdHlzdHlrIG9zb2Jpc3R5Y2ggcHJhY293bmlrYVxyXG4gIGFzeW5jIGdldE15UGVyc29uYWxTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTx7XHJcbiAgICBwaG9uZUNhbGxzVGhpc01vbnRoOiBudW1iZXIsXHJcbiAgICBjbGllbnRTdGF0czogeyBzdGF0dXM6IHN0cmluZywgY291bnQ6IG51bWJlciwgY29sb3I6IHN0cmluZyB9W10sXHJcbiAgICB0b3RhbENsaWVudHM6IG51bWJlcixcclxuICAgIGNvbW1pc3Npb25Ub3RhbDogbnVtYmVyLFxyXG4gICAgd29ya2luZ0hvdXJzVGhpc01vbnRoOiB7IGRheTogc3RyaW5nLCBob3VyczogbnVtYmVyIH1bXSxcclxuICAgIHRvdGFsV29ya2luZ0hvdXJzOiBudW1iZXIsXHJcbiAgICB0b3RhbFdvcmtpbmdEYXlzOiBudW1iZXJcclxuICB9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIG9zb2Jpc3R5Y2ggc3RhdHlzdHlrIHByYWNvd25pa2E6JywgdXNlci5pZCwgdXNlci5yb2xlKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIHRvIHByYWNvd25pa1xyXG4gICAgICBpZiAodXNlci5yb2xlICE9PSAncHJhY293bmlrJykge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWVhdXRvcnl6b3dhbmEgcm9sYTonLCB1c2VyLnJvbGUpXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEb3N0xJlwIHR5bGtvIGRsYSBwcmFjb3duaWvDs3cnKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFXFvHl0a293bmlrIGF1dG9yeXpvd2FueSBqYWtvIHByYWNvd25paycpXHJcblxyXG4gICAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCA3KSAvLyBZWVlZLU1NXHJcbiAgICAgIFxyXG4gICAgICAvLyBVc3RhdyBwaWVyd3N6eSBpIG9zdGF0bmkgZHppZcWEIG1pZXNpxIVjYSBwcmF3aWTFgm93b1xyXG4gICAgICBjb25zdCBzdGFydE9mTW9udGggPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpLCAxKVxyXG4gICAgICBjb25zdCBlbmRPZk1vbnRoID0gbmV3IERhdGUoY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKSwgY3VycmVudERhdGUuZ2V0TW9udGgoKSArIDEsIDAsIDIzLCA1OSwgNTkpXHJcbiAgICAgIFxyXG4gICAgICAvLyAxLiBQb2JpZXJ6IGxpY3pixJkgdGVsZWZvbsOzdyB3IHR5bSBtaWVzacSFY3UgKGtsaWtuacSZY2lhIHRlbGVmb251KVxyXG4gICAgICBjb25zdCB7IGRhdGE6IHBob25lQ2xpY2tzLCBlcnJvcjogcGhvbmVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIHRpbWVzdGFtcCcpXHJcbiAgICAgICAgLmVxKCdjaGFuZ2VkX2J5JywgdXNlci5pZClcclxuICAgICAgICAuZXEoJ2ZpZWxkX2NoYW5nZWQnLCAnbGFzdF9waG9uZV9jbGljaycpXHJcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgc3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCkpXHJcbiAgICAgICAgLmx0ZSgndGltZXN0YW1wJywgZW5kT2ZNb250aC50b0lTT1N0cmluZygpKVxyXG5cclxuICAgICAgaWYgKHBob25lRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpa25pxJnEhyB0ZWxlZm9udTonLCBwaG9uZUVycm9yKVxyXG4gICAgICAgIHRocm93IHBob25lRXJyb3JcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgcGhvbmVDYWxsc1RoaXNNb250aCA9IHBob25lQ2xpY2tzPy5sZW5ndGggfHwgMFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TniBabmFsZXppb25vICR7cGhvbmVDYWxsc1RoaXNNb250aH0ga2xpa25pxJnEhyB0ZWxlZm9udSB3IHR5bSBtaWVzacSFY3VgKVxyXG5cclxuICAgICAgLy8gMi4gUG9iaWVyeiBrbGllbnTDs3cgcHJ6eXBpc2FueWNoIGRvIHByYWNvd25pa2FcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgUG9iaWVyYW5pZSBrbGllbnTDs3cgcHJ6eXBpc2FueWNoIGRvIHByYWNvd25pa2EuLi4nKVxyXG4gICAgICBjb25zdCB7IGRhdGE6IG15Q2xpZW50cywgZXJyb3I6IGNsaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIHN0YXR1cywgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBjb21wYW55X25hbWUnKVxyXG4gICAgICAgIC5lcSgnb3duZXJfaWQnLCB1c2VyLmlkKVxyXG5cclxuICAgICAgaWYgKGNsaWVudHNFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3c6JywgY2xpZW50c0Vycm9yKVxyXG4gICAgICAgIHRocm93IGNsaWVudHNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBjbGllbnRzID0gbXlDbGllbnRzIHx8IFtdXHJcbiAgICAgIGNvbnN0IHRvdGFsQ2xpZW50cyA9IGNsaWVudHMubGVuZ3RoXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFByYWNvd25payBtYSAke3RvdGFsQ2xpZW50c30gcHJ6eXBpc2FueWNoIGtsaWVudMOzd2ApXHJcblxyXG4gICAgICAvLyAzLiBBZ3JlZ3VqIHN0YXR1c3kga2xpZW50w7N3XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIEFncmVnb3dhbmllIHN0YXR1c8OzdyBrbGllbnTDs3cuLi4nKVxyXG4gICAgICBjb25zdCBzdGF0dXNNYXAgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXHJcbiAgICAgIGNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xyXG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IGNsaWVudC5zdGF0dXNcclxuICAgICAgICBzdGF0dXNNYXAuc2V0KHN0YXR1cywgKHN0YXR1c01hcC5nZXQoc3RhdHVzKSB8fCAwKSArIDEpXHJcbiAgICAgIH0pXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OIIFN0YXR1c3kga2xpZW50w7N3OicsIE9iamVjdC5mcm9tRW50cmllcyhzdGF0dXNNYXApKVxyXG5cclxuICAgICAgLy8gTWFwdWogc3RhdHVzeSBuYSBrb2xvcnlcclxuICAgICAgY29uc3Qgc3RhdHVzQ29sb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xyXG4gICAgICAgIGNhbnZhczogJyMwNmI2ZDQnLFxyXG4gICAgICAgIHNhbGU6ICcjMTBiOTgxJyxcclxuICAgICAgICBhbnR5c2FsZTogJyNmNTllMGInLFxyXG4gICAgICAgIGJyYWtfa29udGFrdHU6ICcjNmI3MjgwJyxcclxuICAgICAgICBuaWVfemFpbnRlcmVzb3dhbnk6ICcjZWY0NDQ0JyxcclxuICAgICAgICB6ZGVuZXJ3b3dhbnk6ICcjZGMyNjI2JyxcclxuICAgICAgICAnJCQnOiAnI2ZiYmYyNCdcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3QgY2xpZW50U3RhdHMgPSBBcnJheS5mcm9tKHN0YXR1c01hcC5lbnRyaWVzKCkpLm1hcCgoW3N0YXR1cywgY291bnRdKSA9PiAoe1xyXG4gICAgICAgIHN0YXR1cyxcclxuICAgICAgICBjb3VudCxcclxuICAgICAgICBjb2xvcjogc3RhdHVzQ29sb3JzW3N0YXR1c10gfHwgJyM2NDc0OGInXHJcbiAgICAgIH0pKVxyXG5cclxuICAgICAgLy8gNC4gT2JsaWN6IHByb3dpemrEmSAodHlsa28gemEga2xpZW50w7N3IHplIHN0YXR1c2VtICdzYWxlJylcclxuICAgICAgY29uc3Qgc2FsZUNsaWVudHMgPSBzdGF0dXNNYXAuZ2V0KCdzYWxlJykgfHwgMFxyXG4gICAgICBjb25zdCBjb21taXNzaW9uUGVyU2FsZSA9IDIwMCAvLyAyMDAgesWCIHphIGthxbxkZWdvIGtsaWVudGEgc2FsZVxyXG4gICAgICBjb25zdCBjb21taXNzaW9uVG90YWwgPSBzYWxlQ2xpZW50cyAqIGNvbW1pc3Npb25QZXJTYWxlXHJcblxyXG4gICAgICAvLyA1LiBQb2JpZXJ6IGdvZHppbnkgcHJhY3kgeiB0ZWdvIG1pZXNpxIVjYSBuYSBwb2RzdGF3aWUgYWN0aXZpdHlfbG9nc1xyXG4gICAgICBjb25zb2xlLmxvZygn4o+wIFBvYmllcmFuaWUgYWt0eXdub8WbY2kgeiB0ZWdvIG1pZXNpxIVjYS4uLicpXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OFIFpha3JlcyBkYXQ6ICR7c3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9IC0gJHtlbmRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9YClcclxuICAgICAgY29uc3QgeyBkYXRhOiBhY3Rpdml0aWVzLCBlcnJvcjogYWN0aXZpdGllc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KCd0aW1lc3RhbXAnKVxyXG4gICAgICAgIC5lcSgnY2hhbmdlZF9ieScsIHVzZXIuaWQpXHJcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgc3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCkpXHJcbiAgICAgICAgLmx0ZSgndGltZXN0YW1wJywgZW5kT2ZNb250aC50b0lTT1N0cmluZygpKVxyXG4gICAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IHRydWUgfSlcclxuXHJcbiAgICAgIGlmIChhY3Rpdml0aWVzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0eXdub8WbY2k6JywgYWN0aXZpdGllc0Vycm9yKVxyXG4gICAgICAgIHRocm93IGFjdGl2aXRpZXNFcnJvclxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zb2xlLmxvZyhg4o+wIFpuYWxlemlvbm8gJHthY3Rpdml0aWVzPy5sZW5ndGggfHwgMH0gYWt0eXdub8WbY2kgdyB0eW0gbWllc2nEhWN1YClcclxuXHJcbiAgICAgIC8vIEdydXB1aiBha3R5d25vxZtjaSB3ZWTFgnVnIGRuaSBpIG9ibGljeiBnb2R6aW55IHByYWN5XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OFIEdydXBvd2FuaWUgYWt0eXdub8WbY2kgd2VkxYJ1ZyBkbmkuLi4nKVxyXG4gICAgICBjb25zdCBkYWlseUFjdGl2aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgU2V0PG51bWJlcj4+KClcclxuICAgICAgXHJcbiAgICAgIGlmIChhY3Rpdml0aWVzICYmIGFjdGl2aXRpZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGFjdGl2aXRpZXMuZm9yRWFjaChhY3Rpdml0eSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoYWN0aXZpdHkudGltZXN0YW1wKVxyXG4gICAgICAgICAgY29uc3QgZGF5ID0gZGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gWVlZWS1NTS1ERFxyXG4gICAgICAgICAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoIWRhaWx5QWN0aXZpdGllcy5oYXMoZGF5KSkge1xyXG4gICAgICAgICAgICBkYWlseUFjdGl2aXRpZXMuc2V0KGRheSwgbmV3IFNldCgpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgZGFpbHlBY3Rpdml0aWVzLmdldChkYXkpIS5hZGQoaG91cilcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdVxyXG4gICAgICBjb25zdCB3b3JraW5nSG91cnNUaGlzTW9udGggPSBBcnJheS5mcm9tKGRhaWx5QWN0aXZpdGllcy5lbnRyaWVzKCkpXHJcbiAgICAgICAgLm1hcCgoW2RheSwgaG91cnNdKSA9PiAoe1xyXG4gICAgICAgICAgZGF5OiBuZXcgRGF0ZShkYXkpLnRvTG9jYWxlRGF0ZVN0cmluZygncGwtUEwnLCB7IHdlZWtkYXk6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pLFxyXG4gICAgICAgICAgaG91cnM6IGhvdXJzLnNpemUsXHJcbiAgICAgICAgICBzb3J0RGF0ZTogbmV3IERhdGUoZGF5KSAvLyBEb2RhaiBwb2xlIGRvIHNvcnRvd2FuaWFcclxuICAgICAgICB9KSlcclxuICAgICAgICAuc29ydCgoYSwgYikgPT4gYS5zb3J0RGF0ZS5nZXRUaW1lKCkgLSBiLnNvcnREYXRlLmdldFRpbWUoKSlcclxuICAgICAgICAubWFwKCh7IGRheSwgaG91cnMgfSkgPT4gKHsgZGF5LCBob3VycyB9KSkgLy8gVXN1xYQgcG9sZSBzb3J0RGF0ZSB6IHd5bmlrb3d5Y2ggZGFueWNoXHJcblxyXG4gICAgICBjb25zdCB0b3RhbFdvcmtpbmdIb3VycyA9IEFycmF5LmZyb20oZGFpbHlBY3Rpdml0aWVzLnZhbHVlcygpKVxyXG4gICAgICAgIC5yZWR1Y2UoKHN1bSwgaG91cnMpID0+IHN1bSArIGhvdXJzLnNpemUsIDApXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB0b3RhbFdvcmtpbmdEYXlzID0gZGFpbHlBY3Rpdml0aWVzLnNpemVcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHlzdHlraSBvc29iaXN0ZSBwcnp5Z290b3dhbmU6Jywge1xyXG4gICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGgsXHJcbiAgICAgICAgdG90YWxDbGllbnRzLFxyXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcclxuICAgICAgICB0b3RhbFdvcmtpbmdIb3VycyxcclxuICAgICAgICB0b3RhbFdvcmtpbmdEYXlzXHJcbiAgICAgIH0pXHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGgsXHJcbiAgICAgICAgY2xpZW50U3RhdHMsXHJcbiAgICAgICAgdG90YWxDbGllbnRzLFxyXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcclxuICAgICAgICB3b3JraW5nSG91cnNUaGlzTW9udGgsXHJcbiAgICAgICAgdG90YWxXb3JraW5nSG91cnMsXHJcbiAgICAgICAgdG90YWxXb3JraW5nRGF5c1xyXG4gICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIG9zb2Jpc3R5Y2ggc3RhdHlzdHlrOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gU3pjemVnw7PFgm93ZSBpbmZvcm1hY2plIG8gYsWCxJlkemllXHJcbiAgICAgIGlmIChlcnJvciAmJiB0eXBlb2YgZXJyb3IgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign8J+TiyBTemN6ZWfDs8WCeSBixYLEmWR1OicsIHtcclxuICAgICAgICAgIG1lc3NhZ2U6IChlcnJvciBhcyBhbnkpLm1lc3NhZ2UsXHJcbiAgICAgICAgICBjb2RlOiAoZXJyb3IgYXMgYW55KS5jb2RlLFxyXG4gICAgICAgICAgZGV0YWlsczogKGVycm9yIGFzIGFueSkuZGV0YWlscyxcclxuICAgICAgICAgIGhpbnQ6IChlcnJvciBhcyBhbnkpLmhpbnQsXHJcbiAgICAgICAgICBzdGFjazogKGVycm9yIGFzIGFueSkuc3RhY2tcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBKZcWbbGkgdG8gYsWCxIVkIFJMUyBsdWIgdXByYXduaWXFhCwgendyw7PEhyBwdXN0xIUgc3RydWt0dXLEmSB6YW1pYXN0IGNyYXNob3dhxIdcclxuICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgXHJcbiAgICAgICAgICAoKGVycm9yIGFzIGFueSkuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBcclxuICAgICAgICAgICAoZXJyb3IgYXMgYW55KS5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgXHJcbiAgICAgICAgICAgKGVycm9yIGFzIGFueSkubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkpIHtcclxuICAgICAgICBjb25zb2xlLndhcm4oJ/CflJIgUHJvYmxlbSB6IHVwcmF3bmllbmlhbWkgLSB6d3JhY2FtIGRvbXnFm2xuZSBkYW5lJylcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgcGhvbmVDYWxsc1RoaXNNb250aDogMCxcclxuICAgICAgICAgIGNsaWVudFN0YXRzOiBbXSxcclxuICAgICAgICAgIHRvdGFsQ2xpZW50czogMCxcclxuICAgICAgICAgIGNvbW1pc3Npb25Ub3RhbDogMCxcclxuICAgICAgICAgIHdvcmtpbmdIb3Vyc1RoaXNNb250aDogW10sXHJcbiAgICAgICAgICB0b3RhbFdvcmtpbmdIb3VyczogMCxcclxuICAgICAgICAgIHRvdGFsV29ya2luZ0RheXM6IDBcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gRnVua2NqZSBkbyB6YXJ6xIVkemFuaWEgZ29kemluYW1pIHByYWN5IHByYWNvd25pa2FcclxuICBhc3luYyBzYXZlV29ya2luZ0hvdXJzKHVzZXI6IFVzZXIsIGRhdGU6IHN0cmluZywgaG91cnM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coYOKPsCBaYXBpc3l3YW5pZSBnb2R6aW4gcHJhY3k6ICR7aG91cnN9aCBkbGEgZG5pYSAke2RhdGV9YClcclxuICAgICAgXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payB0byBwcmFjb3duaWtcclxuICAgICAgaWYgKHVzZXIucm9sZSAhPT0gJ3ByYWNvd25paycpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB0byBkemllxYQgcm9ib2N6eSAocG9uLXB0KSAtIGJlenBpZWN6bmUgcGFyc293YW5pZSBkYXR5XHJcbiAgICAgIGNvbnN0IGRhdGVQYXJ0cyA9IGRhdGUuc3BsaXQoJy0nKSAvLyBcIjIwMjUtMDYtMDJcIiAtPiBbXCIyMDI1XCIsIFwiMDZcIiwgXCIwMlwiXVxyXG4gICAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQoZGF0ZVBhcnRzWzBdKVxyXG4gICAgICBjb25zdCBtb250aCA9IHBhcnNlSW50KGRhdGVQYXJ0c1sxXSkgLSAxIC8vIC0xIGJvIEphdmFTY3JpcHQgdcW8eXdhIDAtMTEgZGxhIG1pZXNpxJljeVxyXG4gICAgICBjb25zdCBkYXkgPSBwYXJzZUludChkYXRlUGFydHNbMl0pXHJcbiAgICAgIGNvbnN0IGRheU9mV2VlayA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXkpLmdldERheSgpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg8J+Xk++4jyBTcHJhd2R6YW5pZSBkbmlhIHJvYm9jemVnbzogJHtkYXRlfSA9PiBkYXlPZldlZWs9JHtkYXlPZldlZWt9ICgke1snbmllJywgJ3BvbicsICd3dCcsICfFm3InLCAnY3p3JywgJ3B0JywgJ3NvYiddW2RheU9mV2Vla119KWApXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF5T2ZXZWVrID09PSAwIHx8IGRheU9mV2VlayA9PT0gNikgeyAvLyAwID0gbmllZHppZWxhLCA2ID0gc29ib3RhXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb8W8bmEgd3Bpc3l3YcSHIGdvZHppbnkgdHlsa28gZGxhIGRuaSByb2JvY3p5Y2ggKHBvbi1wdCknKVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBXYWxpZGFjamEgZ29kemluICgwLTEyKVxyXG4gICAgICBpZiAoaG91cnMgPCAwIHx8IGhvdXJzID4gMTIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0xpY3piYSBnb2R6aW4gbXVzaSBiecSHIG1pxJlkenkgMCBhIDEyJylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gVXBzZXJ0IGdvZHppbiBwcmFjeSB3IGJhemllIGRhbnljaCAodGFiZWxhIGp1xbwgaXN0bmllamUpXHJcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ3dvcmtpbmdfaG91cnMnKVxyXG4gICAgICAgIC51cHNlcnQoe1xyXG4gICAgICAgICAgdXNlcl9pZDogdXNlci5pZCxcclxuICAgICAgICAgIHdvcmtfZGF0ZTogZGF0ZSxcclxuICAgICAgICAgIGhvdXJzX3dvcmtlZDogaG91cnMsXHJcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICBvbkNvbmZsaWN0OiAndXNlcl9pZCx3b3JrX2RhdGUnXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgemFwaXN5d2FuaWEgZ29kemluIHByYWN5IGRvIGJhenk6JywgZXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgZG8gbG9jYWxTdG9yYWdlIHR5bGtvIHByenkgYsWCxJlkemllIGJhenkgZGFueWNoXHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIGJhenkgZGFueWNoIC0gdcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBmYWxsYmFjaycpXHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KSB8fCAne30nKVxyXG4gICAgICAgIGV4aXN0aW5nRGF0YVtkYXRlXSA9IGhvdXJzXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdEYXRhKSlcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFphcGlzYW5vICR7aG91cnN9aCBkbGEgZG5pYSAke2RhdGV9IChsb2NhbFN0b3JhZ2UgZmFsbGJhY2spYClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBaYXBpc2FubyAke2hvdXJzfWggZGxhIGRuaWEgJHtkYXRlfSAoYmF6YSBkYW55Y2ggd29ya2luZ19ob3VycylgKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IHNhdmVXb3JraW5nSG91cnM6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBVbHRpbWF0ZSBmYWxsYmFjayAtIGxvY2FsU3RvcmFnZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFXFvHl3YW0gbG9jYWxTdG9yYWdlIGpha28gb3N0YXRlY3pueSBmYWxsYmFjaycpXHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdEYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KSB8fCAne30nKVxyXG4gICAgICAgIGV4aXN0aW5nRGF0YVtkYXRlXSA9IGhvdXJzXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oc3RvcmFnZUtleSwgSlNPTi5zdHJpbmdpZnkoZXhpc3RpbmdEYXRhKSlcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFphcGlzYW5vICR7aG91cnN9aCBkbGEgZG5pYSAke2RhdGV9IChsb2NhbFN0b3JhZ2UgdWx0aW1hdGUgZmFsbGJhY2spYClcclxuICAgICAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSB1ZGHFgm8gc2nEmSB6YXBpc2HEhyBuYXdldCBkbyBsb2NhbFN0b3JhZ2U6Jywgc3RvcmFnZUVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG5cclxuICBhc3luYyBnZXRXb3JraW5nSG91cnNGb3JNb250aCh1c2VyOiBVc2VyLCB5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpOiBQcm9taXNlPFJlY29yZDxzdHJpbmcsIG51bWJlcj4+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDij7AgUG9iaWVyYW5pZSBnb2R6aW4gcHJhY3kgZGxhICR7eWVhcn0tJHttb250aH1gKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIHRvIHByYWNvd25pa1xyXG4gICAgICBpZiAodXNlci5yb2xlICE9PSAncHJhY293bmlrJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRG9zdMSZcCB0eWxrbyBkbGEgcHJhY293bmlrw7N3JylcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gT2JsaWN6IHBpZXJ3c3p5IGkgb3N0YXRuaSBkemllxYQgbWllc2nEhWNhIChwb3ByYXdrYSBzdHJlZnkgY3phc293ZWopXHJcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0wMWBcclxuICAgICAgY29uc3QgZW5kRGF0ZSA9IGAke3llYXJ9LSR7bW9udGgudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfS0ke25ldyBEYXRlKHllYXIsIG1vbnRoLCAwKS5nZXREYXRlKCkudG9TdHJpbmcoKS5wYWRTdGFydCgyLCAnMCcpfWBcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OFIFBvYmllcmFuaWUgZ29kemluIGRsYSB6YWtyZXN1OiAke3N0YXJ0RGF0ZX0gLSAke2VuZERhdGV9YClcclxuXHJcbiAgICAgIC8vIFBvYmllcnogZ29kemlueSBwcmFjeSB6IHRhYmVsaSB3b3JraW5nX2hvdXJzICh0YWJlbGEganXFvCBpc3RuaWVqZSlcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnd29ya2luZ19ob3VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnd29ya19kYXRlLCBob3Vyc193b3JrZWQnKVxyXG4gICAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXHJcbiAgICAgICAgLmd0ZSgnd29ya19kYXRlJywgc3RhcnREYXRlKVxyXG4gICAgICAgIC5sdGUoJ3dvcmtfZGF0ZScsIGVuZERhdGUpXHJcblxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgZ29kemluIHByYWN5IHogYmF6eTonLCBlcnJvcilcclxuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgYmF6eSBkYW55Y2ggLSB1xbx5d2FtIGxvY2FsU3RvcmFnZSBqYWtvIGZhbGxiYWNrJylcclxuICAgICAgICBcclxuICAgICAgICAvLyBGYWxsYmFjayBkbyBsb2NhbFN0b3JhZ2UgdHlsa28gcHJ6eSBixYLEmWR6aWUgYmF6eSBkYW55Y2hcclxuICAgICAgICBjb25zdCBzdG9yYWdlS2V5ID0gYHdvcmtpbmdfaG91cnNfJHt1c2VyLmlkfWBcclxuICAgICAgICBjb25zdCBzdG9yZWREYXRhID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzdG9yYWdlS2V5KSB8fCAne30nKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZpbHRydWogZGFuZSBkbGEgb2Rwb3dpZWRuaWVnbyBtaWVzacSFY2FcclxuICAgICAgICBjb25zdCBob3Vyc01hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XHJcbiAgICAgICAgT2JqZWN0LmVudHJpZXMoc3RvcmVkRGF0YSkuZm9yRWFjaCgoW2RhdGUsIGhvdXJzXSkgPT4ge1xyXG4gICAgICAgICAgLy8gVcW8eWogcG9yw7N3bmFuaWEgc3RyaW5nw7N3IGRsYSBkYXQgdyBmb3JtYWNpZSBZWVlZLU1NLUREXHJcbiAgICAgICAgICBpZiAoZGF0ZSA+PSBzdGFydERhdGUgJiYgZGF0ZSA8PSBlbmREYXRlKSB7XHJcbiAgICAgICAgICAgIGhvdXJzTWFwW2RhdGVdID0gaG91cnMgYXMgbnVtYmVyXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gZ29kemlueSBwcmFjeSB6IGxvY2FsU3RvcmFnZSBmYWxsYmFjayBkbGEgJHtPYmplY3Qua2V5cyhob3Vyc01hcCkubGVuZ3RofSBkbmlgKVxyXG4gICAgICAgIHJldHVybiBob3Vyc01hcFxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBLb253ZXJ0dWogbmEgb2JpZWt0IGRhdGUgLT4gaG91cnNcclxuICAgICAgY29uc3QgaG91cnNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxyXG4gICAgICBpZiAoZGF0YSkge1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaChlbnRyeSA9PiB7XHJcbiAgICAgICAgICBob3Vyc01hcFtlbnRyeS53b3JrX2RhdGVdID0gZW50cnkuaG91cnNfd29ya2VkXHJcbiAgICAgICAgfSlcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vIGdvZHppbnkgcHJhY3kgeiB0YWJlbGkgd29ya2luZ19ob3VycyBkbGEgJHtkYXRhPy5sZW5ndGggfHwgMH0gZG5pYClcclxuICAgICAgcmV0dXJuIGhvdXJzTWFwXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgZ2V0V29ya2luZ0hvdXJzRm9yTW9udGg6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBVbHRpbWF0ZSBmYWxsYmFjayAtIGxvY2FsU3RvcmFnZVxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFXFvHl3YW0gbG9jYWxTdG9yYWdlIGpha28gb3N0YXRlY3pueSBmYWxsYmFjaycpXHJcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXHJcbiAgICAgICAgY29uc3Qgc3RvcmVkRGF0YSA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oc3RvcmFnZUtleSkgfHwgJ3t9JylcclxuICAgICAgICBcclxuICAgICAgICAvLyBGaWx0cnVqIGRhbmUgZGxhIG9kcG93aWVkbmllZ28gbWllc2nEhWNhXHJcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlU3RyID0gYCR7eWVhcn0tJHttb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LTAxYFxyXG4gICAgICAgIGNvbnN0IGVuZERhdGVTdHIgPSBgJHt5ZWFyfS0ke21vbnRoLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX0tJHtuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gXHJcbiAgICAgICAgY29uc3QgaG91cnNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxyXG4gICAgICAgIFxyXG4gICAgICAgIE9iamVjdC5lbnRyaWVzKHN0b3JlZERhdGEpLmZvckVhY2goKFtkYXRlLCBob3Vyc10pID0+IHtcclxuICAgICAgICAgIC8vIFXFvHlqIHBvcsOzd25hbmlhIHN0cmluZ8OzdyBkbGEgZGF0IHcgZm9ybWFjaWUgWVlZWS1NTS1ERFxyXG4gICAgICAgICAgaWYgKGRhdGUgPj0gc3RhcnREYXRlU3RyICYmIGRhdGUgPD0gZW5kRGF0ZVN0cikge1xyXG4gICAgICAgICAgICBob3Vyc01hcFtkYXRlXSA9IGhvdXJzIGFzIG51bWJlclxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vIGdvZHppbnkgcHJhY3kgeiBsb2NhbFN0b3JhZ2UgdWx0aW1hdGUgZmFsbGJhY2sgZGxhICR7T2JqZWN0LmtleXMoaG91cnNNYXApLmxlbmd0aH0gZG5pYClcclxuICAgICAgICByZXR1cm4gaG91cnNNYXBcclxuICAgICAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIG5hd2V0IHogbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcilcclxuICAgICAgICByZXR1cm4ge31cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIPCfmoAgTk9XRSBGVU5LQ0pFIFBFUkZPUk1BTkNFIC0gTWF0ZXJpYWxpem93YW5lIFdpZG9raVxyXG5cclxuICAvLyBaYXN0xJlwdWplIGNpxJnFvGtpZSBKT0lOJ3kgLSB0ZXJheiBuYXR5Y2htaWFzdG93ZSDFgmFkb3dhbmllXHJcbiAgYXN5bmMgZ2V0TW9udGhseUVtcGxveWVlUGVyZm9ybWFuY2UoeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+TiiBQb2JpZXJhbmllIHd5ZGFqbm/Fm2NpIHByYWNvd25pa8OzdyBkbGEgJHt5ZWFyfS0ke21vbnRofSAoem9wdHltYWxpem93YW5lKS4uLmApXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9tb250aGx5X2VtcGxveWVlX3BlcmZvcm1hbmNlJywge1xyXG4gICAgICAgIHRhcmdldF95ZWFyOiB5ZWFyLFxyXG4gICAgICAgIHRhcmdldF9tb250aDogbW9udGhcclxuICAgICAgfSlcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB3eWRham5vxZtjaSBwcmFjb3duaWvDs3c6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBXeWRham5vxZvEhyBwcmFjb3duaWvDs3cgcG9icmFuYTogJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVrb3Jkw7N3YClcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRNb250aGx5RW1wbG95ZWVQZXJmb3JtYW5jZSBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3p5YmtpZSBzdGF0eXN0eWtpIHplc3BvxYJ1IG5hIHBvZHN0YXdpZSBtYXRlcmlhbGl6b3dhbnljaCB3aWRva8Ozd1xyXG4gIGFzeW5jIGdldFRlYW1TdW1tYXJ5KHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlcikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgnbXZfbW9udGhseV9lbXBsb3llZV9zdGF0cycpXHJcbiAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgLmVxKCd5ZWFyJywgeWVhcilcclxuICAgICAgICAuZXEoJ21vbnRoJywgbW9udGgpXHJcbiAgICAgICAgLm9yZGVyKCdvd25lZF9zYWxlcycsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRUZWFtU3VtbWFyeSBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUGVyZm9ybWFuY2UgYW5hbHl0aWNzIC0gdG9wIHBlcmZvcm1lcnNcclxuICBhc3luYyBnZXRUb3BQZXJmb3JtZXJzKGxpbWl0OiBudW1iZXIgPSAxMCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfdG9wX3BlcmZvcm1lcnMnLCB7XHJcbiAgICAgICAgbGltaXRfY291bnQ6IGxpbWl0XHJcbiAgICAgIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRvcFBlcmZvcm1lcnMgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gQVBJIGRsYSBsb2thbGl6YWNqaS9rcmFqw7N3XHJcbmV4cG9ydCBjb25zdCBsb2NhdGlvbnNBcGkgPSB7XHJcbiAgLy8gUG9iaWVyeiB3c3p5c3RraWUgbG9rYWxpemFjamUgKHBvZHN0YXdvd2UgaW5mb3JtYWNqZSAtIGRsYSByZWplc3RyYWNqaSlcclxuICBhc3luYyBnZXRBbGxMb2NhdGlvbnMoKTogUHJvbWlzZTxMb2NhdGlvbltdPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdsb2NhdGlvbnMnKVxyXG4gICAgICAgIC5zZWxlY3QoYFxyXG4gICAgICAgICAgaWQsXHJcbiAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgY29kZSxcclxuICAgICAgICAgIGN1cnJlbmN5LFxyXG4gICAgICAgICAgdGltZXpvbmUsXHJcbiAgICAgICAgICByZWdpb24sXHJcbiAgICAgICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICAgICAgdXBkYXRlZF9hdFxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLm9yZGVyKCduYW1lJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBsb2thbGl6YWNqaTonLCBlcnJvcilcclxuICAgICAgICB0aHJvdyBlcnJvclxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gbG9rYWxpemFjamU6JywgZGF0YT8ubGVuZ3RoIHx8IDApXHJcbiAgICAgIHJldHVybiBkYXRhIGFzIExvY2F0aW9uW11cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRBbGxMb2NhdGlvbnMgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogd3N6eXN0a2llIGxva2FsaXphY2plIHogcGXFgm55bWkgaW5mb3JtYWNqYW1pIChkbGEgemFsb2dvd2FueWNoIHXFvHl0a293bmlrw7N3KVxyXG4gIGFzeW5jIGdldEFsbExvY2F0aW9uc1dpdGhNYW5hZ2VycygpOiBQcm9taXNlPExvY2F0aW9uW10+IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsb2NhdGlvbnMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgdGltZXpvbmUsXHJcbiAgICAgICAgcmVnaW9uLFxyXG4gICAgICAgIHByb2plY3RfbWFuYWdlcl9pZCxcclxuICAgICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQsXHJcbiAgICAgICAgcHJvamVjdF9tYW5hZ2VyOnVzZXJzIXByb2plY3RfbWFuYWdlcl9pZCAoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgYXZhdGFyX3VybFxyXG4gICAgICAgIClcclxuICAgICAgYClcclxuICAgICAgLm9yZGVyKCduYW1lJylcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgXHJcbiAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgLSBTdXBhYmFzZSBKT0lOIHp3cmFjYSBwcm9qZWN0X21hbmFnZXIgamFrbyB0YWJsaWPEmVxyXG4gICAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0gZGF0YT8ubWFwKChsb2NhdGlvbjogYW55KSA9PiAoe1xyXG4gICAgICAuLi5sb2NhdGlvbixcclxuICAgICAgcHJvamVjdF9tYW5hZ2VyOiBsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIgJiYgQXJyYXkuaXNBcnJheShsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIpICYmIGxvY2F0aW9uLnByb2plY3RfbWFuYWdlci5sZW5ndGggPiAwIFxyXG4gICAgICAgID8gbG9jYXRpb24ucHJvamVjdF9tYW5hZ2VyWzBdIC8vIFdlxbogcGllcndzenkgZWxlbWVudCB6IHRhYmxpY3lcclxuICAgICAgICA6IGxvY2F0aW9uLnByb2plY3RfbWFuYWdlciAmJiAhQXJyYXkuaXNBcnJheShsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIpXHJcbiAgICAgICAgPyBsb2NhdGlvbi5wcm9qZWN0X21hbmFnZXIgLy8gSnXFvCBqZXN0IHBvamVkeW5jenltIG9iaWVrdGVtXHJcbiAgICAgICAgOiBudWxsIC8vIEJyYWsgcHJvamVjdCBtYW5hZ2VyYVxyXG4gICAgfSkpXHJcbiAgICBcclxuICAgIHJldHVybiB0cmFuc2Zvcm1lZERhdGEgYXMgTG9jYXRpb25bXVxyXG4gIH0sXHJcblxyXG4gIC8vIFBvYmllcnogZG9zdMSZcG5lIGxva2FsaXphY2plIGRsYSB1xbx5dGtvd25pa2FcclxuICBhc3luYyBnZXRVc2VyQWNjZXNzaWJsZUxvY2F0aW9ucyh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8TG9jYXRpb25bXT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gTmFqcGllcncgc3Byw7NidWogdcW8ecSHIGZ1bmtjamkgU1FMIChqZcWbbGkgaXN0bmllamUpXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLnJwYygnZ2V0X3VzZXJfYWNjZXNzaWJsZV9sb2NhdGlvbnMnLCB7IHVzZXJfaWQ6IHVzZXJJZCB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfwn5SEIEZ1bmtjamEgU1FMIGdldF91c2VyX2FjY2Vzc2libGVfbG9jYXRpb25zIG5pZSBpc3RuaWVqZSwgdcW8eXdhbSBmYWxsYmFjayBsb2dpa2knKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBkYXRhIGFzIExvY2F0aW9uW11cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIELFgsSFZCB3eXdvxYJhbmlhIGZ1bmtjamkgU1FMLCB1xbx5d2FtIEphdmFTY3JpcHQgZmFsbGJhY2s6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBGYWxsYmFjayAtIGltcGxlbWVudGFjamEgbG9naWtpIHcgSmF2YVNjcmlwdFxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIC8vIFBvYmllcnogdcW8eXRrb3duaWthXHJcbiAgICAgICAgY29uc3QgeyBkYXRhOiB1c2VyLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgICAgIC5zZWxlY3QoJ3JvbGUsIGxvY2F0aW9uX2lkJylcclxuICAgICAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgICAgICAuc2luZ2xlKClcclxuICAgICAgICBcclxuICAgICAgICBpZiAodXNlckVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllIG1vxbxuYSBwb2JyYcSHIGRhbnljaCB1xbx5dGtvd25pa2E6JywgdXNlckVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTG9jYXRpb25zKCkgLy8gRmFsbGJhY2sgLSB6d3LDs8SHIHdzenlzdGtpZVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBTcHJhd2TFuiByb2zEmSB1xbx5dGtvd25pa2FcclxuICAgICAgICBpZiAodXNlci5yb2xlID09PSAnYWRtaW4nIHx8IHVzZXIucm9sZSA9PT0gJ3N6ZWYnKSB7XHJcbiAgICAgICAgICAvLyBBZG1pbiBpIHN6ZWYgd2lkesSFIHdzenlzdGtpZSBsb2thbGl6YWNqZVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkZEgQWRtaW4vU3plZiAtIHp3cmFjYW0gd3N6eXN0a2llIGxva2FsaXphY2plJylcclxuICAgICAgICAgIHJldHVybiB0aGlzLmdldEFsbExvY2F0aW9ucygpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIFBvem9zdGFsaSB3aWR6xIUgdHlsa28gc3dvasSFIGxva2FsaXphY2rEmVxyXG4gICAgICAgICAgaWYgKCF1c2VyLmxvY2F0aW9uX2lkKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFXFvHl0a293bmlrIG5pZSBtYSBwcnp5cGlzYW5laiBsb2thbGl6YWNqaScpXHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+RpCBad3lrxYJ5IHXFvHl0a293bmlrIC0gendyYWNhbSBsb2thbGl6YWNqxJk6JywgdXNlci5sb2NhdGlvbl9pZClcclxuICAgICAgICAgIGNvbnN0IHsgZGF0YTogbG9jYXRpb24sIGVycm9yOiBsb2NhdGlvbkVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgICAgICAuZnJvbSgnbG9jYXRpb25zJylcclxuICAgICAgICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgICAgICAgIC5lcSgnaWQnLCB1c2VyLmxvY2F0aW9uX2lkKVxyXG4gICAgICAgICAgICAuc2luZ2xlKClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGxvY2F0aW9uRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBsb2thbGl6YWNqaSB1xbx5dGtvd25pa2E6JywgbG9jYXRpb25FcnJvcilcclxuICAgICAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiBbbG9jYXRpb24gYXMgTG9jYXRpb25dXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICB9IGNhdGNoIChmYWxsYmFja0Vycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEZhbGxiYWNrIGxvZ2ljIGZhaWxlZDonLCBmYWxsYmFja0Vycm9yKVxyXG4gICAgICAgIC8vIE9zdGF0ZWN6bnkgZmFsbGJhY2sgLSB3c3p5c3RraWUgbG9rYWxpemFjamVcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMb2NhdGlvbnMoKVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBsb2thbGl6YWNqxJkgcG8gSURcclxuICBhc3luYyBnZXRMb2NhdGlvbkJ5SWQoaWQ6IHN0cmluZyk6IFByb21pc2U8TG9jYXRpb24+IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCdsb2NhdGlvbnMnKVxyXG4gICAgICAuc2VsZWN0KGBcclxuICAgICAgICBpZCxcclxuICAgICAgICBuYW1lLFxyXG4gICAgICAgIGNvZGUsXHJcbiAgICAgICAgY3VycmVuY3ksXHJcbiAgICAgICAgdGltZXpvbmUsXHJcbiAgICAgICAgcmVnaW9uLFxyXG4gICAgICAgIHByb2plY3RfbWFuYWdlcl9pZCxcclxuICAgICAgICBjcmVhdGVkX2F0LFxyXG4gICAgICAgIHVwZGF0ZWRfYXQsXHJcbiAgICAgICAgcHJvamVjdF9tYW5hZ2VyOnVzZXJzIXByb2plY3RfbWFuYWdlcl9pZCAoXHJcbiAgICAgICAgICBpZCxcclxuICAgICAgICAgIGZ1bGxfbmFtZSxcclxuICAgICAgICAgIGVtYWlsLFxyXG4gICAgICAgICAgYXZhdGFyX3VybFxyXG4gICAgICAgIClcclxuICAgICAgYClcclxuICAgICAgLmVxKCdpZCcsIGlkKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgXHJcbiAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgLSBTdXBhYmFzZSBKT0lOIHp3cmFjYSBwcm9qZWN0X21hbmFnZXIgamFrbyB0YWJsaWPEmVxyXG4gICAgY29uc3QgdHJhbnNmb3JtZWREYXRhID0ge1xyXG4gICAgICAuLi5kYXRhLFxyXG4gICAgICBwcm9qZWN0X21hbmFnZXI6IGRhdGEucHJvamVjdF9tYW5hZ2VyICYmIEFycmF5LmlzQXJyYXkoZGF0YS5wcm9qZWN0X21hbmFnZXIpICYmIGRhdGEucHJvamVjdF9tYW5hZ2VyLmxlbmd0aCA+IDAgXHJcbiAgICAgICAgPyBkYXRhLnByb2plY3RfbWFuYWdlclswXSAvLyBXZcW6IHBpZXJ3c3p5IGVsZW1lbnQgeiB0YWJsaWN5XHJcbiAgICAgICAgOiBkYXRhLnByb2plY3RfbWFuYWdlciAmJiAhQXJyYXkuaXNBcnJheShkYXRhLnByb2plY3RfbWFuYWdlcilcclxuICAgICAgICA/IGRhdGEucHJvamVjdF9tYW5hZ2VyIC8vIEp1xbwgamVzdCBwb2plZHluY3p5bSBvYmlla3RlbVxyXG4gICAgICAgIDogbnVsbCAvLyBCcmFrIHByb2plY3QgbWFuYWdlcmFcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHRyYW5zZm9ybWVkRGF0YSBhcyBMb2NhdGlvblxyXG4gIH0sXHJcblxyXG4gIC8vIEFrdHVhbGl6dWogcHJvamVjdCBtYW5hZ2VyYSBkbGEgbG9rYWxpemFjamlcclxuICBhc3luYyB1cGRhdGVMb2NhdGlvblByb2plY3RNYW5hZ2VyKGxvY2F0aW9uSWQ6IHN0cmluZywgcHJvamVjdE1hbmFnZXJJZDogc3RyaW5nIHwgbnVsbCwgY3VycmVudFVzZXI6IFVzZXIpOiBQcm9taXNlPExvY2F0aW9uPiB7XHJcbiAgICBpZiAoIXBlcm1pc3Npb25zQXBpLmNhbkNoYW5nZVJvbGVzKGN1cnJlbnRVc2VyKSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyB6bWlhbnkgcHJvamVjdCBtYW5hZ2VyYScpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ2xvY2F0aW9ucycpXHJcbiAgICAgIC51cGRhdGUoe1xyXG4gICAgICAgIHByb2plY3RfbWFuYWdlcl9pZDogcHJvamVjdE1hbmFnZXJJZCxcclxuICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgfSlcclxuICAgICAgLmVxKCdpZCcsIGxvY2F0aW9uSWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGEgYXMgTG9jYXRpb25cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamUgYXV0b3J5emFjamlcclxuZXhwb3J0IGNvbnN0IGF1dGhBcGkgPSB7XHJcbiAgLy8gWmFsb2d1aiB1xbx5dGtvd25pa2FcclxuICBhc3luYyBzaWduSW4oZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xyXG4gICAgICBlbWFpbCxcclxuICAgICAgcGFzc3dvcmRcclxuICAgIH0pXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIFphcmVqZXN0cnVqIG5vd2VnbyB1xbx5dGtvd25pa2FcclxuICBhc3luYyBzaWduVXAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgZnVsbE5hbWU6IHN0cmluZywgbG9jYXRpb25JZD86IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduVXAoe1xyXG4gICAgICBlbWFpbCxcclxuICAgICAgcGFzc3dvcmQsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICBmdWxsX25hbWU6IGZ1bGxOYW1lLFxyXG4gICAgICAgICAgbG9jYXRpb25faWQ6IGxvY2F0aW9uSWRcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YVxyXG4gIH0sXHJcblxyXG4gIC8vIFd5bG9ndWogdcW8eXRrb3duaWthXHJcbiAgYXN5bmMgc2lnbk91dCgpIHtcclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIGdldEN1cnJlbnRVc2VyKCkge1xyXG4gICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgIHJldHVybiB1c2VyXHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiBwcm9maWwgdcW8eXRrb3duaWthIHogcm9sxIVcclxuICBhc3luYyBnZXRVc2VyUHJvZmlsZSh1c2VySWQ6IHN0cmluZykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zaW5nbGUoKVxyXG4gICAgXHJcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICByZXR1cm4gZGF0YSBhcyBVc2VyXHJcbiAgfSxcclxuXHJcbiAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIHXFvHl0a293bmlrw7N3IChkbGEgb3BjamkgZmlsdHJvd2FuaWEpXHJcbiAgYXN5bmMgZ2V0QWxsVXNlcnMoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2VycyBTVEFSVCAtIHNwcmF3ZHphbSBSTFMuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaQgQWt0dWFsbnkgdcW8eXRrb3duaWs6JywgdXNlcj8uZW1haWwsIHVzZXI/LmlkKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAuZnJvbSgndXNlcnMnKVxyXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIGVtYWlsLCByb2xlLCBhdmF0YXJfdXJsJylcclxuICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScpXHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2VycyAtIHpuYWxlemlvbm8gdcW8eXRrb3duaWvDs3c6JywgZGF0YT8ubGVuZ3RoIHx8IDApXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzIC0gYsWCxIVkOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFJMUyBFcnJvciBpbiBnZXRBbGxVc2VyczonLCBlcnJvcilcclxuICAgICAgICBcclxuICAgICAgICAvLyBTcHJhd2TFuiBjenkgdG8gcHJvYmxlbSB6IFJMU1xyXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdSTFMnKSB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SSIFByb2JsZW0geiBSb3cgTGV2ZWwgU2VjdXJpdHkgLSBwcmFjb3duaWsgbmllIG1vxbxlIHdpZHppZcSHIGlubnljaCB1xbx5dGtvd25pa8OzdycpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFByenlrxYJhZCB1xbx5dGtvd25pa8OzdzonLCBkYXRhLnNsaWNlKDAsIDMpLm1hcCh1ID0+ICh7XHJcbiAgICAgICAgICBpZDogdS5pZCxcclxuICAgICAgICAgIG5hbWU6IHUuZnVsbF9uYW1lLFxyXG4gICAgICAgICAgcm9sZTogdS5yb2xlXHJcbiAgICAgICAgfSkpKVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFVXQUdBOiBCcmFrIGRhbnljaCB1xbx5dGtvd25pa8OzdyAtIG1vxbxlIFJMUyBibG9rdWplIGRvc3TEmXAnKVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gZGF0YSBhcyBVc2VyW11cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRBbGxVc2VycyBGQUlMRUQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3ByYXdkxbogc2VzasSZIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIGdldFNlc3Npb24oKSB7XHJcbiAgICBjb25zdCB7IGRhdGE6IHsgc2Vzc2lvbiB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKVxyXG4gICAgcmV0dXJuIHNlc3Npb25cclxuICB9LFxyXG5cclxuICAvLyBOYXPFgnVjaHVqIHptaWFuIHcgYXV0b3J5emFjamlcclxuICBvbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjazogKGV2ZW50OiBzdHJpbmcsIHNlc3Npb246IGFueSkgPT4gdm9pZCkge1xyXG4gICAgcmV0dXJuIHN1cGFiYXNlLmF1dGgub25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2spXHJcbiAgfSxcclxuXHJcbiAgLy8gWmFrdHVhbGl6dWogasSZenlrIHXFvHl0a293bmlrYVxyXG4gIGFzeW5jIHVwZGF0ZVVzZXJMYW5ndWFnZSh1c2VySWQ6IHN0cmluZywgbGFuZ3VhZ2U6ICdwbCcgfCAnZW4nIHwgJ3NrJykge1xyXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgLmZyb20oJ3VzZXJzJylcclxuICAgICAgLnVwZGF0ZSh7IGxhbmd1YWdlIH0pXHJcbiAgICAgIC5lcSgnaWQnLCB1c2VySWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKClcclxuICAgIFxyXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgcmV0dXJuIGRhdGEgYXMgVXNlclxyXG4gIH0sXHJcblxyXG4gIC8vIEJlenBpZWN6bmUgcG9iaWVyYW5pZSB1xbx5dGtvd25pa8OzdyBkbyB3ecWbd2lldGxhbmlhIChvZHBvcm5lIG5hIFJMUylcclxuICBhc3luYyBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkgU1RBUlQgLSBiZXpwaWVjem5lIHBvYmllcmFuaWUuLi4nKVxyXG4gICAgICBcclxuICAgICAgLy8gU3ByYXdkxbogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaQgQWt0dWFsbnkgdcW8eXRrb3duaWs6JywgdXNlcj8uZW1haWwsIHVzZXI/LmlkKVxyXG4gICAgICBcclxuICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ+KdjCBCcmFrIHphbG9nb3dhbmVnbyB1xbx5dGtvd25pa2EnKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgZW1haWwsIHJvbGUsIGF2YXRhcl91cmwnKVxyXG4gICAgICAgIC5vcmRlcignZnVsbF9uYW1lJylcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzRm9yRGlzcGxheSAtIHpuYWxlemlvbm8gdcW8eXRrb3duaWvDs3c6JywgZGF0YT8ubGVuZ3RoIHx8IDApXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgUkxTIEVycm9yIGluIGdldEFsbFVzZXJzRm9yRGlzcGxheTonLCBlcnJvcilcclxuICAgICAgICBcclxuICAgICAgICAvLyBKZcWbbGkgdG8gcHJvYmxlbSB6IFJMUywgendyw7PEhyBwcnp5bmFqbW5pZWogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2JyB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UkiBSTFMgYmxva3VqZSBkb3N0xJlwIC0gendyYWNhbSB0eWxrbyBha3R1YWxuZWdvIHXFvHl0a293bmlrYScpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIFBvYmllcnogcHJvZmlsIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthXHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgRmFsbGJhY2s6IHXFvHl3YW0gcHJvZmlsdSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICAgIHJldHVybiBbdXNlclByb2ZpbGVdXHJcbiAgICAgICAgICB9IGNhdGNoIChwcm9maWxlRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBwcm9maWx1IHXFvHl0a293bmlrYTonLCBwcm9maWxlRXJyb3IpXHJcbiAgICAgICAgICAgIHJldHVybiBbXVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBJbm55IGLFgsSFZCAtIHp3csOzxIcgcHVzdMSFIHRhYmxpY8SZXHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIElubnkgYsWCxIVkIC0gendyYWNhbSBwdXN0xIUgdGFibGljxJknKVxyXG4gICAgICAgIHJldHVybiBbXVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVZGFuZSBwb2JyYW5pZSB1xbx5dGtvd25pa8OzdzonLCBkYXRhLmxlbmd0aClcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBQcnp5a8WCYWQgdcW8eXRrb3duaWvDs3c6JywgZGF0YS5zbGljZSgwLCAzKS5tYXAodSA9PiAoe1xyXG4gICAgICAgICAgaWQ6IHUuaWQsXHJcbiAgICAgICAgICBuYW1lOiB1LmZ1bGxfbmFtZSxcclxuICAgICAgICAgIHJvbGU6IHUucm9sZVxyXG4gICAgICAgIH0pKSlcclxuICAgICAgICByZXR1cm4gZGF0YSBhcyBVc2VyW11cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVV0FHQTogQnJhayBkYW55Y2ggdcW8eXRrb3duaWvDs3cnKVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEZhbGxiYWNrIC0gcHJ6eW5ham1uaWVqIGFrdHVhbG55IHXFvHl0a293bmlrXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHVzZXJQcm9maWxlID0gYXdhaXQgdGhpcy5nZXRVc2VyUHJvZmlsZSh1c2VyLmlkKVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgRmFsbGJhY2s6IHXFvHl3YW0gcHJvZmlsdSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxyXG4gICAgICAgIH0gY2F0Y2ggKHByb2ZpbGVFcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZSBtb8W8bmEgcG9icmHEhyBwcm9maWx1IHXFvHl0a293bmlrYTonLCBwcm9maWxlRXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gW11cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IENSSVRJQ0FMIEVSUk9SOicsIGVycm9yKVxyXG4gICAgICBcclxuICAgICAgLy8gS3J5dHljem55IGZhbGxiYWNrIC0gc3Byw7NidWogcHJ6eW5ham1uaWVqIHBvYnJhxIcgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxyXG4gICAgICAgIGlmICh1c2VyKSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEtyeXR5Y3pueSBmYWxsYmFjazogendyYWNhbSBha3R1YWxuZWdvIHXFvHl0a293bmlrYTonLCB1c2VyUHJvZmlsZS5mdWxsX25hbWUpXHJcbiAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxyXG4gICAgICAgIH1cclxuICAgICAgfSBjYXRjaCAoY3JpdGljYWxFcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBLcnl0eWN6bnkgYsWCxIVkIGZhbGxiYWNrOicsIGNyaXRpY2FsRXJyb3IpXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHJldHVybiBbXVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8gRnVua2NqYSBkbyBva3JlxZtsYW5pYSBrb2xvcnUgc3RhdHVzdSBcImNhbnZhc1wiIG5hIHBvZHN0YXdpZSBjemFzdVxyXG5leHBvcnQgY29uc3QgZ2V0Q2FudmFzU3RhdHVzQ29sb3IgPSAoc3RhdHVzQ2hhbmdlZEF0Pzogc3RyaW5nKTogeyBjb2xvcjogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBwcmlvcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB9ID0+IHtcclxuICBpZiAoIXN0YXR1c0NoYW5nZWRBdCkge1xyXG4gICAgcmV0dXJuIHsgY29sb3I6ICdiZy1ibHVlLTUwMC8yMCB0ZXh0LWJsdWUtNDAwIGJvcmRlci1ibHVlLTUwMC8zMCcsIGRlc2NyaXB0aW9uOiAnTm93eScsIHByaW9yaXR5OiAnbG93JyB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpXHJcbiAgY29uc3Qgc3RhdHVzRGF0ZSA9IG5ldyBEYXRlKHN0YXR1c0NoYW5nZWRBdClcclxuICBjb25zdCBkYXlzRGlmZiA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBzdGF0dXNEYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwICogNjAgKiAyNCkpXHJcblxyXG4gIGlmIChkYXlzRGlmZiA8PSAyKSB7XHJcbiAgICAvLyAwLTIgZG5pIC0gemllbG9ueSAoxZt3aWXFvHkpXHJcbiAgICByZXR1cm4geyBcclxuICAgICAgY29sb3I6ICdiZy1ncmVlbi01MDAvMjAgdGV4dC1ncmVlbi00MDAgYm9yZGVyLWdyZWVuLTUwMC8zMCcsIFxyXG4gICAgICBkZXNjcmlwdGlvbjogYMWad2llxbx5ICgke2RheXNEaWZmfWQpYCxcclxuICAgICAgcHJpb3JpdHk6ICdsb3cnXHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChkYXlzRGlmZiA8PSA0KSB7XHJcbiAgICAvLyAyLTQgZG5pIC0gxbzDs8WCdHkgKHV3YWdhKVxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIGNvbG9yOiAnYmcteWVsbG93LTUwMC8yMCB0ZXh0LXllbGxvdy00MDAgYm9yZGVyLXllbGxvdy01MDAvMzAnLCBcclxuICAgICAgZGVzY3JpcHRpb246IGBXeW1hZ2EgdXdhZ2kgKCR7ZGF5c0RpZmZ9ZClgLFxyXG4gICAgICBwcmlvcml0eTogJ21lZGl1bSdcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgLy8gNSsgZG5pIC0gY3plcndvbnkgKHBpbG55KVxyXG4gICAgcmV0dXJuIHsgXHJcbiAgICAgIGNvbG9yOiAnYmctcmVkLTUwMC8yMCB0ZXh0LXJlZC00MDAgYm9yZGVyLXJlZC01MDAvMzAnLCBcclxuICAgICAgZGVzY3JpcHRpb246IGBQaWxueSAoJHtkYXlzRGlmZn1kKWAsXHJcbiAgICAgIHByaW9yaXR5OiAnaGlnaCdcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8vIEZ1bmtjamEgZG8gcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBvem5hY3plbmlhbWkgcHJpb3J5dGV0w7N3XHJcbmV4cG9ydCBjb25zdCBnZXRDYW52YXNDbGllbnRzV2l0aFByaW9yaXR5ID0gYXN5bmMgKHVzZXI6IFVzZXIpID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgY2xpZW50cyA9IGF3YWl0IGNsaWVudHNBcGkuZ2V0Q2xpZW50cyh1c2VyKVxyXG4gICAgY29uc3QgY2FudmFzQ2xpZW50cyA9IGNsaWVudHMuZmlsdGVyKChjbGllbnQ6IGFueSkgPT4gY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpXHJcbiAgICBcclxuICAgIGNvbnN0IHByaW9yaXR5U3RhdHMgPSB7XHJcbiAgICAgIGhpZ2g6IDAsXHJcbiAgICAgIG1lZGl1bTogMCxcclxuICAgICAgbG93OiAwLFxyXG4gICAgICB0b3RhbDogY2FudmFzQ2xpZW50cy5sZW5ndGhcclxuICAgIH1cclxuXHJcbiAgICBjYW52YXNDbGllbnRzLmZvckVhY2goKGNsaWVudDogYW55KSA9PiB7XHJcbiAgICAgIGNvbnN0IHsgcHJpb3JpdHkgfSA9IGdldENhbnZhc1N0YXR1c0NvbG9yKGNsaWVudC5zdGF0dXNfY2hhbmdlZF9hdClcclxuICAgICAgcHJpb3JpdHlTdGF0c1twcmlvcml0eV0rK1xyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBjbGllbnRzOiBjYW52YXNDbGllbnRzLFxyXG4gICAgICBzdGF0czogcHJpb3JpdHlTdGF0c1xyXG4gICAgfVxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgY2FudmFzOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50czogW10sIHN0YXRzOiB7IGhpZ2g6IDAsIG1lZGl1bTogMCwgbG93OiAwLCB0b3RhbDogMCB9IH1cclxuICB9XHJcbn0gXHJcblxyXG4vLyDwn5qAIE5PV0UgQVBJIFBFUkZPUk1BTkNFIC0gTWF0ZXJpYWxpem93YW5lIFdpZG9raSBpIE9wdHltYWxpemFjamVcclxuLy8gRG9kYW5lIHpnb2RuaWUgeiBJTlNUUlVLQ0pFX1BFUkZPUk1BTkNFX09QVElNSVpBVElPTlMubWRcclxuXHJcbmV4cG9ydCBjb25zdCBkYXNoYm9hcmRBcGkgPSB7XHJcbiAgLy8gWmFzdMSZcHVqZSB3b2xuZSB6YXB5dGFuaWEgZGFzaGJvYXJkIC0gdGVyYXogfjEwbXMgemFtaWFzdCB+MjAwbXNcclxuICBhc3luYyBnZXREYXNoYm9hcmRNZXRyaWNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ+KaoSBQb2JpZXJhbmllIHN6eWJraWNoIG1ldHJ5ayBkYXNoYm9hcmQgeiBtYXRlcmlhbGl6b3dhbmVnbyB3aWRva3UuLi4nKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdnZXRfZGFzaGJvYXJkX21ldHJpY3MnKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBtZXRyeWsgZGFzaGJvYXJkOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGFzaGJvYXJkIG1ldHJpY3MgcG9icmFuZSB3IHRyeWJpZSBleHByZXNzOicsIGRhdGE/Lmxlbmd0aCB8fCAwLCAnbWV0cnlrJylcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXREYXNoYm9hcmRNZXRyaWNzIGZhaWxlZDonLCBlcnJvcilcclxuICAgICAgdGhyb3cgZXJyb3JcclxuICAgIH1cclxuICB9LFxyXG5cclxuICAvLyBTcHJhd2R6ZW5pZSBjenkgbWF0ZXJpYWxpem93YW5lIHdpZG9raSBzxIUgxZt3aWXFvGVcclxuICBhc3luYyBjaGVja1ZpZXdGcmVzaG5lc3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdGFiZWxhIG12X2Rhc2hib2FyZF9zdW1tYXJ5IGlzdG5pZWplXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2Rhc2hib2FyZF9zdW1tYXJ5JylcclxuICAgICAgICAuc2VsZWN0KCdsYXN0X3VwZGF0ZWQnKVxyXG4gICAgICAgIC5saW1pdCgxKVxyXG4gICAgICAgIC5zaW5nbGUoKVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWF0ZXJpYWxpemVkIHZpZXcgbXZfZGFzaGJvYXJkX3N1bW1hcnkgbmllIGlzdG5pZWplIGx1YiBicmFrIHVwcmF3bmllxYQ6JywgZXJyb3IpXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgLSB1xbx5aiBha3R1YWxuZWdvIGN6YXN1XHJcbiAgICAgICAgcmV0dXJuIHsgXHJcbiAgICAgICAgICBsYXN0VXBkYXRlOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksIFxyXG4gICAgICAgICAgbWludXRlc1NpbmNlVXBkYXRlOiAwLCBcclxuICAgICAgICAgIGlzU3RhbGU6IGZhbHNlIC8vIFphxYJvxbwgxbxlIGRhbmUgc8SFIMWbd2llxbxlIGplxZtsaSBuaWUgbWEgd2lkb2t1XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zdCBsYXN0VXBkYXRlID0gbmV3IERhdGUoZGF0YS5sYXN0X3VwZGF0ZWQpXHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3QgbWludXRlc1NpbmNlVXBkYXRlID0gTWF0aC5mbG9vcigobm93LmdldFRpbWUoKSAtIGxhc3RVcGRhdGUuZ2V0VGltZSgpKSAvICgxMDAwICogNjApKVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBsYXN0VXBkYXRlOiBkYXRhLmxhc3RfdXBkYXRlZCxcclxuICAgICAgICBtaW51dGVzU2luY2VVcGRhdGUsXHJcbiAgICAgICAgaXNTdGFsZTogbWludXRlc1NpbmNlVXBkYXRlID4gMzAgLy8gVXpuYWogemEgbmllYWt0dWFsbmUgcG8gMzAgbWludXRhY2hcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBzcHJhd2R6YW5pYSDFm3dpZcW8b8WbY2kgd2lkb2vDs3c6JywgZXJyb3IpXHJcbiAgICAgIC8vIEdyYWNlZnVsIGZhbGxiYWNrXHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIGxhc3RVcGRhdGU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSwgXHJcbiAgICAgICAgbWludXRlc1NpbmNlVXBkYXRlOiAwLCBcclxuICAgICAgICBpc1N0YWxlOiBmYWxzZSBcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8g8J+agCBOT1dFIEZVTktDSkUgUEVSRk9STUFOQ0UgZG9kYW5lIGRvIGlzdG5pZWrEhWNlZ28gcmVwb3J0c0FwaVxyXG5cclxuZXhwb3J0IGNvbnN0IHRlYW1BcGkgPSB7XHJcbiAgLy8gU3p5YmtpIHByemVnbMSFZCBha3R5d25vxZtjaSB6ZXNwb8WCdVxyXG4gIGFzeW5jIGdldFRlYW1BY3Rpdml0eU92ZXJ2aWV3KCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgUG9iaWVyYW5pZSBwcnplZ2zEhWR1IGFrdHl3bm/Fm2NpIHplc3BvxYJ1ICh6b3B0eW1hbGl6b3dhbmUpLi4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJyonKVxyXG4gICAgICAgIC5pbigncm9sZScsIFsncHJhY293bmlrJywgJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnXSlcclxuICAgICAgICAub3JkZXIoJ2FjdGl2aXRpZXNfMjRoJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0eXdub8WbY2kgemVzcG/FgnU6JywgZXJyb3IpXHJcbiAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2coYOKchSBBa3R5d25vxZvEhyB6ZXNwb8WCdSBwb2JyYW5hOiAke2RhdGE/Lmxlbmd0aCB8fCAwfSB1xbx5dGtvd25pa8Ozd2ApXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXcgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIFNwcmF3ZHplbmllIGFrdHl3bnljaCB1xbx5dGtvd25pa8OzdyB3IGN6YXNpZSByemVjenl3aXN0eW1cclxuICBhc3luYyBnZXRBY3RpdmVVc2Vyc05vdygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJ3VzZXJfaWQsIGZ1bGxfbmFtZSwgYWN0aXZpdHlfc3RhdHVzLCBsYXN0X2FjdGl2aXR5JylcclxuICAgICAgICAuZXEoJ2FjdGl2aXR5X3N0YXR1cycsICdhY3RpdmUnKVxyXG4gICAgICAgIC5vcmRlcignbGFzdF9hY3Rpdml0eScsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxyXG4gICAgICBcclxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIGRhdGFcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRBY3RpdmVVc2Vyc05vdyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gU3RhdHlzdHlraSBwcm9kdWt0eXdub8WbY2kgemVzcG/FgnVcclxuICBhc3luYyBnZXRQcm9kdWN0aXZpdHlTdGF0cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxyXG4gICAgICAgIC5zZWxlY3QoJ2FjdGl2aXRpZXNfMjRoLCBhY3Rpdml0aWVzXzdkLCBwaG9uZV9jbGlja3MsIHN0YXR1c19jaGFuZ2VzJylcclxuICAgICAgICAuaW4oJ3JvbGUnLCBbJ3ByYWNvd25paycsICdtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJ10pXHJcbiAgICAgIFxyXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXHJcbiAgICAgIFxyXG4gICAgICAvLyBPYmxpY3ogxZtyZWRuaWVcclxuICAgICAgY29uc3QgdG90YWxVc2VycyA9IGRhdGEubGVuZ3RoXHJcbiAgICAgIGNvbnN0IGF2Z0RhaWx5ID0gZGF0YS5yZWR1Y2UoKHN1bSwgdXNlcikgPT4gc3VtICsgdXNlci5hY3Rpdml0aWVzXzI0aCwgMCkgLyB0b3RhbFVzZXJzXHJcbiAgICAgIGNvbnN0IGF2Z1dlZWtseSA9IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc183ZCwgMCkgLyB0b3RhbFVzZXJzXHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsVXNlcnMsXHJcbiAgICAgICAgYXZnRGFpbHlBY3Rpdml0aWVzOiBNYXRoLnJvdW5kKGF2Z0RhaWx5KSxcclxuICAgICAgICBhdmdXZWVrbHlBY3Rpdml0aWVzOiBNYXRoLnJvdW5kKGF2Z1dlZWtseSksXHJcbiAgICAgICAgdG90YWxEYWlseUFjdGl2aXRpZXM6IGRhdGEucmVkdWNlKChzdW0sIHVzZXIpID0+IHN1bSArIHVzZXIuYWN0aXZpdGllc18yNGgsIDApLFxyXG4gICAgICAgIHRvdGFsV2Vla2x5QWN0aXZpdGllczogZGF0YS5yZWR1Y2UoKHN1bSwgdXNlcikgPT4gc3VtICsgdXNlci5hY3Rpdml0aWVzXzdkLCAwKVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0UHJvZHVjdGl2aXR5U3RhdHMgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuLy8g8J+UpyBQRVJGT1JNQU5DRSBNT05JVE9SSU5HIEFQSVxyXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2VBcGkgPSB7XHJcbiAgLy8gU3ByYXdkemVuaWUgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXVcclxuICBhc3luYyBnZXRTeXN0ZW1NZXRyaWNzKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CflI0gUG9iaWVyYW5pZSBtZXRyeWsgd3lkYWpub8WbY2kgc3lzdGVtdS4uLicpXHJcbiAgICAgIGNvbnN0IHRhYmxlU3RhdHMgPSBbXVxyXG4gICAgICBcclxuICAgICAgLy8gUG9tb2NuaWN6YSBmdW5rY2phIGRvIGJlenBpZWN6bmVnbyBwb2JpZXJhbmlhIHN0YXR5c3R5ayB0YWJlbGlcclxuICAgICAgY29uc3QgZ2V0VGFibGVTdGF0cyA9IGFzeW5jICh0YWJsZU5hbWU6IHN0cmluZykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB7IGNvdW50LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcclxuICAgICAgICAgICAgLmZyb20odGFibGVOYW1lKVxyXG4gICAgICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGDimqDvuI8gTmllIG1vxbxuYSBwb2JyYcSHIHN0YXR5c3R5ayB0YWJlbGkgJHt0YWJsZU5hbWV9OmAsIGVycm9yLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRhYmxlX25hbWU6IHRhYmxlTmFtZSxcclxuICAgICAgICAgICAgcmVjb3JkX2NvdW50OiBjb3VudCB8fCAwLFxyXG4gICAgICAgICAgICB0YWJsZV9zaXplOiAnTi9BJywgLy8gVXByb3N6Y3plbmllIC0gcm96bWlhciBuaWUgamVzdCBrcnl0eWN6bnlcclxuICAgICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUud2Fybihg4pqg77iPIELFgsSFZCB0YWJlbGkgJHt0YWJsZU5hbWV9OmAsIGVycilcclxuICAgICAgICAgIHJldHVybiBudWxsXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICAvLyBTcHJhd2TFuiBrYcW8ZMSFIHRhYmVsxJkgb2RkemllbG5pZVxyXG4gICAgICBjb25zdCB0YWJsZXMgPSBbJ2NsaWVudHMnLCAndXNlcnMnLCAnYWN0aXZpdHlfbG9ncycsICdhY3Rpdml0eV9sb2dzX2FyY2hpdmUnXVxyXG4gICAgICBcclxuICAgICAgZm9yIChjb25zdCB0YWJsZU5hbWUgb2YgdGFibGVzKSB7XHJcbiAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBnZXRUYWJsZVN0YXRzKHRhYmxlTmFtZSlcclxuICAgICAgICBpZiAoc3RhdHMpIHtcclxuICAgICAgICAgIHRhYmxlU3RhdHMucHVzaChzdGF0cylcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIEplxZtsaSBuaWUgdWRhxYJvIHNpxJkgcG9icmHEhyDFvGFkbnljaCBzdGF0eXN0eWssIHp3csOzxIcgcG9kc3Rhd293ZSBpbmZvcm1hY2plXHJcbiAgICAgIGlmICh0YWJsZVN0YXRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIHN0YXR5c3R5ayDFvGFkbmVqIHRhYmVsaSAtIHp3cmFjYW0gZGFuZSBwcnp5a8WCYWRvd2UnKVxyXG4gICAgICAgIHRhYmxlU3RhdHMucHVzaCh7XHJcbiAgICAgICAgICB0YWJsZV9uYW1lOiAnc3lzdGVtX2luZm8nLFxyXG4gICAgICAgICAgcmVjb3JkX2NvdW50OiAwLFxyXG4gICAgICAgICAgdGFibGVfc2l6ZTogJ0JyYWsgZG9zdMSZcHUnLFxyXG4gICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcclxuICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gc3RhdHlzdHlraSAke3RhYmxlU3RhdHMubGVuZ3RofSB0YWJlbGApXHJcbiAgICAgIHJldHVybiB0YWJsZVN0YXRzXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0U3lzdGVtTWV0cmljcyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIFxyXG4gICAgICAvLyBHcmFjZWZ1bCBmYWxsYmFjayAtIHp3csOzxIcgcG9kc3Rhd293ZSBkYW5lIHphbWlhc3Qgcnp1Y2HEhyBixYLEhWRcclxuICAgICAgcmV0dXJuIFt7XHJcbiAgICAgICAgdGFibGVfbmFtZTogJ2Vycm9yX2ZhbGxiYWNrJyxcclxuICAgICAgICByZWNvcmRfY291bnQ6IDAsXHJcbiAgICAgICAgdGFibGVfc2l6ZTogJ0LFgsSFZCBwb8WCxIVjemVuaWEnLFxyXG4gICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICAgIH1dXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gTWFudWFsbmUgb2TFm3dpZcW8ZW5pZSBtYXRlcmlhbGl6b3dhbnljaCB3aWRva8Ozd1xyXG4gIGFzeW5jIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cygpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIE1hbnVhbG5pZSBvZMWbd2llxbxhbSBtYXRlcmlhbGl6b3dhbmUgd2lkb2tpLi4uJylcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygncmVmcmVzaF9hbGxfbWF0ZXJpYWxpemVkX3ZpZXdzJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgV2lkb2tpIG9kxZt3aWXFvG9uZTonLCBkYXRhKVxyXG4gICAgICByZXR1cm4gZGF0YVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIHJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfSxcclxuXHJcbiAgLy8gQXJjaGl3aXphY2phIHN0YXJ5Y2ggbG9nw7N3XHJcbiAgYXN5bmMgYXJjaGl2ZU9sZExvZ3MoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zb2xlLmxvZygn8J+TpiBVcnVjaGFtaWFtIGFyY2hpd2l6YWNqxJkgc3RhcnljaCBsb2fDs3cuLi4nKVxyXG4gICAgICBcclxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdhcmNoaXZlX29sZF9hY3Rpdml0eV9sb2dzJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFyY2hpd2l6b3dhbm8gJHtkYXRhfSBzdGFyeWNoIGxvZ8Ozd2ApXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgYXJjaGl2ZU9sZExvZ3MgZmFpbGVkOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8vIE9wdHltYWxpemFjamEgYmF6eSBkYW55Y2hcclxuICBhc3luYyBvcHRpbWl6ZURhdGFiYXNlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc29sZS5sb2coJ/CfmoAgVXJ1Y2hhbWlhbSBvcHR5bWFsaXphY2rEmSBiYXp5IGRhbnljaC4uLicpXHJcbiAgICAgIFxyXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ29wdGltaXplX2RhdGFiYXNlX3BlcmZvcm1hbmNlJylcclxuICAgICAgXHJcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcclxuICAgICAgXHJcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQmF6YSBkYW55Y2ggem9wdHltYWxpem93YW5hOicsIGRhdGEpXHJcbiAgICAgIHJldHVybiBkYXRhXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgb3B0aW1pemVEYXRhYmFzZSBmYWlsZWQ6JywgZXJyb3IpXHJcbiAgICAgIHRocm93IGVycm9yXHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlQWN0aXZpdHlTdGF0cyB7XHJcbiAgaWQ6IHN0cmluZ1xyXG4gIHVzZXJfaWQ6IHN0cmluZ1xyXG4gIHBlcmlvZF90eXBlOiBzdHJpbmdcclxuICBwZXJpb2Rfc3RhcnQ6IHN0cmluZ1xyXG4gIHBlcmlvZF9lbmQ6IHN0cmluZ1xyXG4gIHRvdGFsX3dvcmtfbWludXRlczogbnVtYmVyXHJcbiAgYXZlcmFnZV9kYWlseV9taW51dGVzOiBudW1iZXJcclxuICBleHBlY3RlZF93b3JrX21pbnV0ZXM6IG51bWJlclxyXG4gIGVmZmljaWVuY3lfcGVyY2VudGFnZTogbnVtYmVyXHJcbiAgdG90YWxfYWN0aXZpdGllczogbnVtYmVyXHJcbiAgYXZlcmFnZV9kYWlseV9hY3Rpdml0aWVzOiBudW1iZXJcclxuICBkYXlzX3dvcmtlZDogbnVtYmVyXHJcbiAgZGF5c19hYnNlbnQ6IG51bWJlclxyXG4gIHVzZXI/OiB7XHJcbiAgICBpZDogc3RyaW5nXHJcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xyXG4gICAgZW1haWw6IHN0cmluZ1xyXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xyXG4gICAgcm9sZTogc3RyaW5nXHJcbiAgfVxyXG59IFxyXG5cclxuLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4vLyBDQUxMUyBBUEkgLSBISVNUT1JJQSBQT8WBxIRDWkXFgyBURUxFRk9OSUNaTllDSFxyXG4vLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIENhbGxSZWNvcmQge1xyXG4gIGlkOiBzdHJpbmdcclxuICBjbGllbnRfaWQ6IHN0cmluZ1xyXG4gIGNsaWVudF9uYW1lOiBzdHJpbmdcclxuICBjbGllbnRfY29tcGFueTogc3RyaW5nXHJcbiAgY2xpZW50X3Bob25lOiBzdHJpbmdcclxuICBjYWxsZWRfYnk6IHN0cmluZ1xyXG4gIGNhbGxlcl9uYW1lOiBzdHJpbmdcclxuICBjYWxsZXJfcm9sZTogc3RyaW5nXHJcbiAgY2FsbGVyX2F2YXRhcj86IHN0cmluZ1xyXG4gIGNhbGxfdGltZXN0YW1wOiBzdHJpbmdcclxuICBsb2NhdGlvbl9pZD86IHN0cmluZ1xyXG4gIGxvY2F0aW9uX25hbWU/OiBzdHJpbmdcclxuICBsb2NhdGlvbl9jb2RlPzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbHNGaWx0ZXIge1xyXG4gIGxvY2F0aW9uSWQ/OiBzdHJpbmcgfCBudWxsXHJcbiAgdXNlcklkPzogc3RyaW5nXHJcbiAgc3RhcnREYXRlPzogc3RyaW5nXHJcbiAgZW5kRGF0ZT86IHN0cmluZ1xyXG4gIGxpbWl0PzogbnVtYmVyXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBjYWxsc0FwaSA9IHtcclxuICAvKipcclxuICAgKiDwn5OeIFBPQklFUlogSElTVE9SScSYIFBPxYHEhENaRcWDXHJcbiAgICogXHJcbiAgICogUG9iaWVyYSBoaXN0b3JpxJkgcG/FgsSFY3plxYQgdGVsZWZvbmljem55Y2ggeiBhY3Rpdml0eV9sb2dzXHJcbiAgICogVXd6Z2zEmWRuaWEgdXByYXduaWVuaWEgdcW8eXRrb3duaWthOlxyXG4gICAqIC0gQWRtaW4vU3plZjogd3N6eXN0a2llIHBvxYLEhWN6ZW5pYSB6IHd5YnJhbmVnbyBrcmFqdVxyXG4gICAqIC0gUHJvamVjdCBNYW5hZ2VyL0p1bmlvciBNYW5hZ2VyOiB3c3p5c3RraWUgeiBpY2ggbG9rYWxpemFjamlcclxuICAgKiAtIFByYWNvd25pazogdHlsa28gc3dvamUgcG/FgsSFY3plbmlhXHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FsbHModXNlcjogVXNlciwgZmlsdGVyOiBDYWxsc0ZpbHRlciA9IHt9KTogUHJvbWlzZTxDYWxsUmVjb3JkW10+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OeIFBvYmllcmFuaWUgaGlzdG9yaWkgcG/FgsSFY3plxYQuLi4nLCB7IHVzZXI6IHVzZXIucm9sZSwgZmlsdGVyIH0pXHJcblxyXG4gICAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcclxuICAgICAgICAuc2VsZWN0KGBcclxuICAgICAgICAgIGlkLFxyXG4gICAgICAgICAgY2xpZW50X2lkLFxyXG4gICAgICAgICAgY2hhbmdlZF9ieSxcclxuICAgICAgICAgIHRpbWVzdGFtcCxcclxuICAgICAgICAgIGNsaWVudHMhaW5uZXIgKFxyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgZmlyc3RfbmFtZSxcclxuICAgICAgICAgICAgbGFzdF9uYW1lLFxyXG4gICAgICAgICAgICBjb21wYW55X25hbWUsXHJcbiAgICAgICAgICAgIHBob25lLFxyXG4gICAgICAgICAgICBsb2NhdGlvbl9pZCxcclxuICAgICAgICAgICAgbG9jYXRpb246bG9jYXRpb25zIChcclxuICAgICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgICBuYW1lLFxyXG4gICAgICAgICAgICAgIGNvZGVcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgKVxyXG4gICAgICAgIGApXHJcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxyXG4gICAgICAgIC5vcmRlcigndGltZXN0YW1wJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXHJcbiAgICAgICAgLmxpbWl0KGZpbHRlci5saW1pdCB8fCAxMDApXHJcblxyXG4gICAgICAvLyBGaWx0cm93YW5pZSB3ZWTFgnVnIHVwcmF3bmllxYQgdcW8eXRrb3duaWthXHJcbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdwcmFjb3duaWsnKSB7XHJcbiAgICAgICAgLy8gUHJhY293bmlrIHdpZHppIHR5bGtvIHN3b2plIHBvxYLEhWN6ZW5pYVxyXG4gICAgICAgIHF1ZXJ5ID0gcXVlcnkuZXEoJ2NoYW5nZWRfYnknLCB1c2VyLmlkKVxyXG4gICAgICB9IGVsc2UgaWYgKFsnanVuaW9yX21hbmFnZXInLCAnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInXS5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgICAgLy8gTWVuZWTFvGVyb3dpZSB3aWR6xIUgcG/FgsSFY3plbmlhIHogaWNoIGxva2FsaXphY2ppXHJcbiAgICAgICAgaWYgKGZpbHRlci5sb2NhdGlvbklkKSB7XHJcbiAgICAgICAgICAvLyBKZcWbbGkgd3licmFubyBrb25rcmV0bsSFIGxva2FsaXphY2rEmSwgZmlsdHJ1aiBwbyBuaWVqXHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRzLmxvY2F0aW9uX2lkJywgZmlsdGVyLmxvY2F0aW9uSWQpXHJcbiAgICAgICAgfSBlbHNlIGlmICh1c2VyLmxvY2F0aW9uX2lkKSB7XHJcbiAgICAgICAgICAvLyBKZcWbbGkgbmllIHd5YnJhbm8gbG9rYWxpemFjamksIHBva2HFvCB6IGxva2FsaXphY2ppIHXFvHl0a293bmlrYVxyXG4gICAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2xpZW50cy5sb2NhdGlvbl9pZCcsIHVzZXIubG9jYXRpb25faWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKFsnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSkpIHtcclxuICAgICAgICAvLyBTemVmIGkgYWRtaW4gd2lkesSFIHdzenlzdGtvLCBvcGNqb25hbG5pZSBmaWx0cm93YW5lIHBvIGxva2FsaXphY2ppXHJcbiAgICAgICAgaWYgKGZpbHRlci5sb2NhdGlvbklkKSB7XHJcbiAgICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRzLmxvY2F0aW9uX2lkJywgZmlsdGVyLmxvY2F0aW9uSWQpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBEb2RhdGtvd2UgZmlsdHJ5IGN6YXNvd2VcclxuICAgICAgaWYgKGZpbHRlci5zdGFydERhdGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmd0ZSgndGltZXN0YW1wJywgZmlsdGVyLnN0YXJ0RGF0ZSlcclxuICAgICAgfVxyXG4gICAgICBpZiAoZmlsdGVyLmVuZERhdGUpIHtcclxuICAgICAgICBxdWVyeSA9IHF1ZXJ5Lmx0ZSgndGltZXN0YW1wJywgZmlsdGVyLmVuZERhdGUpXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHsgZGF0YTogY2FsbExvZ3MsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxyXG5cclxuICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHBvxYLEhWN6ZcWEOicsIGVycm9yKVxyXG4gICAgICAgIHRocm93IGVycm9yXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmICghY2FsbExvZ3MgfHwgY2FsbExvZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk54gQnJhayBwb8WCxIVjemXFhCBkbGEgcG9kYW55Y2gga3J5dGVyacOzdycpXHJcbiAgICAgICAgcmV0dXJuIFtdXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIFBvYmllcnogaW5mb3JtYWNqZSBvIHXFvHl0a293bmlrYWNoIChkendvbmnEhWN5Y2gpXHJcbiAgICAgIGNvbnN0IGNhbGxlcklkcyA9IFsuLi5uZXcgU2V0KGNhbGxMb2dzLm1hcChsb2cgPT4gbG9nLmNoYW5nZWRfYnkpKV1cclxuICAgICAgY29uc3QgeyBkYXRhOiBjYWxsZXJzLCBlcnJvcjogY2FsbGVyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAgIC5mcm9tKCd1c2VycycpXHJcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgYXZhdGFyX3VybCcpXHJcbiAgICAgICAgLmluKCdpZCcsIGNhbGxlcklkcylcclxuXHJcbiAgICAgIGlmIChjYWxsZXJzRXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3c6JywgY2FsbGVyc0Vycm9yKVxyXG4gICAgICAgIC8vIEtvbnR5bnV1aiBiZXogc3pjemVnw7PFgsOzdyB1xbx5dGtvd25pa8Ozd1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBTdHfDs3J6IG1hcMSZIHXFvHl0a293bmlrw7N3XHJcbiAgICAgIGNvbnN0IGNhbGxlcnNNYXAgPSAoY2FsbGVycyB8fCBbXSkucmVkdWNlKChhY2MsIGNhbGxlcikgPT4ge1xyXG4gICAgICAgIGFjY1tjYWxsZXIuaWRdID0gY2FsbGVyXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxyXG5cclxuICAgICAgICAgICAgIC8vIFByemVrc3p0YcWCxIcgZGFuZSBuYSBmb3JtYXQgQ2FsbFJlY29yZFxyXG4gICAgICAgY29uc3QgY2FsbFJlY29yZHM6IENhbGxSZWNvcmRbXSA9IGNhbGxMb2dzLm1hcChsb2cgPT4ge1xyXG4gICAgICAgICBjb25zdCBjbGllbnQgPSBBcnJheS5pc0FycmF5KGxvZy5jbGllbnRzKSA/IGxvZy5jbGllbnRzWzBdIDogbG9nLmNsaWVudHNcclxuICAgICAgICAgY29uc3QgY2FsbGVyID0gY2FsbGVyc01hcFtsb2cuY2hhbmdlZF9ieV1cclxuICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBBcnJheS5pc0FycmF5KGNsaWVudD8ubG9jYXRpb24pID8gY2xpZW50LmxvY2F0aW9uWzBdIDogY2xpZW50Py5sb2NhdGlvblxyXG5cclxuICAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICBpZDogbG9nLmlkLFxyXG4gICAgICAgICAgIGNsaWVudF9pZDogbG9nLmNsaWVudF9pZCxcclxuICAgICAgICAgICBjbGllbnRfbmFtZTogY2xpZW50ID8gYCR7Y2xpZW50LmZpcnN0X25hbWV9ICR7Y2xpZW50Lmxhc3RfbmFtZX1gLnRyaW0oKSA6ICdOaWV6bmFueSBrbGllbnQnLFxyXG4gICAgICAgICAgIGNsaWVudF9jb21wYW55OiBjbGllbnQ/LmNvbXBhbnlfbmFtZSB8fCAnQnJhayBpbmZvcm1hY2ppJyxcclxuICAgICAgICAgICBjbGllbnRfcGhvbmU6IGNsaWVudD8ucGhvbmUgfHwgJ0JyYWsgdGVsZWZvbnUnLFxyXG4gICAgICAgICAgIGNhbGxlZF9ieTogbG9nLmNoYW5nZWRfYnksXHJcbiAgICAgICAgICAgY2FsbGVyX25hbWU6IGNhbGxlcj8uZnVsbF9uYW1lIHx8ICdOaWV6bmFueSB1xbx5dGtvd25paycsXHJcbiAgICAgICAgICAgY2FsbGVyX3JvbGU6IGNhbGxlcj8ucm9sZSB8fCAndW5rbm93bicsXHJcbiAgICAgICAgICAgY2FsbGVyX2F2YXRhcjogY2FsbGVyPy5hdmF0YXJfdXJsIHx8IG51bGwsXHJcbiAgICAgICAgICAgY2FsbF90aW1lc3RhbXA6IGxvZy50aW1lc3RhbXAsXHJcbiAgICAgICAgICAgbG9jYXRpb25faWQ6IGNsaWVudD8ubG9jYXRpb25faWQgfHwgbnVsbCxcclxuICAgICAgICAgICBsb2NhdGlvbl9uYW1lOiBsb2NhdGlvbj8ubmFtZSB8fCBudWxsLFxyXG4gICAgICAgICAgIGxvY2F0aW9uX2NvZGU6IGxvY2F0aW9uPy5jb2RlIHx8IG51bGxcclxuICAgICAgICAgfVxyXG4gICAgICAgfSlcclxuXHJcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyAke2NhbGxSZWNvcmRzLmxlbmd0aH0gcmVrb3Jkw7N3IHBvxYLEhWN6ZcWEYClcclxuICAgICAgcmV0dXJuIGNhbGxSZWNvcmRzXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNhbGxzQXBpLmdldENhbGxzOicsIGVycm9yKVxyXG4gICAgICB0aHJvdyBlcnJvclxyXG4gICAgfVxyXG4gIH0sXHJcblxyXG4gIC8qKlxyXG4gICAqIPCfk4ogUE9CSUVSWiBTVEFUWVNUWUtJIFBPxYHEhENaRcWDXHJcbiAgICogXHJcbiAgICogUG9iaWVyYSBzdGF0eXN0eWtpIHBvxYLEhWN6ZcWEIGRsYSB3eWJyYW5lZ28gb2tyZXN1XHJcbiAgICovXHJcbiAgYXN5bmMgZ2V0Q2FsbHNTdGF0cyh1c2VyOiBVc2VyLCBmaWx0ZXI6IENhbGxzRmlsdGVyID0ge30pOiBQcm9taXNlPHtcclxuICAgIHRvdGFsQ2FsbHM6IG51bWJlclxyXG4gICAgY2FsbHNUb2RheTogbnVtYmVyXHJcbiAgICBjYWxsc1RoaXNXZWVrOiBudW1iZXJcclxuICAgIGNhbGxzVGhpc01vbnRoOiBudW1iZXJcclxuICAgIHRvcENhbGxlcnM6IEFycmF5PHsgbmFtZTogc3RyaW5nLCByb2xlOiBzdHJpbmcsIGNvdW50OiBudW1iZXIsIGF2YXRhcj86IHN0cmluZyB9PlxyXG4gIH0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIHBvxYLEhWN6ZcWELi4uJylcclxuXHJcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcclxuICAgICAgY29uc3QgdG9kYXkgPSBub3cudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcbiAgICAgIGNvbnN0IHdlZWtTdGFydCA9IG5ldyBEYXRlKG5vdy5zZXREYXRlKG5vdy5nZXREYXRlKCkgLSBub3cuZ2V0RGF5KCkpKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cclxuICAgICAgY29uc3QgbW9udGhTdGFydCA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkudG9JU09TdHJpbmcoKVxyXG5cclxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUgcG/FgsSFY3plbmlhIHpnb2RuaWUgeiB1cHJhd25pZW5pYW1pXHJcbiAgICAgIGNvbnN0IGFsbENhbGxzID0gYXdhaXQgY2FsbHNBcGkuZ2V0Q2FsbHModXNlciwgeyAuLi5maWx0ZXIsIGxpbWl0OiAxMDAwIH0pXHJcblxyXG4gICAgICAvLyBabGljeiBzdGF0eXN0eWtpXHJcbiAgICAgIGNvbnN0IHRvdGFsQ2FsbHMgPSBhbGxDYWxscy5sZW5ndGhcclxuICAgICAgY29uc3QgY2FsbHNUb2RheSA9IGFsbENhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuY2FsbF90aW1lc3RhbXAuc3RhcnRzV2l0aCh0b2RheSkpLmxlbmd0aFxyXG4gICAgICBjb25zdCBjYWxsc1RoaXNXZWVrID0gYWxsQ2FsbHMuZmlsdGVyKGNhbGwgPT4gY2FsbC5jYWxsX3RpbWVzdGFtcCA+PSB3ZWVrU3RhcnQpLmxlbmd0aFxyXG4gICAgICBjb25zdCBjYWxsc1RoaXNNb250aCA9IGFsbENhbGxzLmZpbHRlcihjYWxsID0+IGNhbGwuY2FsbF90aW1lc3RhbXAgPj0gbW9udGhTdGFydCkubGVuZ3RoXHJcblxyXG4gICAgICAvLyBUb3AgZHp3b25pxIVjeVxyXG4gICAgICBjb25zdCBjYWxsZXJDb3VudHMgPSBhbGxDYWxscy5yZWR1Y2UoKGFjYywgY2FsbCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleSA9IGNhbGwuY2FsbGVkX2J5XHJcbiAgICAgICAgaWYgKCFhY2Nba2V5XSkge1xyXG4gICAgICAgICAgYWNjW2tleV0gPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IGNhbGwuY2FsbGVyX25hbWUsXHJcbiAgICAgICAgICAgIHJvbGU6IGNhbGwuY2FsbGVyX3JvbGUsXHJcbiAgICAgICAgICAgIGF2YXRhcjogY2FsbC5jYWxsZXJfYXZhdGFyLFxyXG4gICAgICAgICAgICBjb3VudDogMFxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBhY2Nba2V5XS5jb3VudCsrXHJcbiAgICAgICAgcmV0dXJuIGFjY1xyXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCB7IG5hbWU6IHN0cmluZywgcm9sZTogc3RyaW5nLCBhdmF0YXI/OiBzdHJpbmcsIGNvdW50OiBudW1iZXIgfT4pXHJcblxyXG4gICAgICBjb25zdCB0b3BDYWxsZXJzID0gT2JqZWN0LnZhbHVlcyhjYWxsZXJDb3VudHMpXHJcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxyXG4gICAgICAgIC5zbGljZSgwLCA1KVxyXG5cclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0b3RhbENhbGxzLFxyXG4gICAgICAgIGNhbGxzVG9kYXksXHJcbiAgICAgICAgY2FsbHNUaGlzV2VlayxcclxuICAgICAgICBjYWxsc1RoaXNNb250aCxcclxuICAgICAgICB0b3BDYWxsZXJzXHJcbiAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgc3RhdHlzdHlrIHBvxYLEhWN6ZcWEOicsIGVycm9yKVxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRvdGFsQ2FsbHM6IDAsXHJcbiAgICAgICAgY2FsbHNUb2RheTogMCxcclxuICAgICAgICBjYWxsc1RoaXNXZWVrOiAwLFxyXG4gICAgICAgIGNhbGxzVGhpc01vbnRoOiAwLFxyXG4gICAgICAgIHRvcENhbGxlcnM6IFtdXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn0iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSIsImdldEF2YXRhclVybCIsImF2YXRhclVybCIsInN0YXJ0c1dpdGgiLCJpbmNsdWRlcyIsImRhdGEiLCJzdG9yYWdlIiwiZnJvbSIsImdldFB1YmxpY1VybCIsInB1YmxpY1VybCIsImVycm9yIiwiY29uc29sZSIsIndhcm4iLCJzdG9yYWdlQXBpIiwidXBsb2FkQ1NWIiwiZmlsZSIsInVzZXIiLCJjbGVhbkZpbGVOYW1lIiwibmFtZSIsInJlcGxhY2UiLCJ0b0xvd2VyQ2FzZSIsImZpbGVOYW1lIiwiaWQiLCJEYXRlIiwibm93IiwiZmlsZVBhdGgiLCJsb2ciLCJ1cGxvYWQiLCJjYWNoZUNvbnRyb2wiLCJ1cHNlcnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJwYXRoIiwiZGVsZXRlRmlsZSIsInJlbW92ZSIsImNzdkltcG9ydEFwaSIsInBhcnNlQ1NWIiwiY3N2VGV4dCIsImxpbmVzIiwic3BsaXQiLCJmaWx0ZXIiLCJsaW5lIiwidHJpbSIsImxlbmd0aCIsInBhcnNlQ1NWTGluZSIsInJlc3VsdCIsImN1cnJlbnQiLCJpblF1b3RlcyIsImkiLCJjaGFyIiwicHVzaCIsIm1hcCIsImNlbGwiLCJoZWFkZXJzIiwicm93cyIsInNsaWNlIiwibWFwSGVhZGVycyIsIm1hcHBpbmciLCJmaWVsZE1hcHBpbmdzIiwiZmllbGRzIiwiZGJGaWVsZCIsImZpZWxkTWFwcGluZyIsImhlYWRlciIsInNvbWUiLCJmaWVsZCIsInZhbGlkYXRlUmVxdWlyZWRGaWVsZHMiLCJyZXF1aXJlZEZpZWxkcyIsIm1pc3NpbmdGaWVsZHMiLCJqb2luIiwiYW5hbHl6ZUNvbHVtbnMiLCJhbGxQb3NzaWJsZUZpZWxkcyIsImRpc3BsYXlOYW1lIiwicmVxdWlyZWQiLCJmb3VuZCIsIm1pc3NpbmciLCJvcHRpb25hbCIsImZvckVhY2giLCJyb3dUb0NsaWVudCIsInJvdyIsImxvY2F0aW9uSWQiLCJnZXRGaWVsZCIsImRlZmF1bHRWYWx1ZSIsImluZGV4IiwidW5kZWZpbmVkIiwidmFsdWUiLCJyYXdTdGF0dXMiLCJ2YWxpZFN0YXR1c2VzIiwic3RhdHVzIiwiZmlyc3RfbmFtZSIsImxhc3RfbmFtZSIsImNvbXBhbnlfbmFtZSIsIm5pcCIsInBob25lIiwiZW1haWwiLCJ3ZWJzaXRlIiwibm90ZXMiLCJlZGl0ZWRfYnkiLCJlZGl0ZWRfYXQiLCJ0b0lTT1N0cmluZyIsIm93bmVyX2lkIiwibG9jYXRpb25faWQiLCJsYXN0X2VkaXRlZF9ieV9uYW1lIiwiZnVsbF9uYW1lIiwibGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCIsImF2YXRhcl91cmwiLCJpbXBvcnRDU1YiLCJvblByb2dyZXNzIiwidG90YWwiLCJ0ZXh0IiwiY29sdW1uQW5hbHlzaXMiLCJyZXN1bHRzIiwic3VjY2VzcyIsImVycm9ycyIsImV2ZXJ5IiwiY2xpZW50RGF0YSIsImNsaWVudHNBcGkiLCJwcm9ncmVzcyIsIk1hdGgiLCJmbG9vciIsInBlcm1pc3Npb25zQXBpIiwiY2FuVmlldyIsImNsaWVudCIsInJvbGUiLCJzYW1lTG9jYXRpb24iLCJjYW5FZGl0IiwiY2FuRGVsZXRlIiwiY2FuQXNzaWduQ2xpZW50cyIsImNhbkNoYW5nZVJvbGVzIiwiY2FuQWNjZXNzQWR2YW5jZWRSZXBvcnRzIiwiY2FuVmlld0FsbExvY2F0aW9ucyIsImNhbkZpbHRlckJ5TG9jYXRpb24iLCJjYW5NYW5hZ2VVc2VyIiwidXNlcjEiLCJ1c2VyMiIsImhpZ2hlckluSGllcmFyY2h5Iiwicm9sZV9oaWVyYXJjaHlfbGV2ZWwiLCJ0ZXN0QmFzaWNRdWVyeSIsInNlbGVjdCIsImxpbWl0IiwiZ2V0Q2xpZW50c1BhZ2luYXRlZCIsImZpbHRlcnMiLCJxdWVyeSIsImNvdW50Iiwib3JkZXIiLCJhc2NlbmRpbmciLCJkYXRlIiwiZ3RlIiwiZXEiLCJlbXBsb3llZSIsInNlYXJjaCIsInNlYXJjaFRlcm0iLCJvciIsImxvY2F0aW9uIiwicGFnZSIsInBhZ2VTaXplIiwidG8iLCJyYW5nZSIsImNsaWVudHMiLCJ0cmFuc2Zvcm1lZENsaWVudHMiLCJvd25lciIsIkFycmF5IiwiaXNBcnJheSIsImNsaWVudHNXaXRoT3duZXJzIiwiY2xpZW50c1dpdGhvdXRPd25lcnMiLCJvd25lcl9uYW1lIiwib3duZXJfZW1haWwiLCJnZXRDbGllbnRzIiwic2FmZVN0YXR1cyIsImNsaWVudFRvQ3JlYXRlIiwic3RhdHVzX2NoYW5nZWRfYXQiLCJyZW1pbmRlciIsImluc2VydCIsInNpbmdsZSIsInVwZGF0ZUNsaWVudCIsInVwZGF0ZXMiLCJjdXJyZW50Q2xpZW50IiwiZmV0Y2hFcnJvciIsInVwZGF0ZWREYXRhIiwic3RhdHVzQ2hhbmdlZCIsImZpbmFsRGF0YSIsInVwZGF0ZWRfYXQiLCJ1cGRhdGUiLCJjb2RlIiwiZGV0YWlscyIsImhpbnQiLCJ1cGRhdGVMYXN0UGhvbmVDbGljayIsImNsaWVudElkIiwibGFzdF9waG9uZV9jbGljayIsImFjdGl2aXR5TG9nc0FwaSIsImNyZWF0ZUxvZyIsImNsaWVudF9pZCIsImNoYW5nZWRfYnkiLCJjaGFuZ2VfdHlwZSIsImZpZWxkX2NoYW5nZWQiLCJvbGRfdmFsdWUiLCJuZXdfdmFsdWUiLCJsb2dFcnJvciIsImRlbGV0ZUNsaWVudCIsImRlbGV0ZSIsImFzc2lnbkNsaWVudCIsIm5ld093bmVySWQiLCJjbGVhbnVwSW52YWxpZE93bmVySWRzIiwiYWxsQ2xpZW50cyIsImNsaWVudHNFcnJvciIsIm5vdCIsImNsZWFuZWQiLCJvd25lcklkcyIsIlNldCIsImMiLCJleGlzdGluZ1VzZXJzIiwidXNlcnNFcnJvciIsImluIiwiZXhpc3RpbmdVc2VySWRzIiwidSIsImNsaWVudHNUb0NsZWFuIiwiY2xlYW51cFJlc3VsdHMiLCJlcnIiLCJTdHJpbmciLCJjbGVhbmVkQ2xpZW50cyIsInN1YnNjcmliZVRvQ2hhbmdlcyIsImNhbGxiYWNrIiwiY2hhbm5lbCIsIm9uIiwiZXZlbnQiLCJzY2hlbWEiLCJ0YWJsZSIsInN1YnNjcmliZSIsInN1YnNjcmliZVRvT3duZXJDaGFuZ2VzIiwiY2hhbm5lbE5hbWUiLCJwYXlsb2FkIiwiZXZlbnRUeXBlIiwiY2hhbmdlcyIsIm5ldyIsImNhbGxiYWNrRXJyb3IiLCJzZXRUaW1lb3V0Iiwic3RhdGUiLCJ1bnN1YnNjcmliZSIsImdldENsaWVudHNXaXRoUmVtaW5kZXJzIiwidGFyZ2V0RGF0ZSIsInRvZGF5IiwiY2xpZW50c1dpdGhUb2RheVJlbWluZGVycyIsImVuYWJsZWQiLCJ0aW1lIiwibm90ZSIsInNvcnRlZENsaWVudHMiLCJzb3J0IiwiYSIsImIiLCJ0aW1lQSIsInRpbWVCIiwibG9jYWxlQ29tcGFyZSIsImdldERhaWx5U2NoZWR1bGVXaXRoQ2xpZW50cyIsImNsaWVudHNXaXRoUmVtaW5kZXJzIiwidGltZVNsb3RzIiwidHlwZSIsImNvbG9yIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInN0YXR1c2VzIiwic2xvdHNXaXRoQ2xpZW50cyIsInNsb3QiLCJzbG90Q2xpZW50cyIsInJlbWluZGVyVGltZSIsImhvdXJzIiwibWludXRlcyIsIk51bWJlciIsInJlbWluZGVyTWludXRlcyIsInN0YXJ0SG91cnMiLCJzdGFydE1pbnMiLCJlbmRIb3VycyIsImVuZE1pbnMiLCJzdGFydE1pbnV0ZXMiLCJlbmRNaW51dGVzIiwidGltZUluU2xvdCIsInN0YXR1c01hdGNoZXMiLCJyZWR1Y2UiLCJzdW0iLCJnZXRMb2dzIiwiZ2V0Q2xpZW50SGlzdG9yeSIsImF1dGgiLCJnZXRVc2VyIiwiSlNPTiIsInN0cmluZ2lmeSIsInVzZXJJZHMiLCJCb29sZWFuIiwidXNlcnMiLCJ1c2Vyc01hcCIsImFjYyIsInRpbWVzdGFtcCIsImVkaXRvcl9uYW1lIiwiZWRpdG9yX3JvbGUiLCJlZGl0b3JfYXZhdGFyIiwidGVzdEFjdGl2aXR5TG9nc0FjY2VzcyIsInVzZXJQcm9maWxlIiwidXNlckVycm9yIiwicmVwb3J0c0FwaSIsImdldEVtcGxveWVlU3RhdHMiLCJhbGxFbXBsb3llZXMiLCJlIiwiZW1wbG95ZWVJZHMiLCJlbXAiLCJleGlzdGluZ1N0YXRzIiwic3RhdHNFcnJvciIsInRvZGF5Q2xpZW50cyIsImx0IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ5ZXN0ZXJkYXlTdHIiLCJ5ZXN0ZXJkYXlDbGllbnRzIiwieWVzdGVyZGF5RXJyb3IiLCJhbGxPd25lZENsaWVudHMiLCJvd25lZEVycm9yIiwidG9kYXlTdGF0cyIsInVzZXJJZCIsImNhbnZhcyIsImFudHlzYWxlIiwic2FsZSIsIm90aGVyIiwieWVzdGVyZGF5U3RhdHMiLCJvd25lZENsaWVudHNTdGF0cyIsIm93bmVySWQiLCJicmFrX2tvbnRha3R1IiwibmllX3phaW50ZXJlc293YW55IiwiemRlbmVyd293YW55Iiwic3RhdHNNYXAiLCJNYXAiLCJzdGF0Iiwic2V0IiwidXNlcl9pZCIsImVuaGFuY2VkU3RhdHMiLCJiYXNpY1N0YXQiLCJnZXQiLCJkYWlseV90YXJnZXQiLCJjb21taXNzaW9uX3JhdGUiLCJtb250aGx5X2NhbnZhcyIsIm1vbnRobHlfYW50eXNhbGUiLCJtb250aGx5X3NhbGUiLCJ0b3RhbF9jb21taXNzaW9ucyIsInRvdGFsX3BlbmFsdGllcyIsImN1c3RvbV9jbGllbnRzX2NvdW50IiwiY3VzdG9tX3RvdGFsX3BheW1lbnRzIiwiY3JlYXRlZF9hdCIsInRvZGF5Rm9yVXNlciIsInllc3RlcmRheUZvclVzZXIiLCJvd25lZEZvclVzZXIiLCJ5ZXN0ZXJkYXlTaG9ydGFnZSIsIm1heCIsInBlbmFsdHkiLCJjb21taXNzaW9uIiwiZGFpbHlfYWNoaWV2ZWQiLCJ5ZXN0ZXJkYXlfc2hvcnRhZ2UiLCJzdGF0dXNfY2hhbmdlc190b2RheSIsInMiLCJnZXREYWlseVN1bW1hcnkiLCJzdGF0dXNCcmVha2Rvd24iLCJlbXBsb3llZVN0YXRzIiwidG90YWxDbGllbnRzIiwiZ2V0V2Vla2x5U3VtbWFyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ1cGRhdGVFbXBsb3llZVN0YXRzIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzIiwiY2xpZW50c0NvdW50IiwidG90YWxQYXltZW50cyIsImxlZ2FjeVVwZGF0ZXMiLCJtZXRob2QxRXJyb3IiLCJpbnNlcnREYXRhIiwib25Db25mbGljdCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJtZXRob2QyRXJyb3IiLCJjcmVhdGVFbXBsb3llZVN0YXRzIiwiZ2V0RGF0YWJhc2VVdGlsaXphdGlvbiIsInRvdGFsQ291bnQiLCJ0b3RhbEVycm9yIiwiaGVhZCIsIndpdGhPd25lckNvdW50Iiwid2l0aE93bmVyRXJyb3IiLCJ3aXRob3V0T3duZXJDb3VudCIsInV0aWxpemF0aW9uUGVyY2VudGFnZSIsInJvdW5kIiwid2l0aE93bmVyIiwid2l0aG91dE93bmVyIiwicmVzZXRBbGxDbGllbnRPd25lcnMiLCJiZWZvcmVDb3VudCIsImJlZm9yZUVycm9yIiwicmVzZXRDb3VudCIsImdldEVtcGxveWVlQWN0aXZpdHlTdGF0cyIsImVtcGxveWVlcyIsImFjdGl2aXR5U3RhdHMiLCJzdGF0cyIsImxhdGVzdFN0YXRzTWFwIiwiaGFzIiwic2l6ZSIsImFjdGl2aXR5U3RhdCIsImN1cnJlbnREYXRlIiwiY3VycmVudE1vbnRoIiwiZ2V0TW9udGgiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwibW9udGhTdGFydCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJtb250aEVuZCIsInBlcmlvZF90eXBlIiwicGVyaW9kX3N0YXJ0IiwicGVyaW9kX2VuZCIsInRvdGFsX3dvcmtfbWludXRlcyIsImF2ZXJhZ2VfZGFpbHlfbWludXRlcyIsImV4cGVjdGVkX3dvcmtfbWludXRlcyIsImVmZmljaWVuY3lfcGVyY2VudGFnZSIsInRvdGFsX2FjdGl2aXRpZXMiLCJhdmVyYWdlX2RhaWx5X2FjdGl2aXRpZXMiLCJkYXlzX3dvcmtlZCIsImRheXNfYWJzZW50Iiwid2l0aERhdGEiLCJyIiwid2l0aG91dERhdGEiLCJnZXRTYWxlc1RyZW5kcyIsImx0ZSIsImZpbHRlcmVkRGF0YSIsImRheU5hbWVzIiwidHJlbmRzIiwiZGF5TmFtZSIsImdldERheSIsImRheSIsImdldFBob25lQ2xpY2tzU3RhdHMiLCJlbXBsb3llZXNFcnJvciIsInRvdGFsUGhvbmVDYWxscyIsInRvdGFsUGhvbmVDYWxsc1RvZGF5IiwiYWxsUGhvbmVDbGlja3MiLCJhbGxDbGlja3NFcnJvciIsInRvZGF5UGhvbmVDbGlja3MiLCJ0b2RheUNsaWNrc0Vycm9yIiwiZ2V0VGVhbVBlcmZvcm1hbmNlVHJlbmRzIiwidGVsZWZvbnkiLCJrb253ZXJzamEiLCJrbGllbmNpIiwicGhvbmVDbGlja3MiLCJwaG9uZUVycm9yIiwiY2xpZW50Q2hhbmdlcyIsImNoYW5nZXNFcnJvciIsInRyZW5kc0RhdGEiLCJzYWxlcyIsImNsaWNrIiwiY2hhbmdlIiwiZGF5RGF0YSIsImdldE15UGVyc29uYWxTdGF0cyIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJwaG9uZUNhbGxzVGhpc01vbnRoIiwibXlDbGllbnRzIiwic3RhdHVzTWFwIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJzdGF0dXNDb2xvcnMiLCJjbGllbnRTdGF0cyIsImVudHJpZXMiLCJzYWxlQ2xpZW50cyIsImNvbW1pc3Npb25QZXJTYWxlIiwiY29tbWlzc2lvblRvdGFsIiwiYWN0aXZpdGllcyIsImFjdGl2aXRpZXNFcnJvciIsImRhaWx5QWN0aXZpdGllcyIsImFjdGl2aXR5IiwiaG91ciIsImdldEhvdXJzIiwiYWRkIiwid29ya2luZ0hvdXJzVGhpc01vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInNvcnREYXRlIiwiZ2V0VGltZSIsInRvdGFsV29ya2luZ0hvdXJzIiwidmFsdWVzIiwidG90YWxXb3JraW5nRGF5cyIsInN0YWNrIiwic2F2ZVdvcmtpbmdIb3VycyIsImRhdGVQYXJ0cyIsInllYXIiLCJwYXJzZUludCIsIm1vbnRoIiwiZGF5T2ZXZWVrIiwid29ya19kYXRlIiwiaG91cnNfd29ya2VkIiwic3RvcmFnZUtleSIsImV4aXN0aW5nRGF0YSIsInBhcnNlIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJzdG9yYWdlRXJyb3IiLCJnZXRXb3JraW5nSG91cnNGb3JNb250aCIsInN0b3JlZERhdGEiLCJob3Vyc01hcCIsImtleXMiLCJlbnRyeSIsInN0YXJ0RGF0ZVN0ciIsImVuZERhdGVTdHIiLCJnZXRNb250aGx5RW1wbG95ZWVQZXJmb3JtYW5jZSIsInJwYyIsInRhcmdldF95ZWFyIiwidGFyZ2V0X21vbnRoIiwiZ2V0VGVhbVN1bW1hcnkiLCJnZXRUb3BQZXJmb3JtZXJzIiwibGltaXRfY291bnQiLCJsb2NhdGlvbnNBcGkiLCJnZXRBbGxMb2NhdGlvbnMiLCJnZXRBbGxMb2NhdGlvbnNXaXRoTWFuYWdlcnMiLCJ0cmFuc2Zvcm1lZERhdGEiLCJwcm9qZWN0X21hbmFnZXIiLCJnZXRVc2VyQWNjZXNzaWJsZUxvY2F0aW9ucyIsImxvY2F0aW9uRXJyb3IiLCJmYWxsYmFja0Vycm9yIiwiZ2V0TG9jYXRpb25CeUlkIiwidXBkYXRlTG9jYXRpb25Qcm9qZWN0TWFuYWdlciIsInByb2plY3RNYW5hZ2VySWQiLCJwcm9qZWN0X21hbmFnZXJfaWQiLCJhdXRoQXBpIiwic2lnbkluIiwicGFzc3dvcmQiLCJzaWduSW5XaXRoUGFzc3dvcmQiLCJzaWduVXAiLCJmdWxsTmFtZSIsIm9wdGlvbnMiLCJzaWduT3V0IiwiZ2V0Q3VycmVudFVzZXIiLCJnZXRVc2VyUHJvZmlsZSIsImdldEFsbFVzZXJzIiwiZ2V0U2Vzc2lvbiIsInNlc3Npb24iLCJvbkF1dGhTdGF0ZUNoYW5nZSIsInVwZGF0ZVVzZXJMYW5ndWFnZSIsImxhbmd1YWdlIiwiZ2V0QWxsVXNlcnNGb3JEaXNwbGF5IiwicHJvZmlsZUVycm9yIiwiY3JpdGljYWxFcnJvciIsImdldENhbnZhc1N0YXR1c0NvbG9yIiwic3RhdHVzQ2hhbmdlZEF0IiwiZGVzY3JpcHRpb24iLCJwcmlvcml0eSIsInN0YXR1c0RhdGUiLCJkYXlzRGlmZiIsImdldENhbnZhc0NsaWVudHNXaXRoUHJpb3JpdHkiLCJjYW52YXNDbGllbnRzIiwicHJpb3JpdHlTdGF0cyIsImhpZ2giLCJtZWRpdW0iLCJsb3ciLCJkYXNoYm9hcmRBcGkiLCJnZXREYXNoYm9hcmRNZXRyaWNzIiwiY2hlY2tWaWV3RnJlc2huZXNzIiwibGFzdFVwZGF0ZSIsIm1pbnV0ZXNTaW5jZVVwZGF0ZSIsImlzU3RhbGUiLCJsYXN0X3VwZGF0ZWQiLCJ0ZWFtQXBpIiwiZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXciLCJnZXRBY3RpdmVVc2Vyc05vdyIsImdldFByb2R1Y3Rpdml0eVN0YXRzIiwidG90YWxVc2VycyIsImF2Z0RhaWx5IiwiYWN0aXZpdGllc18yNGgiLCJhdmdXZWVrbHkiLCJhY3Rpdml0aWVzXzdkIiwiYXZnRGFpbHlBY3Rpdml0aWVzIiwiYXZnV2Vla2x5QWN0aXZpdGllcyIsInRvdGFsRGFpbHlBY3Rpdml0aWVzIiwidG90YWxXZWVrbHlBY3Rpdml0aWVzIiwicGVyZm9ybWFuY2VBcGkiLCJnZXRTeXN0ZW1NZXRyaWNzIiwidGFibGVTdGF0cyIsImdldFRhYmxlU3RhdHMiLCJ0YWJsZU5hbWUiLCJ0YWJsZV9uYW1lIiwicmVjb3JkX2NvdW50IiwidGFibGVfc2l6ZSIsInRhYmxlcyIsInJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyIsImFyY2hpdmVPbGRMb2dzIiwib3B0aW1pemVEYXRhYmFzZSIsImNhbGxzQXBpIiwiZ2V0Q2FsbHMiLCJjYWxsTG9ncyIsImNhbGxlcklkcyIsImNhbGxlcnMiLCJjYWxsZXJzRXJyb3IiLCJjYWxsZXJzTWFwIiwiY2FsbGVyIiwiY2FsbFJlY29yZHMiLCJjbGllbnRfbmFtZSIsImNsaWVudF9jb21wYW55IiwiY2xpZW50X3Bob25lIiwiY2FsbGVkX2J5IiwiY2FsbGVyX25hbWUiLCJjYWxsZXJfcm9sZSIsImNhbGxlcl9hdmF0YXIiLCJjYWxsX3RpbWVzdGFtcCIsImxvY2F0aW9uX25hbWUiLCJsb2NhdGlvbl9jb2RlIiwiZ2V0Q2FsbHNTdGF0cyIsIndlZWtTdGFydCIsImFsbENhbGxzIiwidG90YWxDYWxscyIsImNhbGxzVG9kYXkiLCJjYWxsIiwiY2FsbHNUaGlzV2VlayIsImNhbGxzVGhpc01vbnRoIiwiY2FsbGVyQ291bnRzIiwia2V5IiwiYXZhdGFyIiwidG9wQ2FsbGVycyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/performance-check/route.ts */ \"(rsc)/./app/api/admin/performance-check/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"standalone\"\r\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/admin/performance-check/route\",\r\n        pathname: \"/api/admin/performance-check\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/admin/performance-check/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\kkacp\\\\Desktop\\\\SpectresGroupCRM\\\\dashboard\\\\app\\\\api\\\\admin\\\\performance-check\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        workAsyncStorage,\r\n        workUnitAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZwZXJmb3JtYW5jZS1jaGVjayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0Q7QUFDakk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDMUY7QUFDQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcclxuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xyXG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XHJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxra2FjcFxcXFxEZXNrdG9wXFxcXFNwZWN0cmVzR3JvdXBDUk1cXFxcZGFzaGJvYXJkXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxccGVyZm9ybWFuY2UtY2hlY2tcXFxccm91dGUudHNcIjtcclxuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXHJcbi8vIG1vZHVsZS5cclxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXHJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xyXG4gICAgZGVmaW5pdGlvbjoge1xyXG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXHJcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCIsXHJcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9wZXJmb3JtYW5jZS1jaGVja1wiLFxyXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXHJcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCJcclxuICAgIH0sXHJcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGtrYWNwXFxcXERlc2t0b3BcXFxcU3BlY3RyZXNHcm91cENSTVxcXFxkYXNoYm9hcmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxwZXJmb3JtYW5jZS1jaGVja1xcXFxyb3V0ZS50c1wiLFxyXG4gICAgbmV4dENvbmZpZ091dHB1dCxcclxuICAgIHVzZXJsYW5kXHJcbn0pO1xyXG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcclxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXHJcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXHJcbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcclxuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcclxuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XHJcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcclxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();