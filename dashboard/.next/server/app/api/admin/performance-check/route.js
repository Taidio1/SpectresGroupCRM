/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/performance-check/route";
exports.ids = ["app/api/admin/performance-check/route"];
exports.modules = {

/***/ "(rsc)/./app/api/admin/performance-check/route.ts":
/*!**************************************************!*\
  !*** ./app/api/admin/performance-check/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n\n/**\r\n * üîç PERFORMANCE MONITORING: System Performance Check\r\n * \r\n * Endpoint dla sprawdzania metryk wydajno≈õci systemu\r\n * \r\n * Zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\r\n */ function generateRecommendations(tableStats) {\n    const recommendations = [];\n    if (!tableStats || !Array.isArray(tableStats)) {\n        recommendations.push('Nie mo≈ºna sprawdziƒá statystyk tabel');\n        return recommendations;\n    }\n    // Sprawd≈∫ czy sƒÖ tabele do archiwizacji\n    const activeLogsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs');\n    if (activeLogsTable && activeLogsTable.record_count > 10000) {\n        recommendations.push(`Tabela activity_logs ma ${activeLogsTable.record_count} rekord√≥w - rozwa≈º archiwizacjƒô`);\n    }\n    // Sprawd≈∫ rozmiar g≈Ç√≥wnej tabeli\n    const clientsTable = tableStats.find((stat)=>stat.table_name === 'activity_logs_archive');\n    if (clientsTable && clientsTable.record_count > 50000) {\n        recommendations.push('Tabela archiwalna jest du≈ºa - rozwa≈º czyszczenie bardzo starych danych');\n    }\n    if (recommendations.length === 0) {\n        recommendations.push('System wydajno≈õciowy dzia≈Ça optymalnie');\n    }\n    return recommendations;\n}\nasync function GET() {\n    try {\n        console.log('üîç ADMIN: Sprawdzanie metryk wydajno≈õci systemu...');\n        // Sprawd≈∫ rozmiary tabel i statystyki\n        const tableStats = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.getSystemMetrics();\n        // Sprawd≈∫ ostatnie od≈õwie≈ºenie materializowanych widok√≥w\n        const viewFreshness = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.dashboardApi.checkViewFreshness();\n        // Generuj rekomendacje\n        const recommendations = generateRecommendations(tableStats);\n        console.log('‚úÖ ADMIN: Metryki wydajno≈õci pobrane pomy≈õlnie');\n        return Response.json({\n            success: true,\n            timestamp: new Date().toISOString(),\n            tableStats,\n            viewFreshness,\n            recommendations,\n            systemHealth: {\n                viewsStale: viewFreshness.isStale,\n                tablesHealthy: tableStats ? tableStats.length > 0 : false,\n                overallStatus: viewFreshness.isStale ? 'warning' : 'healthy'\n            }\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: B≈ÇƒÖd sprawdzania wydajno≈õci:', error);\n        let errorMessage = 'Nie uda≈Ço siƒô sprawdziƒá metryk wydajno≈õci';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString(),\n            recommendations: [\n                'Sprawd≈∫ po≈ÇƒÖczenie z bazƒÖ danych',\n                'Sprawd≈∫ uprawnienia u≈ºytkownika'\n            ]\n        }, {\n            status: 500\n        });\n    }\n}\n/**\r\n * üöÄ POST endpoint dla manualnej optymalizacji systemu\r\n */ async function POST() {\n    try {\n        console.log('üöÄ ADMIN: Uruchamiam pe≈ÇnƒÖ optymalizacjƒô systemu...');\n        const startTime = Date.now();\n        // Uruchom pe≈ÇnƒÖ optymalizacjƒô bazy danych\n        const optimizationResult = await _lib_supabase__WEBPACK_IMPORTED_MODULE_0__.performanceApi.optimizeDatabase();\n        const endTime = Date.now();\n        const duration = endTime - startTime;\n        console.log(`‚úÖ ADMIN: Optymalizacja zako≈Ñczona w ${duration}ms:`, optimizationResult);\n        return Response.json({\n            success: true,\n            message: optimizationResult,\n            duration: `${duration}ms`,\n            timestamp: new Date().toISOString(),\n            actions: [\n                'Zarchiwizowano stare logi',\n                'Od≈õwie≈ºono materializowane widoki',\n                'Zaktualizowano statystyki bazy danych'\n            ]\n        });\n    } catch (error) {\n        console.error('‚ùå ADMIN: B≈ÇƒÖd optymalizacji systemu:', error);\n        let errorMessage = 'Nie uda≈Ço siƒô zoptymalizowaƒá systemu';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        } else if (typeof error === 'string') {\n            errorMessage = error;\n        }\n        return Response.json({\n            success: false,\n            error: errorMessage,\n            timestamp: new Date().toISOString()\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUE4RDtBQUU5RDs7Ozs7O0NBTUMsR0FFRCxTQUFTRSx3QkFBd0JDLFVBQWlCO0lBQ2hELE1BQU1DLGtCQUE0QixFQUFFO0lBRXBDLElBQUksQ0FBQ0QsY0FBYyxDQUFDRSxNQUFNQyxPQUFPLENBQUNILGFBQWE7UUFDN0NDLGdCQUFnQkcsSUFBSSxDQUFDO1FBQ3JCLE9BQU9IO0lBQ1Q7SUFFQSx3Q0FBd0M7SUFDeEMsTUFBTUksa0JBQWtCTCxXQUFXTSxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFVBQVUsS0FBSztJQUNwRSxJQUFJSCxtQkFBbUJBLGdCQUFnQkksWUFBWSxHQUFHLE9BQU87UUFDM0RSLGdCQUFnQkcsSUFBSSxDQUFDLENBQUMsd0JBQXdCLEVBQUVDLGdCQUFnQkksWUFBWSxDQUFDLCtCQUErQixDQUFDO0lBQy9HO0lBRUEsaUNBQWlDO0lBQ2pDLE1BQU1DLGVBQWVWLFdBQVdNLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsVUFBVSxLQUFLO0lBQ2pFLElBQUlFLGdCQUFnQkEsYUFBYUQsWUFBWSxHQUFHLE9BQU87UUFDckRSLGdCQUFnQkcsSUFBSSxDQUFDO0lBQ3ZCO0lBRUEsSUFBSUgsZ0JBQWdCVSxNQUFNLEtBQUssR0FBRztRQUNoQ1YsZ0JBQWdCRyxJQUFJLENBQUM7SUFDdkI7SUFFQSxPQUFPSDtBQUNUO0FBRU8sZUFBZVc7SUFDcEIsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUM7UUFFWixzQ0FBc0M7UUFDdEMsTUFBTWQsYUFBYSxNQUFNSCx5REFBY0EsQ0FBQ2tCLGdCQUFnQjtRQUV4RCx5REFBeUQ7UUFDekQsTUFBTUMsZ0JBQWdCLE1BQU1sQix1REFBWUEsQ0FBQ21CLGtCQUFrQjtRQUUzRCx1QkFBdUI7UUFDdkIsTUFBTWhCLGtCQUFrQkYsd0JBQXdCQztRQUVoRGEsUUFBUUMsR0FBRyxDQUFDO1FBRVosT0FBT0ksU0FBU0MsSUFBSSxDQUFDO1lBQ25CQyxTQUFTO1lBQ1RDLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNqQ3ZCO1lBQ0FnQjtZQUNBZjtZQUNBdUIsY0FBYztnQkFDWkMsWUFBWVQsY0FBY1UsT0FBTztnQkFDakNDLGVBQWUzQixhQUFhQSxXQUFXVyxNQUFNLEdBQUcsSUFBSTtnQkFDcERpQixlQUFlWixjQUFjVSxPQUFPLEdBQUcsWUFBWTtZQUNyRDtRQUNGO0lBRUYsRUFBRSxPQUFPRyxPQUFPO1FBQ2RoQixRQUFRZ0IsS0FBSyxDQUFDLHlDQUF5Q0E7UUFFdkQsSUFBSUMsZUFBZTtRQUNuQixJQUFJRCxpQkFBaUJFLE9BQU87WUFDMUJELGVBQWVELE1BQU1HLE9BQU87UUFDOUIsT0FBTyxJQUFJLE9BQU9ILFVBQVUsVUFBVTtZQUNwQ0MsZUFBZUQ7UUFDakI7UUFFQSxPQUFPWCxTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFMsT0FBT0M7WUFDUFQsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1lBQ2pDdEIsaUJBQWlCO2dCQUFDO2dCQUFvQzthQUFrQztRQUMxRixHQUFHO1lBQUVnQyxRQUFRO1FBQUk7SUFDbkI7QUFDRjtBQUVBOztDQUVDLEdBQ00sZUFBZUM7SUFDcEIsSUFBSTtRQUNGckIsUUFBUUMsR0FBRyxDQUFDO1FBRVosTUFBTXFCLFlBQVliLEtBQUtjLEdBQUc7UUFFMUIsMENBQTBDO1FBQzFDLE1BQU1DLHFCQUFxQixNQUFNeEMseURBQWNBLENBQUN5QyxnQkFBZ0I7UUFFaEUsTUFBTUMsVUFBVWpCLEtBQUtjLEdBQUc7UUFDeEIsTUFBTUksV0FBV0QsVUFBVUo7UUFFM0J0QixRQUFRQyxHQUFHLENBQUMsQ0FBQyxvQ0FBb0MsRUFBRTBCLFNBQVMsR0FBRyxDQUFDLEVBQUVIO1FBRWxFLE9BQU9uQixTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFksU0FBU0s7WUFDVEcsVUFBVSxHQUFHQSxTQUFTLEVBQUUsQ0FBQztZQUN6Qm5CLFdBQVcsSUFBSUMsT0FBT0MsV0FBVztZQUNqQ2tCLFNBQVM7Z0JBQ1A7Z0JBQ0E7Z0JBQ0E7YUFDRDtRQUNIO0lBRUYsRUFBRSxPQUFPWixPQUFPO1FBQ2RoQixRQUFRZ0IsS0FBSyxDQUFDLHdDQUF3Q0E7UUFFdEQsSUFBSUMsZUFBZTtRQUNuQixJQUFJRCxpQkFBaUJFLE9BQU87WUFDMUJELGVBQWVELE1BQU1HLE9BQU87UUFDOUIsT0FBTyxJQUFJLE9BQU9ILFVBQVUsVUFBVTtZQUNwQ0MsZUFBZUQ7UUFDakI7UUFFQSxPQUFPWCxTQUFTQyxJQUFJLENBQUM7WUFDbkJDLFNBQVM7WUFDVFMsT0FBT0M7WUFDUFQsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO1FBQ25DLEdBQUc7WUFBRVUsUUFBUTtRQUFJO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xca2thY3BcXERlc2t0b3BcXFNwZWN0cmVzR3JvdXBDUk1cXGRhc2hib2FyZFxcYXBwXFxhcGlcXGFkbWluXFxwZXJmb3JtYW5jZS1jaGVja1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGVyZm9ybWFuY2VBcGksIGRhc2hib2FyZEFwaSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcclxuXHJcbi8qKlxyXG4gKiDwn5SNIFBFUkZPUk1BTkNFIE1PTklUT1JJTkc6IFN5c3RlbSBQZXJmb3JtYW5jZSBDaGVja1xyXG4gKiBcclxuICogRW5kcG9pbnQgZGxhIHNwcmF3ZHphbmlhIG1ldHJ5ayB3eWRham5vxZtjaSBzeXN0ZW11XHJcbiAqIFxyXG4gKiBaZ29kbmllIHogSU5TVFJVS0NKRV9QRVJGT1JNQU5DRV9PUFRJTUlaQVRJT05TLm1kXHJcbiAqL1xyXG5cclxuZnVuY3Rpb24gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModGFibGVTdGF0czogYW55W10pOiBzdHJpbmdbXSB7XHJcbiAgY29uc3QgcmVjb21tZW5kYXRpb25zOiBzdHJpbmdbXSA9IFtdXHJcbiAgXHJcbiAgaWYgKCF0YWJsZVN0YXRzIHx8ICFBcnJheS5pc0FycmF5KHRhYmxlU3RhdHMpKSB7XHJcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnTmllIG1vxbxuYSBzcHJhd2R6acSHIHN0YXR5c3R5ayB0YWJlbCcpXHJcbiAgICByZXR1cm4gcmVjb21tZW5kYXRpb25zXHJcbiAgfVxyXG4gIFxyXG4gIC8vIFNwcmF3ZMW6IGN6eSBzxIUgdGFiZWxlIGRvIGFyY2hpd2l6YWNqaVxyXG4gIGNvbnN0IGFjdGl2ZUxvZ3NUYWJsZSA9IHRhYmxlU3RhdHMuZmluZChzdGF0ID0+IHN0YXQudGFibGVfbmFtZSA9PT0gJ2FjdGl2aXR5X2xvZ3MnKVxyXG4gIGlmIChhY3RpdmVMb2dzVGFibGUgJiYgYWN0aXZlTG9nc1RhYmxlLnJlY29yZF9jb3VudCA+IDEwMDAwKSB7XHJcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaChgVGFiZWxhIGFjdGl2aXR5X2xvZ3MgbWEgJHthY3RpdmVMb2dzVGFibGUucmVjb3JkX2NvdW50fSByZWtvcmTDs3cgLSByb3p3YcW8IGFyY2hpd2l6YWNqxJlgKVxyXG4gIH1cclxuICBcclxuICAvLyBTcHJhd2TFuiByb3ptaWFyIGfFgsOzd25laiB0YWJlbGlcclxuICBjb25zdCBjbGllbnRzVGFibGUgPSB0YWJsZVN0YXRzLmZpbmQoc3RhdCA9PiBzdGF0LnRhYmxlX25hbWUgPT09ICdhY3Rpdml0eV9sb2dzX2FyY2hpdmUnKVxyXG4gIGlmIChjbGllbnRzVGFibGUgJiYgY2xpZW50c1RhYmxlLnJlY29yZF9jb3VudCA+IDUwMDAwKSB7XHJcbiAgICByZWNvbW1lbmRhdGlvbnMucHVzaCgnVGFiZWxhIGFyY2hpd2FsbmEgamVzdCBkdcW8YSAtIHJvendhxbwgY3p5c3pjemVuaWUgYmFyZHpvIHN0YXJ5Y2ggZGFueWNoJylcclxuICB9XHJcbiAgXHJcbiAgaWYgKHJlY29tbWVuZGF0aW9ucy5sZW5ndGggPT09IDApIHtcclxuICAgIHJlY29tbWVuZGF0aW9ucy5wdXNoKCdTeXN0ZW0gd3lkYWpub8WbY2lvd3kgZHppYcWCYSBvcHR5bWFsbmllJylcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHJlY29tbWVuZGF0aW9uc1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+UjSBBRE1JTjogU3ByYXdkemFuaWUgbWV0cnlrIHd5ZGFqbm/Fm2NpIHN5c3RlbXUuLi4nKVxyXG4gICAgXHJcbiAgICAvLyBTcHJhd2TFuiByb3ptaWFyeSB0YWJlbCBpIHN0YXR5c3R5a2lcclxuICAgIGNvbnN0IHRhYmxlU3RhdHMgPSBhd2FpdCBwZXJmb3JtYW5jZUFwaS5nZXRTeXN0ZW1NZXRyaWNzKClcclxuICAgIFxyXG4gICAgLy8gU3ByYXdkxbogb3N0YXRuaWUgb2TFm3dpZcW8ZW5pZSBtYXRlcmlhbGl6b3dhbnljaCB3aWRva8Ozd1xyXG4gICAgY29uc3Qgdmlld0ZyZXNobmVzcyA9IGF3YWl0IGRhc2hib2FyZEFwaS5jaGVja1ZpZXdGcmVzaG5lc3MoKVxyXG4gICAgXHJcbiAgICAvLyBHZW5lcnVqIHJla29tZW5kYWNqZVxyXG4gICAgY29uc3QgcmVjb21tZW5kYXRpb25zID0gZ2VuZXJhdGVSZWNvbW1lbmRhdGlvbnModGFibGVTdGF0cylcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coJ+KchSBBRE1JTjogTWV0cnlraSB3eWRham5vxZtjaSBwb2JyYW5lIHBvbXnFm2xuaWUnKVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxyXG4gICAgICB0YWJsZVN0YXRzLFxyXG4gICAgICB2aWV3RnJlc2huZXNzLFxyXG4gICAgICByZWNvbW1lbmRhdGlvbnMsXHJcbiAgICAgIHN5c3RlbUhlYWx0aDoge1xyXG4gICAgICAgIHZpZXdzU3RhbGU6IHZpZXdGcmVzaG5lc3MuaXNTdGFsZSxcclxuICAgICAgICB0YWJsZXNIZWFsdGh5OiB0YWJsZVN0YXRzID8gdGFibGVTdGF0cy5sZW5ndGggPiAwIDogZmFsc2UsXHJcbiAgICAgICAgb3ZlcmFsbFN0YXR1czogdmlld0ZyZXNobmVzcy5pc1N0YWxlID8gJ3dhcm5pbmcnIDogJ2hlYWx0aHknXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEFETUlOOiBCxYLEhWQgc3ByYXdkemFuaWEgd3lkYWpub8WbY2k6JywgZXJyb3IpXHJcbiAgICBcclxuICAgIGxldCBlcnJvck1lc3NhZ2UgPSAnTmllIHVkYcWCbyBzacSZIHNwcmF3ZHppxIcgbWV0cnlrIHd5ZGFqbm/Fm2NpJ1xyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZVxyXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXJyb3IgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yXHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgZXJyb3I6IGVycm9yTWVzc2FnZSxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIHJlY29tbWVuZGF0aW9uczogWydTcHJhd2TFuiBwb8WCxIVjemVuaWUgeiBiYXrEhSBkYW55Y2gnLCAnU3ByYXdkxbogdXByYXduaWVuaWEgdcW8eXRrb3duaWthJ11cclxuICAgIH0sIHsgc3RhdHVzOiA1MDAgfSlcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDwn5qAIFBPU1QgZW5kcG9pbnQgZGxhIG1hbnVhbG5laiBvcHR5bWFsaXphY2ppIHN5c3RlbXVcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zb2xlLmxvZygn8J+agCBBRE1JTjogVXJ1Y2hhbWlhbSBwZcWCbsSFIG9wdHltYWxpemFjasSZIHN5c3RlbXUuLi4nKVxyXG4gICAgXHJcbiAgICBjb25zdCBzdGFydFRpbWUgPSBEYXRlLm5vdygpXHJcbiAgICBcclxuICAgIC8vIFVydWNob20gcGXFgm7EhSBvcHR5bWFsaXphY2rEmSBiYXp5IGRhbnljaFxyXG4gICAgY29uc3Qgb3B0aW1pemF0aW9uUmVzdWx0ID0gYXdhaXQgcGVyZm9ybWFuY2VBcGkub3B0aW1pemVEYXRhYmFzZSgpXHJcbiAgICBcclxuICAgIGNvbnN0IGVuZFRpbWUgPSBEYXRlLm5vdygpXHJcbiAgICBjb25zdCBkdXJhdGlvbiA9IGVuZFRpbWUgLSBzdGFydFRpbWVcclxuICAgIFxyXG4gICAgY29uc29sZS5sb2coYOKchSBBRE1JTjogT3B0eW1hbGl6YWNqYSB6YWtvxYRjem9uYSB3ICR7ZHVyYXRpb259bXM6YCwgb3B0aW1pemF0aW9uUmVzdWx0KVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIG1lc3NhZ2U6IG9wdGltaXphdGlvblJlc3VsdCxcclxuICAgICAgZHVyYXRpb246IGAke2R1cmF0aW9ufW1zYCxcclxuICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXHJcbiAgICAgIGFjdGlvbnM6IFtcclxuICAgICAgICAnWmFyY2hpd2l6b3dhbm8gc3RhcmUgbG9naScsXHJcbiAgICAgICAgJ09kxZt3aWXFvG9ubyBtYXRlcmlhbGl6b3dhbmUgd2lkb2tpJywgXHJcbiAgICAgICAgJ1pha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgYmF6eSBkYW55Y2gnXHJcbiAgICAgIF1cclxuICAgIH0pXHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIEFETUlOOiBCxYLEhWQgb3B0eW1hbGl6YWNqaSBzeXN0ZW11OicsIGVycm9yKVxyXG4gICAgXHJcbiAgICBsZXQgZXJyb3JNZXNzYWdlID0gJ05pZSB1ZGHFgm8gc2nEmSB6b3B0eW1hbGl6b3dhxIcgc3lzdGVtdSdcclxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2VcclxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVycm9yID09PSAnc3RyaW5nJykge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvclxyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgIGVycm9yOiBlcnJvck1lc3NhZ2UsXHJcbiAgICAgIHRpbWVzdGFtcDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXHJcbiAgICB9LCB7IHN0YXR1czogNTAwIH0pXHJcbiAgfVxyXG59ICJdLCJuYW1lcyI6WyJwZXJmb3JtYW5jZUFwaSIsImRhc2hib2FyZEFwaSIsImdlbmVyYXRlUmVjb21tZW5kYXRpb25zIiwidGFibGVTdGF0cyIsInJlY29tbWVuZGF0aW9ucyIsIkFycmF5IiwiaXNBcnJheSIsInB1c2giLCJhY3RpdmVMb2dzVGFibGUiLCJmaW5kIiwic3RhdCIsInRhYmxlX25hbWUiLCJyZWNvcmRfY291bnQiLCJjbGllbnRzVGFibGUiLCJsZW5ndGgiLCJHRVQiLCJjb25zb2xlIiwibG9nIiwiZ2V0U3lzdGVtTWV0cmljcyIsInZpZXdGcmVzaG5lc3MiLCJjaGVja1ZpZXdGcmVzaG5lc3MiLCJSZXNwb25zZSIsImpzb24iLCJzdWNjZXNzIiwidGltZXN0YW1wIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwic3lzdGVtSGVhbHRoIiwidmlld3NTdGFsZSIsImlzU3RhbGUiLCJ0YWJsZXNIZWFsdGh5Iiwib3ZlcmFsbFN0YXR1cyIsImVycm9yIiwiZXJyb3JNZXNzYWdlIiwiRXJyb3IiLCJtZXNzYWdlIiwic3RhdHVzIiwiUE9TVCIsInN0YXJ0VGltZSIsIm5vdyIsIm9wdGltaXphdGlvblJlc3VsdCIsIm9wdGltaXplRGF0YWJhc2UiLCJlbmRUaW1lIiwiZHVyYXRpb24iLCJhY3Rpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/admin/performance-check/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   activityLogsApi: () => (/* binding */ activityLogsApi),\n/* harmony export */   authApi: () => (/* binding */ authApi),\n/* harmony export */   clientsApi: () => (/* binding */ clientsApi),\n/* harmony export */   csvImportApi: () => (/* binding */ csvImportApi),\n/* harmony export */   dashboardApi: () => (/* binding */ dashboardApi),\n/* harmony export */   getAvatarUrl: () => (/* binding */ getAvatarUrl),\n/* harmony export */   getCanvasClientsWithPriority: () => (/* binding */ getCanvasClientsWithPriority),\n/* harmony export */   getCanvasStatusColor: () => (/* binding */ getCanvasStatusColor),\n/* harmony export */   performanceApi: () => (/* binding */ performanceApi),\n/* harmony export */   permissionsApi: () => (/* binding */ permissionsApi),\n/* harmony export */   reportsApi: () => (/* binding */ reportsApi),\n/* harmony export */   storageApi: () => (/* binding */ storageApi),\n/* harmony export */   supabase: () => (/* binding */ supabase),\n/* harmony export */   teamApi: () => (/* binding */ teamApi)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/module/index.js\");\n\nconst supabaseUrl = \"https://pkhuggdkcglicghgxiyp.supabase.co\" || 0;\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBraHVnZ2RrY2dsaWNnaGd4aXlwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk5MTEwNzEsImV4cCI6MjA2NTQ4NzA3MX0.LbWtb-modRDlvnkGF5IswRHe1lJpd4zCMgkQ3_E0QQk\" || 0;\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n// Funkcja pomocnicza do generowania poprawnych URL-i avatar√≥w z Supabase Storage\nconst getAvatarUrl = (avatarUrl)=>{\n    if (!avatarUrl) return null;\n    // Je≈õli to ju≈º pe≈Çny URL (zaczyna siƒô od http), zwr√≥ƒá bez zmian\n    if (avatarUrl.startsWith('http')) {\n        return avatarUrl;\n    }\n    // Je≈õli to ≈õcie≈ºka w bucket'u (zawiera folder), wygeneruj publiczny URL\n    if (avatarUrl.includes('/')) {\n        try {\n            const { data } = supabase.storage.from('avatars').getPublicUrl(avatarUrl);\n            return data.publicUrl;\n        } catch (error) {\n            console.error('B≈ÇƒÖd generowania URL avatara:', error);\n            return null;\n        }\n    }\n    // Fallback - prawdopodobnie niepoprawny format\n    console.warn('Nierozpoznany format avatar_url:', avatarUrl);\n    return null;\n};\n// Storage API dla plik√≥w CSV\nconst storageApi = {\n    // Upload pliku CSV do bucket\n    async uploadCSV (file, user) {\n        try {\n            const fileName = `${user.id}_${Date.now()}_${file.name}`;\n            const filePath = `csv-imports/${fileName}`;\n            console.log(`üìÅ Uploading CSV: ${filePath}`);\n            const { data, error } = await supabase.storage.from('csv-files').upload(filePath, file, {\n                cacheControl: '3600',\n                upsert: false\n            });\n            if (error) {\n                console.error('‚ùå Storage upload error:', error);\n                throw new Error(`B≈ÇƒÖd uploadu: ${error.message}`);\n            }\n            console.log('‚úÖ File uploaded successfully:', data.path);\n            return data.path;\n        } catch (error) {\n            console.error('‚ùå Upload failed:', error);\n            throw error;\n        }\n    },\n    // Pobierz publiczny URL pliku\n    getPublicUrl (path) {\n        const { data } = supabase.storage.from('csv-files').getPublicUrl(path);\n        return data.publicUrl;\n    },\n    // Usu≈Ñ plik z bucket\n    async deleteFile (path) {\n        const { error } = await supabase.storage.from('csv-files').remove([\n            path\n        ]);\n        if (error) {\n            console.error('‚ùå File deletion error:', error);\n            throw new Error(`B≈ÇƒÖd usuwania pliku: ${error.message}`);\n        }\n    }\n};\n// CSV Import API\nconst csvImportApi = {\n    // Parsuj CSV i zwr√≥ƒá dane\n    parseCSV (csvText) {\n        const lines = csvText.split('\\n').filter((line)=>line.trim() !== '');\n        if (lines.length < 2) {\n            throw new Error('Plik CSV jest pusty lub zawiera tylko nag≈Ç√≥wki');\n        }\n        // Parsowanie z obs≈ÇugƒÖ cudzys≈Çow√≥w\n        const parseCSVLine = (line)=>{\n            const result = [];\n            let current = '';\n            let inQuotes = false;\n            for(let i = 0; i < line.length; i++){\n                const char = line[i];\n                if (char === '\"') {\n                    inQuotes = !inQuotes;\n                } else if (char === ',' && !inQuotes) {\n                    result.push(current.trim());\n                    current = '';\n                } else {\n                    current += char;\n                }\n            }\n            result.push(current.trim());\n            return result.map((cell)=>cell.replace(/^\"|\"$/g, '')) // Usu≈Ñ cudzys≈Çowy\n            ;\n        };\n        const headers = parseCSVLine(lines[0]);\n        const rows = lines.slice(1).map(parseCSVLine);\n        return {\n            headers,\n            rows\n        };\n    },\n    // Mapuj nag≈Ç√≥wki CSV na pola bazy danych\n    mapHeaders (headers) {\n        const mapping = {};\n        const fieldMappings = [\n            {\n                fields: [\n                    'first_name',\n                    'imiƒô',\n                    'name',\n                    'firstName'\n                ],\n                dbField: 'first_name'\n            },\n            {\n                fields: [\n                    'last_name',\n                    'nazwisko',\n                    'surname',\n                    'lastName'\n                ],\n                dbField: 'last_name'\n            },\n            {\n                fields: [\n                    'company_name',\n                    'firma',\n                    'company',\n                    'companyName',\n                    'nazwa'\n                ],\n                dbField: 'company_name'\n            },\n            {\n                fields: [\n                    'nip',\n                    'tax_id',\n                    'taxId'\n                ],\n                dbField: 'nip'\n            },\n            {\n                fields: [\n                    'phone',\n                    'telefon',\n                    'telephone'\n                ],\n                dbField: 'phone'\n            },\n            {\n                fields: [\n                    'email',\n                    'e-mail',\n                    'mail'\n                ],\n                dbField: 'email'\n            },\n            {\n                fields: [\n                    'website',\n                    'www',\n                    'strona',\n                    'url'\n                ],\n                dbField: 'website'\n            },\n            {\n                fields: [\n                    'notes',\n                    'notatka',\n                    'note',\n                    'comment'\n                ],\n                dbField: 'notes'\n            },\n            {\n                fields: [\n                    'status'\n                ],\n                dbField: 'status'\n            }\n        ];\n        for (const fieldMapping of fieldMappings){\n            for(let i = 0; i < headers.length; i++){\n                const header = headers[i].toLowerCase().trim();\n                if (fieldMapping.fields.some((field)=>header.includes(field))) {\n                    mapping[fieldMapping.dbField] = i;\n                    break;\n                }\n            }\n        }\n        return mapping;\n    },\n    // Waliduj wymagane pola\n    validateRequiredFields (mapping) {\n        const requiredFields = [\n            'company_name'\n        ];\n        const missingFields = requiredFields.filter((field)=>!(field in mapping));\n        if (missingFields.length > 0) {\n            throw new Error(`Brak wymaganych kolumn: ${missingFields.join(', ')}. Wymagane: Firma/Nazwa`);\n        }\n    },\n    // Sprawd≈∫ dostƒôpne kolumny i poka≈º informacje\n    analyzeColumns (mapping, headers) {\n        const allPossibleFields = [\n            {\n                field: 'first_name',\n                displayName: 'Imiƒô',\n                required: false\n            },\n            {\n                field: 'last_name',\n                displayName: 'Nazwisko',\n                required: false\n            },\n            {\n                field: 'company_name',\n                displayName: 'Firma/Nazwa',\n                required: true\n            },\n            {\n                field: 'phone',\n                displayName: 'Telefon',\n                required: false\n            },\n            {\n                field: 'email',\n                displayName: 'Email',\n                required: false\n            },\n            {\n                field: 'nip',\n                displayName: 'NIP',\n                required: false\n            },\n            {\n                field: 'website',\n                displayName: 'Strona WWW',\n                required: false\n            },\n            {\n                field: 'notes',\n                displayName: 'Notatki',\n                required: false\n            },\n            {\n                field: 'status',\n                displayName: 'Status',\n                required: false\n            }\n        ];\n        const found = [];\n        const missing = [];\n        const optional = [];\n        allPossibleFields.forEach(({ field, displayName, required })=>{\n            if (field in mapping) {\n                found.push(displayName);\n            } else if (required) {\n                missing.push(displayName);\n            } else {\n                optional.push(displayName);\n            }\n        });\n        return {\n            found,\n            missing,\n            optional\n        };\n    },\n    // Przekszta≈Çƒá wiersz CSV na obiekt klienta\n    rowToClient (row, mapping, user) {\n        const getField = (field, defaultValue = 'brak informacji')=>{\n            const index = mapping[field];\n            if (index === undefined) {\n                return defaultValue;\n            }\n            const value = (row[index] || '').trim();\n            return value === '' ? defaultValue : value;\n        };\n        // Walidacja statusu\n        const rawStatus = getField('status', 'canvas').toLowerCase();\n        const validStatuses = [\n            'canvas',\n            'brak_kontaktu',\n            'nie_zainteresowany',\n            'zdenerwowany',\n            'antysale',\n            'sale',\n            '$$'\n        ];\n        const status = validStatuses.includes(rawStatus) ? rawStatus : 'canvas';\n        return {\n            first_name: getField('first_name'),\n            last_name: getField('last_name'),\n            company_name: getField('company_name', ''),\n            nip: getField('nip'),\n            phone: getField('phone'),\n            email: getField('email'),\n            website: getField('website'),\n            notes: getField('notes'),\n            status,\n            edited_by: user.id,\n            edited_at: new Date().toISOString(),\n            owner_id: user.id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url\n        };\n    },\n    // Import pe≈Çnego CSV do bazy danych\n    async importCSV (file, user, onProgress) {\n        try {\n            onProgress?.({\n                current: 0,\n                total: 100,\n                status: 'Uploading pliku...'\n            });\n            // 1. Upload pliku do Storage\n            const filePath = await storageApi.uploadCSV(file, user);\n            onProgress?.({\n                current: 20,\n                total: 100,\n                status: 'Parsowanie CSV...'\n            });\n            // 2. Czytanie i parsowanie CSV\n            const csvText = await file.text();\n            const { headers, rows } = csvImportApi.parseCSV(csvText);\n            onProgress?.({\n                current: 40,\n                total: 100,\n                status: 'Mapowanie kolumn...'\n            });\n            // 3. Mapowanie nag≈Ç√≥wk√≥w\n            const mapping = csvImportApi.mapHeaders(headers);\n            csvImportApi.validateRequiredFields(mapping);\n            // 4. Analiza dostƒôpnych kolumn\n            const columnAnalysis = csvImportApi.analyzeColumns(mapping, headers);\n            console.log('üìä CSV Headers:', headers);\n            console.log('üìä Field mapping:', mapping);\n            console.log('üìä Rows to import:', rows.length);\n            console.log('‚úÖ Znalezione kolumny:', columnAnalysis.found);\n            console.log('‚ùå BrakujƒÖce wymagane:', columnAnalysis.missing);\n            console.log('‚ö™ Opcjonalne (bƒôdƒÖ \"brak informacji\"):', columnAnalysis.optional);\n            onProgress?.({\n                current: 50,\n                total: 100,\n                status: `Importowanie ${rows.length} klient√≥w...`\n            });\n            // 4. Import wierszy do bazy\n            const results = {\n                success: 0,\n                errors: []\n            };\n            for(let i = 0; i < rows.length; i++){\n                try {\n                    const row = rows[i];\n                    // Sprawd≈∫ czy wiersz nie jest pusty\n                    if (row.every((cell)=>cell.trim() === '')) {\n                        continue;\n                    }\n                    const clientData = csvImportApi.rowToClient(row, mapping, user);\n                    // Walidacja podstawowych danych\n                    if (!clientData.company_name || clientData.company_name.trim() === '') {\n                        results.errors.push({\n                            row: i + 2,\n                            error: 'Brak wymaganych danych: firma/nazwa',\n                            data: row\n                        });\n                        continue;\n                    }\n                    // Dodaj klienta do bazy\n                    await clientsApi.createClient(clientData, user);\n                    results.success++;\n                    // Aktualizuj progress\n                    const progress = 50 + Math.floor(i / rows.length * 40);\n                    onProgress?.({\n                        current: progress,\n                        total: 100,\n                        status: `Zaimportowano ${results.success}/${rows.length} klient√≥w`\n                    });\n                } catch (error) {\n                    console.error(`‚ùå B≈ÇƒÖd importu wiersza ${i + 2}:`, error);\n                    results.errors.push({\n                        row: i + 2,\n                        error: error instanceof Error ? error.message : 'Nieznany b≈ÇƒÖd',\n                        data: rows[i]\n                    });\n                }\n            }\n            onProgress?.({\n                current: 95,\n                total: 100,\n                status: 'Finalizowanie...'\n            });\n            // 5. Opcjonalnie usu≈Ñ plik z Storage (lub zachowaj dla historii)\n            // await storageApi.deleteFile(filePath)\n            onProgress?.({\n                current: 100,\n                total: 100,\n                status: 'Zako≈Ñczono!'\n            });\n            console.log(`‚úÖ Import zako≈Ñczony: ${results.success} sukces, ${results.errors.length} b≈Çƒôd√≥w`);\n            return results;\n        } catch (error) {\n            console.error('‚ùå CSV Import failed:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje sprawdzania uprawnie≈Ñ\nconst permissionsApi = {\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe edytowaƒá klienta\n    canEdit: (client, user)=>{\n        // Wszyscy zalogowani u≈ºytkownicy mogƒÖ edytowaƒá klient√≥w\n        return true;\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe usunƒÖƒá klienta\n    canDelete: (client, user)=>{\n        // Wszyscy zalogowani u≈ºytkownicy mogƒÖ usuwaƒá klient√≥w\n        return true;\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe widzieƒá klienta\n    canView: (client, user)=>{\n        switch(user.role){\n            case 'pracownik':\n                return client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id;\n            case 'manager':\n            case 'project_manager':\n            case 'junior_manager':\n            case 'szef':\n            case 'admin':\n                return true;\n            default:\n                return false;\n        }\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe przypisywaƒá klient√≥w\n    canAssignClients: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe zmieniaƒá role innych u≈ºytkownik√≥w\n    canChangeRoles: (user)=>{\n        return [\n            'szef',\n            'admin'\n        ].includes(user.role);\n    },\n    // Sprawd≈∫ czy u≈ºytkownik mo≈ºe dostƒôp do zaawansowanych raport√≥w\n    canAccessAdvancedReports: (user)=>{\n        return [\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(user.role);\n    }\n};\n// Funkcje API dla klient√≥w z systemem uprawnie≈Ñ\nconst clientsApi = {\n    // Funkcja testowa - podstawowe zapytanie do klient√≥w\n    async testBasicQuery () {\n        try {\n            console.log('üîç Testowe zapytanie do tabeli clients...');\n            const { data, error } = await supabase.from('clients').select('*').limit(5);\n            console.log('Wynik testu - data:', data);\n            console.log('Wynik testu - error:', error);\n            return {\n                data,\n                error\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testowego zapytania:', error);\n            return {\n                data: null,\n                error\n            };\n        }\n    },\n    // Pobierz klient√≥w z filtrami uprawnie≈Ñ\n    async getClients (user, filters) {\n        try {\n            console.log('üîÑ Rozpoczynam pobieranie klient√≥w dla u≈ºytkownika:', user.id, user.role);\n            // U≈ºyj JOIN aby pobraƒá klient√≥w z danymi w≈Ça≈õcicieli w jednym zapytaniu\n            // üöÄ OPTYMALIZACJA: Wybierz tylko niezbƒôdne pola\n            let query = supabase.from('clients').select(`\n          id,\n          first_name,\n          last_name,\n          company_name,\n          nip,\n          phone,\n          email,\n          website,\n          status,\n          notes,\n          owner_id,\n          edited_by,\n          edited_at,\n          created_at,\n          updated_at,\n          status_changed_at,\n          last_phone_click,\n          last_edited_by_name,\n          last_edited_by_avatar_url,\n          owner:users!owner_id (\n            id,\n            full_name,\n            email,\n            avatar_url\n          )\n        `).order('updated_at', {\n                ascending: false\n            });\n            // Dodatkowe filtry\n            if (filters?.date) {\n                query = query.gte('updated_at', filters.date);\n            }\n            if (filters?.status) {\n                query = query.eq('status', filters.status);\n            }\n            if (filters?.employee) {\n                query = query.eq('edited_by', filters.employee);\n            }\n            console.log('üîÑ Wykonujƒô zapytanie z JOIN...');\n            const { data: clients, error } = await query;\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania clients:', error);\n                throw error;\n            }\n            if (!clients || clients.length === 0) {\n                console.log('‚ÑπÔ∏è Brak klient√≥w w bazie danych');\n                return [];\n            }\n            // Przekszta≈Çƒá dane - Supabase JOIN zwraca owner jako tablicƒô, ale potrzebujemy pojedynczego obiektu\n            const transformedClients = clients.map((client)=>({\n                    ...client,\n                    owner: client.owner && Array.isArray(client.owner) && client.owner.length > 0 ? client.owner[0] // We≈∫ pierwszy element z tablicy\n                     : client.owner && !Array.isArray(client.owner) ? client.owner // Ju≈º jest pojedynczym obiektem\n                     : null // Brak w≈Ça≈õciciela\n                }));\n            // DEBUG: Sprawd≈∫ dane w≈Ça≈õcicieli\n            const clientsWithOwners = transformedClients.filter((client)=>client.owner);\n            const clientsWithoutOwners = transformedClients.filter((client)=>!client.owner);\n            console.log('‚úÖ Klienci z w≈Ça≈õcicielami:', clientsWithOwners.length);\n            console.log('‚ùå Klienci bez w≈Ça≈õcicieli:', clientsWithoutOwners.length);\n            if (clientsWithOwners.length > 0) {\n                console.log('üë§ Przyk≈Çad klienta z w≈Ça≈õcicielem:', {\n                    client: `${clientsWithOwners[0].first_name} ${clientsWithOwners[0].last_name}`,\n                    owner_id: clientsWithOwners[0].owner_id,\n                    owner_name: clientsWithOwners[0].owner?.full_name,\n                    owner_email: clientsWithOwners[0].owner?.email\n                });\n            }\n            return transformedClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getClients:', error);\n            throw error;\n        }\n    },\n    // Dodaj nowego klienta z automatycznym przypisaniem w≈Ça≈õciciela\n    async createClient (client, user) {\n        // ZABEZPIECZENIE: Upewnij siƒô ≈ºe status nie jest pusty\n        const safeStatus = client.status || 'canvas';\n        const clientToCreate = {\n            ...client,\n            status: safeStatus,\n            owner_id: user.id,\n            edited_by: user.id,\n            last_edited_by_name: user.full_name,\n            last_edited_by_avatar_url: user.avatar_url,\n            // Je≈õli status to \"canvas\", ustaw status_changed_at\n            ...safeStatus === 'canvas' && {\n                status_changed_at: new Date().toISOString()\n            },\n            // Konwertuj undefined reminder na null dla bazy danych\n            reminder: client.reminder || null\n        };\n        console.log('üìä Tworzenie klienta z danymi:', clientToCreate);\n        const { data, error } = await supabase.from('clients').insert([\n            clientToCreate\n        ]).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd createClient:', error);\n            throw error;\n        }\n        return data;\n    },\n    // Zaktualizuj klienta z sprawdzeniem uprawnie≈Ñ\n    async updateClient (id, updates, user) {\n        try {\n            console.log('üîÑ updateClient START:', {\n                id,\n                updates,\n                user: user.email\n            });\n            // Pobierz aktualny stan klienta aby sprawdziƒá czy status siƒô zmienia\n            const { data: currentClient, error: fetchError } = await supabase.from('clients').select('status, owner_id').eq('id', id).single();\n            if (fetchError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktualnego klienta:', fetchError);\n                throw new Error(`Nie mo≈ºna pobraƒá aktualnego stanu klienta: ${fetchError.message}`);\n            }\n            console.log('‚úÖ Aktualny stan klienta:', currentClient);\n            // NOWA LOGIKA: Ka≈ºda osoba kt√≥ra edytuje klienta zostaje jego w≈Ça≈õcicielem\n            let updatedData = {\n                ...updates\n            };\n            // ZABEZPIECZENIE: Je≈õli status jest w aktualizacji, upewnij siƒô ≈ºe nie jest pusty\n            if ('status' in updatedData && !updatedData.status) {\n                console.log('‚ö†Ô∏è UWAGA: Pusty status w aktualizacji - ustawiam domy≈õlny \"canvas\"');\n                updatedData.status = 'canvas';\n            }\n            // Sprawd≈∫ czy status siƒô zmienia\n            const statusChanged = updatedData.status && updatedData.status !== currentClient.status;\n            if (statusChanged) {\n                updatedData.status_changed_at = new Date().toISOString();\n                console.log(`üìä Status zmieniony z \"${currentClient.status}\" na \"${updates.status}\" - ustawiam status_changed_at`);\n                // Powiadomienie o zmianie na canvas\n                if (updates.status === 'canvas') {\n                    console.log('üîî POWIADOMIENIE: Klient przeszed≈Ç na status CANVAS - start trackingu czasu!');\n                }\n            }\n            // Zawsze przypisz edytujƒÖcego jako w≈Ça≈õciciela\n            updatedData.owner_id = user.id;\n            console.log(`üéØ Przypisujƒô klienta ${id} do u≈ºytkownika ${user.id} (${user.email}) jako w≈Ça≈õciciela`);\n            // Zapisz informacje o edytorze (szczeg√≥lnie wa≈ºne dla pracownik√≥w)\n            updatedData.last_edited_by_name = user.full_name;\n            updatedData.last_edited_by_avatar_url = user.avatar_url;\n            console.log(`üë§ Zapisujƒô dane edytora: ${user.full_name} (rola: ${user.role})`);\n            // Je≈õli to pracownik i zmienia status - dodatkowy log\n            if (user.role === 'pracownik' && statusChanged) {\n                console.log(`üë∑ Pracownik ${user.email} zmienia status z \"${currentClient.status}\" na \"${updates.status}\"`);\n            }\n            console.log('üîÑ Dane do aktualizacji:', updatedData);\n            // Przygotuj finalne dane do UPDATE\n            const finalData = {\n                ...updatedData,\n                edited_by: user.id,\n                updated_at: new Date().toISOString(),\n                // Konwertuj undefined reminder na null dla bazy danych\n                ...updatedData.reminder !== undefined && {\n                    reminder: updatedData.reminder || null\n                }\n            };\n            console.log('üîÑ Finalne dane do UPDATE:', finalData);\n            // Bezpo≈õrednia aktualizacja\n            const { data, error } = await supabase.from('clients').update(finalData).eq('id', id).select().single();\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd UPDATE clients:', error);\n                console.error('‚ùå Kod b≈Çƒôdu:', error.code);\n                console.error('‚ùå Szczeg√≥≈Çy:', error.details);\n                console.error('‚ùå Hint:', error.hint);\n                throw new Error(`B≈ÇƒÖd aktualizacji: ${error.message} (kod: ${error.code})`);\n            }\n            console.log('‚úÖ updateClient SUCCESS:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå updateClient FAILED:', error);\n            throw error;\n        }\n    },\n    // Aktualizuj czas ostatniego klikniƒôcia telefonu\n    async updateLastPhoneClick (clientId, user) {\n        console.log('üìû Aktualizujƒô czas ostatniego klikniƒôcia telefonu:', clientId);\n        const { data, error } = await supabase.from('clients').update({\n            last_phone_click: new Date().toISOString(),\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) {\n            console.error('‚ùå B≈ÇƒÖd updateLastPhoneClick:', error);\n            throw error;\n        }\n        // Zaloguj w activity_logs\n        try {\n            await activityLogsApi.createLog({\n                client_id: clientId,\n                changed_by: user.id,\n                change_type: 'update',\n                field_changed: 'last_phone_click',\n                old_value: undefined,\n                new_value: data.last_phone_click\n            });\n        } catch (logError) {\n            console.error('‚ùå B≈ÇƒÖd logowania activity_logs (updateLastPhoneClick):', logError);\n        }\n        return data;\n    },\n    // Usu≈Ñ klienta z sprawdzeniem uprawnie≈Ñ\n    async deleteClient (id, user) {\n        // Bezpo≈õrednie usuniƒôcie bez sprawdzania uprawnie≈Ñ\n        const { error } = await supabase.from('clients').delete().eq('id', id);\n        if (error) throw error;\n    },\n    // Przypisz klienta do innego u≈ºytkownika (tylko manager+)\n    async assignClient (clientId, newOwnerId, user) {\n        if (!permissionsApi.canAssignClients(user)) {\n            throw new Error('Brak uprawnie≈Ñ do przypisywania klient√≥w');\n        }\n        const { data, error } = await supabase.from('clients').update({\n            owner_id: newOwnerId,\n            edited_by: user.id,\n            updated_at: new Date().toISOString()\n        }).eq('id', clientId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja do czyszczenia nieistniejƒÖcych owner_id\n    async cleanupInvalidOwnerIds () {\n        try {\n            console.log('üßπ Rozpoczynam czyszczenie nieistniejƒÖcych owner_id...');\n            // Pobierz wszystkich klient√≥w z owner_id\n            const { data: allClients, error: clientsError } = await supabase.from('clients').select('id, owner_id, first_name, last_name').not('owner_id', 'is', null);\n            if (clientsError) throw clientsError;\n            console.log('üìä Znaleziono klient√≥w z owner_id:', allClients?.length || 0);\n            if (!allClients || allClients.length === 0) {\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Pobierz wszystkie unikalne owner_id\n            const ownerIds = [\n                ...new Set(allClients.map((c)=>c.owner_id))\n            ];\n            console.log('üîç Sprawdzam owner_id:', ownerIds);\n            // Sprawd≈∫ kt√≥re u≈ºytkownicy istniejƒÖ\n            const { data: existingUsers, error: usersError } = await supabase.from('users').select('id').in('id', ownerIds);\n            if (usersError) throw usersError;\n            const existingUserIds = (existingUsers || []).map((u)=>u.id);\n            console.log('‚úÖ IstniejƒÖcy u≈ºytkownicy:', existingUserIds);\n            // Znajd≈∫ klient√≥w z nieistniejƒÖcymi owner_id\n            const clientsToClean = allClients.filter((client)=>client.owner_id && !existingUserIds.includes(client.owner_id));\n            console.log('üßπ Klienci do wyczyszczenia:', clientsToClean.length);\n            if (clientsToClean.length === 0) {\n                console.log('‚úÖ Brak klient√≥w do wyczyszczenia');\n                return {\n                    cleaned: 0,\n                    errors: []\n                };\n            }\n            // Wyczy≈õƒá owner_id dla problematycznych klient√≥w\n            const cleanupResults = [];\n            const errors = [];\n            for (const client of clientsToClean){\n                try {\n                    console.log(`üßπ Czyszczƒô owner_id dla ${client.first_name} ${client.last_name} (${client.owner_id})`);\n                    const { error } = await supabase.from('clients').update({\n                        owner_id: null\n                    }).eq('id', client.id);\n                    if (error) {\n                        console.error(`‚ùå B≈ÇƒÖd czyszczenia ${client.id}:`, error);\n                        errors.push({\n                            client: client.id,\n                            error: error.message\n                        });\n                    } else {\n                        cleanupResults.push(client.id);\n                    }\n                } catch (err) {\n                    console.error(`‚ùå WyjƒÖtek podczas czyszczenia ${client.id}:`, err);\n                    errors.push({\n                        client: client.id,\n                        error: String(err)\n                    });\n                }\n            }\n            console.log(`‚úÖ Wyczyszczono ${cleanupResults.length} klient√≥w`);\n            if (errors.length > 0) {\n                console.error(`‚ùå B≈Çƒôdy przy ${errors.length} klientach:`, errors);\n            }\n            return {\n                cleaned: cleanupResults.length,\n                errors,\n                cleanedClients: clientsToClean.filter((c)=>cleanupResults.includes(c.id))\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w cleanupInvalidOwnerIds:', error);\n            throw error;\n        }\n    },\n    // Subskrypcja na zmiany w czasie rzeczywistym\n    subscribeToChanges (callback) {\n        return supabase.channel('clients_changes').on('postgres_changes', {\n            event: '*',\n            schema: 'public',\n            table: 'clients'\n        }, callback).subscribe();\n    },\n    // Subskrypcja na zmiany owner_id dla real-time aktualizacji\n    subscribeToOwnerChanges (callback) {\n        try {\n            // Sprawd≈∫ czy callback jest funkcjƒÖ\n            if (typeof callback !== 'function') {\n                console.error('‚ùå Callback nie jest funkcjƒÖ w subscribeToOwnerChanges');\n                throw new Error('Callback musi byƒá funkcjƒÖ');\n            }\n            console.log('üì° Tworzƒô kana≈Ç Supabase dla owner changes...');\n            // Najpierw sprawd≈∫ czy real-time jest w≈ÇƒÖczony i dostƒôpny\n            const channelName = `clients_owner_changes_${Date.now()}`;\n            console.log('üì° Nazwa kana≈Çu:', channelName);\n            const channel = supabase.channel(channelName).on('postgres_changes', {\n                event: 'UPDATE',\n                schema: 'public',\n                table: 'clients',\n                filter: 'owner_id=neq.null' // Tylko gdy owner_id siƒô zmienia\n            }, (payload)=>{\n                try {\n                    console.log('üì° Real-time payload otrzymany:', {\n                        eventType: payload.eventType,\n                        table: payload.table,\n                        changes: payload.new ? {\n                            id: payload.new.id,\n                            owner_id: payload.new.owner_id,\n                            first_name: payload.new.first_name,\n                            last_name: payload.new.last_name\n                        } : 'brak danych'\n                    });\n                    if (typeof callback === 'function') {\n                        callback(payload);\n                    } else {\n                        console.error('‚ùå Callback nie jest funkcjƒÖ podczas wywo≈Çania');\n                    }\n                } catch (callbackError) {\n                    console.error('‚ùå B≈ÇƒÖd w callback:', callbackError);\n                }\n            }).subscribe((status, err)=>{\n                console.log('üì° Subskrypcja owner_changes status:', status);\n                if (status === 'SUBSCRIBED') {\n                    console.log('‚úÖ Subskrypcja owner_changes aktywna');\n                } else if (status === 'CLOSED') {\n                    console.warn('‚ö†Ô∏è Subskrypcja owner_changes zamkniƒôta - prawdopodobnie problem z autoryzacjƒÖ real-time');\n                    console.warn('üí° Real-time mo≈ºe byƒá wy≈ÇƒÖczony w ustawieniach Supabase lub brakuje uprawnie≈Ñ');\n                } else if (status === 'CHANNEL_ERROR') {\n                    console.error('‚ùå B≈ÇƒÖd kana≈Çu real-time:', err);\n                    console.error('üí° Sprawd≈∫ ustawienia real-time w Supabase Dashboard');\n                } else if (status === 'TIMED_OUT') {\n                    console.warn('‚è∞ Timeout subskrypcji - problemy z po≈ÇƒÖczeniem WebSocket');\n                } else {\n                    console.log('üì° Status subskrypcji:', status);\n                }\n            });\n            // Sprawd≈∫ stan kana≈Çu po kr√≥tkim czasie\n            setTimeout(()=>{\n                if (channel.state === 'closed') {\n                    console.warn('‚ö†Ô∏è Kana≈Ç real-time zosta≈Ç zamkniƒôty - prawdopodobnie RLS blokuje real-time lub feature jest wy≈ÇƒÖczony');\n                }\n            }, 2000);\n            console.log('‚úÖ Kana≈Ç owner changes utworzony');\n            return channel;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w subscribeToOwnerChanges:', error);\n            console.warn('üí° Real-time nie bƒôdzie dzia≈Çaƒá - aplikacja bƒôdzie u≈ºywaƒá okresowego od≈õwie≈ºania');\n            // Zwr√≥ƒá mock object aby nie powodowaƒá b≈Çƒôd√≥w\n            return {\n                unsubscribe: ()=>{\n                    console.log('üßπ Mock unsubscribe dla b≈Çƒôdnego kana≈Çu');\n                }\n            };\n        }\n    },\n    // Pobierz klient√≥w z przypomnieniami na konkretny dzie≈Ñ\n    async getClientsWithReminders (user, targetDate) {\n        try {\n            const today = targetDate || new Date().toISOString().split('T')[0] // format YYYY-MM-DD\n            ;\n            console.log(`üìÖ Pobieranie klient√≥w z przypomnieniami na: ${today}`);\n            // Pobierz wszystkich klient√≥w u≈ºytkownika\n            const allClients = await this.getClients(user);\n            // Filtruj tylko tych z przypomnieniami na dzi≈õ\n            const clientsWithTodayReminders = allClients.filter((client)=>{\n                // Sprawd≈∫ czy klient ma aktywne przypomnienie\n                const reminder = client.reminder || {\n                    enabled: false,\n                    date: '',\n                    time: '',\n                    note: ''\n                };\n                return reminder.enabled && reminder.date === today;\n            });\n            // Sortuj wed≈Çug godziny przypomnienia\n            const sortedClients = clientsWithTodayReminders.sort((a, b)=>{\n                const timeA = a.reminder?.time || '00:00';\n                const timeB = b.reminder?.time || '00:00';\n                return timeA.localeCompare(timeB);\n            });\n            console.log(`‚úÖ Znaleziono ${sortedClients.length} klient√≥w z przypomnieniami na ${today}`);\n            return sortedClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z przypomnieniami:', error);\n            throw error;\n        }\n    },\n    // Pobierz przypomnienia pogrupowane wed≈Çug slot√≥w czasowych dla dashboardu\n    async getDailyScheduleWithClients (user, targetDate) {\n        try {\n            const clientsWithReminders = await this.getClientsWithReminders(user, targetDate);\n            // Definicja slot√≥w czasowych (zgodnie z obecnƒÖ strukturƒÖ dashboardu)\n            const timeSlots = [\n                {\n                    time: '8:00 - 10:00',\n                    type: 'canvas',\n                    color: '#06b6d4',\n                    startTime: '08:00',\n                    endTime: '10:00',\n                    statuses: [\n                        'canvas'\n                    ]\n                },\n                {\n                    time: '10:10 - 12:00',\n                    type: 'sales',\n                    color: '#10b981',\n                    startTime: '10:10',\n                    endTime: '12:00',\n                    statuses: [\n                        'sale'\n                    ]\n                },\n                {\n                    time: '12:30 - 15:00',\n                    type: 'antysales',\n                    color: '#f59e0b',\n                    startTime: '12:30',\n                    endTime: '15:00',\n                    statuses: [\n                        'antysale'\n                    ]\n                },\n                {\n                    time: '15:10 - 16:30',\n                    type: 'canvas + sales',\n                    color: '#8b5cf6',\n                    startTime: '15:10',\n                    endTime: '16:30',\n                    statuses: [\n                        'canvas',\n                        'sale'\n                    ]\n                }\n            ];\n            // Przypisz klient√≥w do odpowiednich slot√≥w\n            const slotsWithClients = timeSlots.map((slot)=>{\n                const slotClients = clientsWithReminders.filter((client)=>{\n                    const reminderTime = client.reminder?.time || '00:00';\n                    const [hours, minutes] = reminderTime.split(':').map(Number);\n                    const reminderMinutes = hours * 60 + minutes;\n                    const [startHours, startMins] = slot.startTime.split(':').map(Number);\n                    const [endHours, endMins] = slot.endTime.split(':').map(Number);\n                    const startMinutes = startHours * 60 + startMins;\n                    const endMinutes = endHours * 60 + endMins;\n                    // Sprawd≈∫ czy godzina przypomnienia mie≈õci siƒô w slocie\n                    const timeInSlot = reminderMinutes >= startMinutes && reminderMinutes <= endMinutes;\n                    // Sprawd≈∫ czy status klienta pasuje do typu slotu\n                    const statusMatches = slot.statuses.includes(client.status);\n                    return timeInSlot && statusMatches;\n                });\n                return {\n                    ...slot,\n                    clients: slotClients\n                };\n            });\n            console.log(`üìä Plan dnia z ${slotsWithClients.reduce((sum, slot)=>sum + slot.clients.length, 0)} klientami`);\n            return slotsWithClients;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd tworzenia planu dnia:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje API dla log√≥w aktywno≈õci\nconst activityLogsApi = {\n    // Pobierz logi aktywno≈õci\n    async getLogs (clientId) {\n        let query = supabase.from('activity_logs').select(`\n        *,\n        clients(first_name, last_name)\n      `).order('timestamp', {\n            ascending: false\n        }).limit(50);\n        if (clientId) {\n            query = query.eq('client_id', clientId);\n        }\n        const { data, error } = await query;\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz historiƒô zmian dla konkretnego klienta\n    async getClientHistory (clientId) {\n        try {\n            console.log('Pobieranie historii dla klienta:', clientId);\n            // Sprawd≈∫ czy u≈ºytkownik jest zalogowany\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Aktualny u≈ºytkownik:', user?.id);\n            if (!user) {\n                console.error('U≈ºytkownik nie jest zalogowany');\n                return [];\n            }\n            const { data, error } = await supabase.from('activity_logs').select(`\n          id,\n          client_id,\n          changed_by,\n          change_type,\n          field_changed,\n          old_value,\n          new_value,\n          timestamp\n        `).eq('client_id', clientId).order('timestamp', {\n                ascending: false\n            }).limit(20);\n            if (error) {\n                console.error('B≈ÇƒÖd query activity_logs:', error);\n                console.error('Szczeg√≥≈Çy b≈Çƒôdu:', JSON.stringify(error, null, 2));\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS')) {\n                    console.error('Problem z Row Level Security - u≈ºytkownik mo≈ºe nie mieƒá dostƒôpu');\n                }\n                // Zwr√≥ƒá pustƒÖ tablicƒô zamiast rzucania b≈Çƒôdem\n                return [];\n            }\n            console.log('Pobrano logi:', data?.length || 0);\n            // Je≈õli nie ma log√≥w, zwr√≥ƒá pustƒÖ tablicƒô\n            if (!data || data.length === 0) {\n                return [];\n            }\n            // Pobierz informacje o u≈ºytkownikach osobno z avatarami\n            const userIds = [\n                ...new Set(data.map((log)=>log.changed_by).filter(Boolean))\n            ];\n            console.log('Pobieranie u≈ºytkownik√≥w:', userIds);\n            const { data: users, error: usersError } = await supabase.from('users').select('id, full_name, role, avatar_url').in('id', userIds);\n            if (usersError) {\n                console.error('B≈ÇƒÖd pobierania u≈ºytkownik√≥w:', usersError);\n            // Kontynuuj bez danych u≈ºytkownik√≥w\n            }\n            console.log('Pobrano u≈ºytkownik√≥w:', users?.length || 0);\n            // Mapuj u≈ºytkownik√≥w do s≈Çownika dla szybkiego dostƒôpu\n            const usersMap = (users || []).reduce((acc, user)=>{\n                acc[user.id] = user;\n                return acc;\n            }, {});\n            // Przekszta≈Çƒá dane z informacjami o edytorze\n            const result = data.map((log)=>{\n                const user = usersMap[log.changed_by];\n                return {\n                    id: log.id,\n                    client_id: log.client_id,\n                    changed_by: log.changed_by,\n                    change_type: log.change_type,\n                    field_changed: log.field_changed,\n                    old_value: log.old_value,\n                    new_value: log.new_value,\n                    timestamp: log.timestamp,\n                    editor_name: user?.full_name || log.changed_by || 'Nieznany u≈ºytkownik',\n                    editor_role: user?.role || 'unknown',\n                    editor_avatar: user?.avatar_url || null\n                };\n            });\n            console.log('Zwracanie historii:', result.length, 'wpis√≥w');\n            return result;\n        } catch (error) {\n            console.error('B≈ÇƒÖd w getClientHistory:', error);\n            throw error;\n        }\n    },\n    // Dodaj log aktywno≈õci\n    async createLog (log) {\n        const { data, error } = await supabase.from('activity_logs').insert([\n            {\n                ...log,\n                timestamp: new Date().toISOString()\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Funkcja testowa do sprawdzania dostƒôpu do activity_logs\n    async testActivityLogsAccess () {\n        try {\n            console.log('Testowanie dostƒôpu do activity_logs...');\n            // Sprawd≈∫ autoryzacjƒô\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('Test - u≈ºytkownik:', user?.id, user?.email);\n            if (!user) {\n                return {\n                    success: false,\n                    error: 'Brak autoryzacji - u≈ºytkownik nie jest zalogowany'\n                };\n            }\n            // Sprawd≈∫ czy u≈ºytkownik istnieje w tabeli users\n            const { data: userProfile, error: userError } = await supabase.from('users').select('id, email, role').eq('id', user.id).single();\n            console.log('Test - profil u≈ºytkownika:', userProfile);\n            console.log('Test - b≈ÇƒÖd profilu:', userError);\n            if (userError || !userProfile) {\n                return {\n                    success: false,\n                    error: 'U≈ºytkownik nie istnieje w tabeli users'\n                };\n            }\n            // Testuj dostƒôp do activity_logs\n            const { data, error, count } = await supabase.from('activity_logs').select('*', {\n                count: 'exact'\n            }).limit(1);\n            console.log('Test activity_logs - data:', data);\n            console.log('Test activity_logs - error:', error);\n            console.log('Test activity_logs - count:', count);\n            return {\n                success: !error,\n                data,\n                error,\n                count,\n                user: userProfile\n            };\n        } catch (error) {\n            console.error('B≈ÇƒÖd testu activity_logs:', error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n};\n// Funkcje API dla raport√≥w\nconst reportsApi = {\n    // Pobierz statystyki tylko pracownik√≥w z prowizjƒÖ\n    async getEmployeeStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk pracownik√≥w...');\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            const { data: allEmployees, error: usersError } = await supabase.from('users').select(`\n          id,\n          full_name,\n          email,\n          avatar_url,\n          role\n        `).eq('role', 'pracownik').order('full_name', {\n                ascending: true\n            });\n            if (usersError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                throw usersError;\n            }\n            if (!allEmployees || allEmployees.length === 0) {\n                console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                return [];\n            }\n            console.log('‚úÖ Pobrano wszystkich pracownik√≥w:', allEmployees.length, allEmployees.map((e)=>e.full_name));\n            // KROK 2: Pobierz statystyki z tabeli employee_stats dla tych pracownik√≥w\n            const employeeIds = allEmployees.map((emp)=>emp.id);\n            let existingStats = [];\n            try {\n                const { data, error: statsError } = await supabase.from('employee_stats').select('*').in('user_id', employeeIds);\n                if (statsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania employee_stats:', statsError);\n                } else {\n                    existingStats = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá employee_stats:', error);\n            }\n            console.log('‚úÖ Pobrano statystyki dla pracownik√≥w:', existingStats?.length || 0);\n            // KROK 3: Pobierz dzisiejsze statystyki z tabeli clients (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const today = new Date().toISOString().split('T')[0];\n            let todayClients = [];\n            try {\n                const { data, error: clientsError } = await supabase.from('clients').select('status, edited_by, created_at, updated_at').gte('updated_at', `${today}T00:00:00`).lt('updated_at', `${today}T23:59:59`);\n                if (clientsError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w z dzisiaj:', clientsError);\n                } else {\n                    todayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá dzisiejszych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano dzisiejszych klient√≥w:', todayClients.length);\n            // KROK 4: Pobierz wczorajsze statystyki dla kar (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            const yesterday = new Date();\n            yesterday.setDate(yesterday.getDate() - 1);\n            const yesterdayStr = yesterday.toISOString().split('T')[0];\n            let yesterdayClients = [];\n            try {\n                const { data, error: yesterdayError } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${yesterdayStr}T00:00:00`).lt('updated_at', `${yesterdayStr}T23:59:59`);\n                if (yesterdayError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania wczorajszych klient√≥w:', yesterdayError);\n                } else {\n                    yesterdayClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá wczorajszych klient√≥w:', error);\n            }\n            // KROK 5: Pobierz WSZYSTKICH klient√≥w przypisanych do pracownik√≥w (z obs≈ÇugƒÖ b≈Çƒôd√≥w)\n            let allOwnedClients = [];\n            try {\n                const { data, error: ownedError } = await supabase.from('clients').select('status, owner_id').not('owner_id', 'is', null).in('owner_id', employeeIds);\n                if (ownedError) {\n                    console.warn('‚ö†Ô∏è B≈ÇƒÖd pobierania klient√≥w przypisanych:', ownedError);\n                } else {\n                    allOwnedClients = data || [];\n                }\n            } catch (error) {\n                console.warn('‚ö†Ô∏è Nie uda≈Ço siƒô pobraƒá przypisanych klient√≥w:', error);\n            }\n            console.log('‚úÖ Pobrano wszystkich przypisanych klient√≥w:', allOwnedClients.length);\n            // KROK 6: Agreguj dzisiejsze statystyki per pracownik\n            const todayStats = todayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (!userId) return acc;\n                if (!acc[userId]) {\n                    acc[userId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        other: 0\n                    };\n                }\n                acc[userId].total++;\n                if (client.status === 'canvas') acc[userId].canvas++;\n                else if (client.status === 'antysale') acc[userId].antysale++;\n                else if (client.status === 'sale') acc[userId].sale++;\n                else acc[userId].other++;\n                return acc;\n            }, {});\n            // KROK 7: Agreguj wczorajsze statystyki per pracownik\n            const yesterdayStats = yesterdayClients.reduce((acc, client)=>{\n                const userId = client.edited_by;\n                if (userId) {\n                    acc[userId] = (acc[userId] || 0) + 1;\n                }\n                return acc;\n            }, {});\n            // KROK 8: Agreguj statusy WSZYSTKICH przypisanych klient√≥w per pracownik\n            const ownedClientsStats = allOwnedClients.reduce((acc, client)=>{\n                const ownerId = client.owner_id;\n                if (!ownerId) return acc;\n                if (!acc[ownerId]) {\n                    acc[ownerId] = {\n                        total: 0,\n                        canvas: 0,\n                        antysale: 0,\n                        sale: 0,\n                        brak_kontaktu: 0,\n                        nie_zainteresowany: 0,\n                        zdenerwowany: 0,\n                        '$$': 0\n                    };\n                }\n                acc[ownerId].total++;\n                switch(client.status){\n                    case 'canvas':\n                        acc[ownerId].canvas++;\n                        break;\n                    case 'antysale':\n                        acc[ownerId].antysale++;\n                        break;\n                    case 'sale':\n                        acc[ownerId].sale++;\n                        break;\n                    case 'brak_kontaktu':\n                        acc[ownerId].brak_kontaktu++;\n                        break;\n                    case 'nie_zainteresowany':\n                        acc[ownerId].nie_zainteresowany++;\n                        break;\n                    case 'zdenerwowany':\n                        acc[ownerId].zdenerwowany++;\n                        break;\n                    case '$$':\n                        acc[ownerId]['$$']++;\n                        break;\n                }\n                return acc;\n            }, {});\n            console.log('üìä Statystyki przypisanych klient√≥w:', ownedClientsStats);\n            // KROK 9: Stw√≥rz mapƒô statystyk employee_stats\n            const statsMap = new Map();\n            existingStats.forEach((stat)=>{\n                statsMap.set(stat.user_id, stat);\n            });\n            // KROK 10: Kombinuj dane - dla WSZYSTKICH pracownik√≥w (zawsze zwraca listƒô)\n            const enhancedStats = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                // Pobierz statystyki z employee_stats lub utw√≥rz domy≈õlne\n                const basicStat = statsMap.get(userId) || {\n                    id: 'temp_' + userId,\n                    user_id: userId,\n                    daily_target: 20,\n                    commission_rate: 3.0,\n                    monthly_canvas: 0,\n                    monthly_antysale: 0,\n                    monthly_sale: 0,\n                    total_commissions: 0,\n                    total_penalties: 0,\n                    custom_clients_count: 0,\n                    custom_total_payments: 0,\n                    created_at: new Date().toISOString(),\n                    updated_at: new Date().toISOString()\n                };\n                const todayForUser = todayStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0\n                };\n                const yesterdayForUser = yesterdayStats[userId] || 0;\n                const ownedForUser = ownedClientsStats[userId] || {\n                    total: 0,\n                    canvas: 0,\n                    antysale: 0,\n                    sale: 0,\n                    brak_kontaktu: 0,\n                    nie_zainteresowany: 0,\n                    zdenerwowany: 0,\n                    '$$': 0\n                };\n                // Oblicz karƒô za wczoraj\n                const yesterdayShortage = Math.max(0, basicStat.daily_target - yesterdayForUser);\n                const penalty = yesterdayShortage * 15;\n                // Oblicz prowizjƒô na podstawie przypisanych klient√≥w Sale\n                const commission = ownedForUser.sale * basicStat.commission_rate / 100 * 100;\n                console.log(`üë§ Pracownik ${employee.full_name}: Canvas=${ownedForUser.canvas}, AntyS=${ownedForUser.antysale}, Sale=${ownedForUser.sale}`);\n                return {\n                    ...basicStat,\n                    // WA≈ªNE: Do≈ÇƒÖcz dane u≈ºytkownika\n                    user: {\n                        id: employee.id,\n                        full_name: employee.full_name,\n                        email: employee.email,\n                        avatar_url: employee.avatar_url,\n                        role: employee.role\n                    },\n                    daily_achieved: todayForUser.total,\n                    yesterday_shortage: yesterdayShortage,\n                    status_changes_today: {\n                        canvas: todayForUser.canvas,\n                        antysale: todayForUser.antysale,\n                        sale: todayForUser.sale,\n                        other: todayForUser.other\n                    },\n                    // U≈ºywaj statystyk opartych na owner_id (przypisanych klient√≥w)\n                    monthly_canvas: ownedForUser.canvas,\n                    monthly_antysale: ownedForUser.antysale,\n                    monthly_sale: ownedForUser.sale,\n                    total_commissions: commission,\n                    total_penalties: penalty\n                };\n            });\n            console.log('‚úÖ Przygotowano rozszerzone statystyki dla wszystkich pracownik√≥w:', enhancedStats.length);\n            console.log('üë• Lista pracownik√≥w:', enhancedStats.map((s)=>s.user?.full_name).join(', '));\n            return enhancedStats;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk pracownik√≥w:', error);\n            // W przypadku b≈Çƒôdu, zwr√≥ƒá pustƒÖ listƒô zamiast rzucaƒá b≈ÇƒÖd\n            return [];\n        }\n    },\n    // Podsumowanie dnia\n    async getDailySummary (date) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by').gte('updated_at', `${date}T00:00:00`).lt('updated_at', `${date}T23:59:59`);\n        if (error) throw error;\n        // Agregacja danych\n        const statusBreakdown = data.reduce((acc, client)=>{\n            acc[client.status] = (acc[client.status] || 0) + 1;\n            return acc;\n        }, {});\n        const employeeStats = data.reduce((acc, client)=>{\n            acc[client.edited_by] = (acc[client.edited_by] || 0) + 1;\n            return acc;\n        }, {});\n        return {\n            totalClients: data.length,\n            statusBreakdown,\n            employeeStats\n        };\n    },\n    // Podsumowanie tygodniowe\n    async getWeeklySummary (startDate, endDate) {\n        const { data, error } = await supabase.from('clients').select('status, edited_by, updated_at').gte('updated_at', startDate).lt('updated_at', endDate);\n        if (error) throw error;\n        return data;\n    },\n    // Aktualizuj statystyki pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeStats (userId, updates, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').update(updates).eq('user_id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Edytuj ilo≈õƒá klient√≥w i sumƒô wp≈Çat pracownika (dla manager/project_manager/junior_manager/szef/admin)\n    async updateEmployeeClientStats (userId, clientsCount, totalPayments, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do modyfikacji statystyk');\n        }\n        try {\n            console.log(`üìù Aktualizujƒô statystyki pracownika ${userId}: klienci=${clientsCount}, wp≈Çaty=${totalPayments}`);\n            // METODA 1: Spr√≥buj prostƒÖ aktualizacjƒô w employee_stats\n            try {\n                console.log('üìù Pr√≥ba prostej aktualizacji w employee_stats');\n                const legacyUpdates = {\n                    custom_clients_count: clientsCount,\n                    custom_total_payments: totalPayments,\n                    updated_at: new Date().toISOString()\n                };\n                const { data, error } = await supabase.from('employee_stats').update(legacyUpdates).eq('user_id', userId).select(`\n            *,\n            user:users!user_id (\n              id,\n              full_name,\n              email,\n              avatar_url,\n              role\n            )\n          `).single();\n                if (!error && data) {\n                    console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 1)');\n                    console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                    return data;\n                } else {\n                    console.warn('‚ö†Ô∏è Metoda 1 nie zadzia≈Ça≈Ça:', error);\n                    throw error;\n                }\n            } catch (method1Error) {\n                console.warn('‚ö†Ô∏è Metoda 1 (prosta aktualizacja) nie zadzia≈Ça≈Ça:', method1Error);\n                // METODA 2: Spr√≥buj INSERT z ON CONFLICT\n                try {\n                    console.log('üìù Pr√≥ba INSERT z ON CONFLICT w employee_stats');\n                    const insertData = {\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString()\n                    };\n                    const { data, error } = await supabase.from('employee_stats').upsert(insertData, {\n                        onConflict: 'user_id',\n                        ignoreDuplicates: false\n                    }).select(`\n              *,\n              user:users!user_id (\n                id,\n                full_name,\n                email,\n                avatar_url,\n                role\n              )\n            `).single();\n                    if (!error && data) {\n                        console.log('‚úÖ Zaktualizowano statystyki w employee_stats (metoda 2)');\n                        console.log(`üìä Klienci: ${clientsCount}, Wp≈Çaty: ‚Ç¨${totalPayments}`);\n                        return data;\n                    } else {\n                        console.warn('‚ö†Ô∏è Metoda 2 nie zadzia≈Ça≈Ça:', error);\n                        throw error;\n                    }\n                } catch (method2Error) {\n                    console.warn('‚ö†Ô∏è Metoda 2 (upsert) nie zadzia≈Ça≈Ça:', method2Error);\n                    // METODA 3: Zaktualizuj tylko w pamiƒôci (fallback)\n                    console.log('üìù Fallback - zwracam symulowane dane');\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        daily_target: 20,\n                        commission_rate: 3.0,\n                        monthly_canvas: 0,\n                        monthly_antysale: 0,\n                        monthly_sale: 0,\n                        total_commissions: 0,\n                        total_penalties: 0,\n                        custom_clients_count: clientsCount,\n                        custom_total_payments: totalPayments,\n                        created_at: new Date().toISOString(),\n                        updated_at: new Date().toISOString(),\n                        user: {\n                            id: userId,\n                            full_name: 'Pracownik',\n                            email: 'brak@email.com',\n                            avatar_url: null,\n                            role: 'pracownik'\n                        }\n                    };\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w updateEmployeeClientStats:', error);\n            throw error;\n        }\n    },\n    // Stw√≥rz statystyki dla nowego pracownika\n    async createEmployeeStats (userId, currentUser) {\n        // Sprawd≈∫ uprawnienia\n        if (![\n            'manager',\n            'project_manager',\n            'junior_manager',\n            'szef',\n            'admin'\n        ].includes(currentUser.role)) {\n            throw new Error('Brak uprawnie≈Ñ do tworzenia statystyk');\n        }\n        const { data, error } = await supabase.from('employee_stats').insert([\n            {\n                user_id: userId,\n                daily_target: 20,\n                commission_rate: 3.0\n            }\n        ]).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // üìä Nowa funkcja: Pobierz statystyki wykorzystania bazy (klienci z/bez w≈Ça≈õciciela)\n    async getDatabaseUtilization () {\n        try {\n            console.log('üìä Pobieranie statystyk wykorzystania bazy...');\n            // Zlicz wszystkich klient√≥w\n            const { count: totalCount, error: totalError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (totalError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania ≈ÇƒÖcznej liczby klient√≥w:', totalError);\n                throw totalError;\n            }\n            // Zlicz klient√≥w z w≈Ça≈õcicielem (owner_id != null)\n            const { count: withOwnerCount, error: withOwnerError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (withOwnerError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w z w≈Ça≈õcicielem:', withOwnerError);\n                throw withOwnerError;\n            }\n            // Oblicz klient√≥w bez w≈Ça≈õciciela\n            const withoutOwnerCount = (totalCount || 0) - (withOwnerCount || 0);\n            // Oblicz procent wykorzystania\n            const utilizationPercentage = totalCount ? Math.round((withOwnerCount || 0) / totalCount * 100) : 0;\n            const result = {\n                withOwner: withOwnerCount || 0,\n                withoutOwner: withoutOwnerCount,\n                total: totalCount || 0,\n                utilizationPercentage\n            };\n            console.log('üìä Statystyki wykorzystania bazy:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk wykorzystania bazy:', error);\n            throw error;\n        }\n    },\n    // üîÑ ADMIN: Resetuj w≈Ça≈õcicieli wszystkich klient√≥w\n    async resetAllClientOwners (currentUser) {\n        // Sprawd≈∫ uprawnienia - tylko admin\n        if (currentUser.role !== 'admin') {\n            throw new Error('Brak uprawnie≈Ñ! Tylko administrator mo≈ºe resetowaƒá w≈Ça≈õcicieli klient√≥w.');\n        }\n        try {\n            console.log('üîÑ Rozpoczynam resetowanie w≈Ça≈õcicieli klient√≥w...');\n            // Pobierz liczbƒô klient√≥w z w≈Ça≈õcicielem przed resetowaniem\n            const { count: beforeCount, error: beforeError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            }).not('owner_id', 'is', null);\n            if (beforeError) {\n                console.error('‚ùå B≈ÇƒÖd sprawdzania stanu przed resetowaniem:', beforeError);\n                throw beforeError;\n            }\n            // Resetuj owner_id dla wszystkich klient√≥w\n            const { data, error } = await supabase.from('clients').update({\n                owner_id: null\n            }).not('owner_id', 'is', null) // Tylko te kt√≥re majƒÖ w≈Ça≈õciciela\n            .select('id, first_name, last_name');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli:', error);\n                throw error;\n            }\n            const resetCount = data?.length || 0;\n            // Loguj akcjƒô do activity_logs\n            try {\n                await activityLogsApi.createLog({\n                    client_id: 'bulk_action',\n                    changed_by: currentUser.id,\n                    change_type: 'update',\n                    field_changed: 'owner_id',\n                    old_value: 'various',\n                    new_value: 'null (reset by admin)'\n                });\n            } catch (logError) {\n                console.error('‚ö†Ô∏è Nie uda≈Ço siƒô zalogowaƒá akcji:', logError);\n            // Nie przerywamy procesu z powodu b≈Çƒôdu logowania\n            }\n            console.log(`‚úÖ Zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w`);\n            return {\n                success: resetCount,\n                message: `Pomy≈õlnie zresetowano w≈Ça≈õcicieli dla ${resetCount} klient√≥w. Wszyscy klienci sƒÖ teraz bez przypisanego w≈Ça≈õciciela.`\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd resetowania w≈Ça≈õcicieli klient√≥w:', error);\n            throw error;\n        }\n    },\n    // Pobierz statystyki aktywno≈õci pracownik√≥w z tabeli employee_statistics\n    async getEmployeeActivityStats (user) {\n        try {\n            console.log('üìä Pobieranie statystyk aktywno≈õci pracownik√≥w...');\n            // Sprawd≈∫ uprawnienia\n            if (!user || ![\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef',\n                'admin'\n            ].includes(user.role)) {\n                console.warn('‚ö†Ô∏è Brak uprawnie≈Ñ do podglƒÖdu statystyk aktywno≈õci');\n                return [];\n            }\n            // KROK 1: Pobierz wszystkich u≈ºytkownik√≥w z rolƒÖ 'pracownik'\n            let allEmployees = [];\n            try {\n                const { data: employees, error: usersError } = await supabase.from('users').select(`\n            id,\n            full_name,\n            email,\n            avatar_url,\n            role\n          `).eq('role', 'pracownik').order('full_name', {\n                    ascending: true\n                });\n                if (usersError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania u≈ºytkownik√≥w-pracownik√≥w:', usersError);\n                    return [];\n                }\n                allEmployees = employees || [];\n                console.log(`üë• Znaleziono pracownik√≥w: ${allEmployees.length}`);\n                if (allEmployees.length === 0) {\n                    console.log('‚ö†Ô∏è Brak u≈ºytkownik√≥w z rolƒÖ pracownik');\n                    return [];\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', error);\n                return [];\n            }\n            // KROK 2: Pobierz statystyki aktywno≈õci - z obs≈ÇugƒÖ b≈Çƒôd√≥w RLS\n            let activityStats = [];\n            try {\n                const employeeIds = allEmployees.map((emp)=>emp.id);\n                console.log(`üîç Pobieranie statystyk dla ID: ${employeeIds.slice(0, 3).join(', ')}... (${employeeIds.length} total)`);\n                const { data: stats, error: statsError } = await supabase.from('employee_statistics').select('*').eq('period_type', 'monthly').in('user_id', employeeIds).order('period_end', {\n                    ascending: false\n                });\n                if (statsError) {\n                    console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', statsError);\n                    // Je≈õli to b≈ÇƒÖd RLS (403), nie przerywaj - u≈ºyj domy≈õlnych danych\n                    if (statsError.code === 'PGRST116' || statsError.message?.includes('RLS') || statsError.message?.includes('permission')) {\n                        console.warn('üîí Problem z RLS - u≈ºywam domy≈õlnych danych aktywno≈õci');\n                        activityStats = [];\n                    } else {\n                        console.error('üí• Krytyczny b≈ÇƒÖd pobierania statystyk - przerywam');\n                        return [];\n                    }\n                } else {\n                    activityStats = stats || [];\n                    console.log(`üìä Znaleziono rekord√≥w aktywno≈õci: ${activityStats.length}`);\n                }\n            } catch (error) {\n                console.error('‚ùå B≈ÇƒÖd zapytania o statystyki aktywno≈õci:', error);\n                activityStats = [];\n            }\n            // KROK 3: Stw√≥rz mapƒô najnowszych statystyk dla ka≈ºdego pracownika\n            const latestStatsMap = new Map();\n            if (activityStats && activityStats.length > 0) {\n                activityStats.forEach((stat)=>{\n                    const userId = stat.user_id;\n                    if (!latestStatsMap.has(userId)) {\n                        latestStatsMap.set(userId, stat);\n                    }\n                });\n                console.log(`üó∫Ô∏è Zmapowano statystyki dla ${latestStatsMap.size} pracownik√≥w`);\n            } else {\n                console.log('‚ö†Ô∏è Brak danych aktywno≈õci - u≈ºyjƒô domy≈õlnych warto≈õci');\n            }\n            // KROK 4: Kombinuj dane pracownik√≥w ze statystykami aktywno≈õci\n            const result = allEmployees.map((employee)=>{\n                const userId = employee.id;\n                const activityStat = latestStatsMap.get(userId);\n                if (activityStat) {\n                    // Mamy statystyki - u≈ºyj prawdziwych danych\n                    return {\n                        ...activityStat,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                } else {\n                    // Brak statystyk - stw√≥rz domy≈õlne dane\n                    const currentDate = new Date();\n                    const currentMonth = currentDate.getMonth() + 1;\n                    const currentYear = currentDate.getFullYear();\n                    const monthStart = `${currentYear}-${currentMonth.toString().padStart(2, '0')}-01`;\n                    const monthEnd = new Date(currentYear, currentMonth, 0).toISOString().split('T')[0];\n                    return {\n                        id: 'temp_' + userId,\n                        user_id: userId,\n                        period_type: 'monthly',\n                        period_start: monthStart,\n                        period_end: monthEnd,\n                        total_work_minutes: 0,\n                        average_daily_minutes: 0,\n                        expected_work_minutes: 176 * 60,\n                        efficiency_percentage: 0,\n                        total_activities: 0,\n                        average_daily_activities: 0,\n                        days_worked: 0,\n                        days_absent: 0,\n                        user: {\n                            id: employee.id,\n                            full_name: employee.full_name,\n                            email: employee.email,\n                            avatar_url: employee.avatar_url,\n                            role: employee.role\n                        }\n                    };\n                }\n            });\n            console.log(`‚úÖ Przygotowano statystyki aktywno≈õci dla wszystkich pracownik√≥w: ${result.length}`);\n            console.log(`üë• Lista pracownik√≥w: ${result.map((s)=>s.user?.full_name).join(', ')}`);\n            // Poka≈º statystyki podsumowujƒÖce\n            const withData = result.filter((r)=>r.total_work_minutes > 0).length;\n            const withoutData = result.length - withData;\n            console.log(`üìä Pracownicy z danymi: ${withData}, bez danych: ${withoutData}`);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk aktywno≈õci:', error);\n            // Graceful fallback - zwr√≥ƒá pustƒÖ tablicƒô zamiast crashowaƒá\n            console.log('üîÑ Graceful fallback - zwracam pustƒÖ tablicƒô');\n            return [];\n        }\n    },\n    // Pobierz trendy sprzeda≈ºowe z ostatnich 7 dni\n    async getSalesTrends (user) {\n        try {\n            console.log('üìà Pobieranie trend√≥w sprzeda≈ºowych z ostatnich 7 dni...');\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            const { data, error } = await supabase.from('clients').select('status, updated_at, status_changed_at, owner_id, edited_by').gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').in('status', [\n                'canvas',\n                'sale',\n                'antysale'\n            ]).order('updated_at', {\n                ascending: true\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Pobrano ${data?.length || 0} rekord√≥w z ostatnich 7 dni`);\n            // Filtruj klient√≥w wed≈Çug uprawnie≈Ñ u≈ºytkownika\n            let filteredData = data || [];\n            if (user.role === 'pracownik') {\n                filteredData = filteredData.filter((client)=>client.owner_id === user.id || client.owner_id === null || client.edited_by === user.id);\n            }\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trends = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trends[dayName] = {\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                };\n            }\n            // Grupuj dane wed≈Çug dni\n            filteredData.forEach((client)=>{\n                const date = new Date(client.updated_at);\n                const dayName = dayNames[date.getDay()];\n                if (trends[dayName]) {\n                    if (client.status === 'canvas') trends[dayName].canvas++;\n                    else if (client.status === 'sale') trends[dayName].sale++;\n                    else if (client.status === 'antysale') trends[dayName].antysale++;\n                }\n            });\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: trends[dayName].canvas,\n                    sale: trends[dayName].sale,\n                    antysale: trends[dayName].antysale\n                });\n            }\n            console.log('‚úÖ Trendy sprzeda≈ºowe przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w sprzeda≈ºowych:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    canvas: 0,\n                    sale: 0,\n                    antysale: 0\n                });\n            }\n            return result;\n        }\n    },\n    // Pobierz statystyki klikniƒôƒá telefonu tylko dla pracownik√≥w\n    async getPhoneClicksStats (user) {\n        try {\n            console.log('üìû Pobieranie statystyk klikniƒôƒá telefonu...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                return {\n                    totalPhoneCalls: 0,\n                    totalPhoneCallsToday: 0\n                };\n            }\n            // Pobierz wszystkie klikniƒôcia telefonu z activity_logs tylko dla pracownik√≥w\n            const { data: allPhoneClicks, error: allClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds);\n            if (allClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', allClicksError);\n                throw allClicksError;\n            }\n            const totalPhoneCalls = allPhoneClicks?.length || 0;\n            // Pobierz dzisiejsze klikniƒôcia telefonu\n            const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n            ;\n            const { data: todayPhoneClicks, error: todayClicksError } = await supabase.from('activity_logs').select('id, changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', `${today}T00:00:00`).lt('timestamp', `${today}T23:59:59`);\n            if (todayClicksError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania dzisiejszych klikniƒôƒá telefonu:', todayClicksError);\n                throw todayClicksError;\n            }\n            const totalPhoneCallsToday = todayPhoneClicks?.length || 0;\n            console.log(`‚úÖ Statystyki klikniƒôƒá telefonu: ≈ÇƒÖcznie ${totalPhoneCalls}, dzi≈õ ${totalPhoneCallsToday}`);\n            return {\n                totalPhoneCalls,\n                totalPhoneCallsToday\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania statystyk klikniƒôƒá telefonu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá zerowe statystyki\n            return {\n                totalPhoneCalls: 0,\n                totalPhoneCallsToday: 0\n            };\n        }\n    },\n    // Pobierz dane trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni\n    async getTeamPerformanceTrends (user) {\n        try {\n            console.log('üìä Pobieranie trend√≥w wydajno≈õci zespo≈Çu z ostatnich 7 dni...');\n            // Pobierz wszystkich pracownik√≥w\n            const { data: employees, error: employeesError } = await supabase.from('users').select('id').eq('role', 'pracownik');\n            if (employeesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania pracownik√≥w:', employeesError);\n                throw employeesError;\n            }\n            const employeeIds = (employees || []).map((emp)=>emp.id);\n            console.log(`üë• Znaleziono ${employeeIds.length} pracownik√≥w`);\n            if (employeeIds.length === 0) {\n                // Zwr√≥ƒá puste dane dla ostatnich 7 dni\n                const dayNames = [\n                    'Ndz',\n                    'Pon',\n                    'Wt',\n                    '≈ör',\n                    'Czw',\n                    'Pt',\n                    'Sob'\n                ];\n                const result = [];\n                for(let i = 6; i >= 0; i--){\n                    const date = new Date();\n                    date.setDate(date.getDate() - i);\n                    const dayName = dayNames[date.getDay()];\n                    result.push({\n                        day: dayName,\n                        telefony: 0,\n                        konwersja: 0,\n                        klienci: 0\n                    });\n                }\n                return result;\n            }\n            // Pobierz dane z ostatnich 7 dni\n            const endDate = new Date();\n            const startDate = new Date();\n            startDate.setDate(endDate.getDate() - 6) // 7 dni wstecz (w≈ÇƒÖcznie z dzisiaj)\n            ;\n            // 1. Pobierz klikniƒôcia telefonu z activity_logs (tylko pracownicy)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('changed_by, timestamp').eq('field_changed', 'last_phone_click').in('changed_by', employeeIds).gte('timestamp', startDate.toISOString().split('T')[0]).lte('timestamp', endDate.toISOString().split('T')[0] + 'T23:59:59');\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            // 2. Pobierz zmiany klient√≥w z ostatnich 7 dni (tylko przez pracownik√≥w)\n            const { data: clientChanges, error: changesError } = await supabase.from('clients').select('updated_at, status, edited_by').in('edited_by', employeeIds).gte('updated_at', startDate.toISOString().split('T')[0]).lte('updated_at', endDate.toISOString().split('T')[0] + 'T23:59:59').order('updated_at', {\n                ascending: true\n            });\n            if (changesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania zmian klient√≥w:', changesError);\n                throw changesError;\n            }\n            console.log(`‚úÖ Pobrano ${phoneClicks?.length || 0} klikniƒôƒá telefonu i ${clientChanges?.length || 0} zmian klient√≥w`);\n            // Stw√≥rz mapƒô dla dni tygodnia\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const trendsData = {};\n            // Inicjalizuj ostatnie 7 dni\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                trendsData[dayName] = {\n                    telefony: 0,\n                    klienci: 0,\n                    sales: 0\n                };\n            }\n            // Grupuj klikniƒôcia telefonu wed≈Çug dni\n            if (phoneClicks && Array.isArray(phoneClicks)) {\n                phoneClicks.forEach((click)=>{\n                    const date = new Date(click.timestamp);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].telefony++;\n                    }\n                });\n            }\n            // Grupuj zmiany klient√≥w wed≈Çug dni\n            if (clientChanges && Array.isArray(clientChanges)) {\n                clientChanges.forEach((change)=>{\n                    const date = new Date(change.updated_at);\n                    const dayName = dayNames[date.getDay()];\n                    if (trendsData[dayName]) {\n                        trendsData[dayName].klienci++;\n                        if (change.status === 'sale') {\n                            trendsData[dayName].sales++;\n                        }\n                    }\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu (ostatnie 7 dni w kolejno≈õci)\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                const dayData = trendsData[dayName];\n                // Oblicz konwersjƒô (procent sales wzglƒôdem wszystkich klient√≥w)\n                const konwersja = dayData.klienci > 0 ? Math.round(dayData.sales / dayData.klienci * 100) : 0;\n                result.push({\n                    day: dayName,\n                    telefony: dayData.telefony,\n                    konwersja: konwersja,\n                    klienci: dayData.klienci\n                });\n            }\n            console.log('‚úÖ Trendy wydajno≈õci zespo≈Çu przygotowane:', result);\n            return result;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania trend√≥w wydajno≈õci zespo≈Çu:', error);\n            // W przypadku b≈Çƒôdu zwr√≥ƒá puste dane dla ostatnich 7 dni\n            const dayNames = [\n                'Ndz',\n                'Pon',\n                'Wt',\n                '≈ör',\n                'Czw',\n                'Pt',\n                'Sob'\n            ];\n            const result = [];\n            for(let i = 6; i >= 0; i--){\n                const date = new Date();\n                date.setDate(date.getDate() - i);\n                const dayName = dayNames[date.getDay()];\n                result.push({\n                    day: dayName,\n                    telefony: 0,\n                    konwersja: 0,\n                    klienci: 0\n                });\n            }\n            return result;\n        }\n    },\n    // API dla statystyk osobistych pracownika\n    async getMyPersonalStats (user) {\n        try {\n            console.log('üìä Pobieranie osobistych statystyk pracownika:', user.id, user.role);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                console.error('‚ùå Nieautoryzowana rola:', user.role);\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            console.log('‚úÖ U≈ºytkownik autoryzowany jako pracownik');\n            const currentDate = new Date();\n            const currentMonth = currentDate.toISOString().slice(0, 7) // YYYY-MM\n            ;\n            // Ustaw pierwszy i ostatni dzie≈Ñ miesiƒÖca prawid≈Çowo\n            const startOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth(), 1);\n            const endOfMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() + 1, 0, 23, 59, 59);\n            // 1. Pobierz liczbƒô telefon√≥w w tym miesiƒÖcu (klikniƒôcia telefonu)\n            const { data: phoneClicks, error: phoneError } = await supabase.from('activity_logs').select('id, timestamp').eq('changed_by', user.id).eq('field_changed', 'last_phone_click').gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString());\n            if (phoneError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klikniƒôƒá telefonu:', phoneError);\n                throw phoneError;\n            }\n            const phoneCallsThisMonth = phoneClicks?.length || 0;\n            console.log(`üìû Znaleziono ${phoneCallsThisMonth} klikniƒôƒá telefonu w tym miesiƒÖcu`);\n            // 2. Pobierz klient√≥w przypisanych do pracownika\n            console.log('üë• Pobieranie klient√≥w przypisanych do pracownika...');\n            const { data: myClients, error: clientsError } = await supabase.from('clients').select('id, status, first_name, last_name, company_name').eq('owner_id', user.id);\n            if (clientsError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania klient√≥w:', clientsError);\n                throw clientsError;\n            }\n            const clients = myClients || [];\n            const totalClients = clients.length;\n            console.log(`üë§ Pracownik ma ${totalClients} przypisanych klient√≥w`);\n            // 3. Agreguj statusy klient√≥w\n            console.log('üìä Agregowanie status√≥w klient√≥w...');\n            const statusMap = new Map();\n            clients.forEach((client)=>{\n                const status = client.status;\n                statusMap.set(status, (statusMap.get(status) || 0) + 1);\n            });\n            console.log('üìà Statusy klient√≥w:', Object.fromEntries(statusMap));\n            // Mapuj statusy na kolory\n            const statusColors = {\n                canvas: '#06b6d4',\n                sale: '#10b981',\n                antysale: '#f59e0b',\n                brak_kontaktu: '#6b7280',\n                nie_zainteresowany: '#ef4444',\n                zdenerwowany: '#dc2626',\n                '$$': '#fbbf24'\n            };\n            const clientStats = Array.from(statusMap.entries()).map(([status, count])=>({\n                    status,\n                    count,\n                    color: statusColors[status] || '#64748b'\n                }));\n            // 4. Oblicz prowizjƒô (tylko za klient√≥w ze statusem 'sale')\n            const saleClients = statusMap.get('sale') || 0;\n            const commissionPerSale = 200 // 200 z≈Ç za ka≈ºdego klienta sale\n            ;\n            const commissionTotal = saleClients * commissionPerSale;\n            // 5. Pobierz godziny pracy z tego miesiƒÖca na podstawie activity_logs\n            console.log('‚è∞ Pobieranie aktywno≈õci z tego miesiƒÖca...');\n            console.log(`üìÖ Zakres dat: ${startOfMonth.toISOString()} - ${endOfMonth.toISOString()}`);\n            const { data: activities, error: activitiesError } = await supabase.from('activity_logs').select('timestamp').eq('changed_by', user.id).gte('timestamp', startOfMonth.toISOString()).lte('timestamp', endOfMonth.toISOString()).order('timestamp', {\n                ascending: true\n            });\n            if (activitiesError) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci:', activitiesError);\n                throw activitiesError;\n            }\n            console.log(`‚è∞ Znaleziono ${activities?.length || 0} aktywno≈õci w tym miesiƒÖcu`);\n            // Grupuj aktywno≈õci wed≈Çug dni i oblicz godziny pracy\n            console.log('üìÖ Grupowanie aktywno≈õci wed≈Çug dni...');\n            const dailyActivities = new Map();\n            if (activities && activities.length > 0) {\n                activities.forEach((activity)=>{\n                    const date = new Date(activity.timestamp);\n                    const day = date.toISOString().split('T')[0] // YYYY-MM-DD\n                    ;\n                    const hour = date.getHours();\n                    if (!dailyActivities.has(day)) {\n                        dailyActivities.set(day, new Set());\n                    }\n                    dailyActivities.get(day).add(hour);\n                });\n            }\n            // Przekszta≈Çƒá na format dla wykresu\n            const workingHoursThisMonth = Array.from(dailyActivities.entries()).map(([day, hours])=>({\n                    day: new Date(day).toLocaleDateString('pl-PL', {\n                        weekday: 'short',\n                        day: 'numeric'\n                    }),\n                    hours: hours.size,\n                    sortDate: new Date(day) // Dodaj pole do sortowania\n                })).sort((a, b)=>a.sortDate.getTime() - b.sortDate.getTime()).map(({ day, hours })=>({\n                    day,\n                    hours\n                })) // Usu≈Ñ pole sortDate z wynikowych danych\n            ;\n            const totalWorkingHours = Array.from(dailyActivities.values()).reduce((sum, hours)=>sum + hours.size, 0);\n            const totalWorkingDays = dailyActivities.size;\n            console.log('‚úÖ Statystyki osobiste przygotowane:', {\n                phoneCallsThisMonth,\n                totalClients,\n                commissionTotal,\n                totalWorkingHours,\n                totalWorkingDays\n            });\n            return {\n                phoneCallsThisMonth,\n                clientStats,\n                totalClients,\n                commissionTotal,\n                workingHoursThisMonth,\n                totalWorkingHours,\n                totalWorkingDays\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd pobierania osobistych statystyk:', error);\n            // Szczeg√≥≈Çowe informacje o b≈Çƒôdzie\n            if (error && typeof error === 'object') {\n                console.error('üìã Szczeg√≥≈Çy b≈Çƒôdu:', {\n                    message: error.message,\n                    code: error.code,\n                    details: error.details,\n                    hint: error.hint,\n                    stack: error.stack\n                });\n            }\n            // Je≈õli to b≈ÇƒÖd RLS lub uprawnie≈Ñ, zwr√≥ƒá pustƒÖ strukturƒô zamiast crashowaƒá\n            if (error && typeof error === 'object' && (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission'))) {\n                console.warn('üîí Problem z uprawnieniami - zwracam domy≈õlne dane');\n                return {\n                    phoneCallsThisMonth: 0,\n                    clientStats: [],\n                    totalClients: 0,\n                    commissionTotal: 0,\n                    workingHoursThisMonth: [],\n                    totalWorkingHours: 0,\n                    totalWorkingDays: 0\n                };\n            }\n            throw error;\n        }\n    },\n    // Funkcje do zarzƒÖdzania godzinami pracy pracownika\n    async saveWorkingHours (user, date, hours) {\n        try {\n            console.log(`‚è∞ Zapisywanie godzin pracy: ${hours}h dla dnia ${date}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Sprawd≈∫ czy to dzie≈Ñ roboczy (pon-pt)\n            const dayOfWeek = new Date(date).getDay();\n            if (dayOfWeek === 0 || dayOfWeek === 6) {\n                throw new Error('Mo≈ºna wpisywaƒá godziny tylko dla dni roboczych (pon-pt)');\n            }\n            // Walidacja godzin (0-12)\n            if (hours < 0 || hours > 12) {\n                throw new Error('Liczba godzin musi byƒá miƒôdzy 0 a 12');\n            }\n            // Upsert godzin pracy w bazie danych (tabela ju≈º istnieje)\n            const { error } = await supabase.from('working_hours').upsert({\n                user_id: user.id,\n                work_date: date,\n                hours_worked: hours,\n                updated_at: new Date().toISOString()\n            }, {\n                onConflict: 'user_id,work_date'\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd zapisywania godzin pracy do bazy:', error);\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage fallback)`);\n                return;\n            }\n            console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (baza danych working_hours)`);\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w saveWorkingHours:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const existingData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                existingData[date] = hours;\n                localStorage.setItem(storageKey, JSON.stringify(existingData));\n                console.log(`‚úÖ Zapisano ${hours}h dla dnia ${date} (localStorage ultimate fallback)`);\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô zapisaƒá nawet do localStorage:', storageError);\n                throw error;\n            }\n        }\n    },\n    async getWorkingHoursForMonth (user, year, month) {\n        try {\n            console.log(`‚è∞ Pobieranie godzin pracy dla ${year}-${month}`);\n            // Sprawd≈∫ czy u≈ºytkownik to pracownik\n            if (user.role !== 'pracownik') {\n                throw new Error('Dostƒôp tylko dla pracownik√≥w');\n            }\n            // Oblicz pierwszy i ostatni dzie≈Ñ miesiƒÖca\n            const startDate = new Date(year, month - 1, 1);\n            const endDate = new Date(year, month, 0);\n            // Pobierz godziny pracy z tabeli working_hours (tabela ju≈º istnieje)\n            const { data, error } = await supabase.from('working_hours').select('work_date, hours_worked').eq('user_id', user.id).gte('work_date', startDate.toISOString().split('T')[0]).lte('work_date', endDate.toISOString().split('T')[0]);\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania godzin pracy z bazy:', error);\n                console.warn('‚ö†Ô∏è B≈ÇƒÖd bazy danych - u≈ºywam localStorage jako fallback');\n                // Fallback do localStorage tylko przy b≈Çƒôdzie bazy danych\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    const dateObj = new Date(date);\n                    if (dateObj >= startDate && dateObj <= endDate) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            }\n            // Konwertuj na obiekt date -> hours\n            const hoursMap = {};\n            if (data) {\n                data.forEach((entry)=>{\n                    hoursMap[entry.work_date] = entry.hours_worked;\n                });\n            }\n            console.log(`‚úÖ Pobrano godziny pracy z tabeli working_hours dla ${data?.length || 0} dni`);\n            return hoursMap;\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd w getWorkingHoursForMonth:', error);\n            // Ultimate fallback - localStorage\n            try {\n                console.warn('‚ö†Ô∏è U≈ºywam localStorage jako ostateczny fallback');\n                const storageKey = `working_hours_${user.id}`;\n                const storedData = JSON.parse(localStorage.getItem(storageKey) || '{}');\n                // Filtruj dane dla odpowiedniego miesiƒÖca\n                const startDate = new Date(year, month - 1, 1);\n                const endDate = new Date(year, month, 0);\n                const hoursMap = {};\n                Object.entries(storedData).forEach(([date, hours])=>{\n                    const dateObj = new Date(date);\n                    if (dateObj >= startDate && dateObj <= endDate) {\n                        hoursMap[date] = hours;\n                    }\n                });\n                console.log(`‚úÖ Pobrano godziny pracy z localStorage ultimate fallback dla ${Object.keys(hoursMap).length} dni`);\n                return hoursMap;\n            } catch (storageError) {\n                console.error('‚ùå Nie uda≈Ço siƒô pobraƒá nawet z localStorage:', storageError);\n                return {};\n            }\n        }\n    },\n    // üöÄ NOWE FUNKCJE PERFORMANCE - Materializowane Widoki\n    // Zastƒôpuje ciƒô≈ºkie JOIN'y - teraz natychmiastowe ≈Çadowanie\n    async getMonthlyEmployeePerformance (year, month) {\n        try {\n            console.log(`üìä Pobieranie wydajno≈õci pracownik√≥w dla ${year}-${month} (zoptymalizowane)...`);\n            const { data, error } = await supabase.rpc('get_monthly_employee_performance', {\n                target_year: year,\n                target_month: month\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania wydajno≈õci pracownik√≥w:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Wydajno≈õƒá pracownik√≥w pobrana: ${data?.length || 0} rekord√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getMonthlyEmployeePerformance failed:', error);\n            throw error;\n        }\n    },\n    // Szybkie statystyki zespo≈Çu na podstawie materializowanych widok√≥w\n    async getTeamSummary (year, month) {\n        try {\n            const { data, error } = await supabase.from('mv_monthly_employee_stats').select('*').eq('year', year).eq('month', month).order('owned_sales', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamSummary failed:', error);\n            throw error;\n        }\n    },\n    // Performance analytics - top performers\n    async getTopPerformers (limit = 10) {\n        try {\n            const { data, error } = await supabase.rpc('get_top_performers', {\n                limit_count: limit\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTopPerformers failed:', error);\n            throw error;\n        }\n    }\n};\n// Funkcje autoryzacji\nconst authApi = {\n    // Zaloguj u≈ºytkownika\n    async signIn (email, password) {\n        const { data, error } = await supabase.auth.signInWithPassword({\n            email,\n            password\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Zarejestruj nowego u≈ºytkownika\n    async signUp (email, password, fullName) {\n        const { data, error } = await supabase.auth.signUp({\n            email,\n            password,\n            options: {\n                data: {\n                    full_name: fullName\n                }\n            }\n        });\n        if (error) throw error;\n        return data;\n    },\n    // Wyloguj u≈ºytkownika\n    async signOut () {\n        const { error } = await supabase.auth.signOut();\n        if (error) throw error;\n    },\n    // Pobierz aktualnego u≈ºytkownika\n    async getCurrentUser () {\n        const { data: { user } } = await supabase.auth.getUser();\n        return user;\n    },\n    // Pobierz profil u≈ºytkownika z rolƒÖ\n    async getUserProfile (userId) {\n        const { data, error } = await supabase.from('users').select('*').eq('id', userId).single();\n        if (error) throw error;\n        return data;\n    },\n    // Pobierz wszystkich u≈ºytkownik√≥w (dla opcji filtrowania)\n    async getAllUsers () {\n        try {\n            console.log('üë• getAllUsers START - sprawdzam RLS...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsers - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            console.log('üë• getAllUsers - b≈ÇƒÖd:', error);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsers:', error);\n                // Sprawd≈∫ czy to problem z RLS\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí Problem z Row Level Security - pracownik nie mo≈ºe widzieƒá innych u≈ºytkownik√≥w');\n                }\n                throw error;\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w - mo≈ºe RLS blokuje dostƒôp');\n            }\n            return data;\n        } catch (error) {\n            console.error('‚ùå getAllUsers FAILED:', error);\n            throw error;\n        }\n    },\n    // Sprawd≈∫ sesjƒô u≈ºytkownika\n    async getSession () {\n        const { data: { session } } = await supabase.auth.getSession();\n        return session;\n    },\n    // Nas≈Çuchuj zmian w autoryzacji\n    onAuthStateChange (callback) {\n        return supabase.auth.onAuthStateChange(callback);\n    },\n    // Zaktualizuj jƒôzyk u≈ºytkownika\n    async updateUserLanguage (userId, language) {\n        const { data, error } = await supabase.from('users').update({\n            language\n        }).eq('id', userId).select().single();\n        if (error) throw error;\n        return data;\n    },\n    // Bezpieczne pobieranie u≈ºytkownik√≥w do wy≈õwietlania (odporne na RLS)\n    async getAllUsersForDisplay () {\n        try {\n            console.log('üë• getAllUsersForDisplay START - bezpieczne pobieranie...');\n            // Sprawd≈∫ aktualnego u≈ºytkownika\n            const { data: { user } } = await supabase.auth.getUser();\n            console.log('üë§ Aktualny u≈ºytkownik:', user?.email, user?.id);\n            if (!user) {\n                console.log('‚ùå Brak zalogowanego u≈ºytkownika');\n                return [];\n            }\n            const { data, error } = await supabase.from('users').select('id, full_name, email, role, avatar_url').order('full_name');\n            console.log('üë• getAllUsersForDisplay - znaleziono u≈ºytkownik√≥w:', data?.length || 0);\n            if (error) {\n                console.error('‚ùå RLS Error in getAllUsersForDisplay:', error);\n                // Je≈õli to problem z RLS, zwr√≥ƒá przynajmniej aktualnego u≈ºytkownika\n                if (error.code === 'PGRST116' || error.message?.includes('RLS') || error.message?.includes('permission')) {\n                    console.error('üîí RLS blokuje dostƒôp - zwracam tylko aktualnego u≈ºytkownika');\n                    // Pobierz profil aktualnego u≈ºytkownika\n                    try {\n                        const userProfile = await this.getUserProfile(user.id);\n                        console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                        return [\n                            userProfile\n                        ];\n                    } catch (profileError) {\n                        console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                        return [];\n                    }\n                }\n                // Inny b≈ÇƒÖd - zwr√≥ƒá pustƒÖ tablicƒô\n                console.error('‚ùå Inny b≈ÇƒÖd - zwracam pustƒÖ tablicƒô');\n                return [];\n            }\n            if (data && data.length > 0) {\n                console.log('üë• Udane pobranie u≈ºytkownik√≥w:', data.length);\n                console.log('üë• Przyk≈Çad u≈ºytkownik√≥w:', data.slice(0, 3).map((u)=>({\n                        id: u.id,\n                        name: u.full_name,\n                        role: u.role\n                    })));\n                return data;\n            } else {\n                console.log('üë• UWAGA: Brak danych u≈ºytkownik√≥w');\n                // Fallback - przynajmniej aktualny u≈ºytkownik\n                try {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Fallback: u≈ºywam profilu aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                } catch (profileError) {\n                    console.error('‚ùå Nie mo≈ºna pobraƒá profilu u≈ºytkownika:', profileError);\n                    return [];\n                }\n            }\n        } catch (error) {\n            console.error('‚ùå getAllUsersForDisplay CRITICAL ERROR:', error);\n            // Krytyczny fallback - spr√≥buj przynajmniej pobraƒá aktualnego u≈ºytkownika\n            try {\n                const { data: { user } } = await supabase.auth.getUser();\n                if (user) {\n                    const userProfile = await this.getUserProfile(user.id);\n                    console.log('üë§ Krytyczny fallback: zwracam aktualnego u≈ºytkownika:', userProfile.full_name);\n                    return [\n                        userProfile\n                    ];\n                }\n            } catch (criticalError) {\n                console.error('‚ùå Krytyczny b≈ÇƒÖd fallback:', criticalError);\n            }\n            return [];\n        }\n    }\n};\n// Funkcja do okre≈õlania koloru statusu \"canvas\" na podstawie czasu\nconst getCanvasStatusColor = (statusChangedAt)=>{\n    if (!statusChangedAt) {\n        return {\n            color: 'bg-blue-500/20 text-blue-400 border-blue-500/30',\n            description: 'Nowy',\n            priority: 'low'\n        };\n    }\n    const now = new Date();\n    const statusDate = new Date(statusChangedAt);\n    const daysDiff = Math.floor((now.getTime() - statusDate.getTime()) / (1000 * 60 * 60 * 24));\n    if (daysDiff <= 2) {\n        // 0-2 dni - zielony (≈õwie≈ºy)\n        return {\n            color: 'bg-green-500/20 text-green-400 border-green-500/30',\n            description: `≈öwie≈ºy (${daysDiff}d)`,\n            priority: 'low'\n        };\n    } else if (daysDiff <= 4) {\n        // 2-4 dni - ≈º√≥≈Çty (uwaga)\n        return {\n            color: 'bg-yellow-500/20 text-yellow-400 border-yellow-500/30',\n            description: `Wymaga uwagi (${daysDiff}d)`,\n            priority: 'medium'\n        };\n    } else {\n        // 5+ dni - czerwony (pilny)\n        return {\n            color: 'bg-red-500/20 text-red-400 border-red-500/30',\n            description: `Pilny (${daysDiff}d)`,\n            priority: 'high'\n        };\n    }\n};\n// Funkcja do pobierania klient√≥w z oznaczeniami priorytet√≥w\nconst getCanvasClientsWithPriority = async (user)=>{\n    try {\n        const clients = await clientsApi.getClients(user);\n        const canvasClients = clients.filter((client)=>client.status === 'canvas');\n        const priorityStats = {\n            high: 0,\n            medium: 0,\n            low: 0,\n            total: canvasClients.length\n        };\n        canvasClients.forEach((client)=>{\n            const { priority } = getCanvasStatusColor(client.status_changed_at);\n            priorityStats[priority]++;\n        });\n        return {\n            clients: canvasClients,\n            stats: priorityStats\n        };\n    } catch (error) {\n        console.error('B≈ÇƒÖd pobierania klient√≥w canvas:', error);\n        return {\n            clients: [],\n            stats: {\n                high: 0,\n                medium: 0,\n                low: 0,\n                total: 0\n            }\n        };\n    }\n};\n// üöÄ NOWE API PERFORMANCE - Materializowane Widoki i Optymalizacje\n// Dodane zgodnie z INSTRUKCJE_PERFORMANCE_OPTIMIZATIONS.md\nconst dashboardApi = {\n    // Zastƒôpuje wolne zapytania dashboard - teraz ~10ms zamiast ~200ms\n    async getDashboardMetrics () {\n        try {\n            console.log('‚ö° Pobieranie szybkich metryk dashboard z materializowanego widoku...');\n            const { data, error } = await supabase.rpc('get_dashboard_metrics');\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania metryk dashboard:', error);\n                throw error;\n            }\n            console.log('‚úÖ Dashboard metrics pobrane w trybie express:', data?.length || 0, 'metryk');\n            return data;\n        } catch (error) {\n            console.error('‚ùå getDashboardMetrics failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie czy materializowane widoki sƒÖ ≈õwie≈ºe\n    async checkViewFreshness () {\n        try {\n            const { data, error } = await supabase.from('mv_dashboard_summary').select('last_updated').single();\n            if (error) throw error;\n            const lastUpdate = new Date(data.last_updated);\n            const now = new Date();\n            const minutesSinceUpdate = Math.floor((now.getTime() - lastUpdate.getTime()) / (1000 * 60));\n            return {\n                lastUpdate: data.last_updated,\n                minutesSinceUpdate,\n                isStale: minutesSinceUpdate > 30 // Uznaj za nieaktualne po 30 minutach\n            };\n        } catch (error) {\n            console.error('‚ùå B≈ÇƒÖd sprawdzania ≈õwie≈ºo≈õci widok√≥w:', error);\n            return {\n                lastUpdate: null,\n                minutesSinceUpdate: Infinity,\n                isStale: true\n            };\n        }\n    }\n};\n// üöÄ NOWE FUNKCJE PERFORMANCE dodane do istniejƒÖcego reportsApi\nconst teamApi = {\n    // Szybki przeglƒÖd aktywno≈õci zespo≈Çu\n    async getTeamActivityOverview () {\n        try {\n            console.log('üë• Pobieranie przeglƒÖdu aktywno≈õci zespo≈Çu (zoptymalizowane)...');\n            const { data, error } = await supabase.from('mv_activity_summary').select('*').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]).order('activities_24h', {\n                ascending: false\n            });\n            if (error) {\n                console.error('‚ùå B≈ÇƒÖd pobierania aktywno≈õci zespo≈Çu:', error);\n                throw error;\n            }\n            console.log(`‚úÖ Aktywno≈õƒá zespo≈Çu pobrana: ${data?.length || 0} u≈ºytkownik√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå getTeamActivityOverview failed:', error);\n            throw error;\n        }\n    },\n    // Sprawdzenie aktywnych u≈ºytkownik√≥w w czasie rzeczywistym\n    async getActiveUsersNow () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('user_id, full_name, activity_status, last_activity').eq('activity_status', 'active').order('last_activity', {\n                ascending: false\n            });\n            if (error) throw error;\n            return data;\n        } catch (error) {\n            console.error('‚ùå getActiveUsersNow failed:', error);\n            throw error;\n        }\n    },\n    // Statystyki produktywno≈õci zespo≈Çu\n    async getProductivityStats () {\n        try {\n            const { data, error } = await supabase.from('mv_activity_summary').select('activities_24h, activities_7d, phone_clicks, status_changes').in('role', [\n                'pracownik',\n                'manager',\n                'project_manager',\n                'junior_manager',\n                'szef'\n            ]);\n            if (error) throw error;\n            // Oblicz ≈õrednie\n            const totalUsers = data.length;\n            const avgDaily = data.reduce((sum, user)=>sum + user.activities_24h, 0) / totalUsers;\n            const avgWeekly = data.reduce((sum, user)=>sum + user.activities_7d, 0) / totalUsers;\n            return {\n                totalUsers,\n                avgDailyActivities: Math.round(avgDaily),\n                avgWeeklyActivities: Math.round(avgWeekly),\n                totalDailyActivities: data.reduce((sum, user)=>sum + user.activities_24h, 0),\n                totalWeeklyActivities: data.reduce((sum, user)=>sum + user.activities_7d, 0)\n            };\n        } catch (error) {\n            console.error('‚ùå getProductivityStats failed:', error);\n            throw error;\n        }\n    }\n};\n// üîß PERFORMANCE MONITORING API\nconst performanceApi = {\n    // Sprawdzenie metryk wydajno≈õci systemu\n    async getSystemMetrics () {\n        try {\n            // Pobierz statystyki tabel bezpo≈õrednio zamiast u≈ºywaƒá funkcji z b≈Çƒôdem timestamp\n            const tableStats = [];\n            // Statystyki activity_logs\n            const { count: logsCount, error: logsError } = await supabase.from('activity_logs').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (!logsError) {\n                tableStats.push({\n                    table_name: 'activity_logs',\n                    record_count: logsCount || 0,\n                    table_size: 'N/A',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            // Statystyki activity_logs_archive\n            const { count: archiveCount, error: archiveError } = await supabase.from('activity_logs_archive').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (!archiveError) {\n                tableStats.push({\n                    table_name: 'activity_logs_archive',\n                    record_count: archiveCount || 0,\n                    table_size: 'N/A',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            // Statystyki clients\n            const { count: clientsCount, error: clientsError } = await supabase.from('clients').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (!clientsError) {\n                tableStats.push({\n                    table_name: 'clients',\n                    record_count: clientsCount || 0,\n                    table_size: 'N/A',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            // Statystyki users\n            const { count: usersCount, error: usersError } = await supabase.from('users').select('*', {\n                count: 'exact',\n                head: true\n            });\n            if (!usersError) {\n                tableStats.push({\n                    table_name: 'users',\n                    record_count: usersCount || 0,\n                    table_size: 'N/A',\n                    last_updated: new Date().toISOString()\n                });\n            }\n            return tableStats;\n        } catch (error) {\n            console.error('‚ùå getSystemMetrics failed:', error);\n            throw error;\n        }\n    },\n    // Manualne od≈õwie≈ºenie materializowanych widok√≥w\n    async refreshMaterializedViews () {\n        try {\n            console.log('üîÑ Manualnie od≈õwie≈ºam materializowane widoki...');\n            const { data, error } = await supabase.rpc('refresh_all_materialized_views');\n            if (error) throw error;\n            console.log('‚úÖ Widoki od≈õwie≈ºone:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå refreshMaterializedViews failed:', error);\n            throw error;\n        }\n    },\n    // Archiwizacja starych log√≥w\n    async archiveOldLogs () {\n        try {\n            console.log('üì¶ Uruchamiam archiwizacjƒô starych log√≥w...');\n            const { data, error } = await supabase.rpc('archive_old_activity_logs');\n            if (error) throw error;\n            console.log(`‚úÖ Zarchiwizowano ${data} starych log√≥w`);\n            return data;\n        } catch (error) {\n            console.error('‚ùå archiveOldLogs failed:', error);\n            throw error;\n        }\n    },\n    // Optymalizacja bazy danych\n    async optimizeDatabase () {\n        try {\n            console.log('üöÄ Uruchamiam optymalizacjƒô bazy danych...');\n            const { data, error } = await supabase.rpc('optimize_database_performance');\n            if (error) throw error;\n            console.log('‚úÖ Baza danych zoptymalizowana:', data);\n            return data;\n        } catch (error) {\n            console.error('‚ùå optimizeDatabase failed:', error);\n            throw error;\n        }\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WUFDRnhoQixRQUFRWSxHQUFHLENBQUM7WUFFWixNQUFNLEVBQUVsQixJQUFJLEVBQUVLLEtBQUssRUFBRSxHQUFHLE1BQU1WLFNBQVM4ZCxHQUFHLENBQUM7WUFFM0MsSUFBSXBkLE9BQU8sTUFBTUE7WUFFakJDLFFBQVFZLEdBQUcsQ0FBQyx3QkFBd0JsQjtZQUNwQyxPQUFPQTtRQUNULEVBQUUsT0FBT0ssT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsc0NBQXNDQTtZQUNwRCxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSw2QkFBNkI7SUFDN0IsTUFBTTBoQjtRQUNKLElBQUk7WUFDRnpoQixRQUFRWSxHQUFHLENBQUM7WUFFWixNQUFNLEVBQUVsQixJQUFJLEVBQUVLLEtBQUssRUFBRSxHQUFHLE1BQU1WLFNBQVM4ZCxHQUFHLENBQUM7WUFFM0MsSUFBSXBkLE9BQU8sTUFBTUE7WUFFakJDLFFBQVFZLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFbEIsS0FBSyxjQUFjLENBQUM7WUFDcEQsT0FBT0E7UUFDVCxFQUFFLE9BQU9LLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDRCQUE0QkE7WUFDMUMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsNEJBQTRCO0lBQzVCLE1BQU0yaEI7UUFDSixJQUFJO1lBQ0YxaEIsUUFBUVksR0FBRyxDQUFDO1lBRVosTUFBTSxFQUFFbEIsSUFBSSxFQUFFSyxLQUFLLEVBQUUsR0FBRyxNQUFNVixTQUFTOGQsR0FBRyxDQUFDO1lBRTNDLElBQUlwZCxPQUFPLE1BQU1BO1lBRWpCQyxRQUFRWSxHQUFHLENBQUMsa0NBQWtDbEI7WUFDOUMsT0FBT0E7UUFDVCxFQUFFLE9BQU9LLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDhCQUE4QkE7WUFDNUMsTUFBTUE7UUFDUjtJQUNGO0FBQ0YsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxra2FjcFxcRGVza3RvcFxcU3BlY3RyZXNHcm91cENSTVxcZGFzaGJvYXJkXFxsaWJcXHN1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcblxuY29uc3Qgc3VwYWJhc2VVcmwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwgfHwgJ2h0dHBzOi8vcGtodWdnZGtjZ2xpY2doZ3hpeXAuc3VwYWJhc2UuY28nXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9BTk9OX0tFWSB8fCAnZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFhWQ0o5LmV5SnBjM01pT2lKemRYQmhZbUZ6WlNJc0luSmxaaUk2SW5CcmFIVm5aMlJyWTJkc2FXTm5hR2Q0YVhsd0lpd2ljbTlzWlNJNkltRnViMjRpTENKcFlYUWlPakUzTkRrNU1URXdOekVzSW1WNGNDSTZNakEyTlRRNE56QTNNWDAuTGJXdGItbW9kUkRsdm5rR0Y1SXN3UkhlMWxKcGQ0ekNNZ2tRM19FMFFRaydcblxuZXhwb3J0IGNvbnN0IHN1cGFiYXNlID0gY3JlYXRlQ2xpZW50KHN1cGFiYXNlVXJsLCBzdXBhYmFzZUFub25LZXkpXG5cbi8vIEZ1bmtjamEgcG9tb2NuaWN6YSBkbyBnZW5lcm93YW5pYSBwb3ByYXdueWNoIFVSTC1pIGF2YXRhcsOzdyB6IFN1cGFiYXNlIFN0b3JhZ2VcbmV4cG9ydCBjb25zdCBnZXRBdmF0YXJVcmwgPSAoYXZhdGFyVXJsPzogc3RyaW5nIHwgbnVsbCk6IHN0cmluZyB8IG51bGwgPT4ge1xuICBpZiAoIWF2YXRhclVybCkgcmV0dXJuIG51bGxcbiAgXG4gIC8vIEplxZtsaSB0byBqdcW8IHBlxYJueSBVUkwgKHphY3p5bmEgc2nEmSBvZCBodHRwKSwgendyw7PEhyBiZXogem1pYW5cbiAgaWYgKGF2YXRhclVybC5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICByZXR1cm4gYXZhdGFyVXJsXG4gIH1cbiAgXG4gIC8vIEplxZtsaSB0byDFm2NpZcW8a2EgdyBidWNrZXQndSAoemF3aWVyYSBmb2xkZXIpLCB3eWdlbmVydWogcHVibGljem55IFVSTFxuICBpZiAoYXZhdGFyVXJsLmluY2x1ZGVzKCcvJykpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAgIC5mcm9tKCdhdmF0YXJzJylcbiAgICAgICAgLmdldFB1YmxpY1VybChhdmF0YXJVcmwpXG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhLnB1YmxpY1VybFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgZ2VuZXJvd2FuaWEgVVJMIGF2YXRhcmE6JywgZXJyb3IpXG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgfVxuICBcbiAgLy8gRmFsbGJhY2sgLSBwcmF3ZG9wb2RvYm5pZSBuaWVwb3ByYXdueSBmb3JtYXRcbiAgY29uc29sZS53YXJuKCdOaWVyb3pwb3puYW55IGZvcm1hdCBhdmF0YXJfdXJsOicsIGF2YXRhclVybClcbiAgcmV0dXJuIG51bGxcbn1cblxuLy8gU3RvcmFnZSBBUEkgZGxhIHBsaWvDs3cgQ1NWXG5leHBvcnQgY29uc3Qgc3RvcmFnZUFwaSA9IHtcbiAgLy8gVXBsb2FkIHBsaWt1IENTViBkbyBidWNrZXRcbiAgYXN5bmMgdXBsb2FkQ1NWKGZpbGU6IEZpbGUsIHVzZXI6IFVzZXIpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmaWxlTmFtZSA9IGAke3VzZXIuaWR9XyR7RGF0ZS5ub3coKX1fJHtmaWxlLm5hbWV9YFxuICAgICAgY29uc3QgZmlsZVBhdGggPSBgY3N2LWltcG9ydHMvJHtmaWxlTmFtZX1gXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OBIFVwbG9hZGluZyBDU1Y6ICR7ZmlsZVBhdGh9YClcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2Uuc3RvcmFnZVxuICAgICAgICAuZnJvbSgnY3N2LWZpbGVzJylcbiAgICAgICAgLnVwbG9hZChmaWxlUGF0aCwgZmlsZSwge1xuICAgICAgICAgIGNhY2hlQ29udHJvbDogJzM2MDAnLFxuICAgICAgICAgIHVwc2VydDogZmFsc2VcbiAgICAgICAgfSlcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBTdG9yYWdlIHVwbG9hZCBlcnJvcjonLCBlcnJvcilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgdXBsb2FkdTogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRmlsZSB1cGxvYWRlZCBzdWNjZXNzZnVsbHk6JywgZGF0YS5wYXRoKVxuICAgICAgcmV0dXJuIGRhdGEucGF0aFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBVcGxvYWQgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBQb2JpZXJ6IHB1YmxpY3pueSBVUkwgcGxpa3VcbiAgZ2V0UHVibGljVXJsKHBhdGg6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgY29uc3QgeyBkYXRhIH0gPSBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAuZnJvbSgnY3N2LWZpbGVzJylcbiAgICAgIC5nZXRQdWJsaWNVcmwocGF0aClcbiAgICBcbiAgICByZXR1cm4gZGF0YS5wdWJsaWNVcmxcbiAgfSxcbiAgXG4gIC8vIFVzdcWEIHBsaWsgeiBidWNrZXRcbiAgYXN5bmMgZGVsZXRlRmlsZShwYXRoOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBjb25zdCB7IGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5zdG9yYWdlXG4gICAgICAuZnJvbSgnY3N2LWZpbGVzJylcbiAgICAgIC5yZW1vdmUoW3BhdGhdKVxuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIEZpbGUgZGVsZXRpb24gZXJyb3I6JywgZXJyb3IpXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYELFgsSFZCB1c3V3YW5pYSBwbGlrdTogJHtlcnJvci5tZXNzYWdlfWApXG4gICAgfVxuICB9XG59XG5cbi8vIENTViBJbXBvcnQgQVBJXG5leHBvcnQgY29uc3QgY3N2SW1wb3J0QXBpID0ge1xuICAvLyBQYXJzdWogQ1NWIGkgendyw7PEhyBkYW5lXG4gIHBhcnNlQ1NWKGNzdlRleHQ6IHN0cmluZyk6IHsgaGVhZGVyczogc3RyaW5nW10sIHJvd3M6IHN0cmluZ1tdW10gfSB7XG4gICAgY29uc3QgbGluZXMgPSBjc3ZUZXh0LnNwbGl0KCdcXG4nKS5maWx0ZXIobGluZSA9PiBsaW5lLnRyaW0oKSAhPT0gJycpXG4gICAgXG4gICAgaWYgKGxpbmVzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignUGxpayBDU1YgamVzdCBwdXN0eSBsdWIgemF3aWVyYSB0eWxrbyBuYWfFgsOzd2tpJylcbiAgICB9XG4gICAgXG4gICAgLy8gUGFyc293YW5pZSB6IG9ic8WCdWfEhSBjdWR6eXPFgm93w7N3XG4gICAgY29uc3QgcGFyc2VDU1ZMaW5lID0gKGxpbmU6IHN0cmluZyk6IHN0cmluZ1tdID0+IHtcbiAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nW10gPSBbXVxuICAgICAgbGV0IGN1cnJlbnQgPSAnJ1xuICAgICAgbGV0IGluUXVvdGVzID0gZmFsc2VcbiAgICAgIFxuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaW5lLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBsaW5lW2ldXG4gICAgICAgIFxuICAgICAgICBpZiAoY2hhciA9PT0gJ1wiJykge1xuICAgICAgICAgIGluUXVvdGVzID0gIWluUXVvdGVzXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhciA9PT0gJywnICYmICFpblF1b3Rlcykge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQudHJpbSgpKVxuICAgICAgICAgIGN1cnJlbnQgPSAnJ1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnJlbnQgKz0gY2hhclxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJlc3VsdC5wdXNoKGN1cnJlbnQudHJpbSgpKVxuICAgICAgcmV0dXJuIHJlc3VsdC5tYXAoY2VsbCA9PiBjZWxsLnJlcGxhY2UoL15cInxcIiQvZywgJycpKSAvLyBVc3XFhCBjdWR6eXPFgm93eVxuICAgIH1cbiAgICBcbiAgICBjb25zdCBoZWFkZXJzID0gcGFyc2VDU1ZMaW5lKGxpbmVzWzBdKVxuICAgIGNvbnN0IHJvd3MgPSBsaW5lcy5zbGljZSgxKS5tYXAocGFyc2VDU1ZMaW5lKVxuICAgIFxuICAgIHJldHVybiB7IGhlYWRlcnMsIHJvd3MgfVxuICB9LFxuICBcbiAgLy8gTWFwdWogbmFnxYLDs3draSBDU1YgbmEgcG9sYSBiYXp5IGRhbnljaFxuICBtYXBIZWFkZXJzKGhlYWRlcnM6IHN0cmluZ1tdKTogUmVjb3JkPHN0cmluZywgbnVtYmVyPiB7XG4gICAgY29uc3QgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG4gICAgXG4gICAgY29uc3QgZmllbGRNYXBwaW5ncyA9IFtcbiAgICAgIHsgZmllbGRzOiBbJ2ZpcnN0X25hbWUnLCAnaW1pxJknLCAnbmFtZScsICdmaXJzdE5hbWUnXSwgZGJGaWVsZDogJ2ZpcnN0X25hbWUnIH0sXG4gICAgICB7IGZpZWxkczogWydsYXN0X25hbWUnLCAnbmF6d2lza28nLCAnc3VybmFtZScsICdsYXN0TmFtZSddLCBkYkZpZWxkOiAnbGFzdF9uYW1lJyB9LFxuICAgICAgeyBmaWVsZHM6IFsnY29tcGFueV9uYW1lJywgJ2Zpcm1hJywgJ2NvbXBhbnknLCAnY29tcGFueU5hbWUnLCAnbmF6d2EnXSwgZGJGaWVsZDogJ2NvbXBhbnlfbmFtZScgfSxcbiAgICAgIHsgZmllbGRzOiBbJ25pcCcsICd0YXhfaWQnLCAndGF4SWQnXSwgZGJGaWVsZDogJ25pcCcgfSxcbiAgICAgIHsgZmllbGRzOiBbJ3Bob25lJywgJ3RlbGVmb24nLCAndGVsZXBob25lJ10sIGRiRmllbGQ6ICdwaG9uZScgfSxcbiAgICAgIHsgZmllbGRzOiBbJ2VtYWlsJywgJ2UtbWFpbCcsICdtYWlsJ10sIGRiRmllbGQ6ICdlbWFpbCcgfSxcbiAgICAgIHsgZmllbGRzOiBbJ3dlYnNpdGUnLCAnd3d3JywgJ3N0cm9uYScsICd1cmwnXSwgZGJGaWVsZDogJ3dlYnNpdGUnIH0sXG4gICAgICB7IGZpZWxkczogWydub3RlcycsICdub3RhdGthJywgJ25vdGUnLCAnY29tbWVudCddLCBkYkZpZWxkOiAnbm90ZXMnIH0sXG4gICAgICB7IGZpZWxkczogWydzdGF0dXMnXSwgZGJGaWVsZDogJ3N0YXR1cycgfVxuICAgIF1cbiAgICBcbiAgICBmb3IgKGNvbnN0IGZpZWxkTWFwcGluZyBvZiBmaWVsZE1hcHBpbmdzKSB7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGhlYWRlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgaGVhZGVyID0gaGVhZGVyc1tpXS50b0xvd2VyQ2FzZSgpLnRyaW0oKVxuICAgICAgICBpZiAoZmllbGRNYXBwaW5nLmZpZWxkcy5zb21lKGZpZWxkID0+IGhlYWRlci5pbmNsdWRlcyhmaWVsZCkpKSB7XG4gICAgICAgICAgbWFwcGluZ1tmaWVsZE1hcHBpbmcuZGJGaWVsZF0gPSBpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gbWFwcGluZ1xuICB9LFxuICBcbiAgLy8gV2FsaWR1aiB3eW1hZ2FuZSBwb2xhXG4gIHZhbGlkYXRlUmVxdWlyZWRGaWVsZHMobWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPik6IHZvaWQge1xuICAgIGNvbnN0IHJlcXVpcmVkRmllbGRzID0gWydjb21wYW55X25hbWUnXVxuICAgIGNvbnN0IG1pc3NpbmdGaWVsZHMgPSByZXF1aXJlZEZpZWxkcy5maWx0ZXIoZmllbGQgPT4gIShmaWVsZCBpbiBtYXBwaW5nKSlcbiAgICBcbiAgICBpZiAobWlzc2luZ0ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEJyYWsgd3ltYWdhbnljaCBrb2x1bW46ICR7bWlzc2luZ0ZpZWxkcy5qb2luKCcsICcpfS4gV3ltYWdhbmU6IEZpcm1hL05hendhYClcbiAgICB9XG4gIH0sXG4gIFxuICAvLyBTcHJhd2TFuiBkb3N0xJlwbmUga29sdW1ueSBpIHBva2HFvCBpbmZvcm1hY2plXG4gIGFuYWx5emVDb2x1bW5zKG1hcHBpbmc6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4sIGhlYWRlcnM6IHN0cmluZ1tdKTogeyBmb3VuZDogc3RyaW5nW10sIG1pc3Npbmc6IHN0cmluZ1tdLCBvcHRpb25hbDogc3RyaW5nW10gfSB7XG4gICAgY29uc3QgYWxsUG9zc2libGVGaWVsZHMgPSBbXG4gICAgICB7IGZpZWxkOiAnZmlyc3RfbmFtZScsIGRpc3BsYXlOYW1lOiAnSW1pxJknLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICAgIHsgZmllbGQ6ICdsYXN0X25hbWUnLCBkaXNwbGF5TmFtZTogJ05hendpc2tvJywgcmVxdWlyZWQ6IGZhbHNlIH0sXG4gICAgICB7IGZpZWxkOiAnY29tcGFueV9uYW1lJywgZGlzcGxheU5hbWU6ICdGaXJtYS9OYXp3YScsIHJlcXVpcmVkOiB0cnVlIH0sXG4gICAgICB7IGZpZWxkOiAncGhvbmUnLCBkaXNwbGF5TmFtZTogJ1RlbGVmb24nLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICAgIHsgZmllbGQ6ICdlbWFpbCcsIGRpc3BsYXlOYW1lOiAnRW1haWwnLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICAgIHsgZmllbGQ6ICduaXAnLCBkaXNwbGF5TmFtZTogJ05JUCcsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgICAgeyBmaWVsZDogJ3dlYnNpdGUnLCBkaXNwbGF5TmFtZTogJ1N0cm9uYSBXV1cnLCByZXF1aXJlZDogZmFsc2UgfSxcbiAgICAgIHsgZmllbGQ6ICdub3RlcycsIGRpc3BsYXlOYW1lOiAnTm90YXRraScsIHJlcXVpcmVkOiBmYWxzZSB9LFxuICAgICAgeyBmaWVsZDogJ3N0YXR1cycsIGRpc3BsYXlOYW1lOiAnU3RhdHVzJywgcmVxdWlyZWQ6IGZhbHNlIH1cbiAgICBdXG4gICAgXG4gICAgY29uc3QgZm91bmQ6IHN0cmluZ1tdID0gW11cbiAgICBjb25zdCBtaXNzaW5nOiBzdHJpbmdbXSA9IFtdXG4gICAgY29uc3Qgb3B0aW9uYWw6IHN0cmluZ1tdID0gW11cbiAgICBcbiAgICBhbGxQb3NzaWJsZUZpZWxkcy5mb3JFYWNoKCh7IGZpZWxkLCBkaXNwbGF5TmFtZSwgcmVxdWlyZWQgfSkgPT4ge1xuICAgICAgaWYgKGZpZWxkIGluIG1hcHBpbmcpIHtcbiAgICAgICAgZm91bmQucHVzaChkaXNwbGF5TmFtZSlcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZWQpIHtcbiAgICAgICAgbWlzc2luZy5wdXNoKGRpc3BsYXlOYW1lKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uYWwucHVzaChkaXNwbGF5TmFtZSlcbiAgICAgIH1cbiAgICB9KVxuICAgIFxuICAgIHJldHVybiB7IGZvdW5kLCBtaXNzaW5nLCBvcHRpb25hbCB9XG4gIH0sXG4gIFxuICAvLyBQcnpla3N6dGHFgsSHIHdpZXJzeiBDU1YgbmEgb2JpZWt0IGtsaWVudGFcbiAgcm93VG9DbGllbnQocm93OiBzdHJpbmdbXSwgbWFwcGluZzogUmVjb3JkPHN0cmluZywgbnVtYmVyPiwgdXNlcjogVXNlcik6IE9taXQ8Q2xpZW50LCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPiB7XG4gICAgY29uc3QgZ2V0RmllbGQgPSAoZmllbGQ6IHN0cmluZywgZGVmYXVsdFZhbHVlOiBzdHJpbmcgPSAnYnJhayBpbmZvcm1hY2ppJyk6IHN0cmluZyA9PiB7XG4gICAgICBjb25zdCBpbmRleCA9IG1hcHBpbmdbZmllbGRdXG4gICAgICBpZiAoaW5kZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlXG4gICAgICB9XG4gICAgICBjb25zdCB2YWx1ZSA9IChyb3dbaW5kZXhdIHx8ICcnKS50cmltKClcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gJycgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZVxuICAgIH1cbiAgICBcbiAgICAvLyBXYWxpZGFjamEgc3RhdHVzdVxuICAgIGNvbnN0IHJhd1N0YXR1cyA9IGdldEZpZWxkKCdzdGF0dXMnLCAnY2FudmFzJykudG9Mb3dlckNhc2UoKVxuICAgIGNvbnN0IHZhbGlkU3RhdHVzZXMgPSBbJ2NhbnZhcycsICdicmFrX2tvbnRha3R1JywgJ25pZV96YWludGVyZXNvd2FueScsICd6ZGVuZXJ3b3dhbnknLCAnYW50eXNhbGUnLCAnc2FsZScsICckJCddIGFzIGNvbnN0XG4gICAgY29uc3Qgc3RhdHVzID0gdmFsaWRTdGF0dXNlcy5pbmNsdWRlcyhyYXdTdGF0dXMgYXMgYW55KSA/IHJhd1N0YXR1cyBhcyBDbGllbnRbJ3N0YXR1cyddIDogJ2NhbnZhcydcbiAgICBcbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3RfbmFtZTogZ2V0RmllbGQoJ2ZpcnN0X25hbWUnKSwgLy8gT3Bjam9uYWxuZSAtIG1vxbxlIGJ5xIcgXCJicmFrIGluZm9ybWFjamlcIlxuICAgICAgbGFzdF9uYW1lOiBnZXRGaWVsZCgnbGFzdF9uYW1lJyksIC8vIE9wY2pvbmFsbmUgLSBtb8W8ZSBiecSHIFwiYnJhayBpbmZvcm1hY2ppXCJcbiAgICAgIGNvbXBhbnlfbmFtZTogZ2V0RmllbGQoJ2NvbXBhbnlfbmFtZScsICcnKSwgLy8gV3ltYWdhbmUgLSBuaWUgbW/FvGUgYnnEhyBcImJyYWsgaW5mb3JtYWNqaVwiXG4gICAgICBuaXA6IGdldEZpZWxkKCduaXAnKSxcbiAgICAgIHBob25lOiBnZXRGaWVsZCgncGhvbmUnKSxcbiAgICAgIGVtYWlsOiBnZXRGaWVsZCgnZW1haWwnKSxcbiAgICAgIHdlYnNpdGU6IGdldEZpZWxkKCd3ZWJzaXRlJyksXG4gICAgICBub3RlczogZ2V0RmllbGQoJ25vdGVzJyksXG4gICAgICBzdGF0dXMsXG4gICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXG4gICAgICBlZGl0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgIG93bmVyX2lkOiB1c2VyLmlkLFxuICAgICAgbGFzdF9lZGl0ZWRfYnlfbmFtZTogdXNlci5mdWxsX25hbWUsIC8vIFphcGlzeiBkYW5lIGltcG9ydGVyYVxuICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybDogdXNlci5hdmF0YXJfdXJsXG4gICAgfVxuICB9LFxuICBcbiAgLy8gSW1wb3J0IHBlxYJuZWdvIENTViBkbyBiYXp5IGRhbnljaFxuICBhc3luYyBpbXBvcnRDU1YoZmlsZTogRmlsZSwgdXNlcjogVXNlciwgb25Qcm9ncmVzcz86IChwcm9ncmVzczogeyBjdXJyZW50OiBudW1iZXIsIHRvdGFsOiBudW1iZXIsIHN0YXR1czogc3RyaW5nIH0pID0+IHZvaWQpOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyLCBlcnJvcnM6IGFueVtdIH0+IHtcbiAgICB0cnkge1xuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogMCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnVXBsb2FkaW5nIHBsaWt1Li4uJyB9KVxuICAgICAgXG4gICAgICAvLyAxLiBVcGxvYWQgcGxpa3UgZG8gU3RvcmFnZVxuICAgICAgY29uc3QgZmlsZVBhdGggPSBhd2FpdCBzdG9yYWdlQXBpLnVwbG9hZENTVihmaWxlLCB1c2VyKVxuICAgICAgXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiAyMCwgdG90YWw6IDEwMCwgc3RhdHVzOiAnUGFyc293YW5pZSBDU1YuLi4nIH0pXG4gICAgICBcbiAgICAgIC8vIDIuIEN6eXRhbmllIGkgcGFyc293YW5pZSBDU1ZcbiAgICAgIGNvbnN0IGNzdlRleHQgPSBhd2FpdCBmaWxlLnRleHQoKVxuICAgICAgY29uc3QgeyBoZWFkZXJzLCByb3dzIH0gPSBjc3ZJbXBvcnRBcGkucGFyc2VDU1YoY3N2VGV4dClcbiAgICAgIFxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogNDAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ01hcG93YW5pZSBrb2x1bW4uLi4nIH0pXG4gICAgICBcbiAgICAgIC8vIDMuIE1hcG93YW5pZSBuYWfFgsOzd2vDs3dcbiAgICAgIGNvbnN0IG1hcHBpbmcgPSBjc3ZJbXBvcnRBcGkubWFwSGVhZGVycyhoZWFkZXJzKVxuICAgICAgY3N2SW1wb3J0QXBpLnZhbGlkYXRlUmVxdWlyZWRGaWVsZHMobWFwcGluZylcbiAgICAgIFxuICAgICAgLy8gNC4gQW5hbGl6YSBkb3N0xJlwbnljaCBrb2x1bW5cbiAgICAgIGNvbnN0IGNvbHVtbkFuYWx5c2lzID0gY3N2SW1wb3J0QXBpLmFuYWx5emVDb2x1bW5zKG1hcHBpbmcsIGhlYWRlcnMpXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIENTViBIZWFkZXJzOicsIGhlYWRlcnMpXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBGaWVsZCBtYXBwaW5nOicsIG1hcHBpbmcpXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBSb3dzIHRvIGltcG9ydDonLCByb3dzLmxlbmd0aClcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgWm5hbGV6aW9uZSBrb2x1bW55OicsIGNvbHVtbkFuYWx5c2lzLmZvdW5kKVxuICAgICAgY29uc29sZS5sb2coJ+KdjCBCcmFrdWrEhWNlIHd5bWFnYW5lOicsIGNvbHVtbkFuYWx5c2lzLm1pc3NpbmcpXG4gICAgICBjb25zb2xlLmxvZygn4pqqIE9wY2pvbmFsbmUgKGLEmWTEhSBcImJyYWsgaW5mb3JtYWNqaVwiKTonLCBjb2x1bW5BbmFseXNpcy5vcHRpb25hbClcbiAgICAgIFxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogNTAsIHRvdGFsOiAxMDAsIHN0YXR1czogYEltcG9ydG93YW5pZSAke3Jvd3MubGVuZ3RofSBrbGllbnTDs3cuLi5gIH0pXG4gICAgICBcbiAgICAgIC8vIDQuIEltcG9ydCB3aWVyc3p5IGRvIGJhenlcbiAgICAgIGNvbnN0IHJlc3VsdHMgPSB7IHN1Y2Nlc3M6IDAsIGVycm9yczogW10gYXMgYW55W10gfVxuICAgICAgXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByb3cgPSByb3dzW2ldXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3ByYXdkxbogY3p5IHdpZXJzeiBuaWUgamVzdCBwdXN0eVxuICAgICAgICAgIGlmIChyb3cuZXZlcnkoY2VsbCA9PiBjZWxsLnRyaW0oKSA9PT0gJycpKSB7XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjb25zdCBjbGllbnREYXRhID0gY3N2SW1wb3J0QXBpLnJvd1RvQ2xpZW50KHJvdywgbWFwcGluZywgdXNlcilcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBXYWxpZGFjamEgcG9kc3Rhd293eWNoIGRhbnljaFxuICAgICAgICAgIGlmICghY2xpZW50RGF0YS5jb21wYW55X25hbWUgfHwgY2xpZW50RGF0YS5jb21wYW55X25hbWUudHJpbSgpID09PSAnJykge1xuICAgICAgICAgICAgcmVzdWx0cy5lcnJvcnMucHVzaCh7XG4gICAgICAgICAgICAgIHJvdzogaSArIDIsIC8vICsyIGJvIGxpY3p5bXkgb2QgMSBpIHBvbWlqYW15IG5hZ8WCw7N3ZWtcbiAgICAgICAgICAgICAgZXJyb3I6ICdCcmFrIHd5bWFnYW55Y2ggZGFueWNoOiBmaXJtYS9uYXp3YScsXG4gICAgICAgICAgICAgIGRhdGE6IHJvd1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIERvZGFqIGtsaWVudGEgZG8gYmF6eVxuICAgICAgICAgIGF3YWl0IGNsaWVudHNBcGkuY3JlYXRlQ2xpZW50KGNsaWVudERhdGEsIHVzZXIpXG4gICAgICAgICAgcmVzdWx0cy5zdWNjZXNzKytcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBBa3R1YWxpenVqIHByb2dyZXNzXG4gICAgICAgICAgY29uc3QgcHJvZ3Jlc3MgPSA1MCArIE1hdGguZmxvb3IoKGkgLyByb3dzLmxlbmd0aCkgKiA0MClcbiAgICAgICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiBwcm9ncmVzcywgdG90YWw6IDEwMCwgc3RhdHVzOiBgWmFpbXBvcnRvd2FubyAke3Jlc3VsdHMuc3VjY2Vzc30vJHtyb3dzLmxlbmd0aH0ga2xpZW50w7N3YCB9KVxuICAgICAgICAgIFxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEhWQgaW1wb3J0dSB3aWVyc3phICR7aSArIDJ9OmAsIGVycm9yKVxuICAgICAgICAgIHJlc3VsdHMuZXJyb3JzLnB1c2goe1xuICAgICAgICAgICAgcm93OiBpICsgMixcbiAgICAgICAgICAgIGVycm9yOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdOaWV6bmFueSBixYLEhWQnLFxuICAgICAgICAgICAgZGF0YTogcm93c1tpXVxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgb25Qcm9ncmVzcz8uKHsgY3VycmVudDogOTUsIHRvdGFsOiAxMDAsIHN0YXR1czogJ0ZpbmFsaXpvd2FuaWUuLi4nIH0pXG4gICAgICBcbiAgICAgIC8vIDUuIE9wY2pvbmFsbmllIHVzdcWEIHBsaWsgeiBTdG9yYWdlIChsdWIgemFjaG93YWogZGxhIGhpc3RvcmlpKVxuICAgICAgLy8gYXdhaXQgc3RvcmFnZUFwaS5kZWxldGVGaWxlKGZpbGVQYXRoKVxuICAgICAgXG4gICAgICBvblByb2dyZXNzPy4oeyBjdXJyZW50OiAxMDAsIHRvdGFsOiAxMDAsIHN0YXR1czogJ1pha2/FhGN6b25vIScgfSlcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYOKchSBJbXBvcnQgemFrb8WEY3pvbnk6ICR7cmVzdWx0cy5zdWNjZXNzfSBzdWtjZXMsICR7cmVzdWx0cy5lcnJvcnMubGVuZ3RofSBixYLEmWTDs3dgKVxuICAgICAgcmV0dXJuIHJlc3VsdHNcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQ1NWIEltcG9ydCBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG4vLyBUeXB5IGRsYSBiYXp5IGRhbnljaCB6Z29kbmllIHogRVRBUEVNIDUgaSA2IHogUkVBRE1FICsgU3RydWt0dXJhREIudHh0XG5leHBvcnQgaW50ZXJmYWNlIENsaWVudCB7XG4gIGlkOiBzdHJpbmdcbiAgZmlyc3RfbmFtZTogc3RyaW5nXG4gIGxhc3RfbmFtZTogc3RyaW5nXG4gIGNvbXBhbnlfbmFtZTogc3RyaW5nXG4gIG5pcDogc3RyaW5nXG4gIHBob25lOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBub3Rlczogc3RyaW5nXG4gIHdlYnNpdGU6IHN0cmluZ1xuICBzdGF0dXM6ICdjYW52YXMnIHwgJ2JyYWtfa29udGFrdHUnIHwgJ25pZV96YWludGVyZXNvd2FueScgfCAnemRlbmVyd293YW55JyB8ICdhbnR5c2FsZScgfCAnc2FsZScgfCAnJCQnXG4gIGVkaXRlZF9ieTogc3RyaW5nXG4gIGVkaXRlZF9hdDogc3RyaW5nXG4gIG93bmVyX2lkPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgc3lzdGVtdSB1cHJhd25pZcWEXG4gIGNyZWF0ZWRfYXQ6IHN0cmluZ1xuICB1cGRhdGVkX2F0OiBzdHJpbmdcbiAgc3RhdHVzX2NoYW5nZWRfYXQ/OiBzdHJpbmcgLy8gQ3phcyBvc3RhdG5pZWogem1pYW55IHN0YXR1c3VcbiAgbGFzdF9waG9uZV9jbGljaz86IHN0cmluZyAvLyBDemFzIG9zdGF0bmllZ28ga2xpa25pxJljaWEgdyB0ZWxlZm9uXG4gIGxhc3RfZWRpdGVkX2J5X25hbWU/OiBzdHJpbmcgLy8gUGXFgm5lIGltacSZIGkgbmF6d2lza28gb3N0YXRuaWVnbyBlZHl0b3JhXG4gIGxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmw/OiBzdHJpbmcgLy8gQXZhdGFyIFVSTCBvc3RhdG5pZWdvIGVkeXRvcmFcbiAgb3duZXI/OiB7XG4gICAgaWQ6IHN0cmluZ1xuICAgIGZ1bGxfbmFtZTogc3RyaW5nXG4gICAgZW1haWw6IHN0cmluZ1xuICAgIGF2YXRhcl91cmw/OiBzdHJpbmdcbiAgfSAvLyBJbmZvcm1hY2plIG8gd8WCYcWbY2ljaWVsdSBrbGllbnRhXG4gIHJlbWluZGVyPzoge1xuICAgIGVuYWJsZWQ6IGJvb2xlYW5cbiAgICBkYXRlOiBzdHJpbmdcbiAgICB0aW1lOiBzdHJpbmdcbiAgICBub3RlOiBzdHJpbmdcbiAgfSAvLyBQcnp5cG9tbmllbmllIGRsYSBrbGllbnRhXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQWN0aXZpdHlMb2cge1xuICBpZDogc3RyaW5nXG4gIGNsaWVudF9pZDogc3RyaW5nXG4gIGNoYW5nZWRfYnk6IHN0cmluZ1xuICBjaGFuZ2VfdHlwZTogJ2NyZWF0ZScgfCAndXBkYXRlJyB8ICdkZWxldGUnXG4gIGZpZWxkX2NoYW5nZWQ6IHN0cmluZ1xuICBvbGRfdmFsdWU/OiBzdHJpbmdcbiAgbmV3X3ZhbHVlPzogc3RyaW5nXG4gIHRpbWVzdGFtcDogc3RyaW5nXG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gIGlkOiBzdHJpbmdcbiAgZW1haWw6IHN0cmluZ1xuICBmdWxsX25hbWU6IHN0cmluZ1xuICByb2xlOiAnYWRtaW4nIHwgJ21hbmFnZXInIHwgJ3ByYWNvd25paycgfCAnc3plZicgfCAncHJvamVjdF9tYW5hZ2VyJyB8ICdqdW5pb3JfbWFuYWdlcidcbiAgcGhvbmU/OiBzdHJpbmcgXG4gIGJpbz86IHN0cmluZyBcbiAgYXZhdGFyX3VybD86IHN0cmluZyBcbiAgbGFuZ3VhZ2U/OiAncGwnIHwgJ2VuJyB8ICdzaydcbiAgY3JlYXRlZF9hdDogc3RyaW5nXG4gIHVwZGF0ZWRfYXQ6IHN0cmluZ1xuICAvLyBOb3dlIHBvbGEgaGllcmFyY2hpY3puZSB6IG1pZ3JhY2ppXG4gIGxvY2F0aW9uX2lkPzogc3RyaW5nXG4gIG1hbmFnZXJfaWQ/OiBzdHJpbmdcbiAgcm9sZV9oaWVyYXJjaHlfbGV2ZWw/OiBudW1iZXJcbiAgdGVycml0b3J5Pzogc3RyaW5nXG4gIHN0YXJ0X2RhdGU/OiBzdHJpbmdcbiAgaXNfYWN0aXZlPzogYm9vbGVhblxufVxuXG4vLyBJbnRlcmZlanMgZGxhIGhpc3RvcmlpIHptaWFuIHogZG9kYXRrb3d5bWkgaW5mb3JtYWNqYW1pXG5leHBvcnQgaW50ZXJmYWNlIENsaWVudEhpc3Rvcnkge1xuICBpZDogc3RyaW5nXG4gIGNsaWVudF9pZDogc3RyaW5nXG4gIGNoYW5nZWRfYnk6IHN0cmluZ1xuICBjaGFuZ2VfdHlwZTogJ2NyZWF0ZScgfCAndXBkYXRlJyB8ICdkZWxldGUnXG4gIGZpZWxkX2NoYW5nZWQ6IHN0cmluZ1xuICBvbGRfdmFsdWU/OiBzdHJpbmdcbiAgbmV3X3ZhbHVlPzogc3RyaW5nXG4gIHRpbWVzdGFtcDogc3RyaW5nXG4gIGVkaXRvcl9uYW1lPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgVUlcbiAgZWRpdG9yX3JvbGU/OiBzdHJpbmcgLy8gRG9kYW5lIGRsYSBVSVxuICBlZGl0b3JfYXZhdGFyPzogc3RyaW5nIC8vIERvZGFuZSBkbGEgVUkgLSBhdmF0YXIgZWR5dG9yYVxufVxuXG4vLyBGdW5rY2plIHNwcmF3ZHphbmlhIHVwcmF3bmllxYRcbmV4cG9ydCBjb25zdCBwZXJtaXNzaW9uc0FwaSA9IHtcbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIGVkeXRvd2HEhyBrbGllbnRhXG4gIGNhbkVkaXQ6IChjbGllbnQ6IENsaWVudCwgdXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xuICAgIC8vIFdzenlzY3kgemFsb2dvd2FuaSB1xbx5dGtvd25pY3kgbW9nxIUgZWR5dG93YcSHIGtsaWVudMOzd1xuICAgIHJldHVybiB0cnVlXG4gIH0sXG5cbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIHVzdW7EhcSHIGtsaWVudGFcbiAgY2FuRGVsZXRlOiAoY2xpZW50OiBDbGllbnQsIHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcbiAgICAvLyBXc3p5c2N5IHphbG9nb3dhbmkgdcW8eXRrb3duaWN5IG1vZ8SFIHVzdXdhxIcga2xpZW50w7N3XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcblxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgd2lkemllxIcga2xpZW50YVxuICBjYW5WaWV3OiAoY2xpZW50OiBDbGllbnQsIHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcbiAgICBzd2l0Y2ggKHVzZXIucm9sZSkge1xuICAgICAgY2FzZSAncHJhY293bmlrJzpcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vd25lcl9pZCA9PT0gdXNlci5pZCB8fCBcbiAgICAgICAgICAgICAgIGNsaWVudC5vd25lcl9pZCA9PT0gbnVsbCB8fCBcbiAgICAgICAgICAgICAgIGNsaWVudC5lZGl0ZWRfYnkgPT09IHVzZXIuaWRcbiAgICAgIGNhc2UgJ21hbmFnZXInOlxuICAgICAgY2FzZSAncHJvamVjdF9tYW5hZ2VyJzpcbiAgICAgIGNhc2UgJ2p1bmlvcl9tYW5hZ2VyJzpcbiAgICAgIGNhc2UgJ3N6ZWYnOlxuICAgICAgY2FzZSAnYWRtaW4nOlxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuICB9LFxuXG4gIC8vIFNwcmF3ZMW6IGN6eSB1xbx5dGtvd25payBtb8W8ZSBwcnp5cGlzeXdhxIcga2xpZW50w7N3XG4gIGNhbkFzc2lnbkNsaWVudHM6ICh1c2VyOiBVc2VyKTogYm9vbGVhbiA9PiB7XG4gICAgcmV0dXJuIFsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKHVzZXIucm9sZSlcbiAgfSxcblxuICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgbW/FvGUgem1pZW5pYcSHIHJvbGUgaW5ueWNoIHXFvHl0a293bmlrw7N3XG4gIGNhbkNoYW5nZVJvbGVzOiAodXNlcjogVXNlcik6IGJvb2xlYW4gPT4ge1xuICAgIHJldHVybiBbJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyh1c2VyLnJvbGUpXG4gIH0sXG5cbiAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIG1vxbxlIGRvc3TEmXAgZG8gemFhd2Fuc293YW55Y2ggcmFwb3J0w7N3XG4gIGNhbkFjY2Vzc0FkdmFuY2VkUmVwb3J0czogKHVzZXI6IFVzZXIpOiBib29sZWFuID0+IHtcbiAgICByZXR1cm4gWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKVxuICB9XG59XG5cbi8vIEludGVyZmVqcyBkbGEgc2xvdHUgY3phc293ZWdvIHcgcGxhbmllIGRuaWFcbmV4cG9ydCBpbnRlcmZhY2UgRGFpbHlTY2hlZHVsZVNsb3Qge1xuICB0aW1lOiBzdHJpbmdcbiAgdHlwZTogc3RyaW5nXG4gIGNvbG9yOiBzdHJpbmdcbiAgc3RhcnRUaW1lOiBzdHJpbmdcbiAgZW5kVGltZTogc3RyaW5nXG4gIHN0YXR1c2VzOiBzdHJpbmdbXVxuICBjbGllbnRzOiBDbGllbnRXaXRoUmVtaW5kZXJbXVxufVxuXG4vLyBJbnRlcmZlanMgZGxhIGtsaWVudGEgeiBwcnp5cG9tbmllbmlhbVxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRXaXRoUmVtaW5kZXIgZXh0ZW5kcyBDbGllbnQge1xuICByZW1pbmRlcj86IHtcbiAgICBlbmFibGVkOiBib29sZWFuXG4gICAgZGF0ZTogc3RyaW5nXG4gICAgdGltZTogc3RyaW5nXG4gICAgbm90ZTogc3RyaW5nXG4gIH1cbn1cblxuLy8gRnVua2NqZSBBUEkgZGxhIGtsaWVudMOzdyB6IHN5c3RlbWVtIHVwcmF3bmllxYRcbmV4cG9ydCBjb25zdCBjbGllbnRzQXBpID0ge1xuICAvLyBGdW5rY2phIHRlc3Rvd2EgLSBwb2RzdGF3b3dlIHphcHl0YW5pZSBkbyBrbGllbnTDs3dcbiAgYXN5bmMgdGVzdEJhc2ljUXVlcnkoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SNIFRlc3Rvd2UgemFweXRhbmllIGRvIHRhYmVsaSBjbGllbnRzLi4uJylcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgIC5saW1pdCg1KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnV3luaWsgdGVzdHUgLSBkYXRhOicsIGRhdGEpXG4gICAgICBjb25zb2xlLmxvZygnV3luaWsgdGVzdHUgLSBlcnJvcjonLCBlcnJvcilcbiAgICAgIFxuICAgICAgcmV0dXJuIHsgZGF0YSwgZXJyb3IgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgdGVzdG93ZWdvIHphcHl0YW5pYTonLCBlcnJvcilcbiAgICAgIHJldHVybiB7IGRhdGE6IG51bGwsIGVycm9yIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gUG9iaWVyeiBrbGllbnTDs3cgeiBmaWx0cmFtaSB1cHJhd25pZcWEXG4gIGFzeW5jIGdldENsaWVudHModXNlcjogVXNlciwgZmlsdGVycz86IHsgXG4gICAgZGF0ZT86IHN0cmluZ1xuICAgIHN0YXR1cz86IHN0cmluZ1xuICAgIGVtcGxveWVlPzogc3RyaW5nIFxuICB9KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5SEIFJvenBvY3p5bmFtIHBvYmllcmFuaWUga2xpZW50w7N3IGRsYSB1xbx5dGtvd25pa2E6JywgdXNlci5pZCwgdXNlci5yb2xlKVxuICAgICAgXG4gICAgICAvLyBVxbx5aiBKT0lOIGFieSBwb2JyYcSHIGtsaWVudMOzdyB6IGRhbnltaSB3xYJhxZtjaWNpZWxpIHcgamVkbnltIHphcHl0YW5pdVxuICAgICAgLy8g8J+agCBPUFRZTUFMSVpBQ0pBOiBXeWJpZXJ6IHR5bGtvIG5pZXpixJlkbmUgcG9sYVxuICAgICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgICAuc2VsZWN0KGBcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBmaXJzdF9uYW1lLFxuICAgICAgICAgIGxhc3RfbmFtZSxcbiAgICAgICAgICBjb21wYW55X25hbWUsXG4gICAgICAgICAgbmlwLFxuICAgICAgICAgIHBob25lLFxuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIHdlYnNpdGUsXG4gICAgICAgICAgc3RhdHVzLFxuICAgICAgICAgIG5vdGVzLFxuICAgICAgICAgIG93bmVyX2lkLFxuICAgICAgICAgIGVkaXRlZF9ieSxcbiAgICAgICAgICBlZGl0ZWRfYXQsXG4gICAgICAgICAgY3JlYXRlZF9hdCxcbiAgICAgICAgICB1cGRhdGVkX2F0LFxuICAgICAgICAgIHN0YXR1c19jaGFuZ2VkX2F0LFxuICAgICAgICAgIGxhc3RfcGhvbmVfY2xpY2ssXG4gICAgICAgICAgbGFzdF9lZGl0ZWRfYnlfbmFtZSxcbiAgICAgICAgICBsYXN0X2VkaXRlZF9ieV9hdmF0YXJfdXJsLFxuICAgICAgICAgIG93bmVyOnVzZXJzIW93bmVyX2lkIChcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICBhdmF0YXJfdXJsXG4gICAgICAgICAgKVxuICAgICAgICBgKVxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgICAgLy8gRG9kYXRrb3dlIGZpbHRyeVxuICAgICAgaWYgKGZpbHRlcnM/LmRhdGUpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5ndGUoJ3VwZGF0ZWRfYXQnLCBmaWx0ZXJzLmRhdGUpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWx0ZXJzPy5zdGF0dXMpIHtcbiAgICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnc3RhdHVzJywgZmlsdGVycy5zdGF0dXMpXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChmaWx0ZXJzPy5lbXBsb3llZSkge1xuICAgICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdlZGl0ZWRfYnknLCBmaWx0ZXJzLmVtcGxveWVlKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBXeWtvbnVqxJkgemFweXRhbmllIHogSk9JTi4uLicpXG4gICAgICBjb25zdCB7IGRhdGE6IGNsaWVudHMsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB6YXB5dGFuaWEgY2xpZW50czonLCBlcnJvcilcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICAgIFxuICAgICAgXG4gICAgICBpZiAoIWNsaWVudHMgfHwgY2xpZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KEue+4jyBCcmFrIGtsaWVudMOzdyB3IGJhemllIGRhbnljaCcpXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgLSBTdXBhYmFzZSBKT0lOIHp3cmFjYSBvd25lciBqYWtvIHRhYmxpY8SZLCBhbGUgcG90cnplYnVqZW15IHBvamVkeW5jemVnbyBvYmlla3R1XG4gICAgICBjb25zdCB0cmFuc2Zvcm1lZENsaWVudHMgPSBjbGllbnRzLm1hcCgoY2xpZW50OiBhbnkpID0+ICh7XG4gICAgICAgIC4uLmNsaWVudCxcbiAgICAgICAgb3duZXI6IGNsaWVudC5vd25lciAmJiBBcnJheS5pc0FycmF5KGNsaWVudC5vd25lcikgJiYgY2xpZW50Lm93bmVyLmxlbmd0aCA+IDAgXG4gICAgICAgICAgPyBjbGllbnQub3duZXJbMF0gLy8gV2XFuiBwaWVyd3N6eSBlbGVtZW50IHogdGFibGljeVxuICAgICAgICAgIDogY2xpZW50Lm93bmVyICYmICFBcnJheS5pc0FycmF5KGNsaWVudC5vd25lcilcbiAgICAgICAgICA/IGNsaWVudC5vd25lciAvLyBKdcW8IGplc3QgcG9qZWR5bmN6eW0gb2JpZWt0ZW1cbiAgICAgICAgICA6IG51bGwgLy8gQnJhayB3xYJhxZtjaWNpZWxhXG4gICAgICB9KSlcbiAgICAgIFxuICAgICAgLy8gREVCVUc6IFNwcmF3ZMW6IGRhbmUgd8WCYcWbY2ljaWVsaVxuICAgICAgY29uc3QgY2xpZW50c1dpdGhPd25lcnMgPSB0cmFuc2Zvcm1lZENsaWVudHMuZmlsdGVyKGNsaWVudCA9PiBjbGllbnQub3duZXIpXG4gICAgICBjb25zdCBjbGllbnRzV2l0aG91dE93bmVycyA9IHRyYW5zZm9ybWVkQ2xpZW50cy5maWx0ZXIoY2xpZW50ID0+ICFjbGllbnQub3duZXIpXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEtsaWVuY2kgeiB3xYJhxZtjaWNpZWxhbWk6JywgY2xpZW50c1dpdGhPd25lcnMubGVuZ3RoKVxuICAgICAgY29uc29sZS5sb2coJ+KdjCBLbGllbmNpIGJleiB3xYJhxZtjaWNpZWxpOicsIGNsaWVudHNXaXRob3V0T3duZXJzLmxlbmd0aClcbiAgICAgIFxuICAgICAgaWYgKGNsaWVudHNXaXRoT3duZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgUHJ6eWvFgmFkIGtsaWVudGEgeiB3xYJhxZtjaWNpZWxlbTonLCB7XG4gICAgICAgICAgY2xpZW50OiBgJHtjbGllbnRzV2l0aE93bmVyc1swXS5maXJzdF9uYW1lfSAke2NsaWVudHNXaXRoT3duZXJzWzBdLmxhc3RfbmFtZX1gLFxuICAgICAgICAgIG93bmVyX2lkOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcl9pZCxcbiAgICAgICAgICBvd25lcl9uYW1lOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcj8uZnVsbF9uYW1lLFxuICAgICAgICAgIG93bmVyX2VtYWlsOiBjbGllbnRzV2l0aE93bmVyc1swXS5vd25lcj8uZW1haWxcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRyYW5zZm9ybWVkQ2xpZW50cyBhcyBDbGllbnRbXVxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBnZXRDbGllbnRzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gRG9kYWogbm93ZWdvIGtsaWVudGEgeiBhdXRvbWF0eWN6bnltIHByenlwaXNhbmllbSB3xYJhxZtjaWNpZWxhXG4gIGFzeW5jIGNyZWF0ZUNsaWVudChjbGllbnQ6IE9taXQ8Q2xpZW50LCAnaWQnIHwgJ2NyZWF0ZWRfYXQnIHwgJ3VwZGF0ZWRfYXQnPiwgdXNlcjogVXNlcikge1xuICAgIC8vIFpBQkVaUElFQ1pFTklFOiBVcGV3bmlqIHNpxJkgxbxlIHN0YXR1cyBuaWUgamVzdCBwdXN0eVxuICAgIGNvbnN0IHNhZmVTdGF0dXMgPSBjbGllbnQuc3RhdHVzIHx8ICdjYW52YXMnXG4gICAgXG4gICAgY29uc3QgY2xpZW50VG9DcmVhdGUgPSB7XG4gICAgICAuLi5jbGllbnQsXG4gICAgICBzdGF0dXM6IHNhZmVTdGF0dXMsIC8vIFXFvHlqIGJlenBpZWN6bmVnbyBzdGF0dXN1XG4gICAgICBvd25lcl9pZDogdXNlci5pZCwgLy8gQXV0b21hdHljem5pZSBwcnp5cGlzeiB3xYJhxZtjaWNpZWxhXG4gICAgICBlZGl0ZWRfYnk6IHVzZXIuaWQsXG4gICAgICBsYXN0X2VkaXRlZF9ieV9uYW1lOiB1c2VyLmZ1bGxfbmFtZSwgLy8gWmFwaXN6IGRhbmUgdHfDs3JjeVxuICAgICAgbGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybDogdXNlci5hdmF0YXJfdXJsLFxuICAgICAgLy8gSmXFm2xpIHN0YXR1cyB0byBcImNhbnZhc1wiLCB1c3RhdyBzdGF0dXNfY2hhbmdlZF9hdFxuICAgICAgLi4uKHNhZmVTdGF0dXMgPT09ICdjYW52YXMnICYmIHsgc3RhdHVzX2NoYW5nZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSB9KSxcbiAgICAgIC8vIEtvbndlcnR1aiB1bmRlZmluZWQgcmVtaW5kZXIgbmEgbnVsbCBkbGEgYmF6eSBkYW55Y2hcbiAgICAgIHJlbWluZGVyOiBjbGllbnQucmVtaW5kZXIgfHwgbnVsbFxuICAgIH1cblxuICAgIGNvbnNvbGUubG9nKCfwn5OKIFR3b3J6ZW5pZSBrbGllbnRhIHogZGFueW1pOicsIGNsaWVudFRvQ3JlYXRlKVxuICAgIFxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAuaW5zZXJ0KFtjbGllbnRUb0NyZWF0ZV0pXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBjcmVhdGVDbGllbnQ6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgICBcbiAgICByZXR1cm4gZGF0YSBhcyBDbGllbnRcbiAgfSxcblxuICAvLyBaYWt0dWFsaXp1aiBrbGllbnRhIHogc3ByYXdkemVuaWVtIHVwcmF3bmllxYRcbiAgYXN5bmMgdXBkYXRlQ2xpZW50KGlkOiBzdHJpbmcsIHVwZGF0ZXM6IFBhcnRpYWw8Q2xpZW50PiwgdXNlcjogVXNlcikge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCB1cGRhdGVDbGllbnQgU1RBUlQ6JywgeyBpZCwgdXBkYXRlcywgdXNlcjogdXNlci5lbWFpbCB9KVxuICAgICAgXG4gICAgICAvLyBQb2JpZXJ6IGFrdHVhbG55IHN0YW4ga2xpZW50YSBhYnkgc3ByYXdkemnEhyBjenkgc3RhdHVzIHNpxJkgem1pZW5pYVxuICAgICAgY29uc3QgeyBkYXRhOiBjdXJyZW50Q2xpZW50LCBlcnJvcjogZmV0Y2hFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIG93bmVyX2lkJylcbiAgICAgICAgLmVxKCdpZCcsIGlkKVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgIFxuICAgICAgaWYgKGZldGNoRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGFrdHVhbG5lZ28ga2xpZW50YTonLCBmZXRjaEVycm9yKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5pZSBtb8W8bmEgcG9icmHEhyBha3R1YWxuZWdvIHN0YW51IGtsaWVudGE6ICR7ZmV0Y2hFcnJvci5tZXNzYWdlfWApXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgQWt0dWFsbnkgc3RhbiBrbGllbnRhOicsIGN1cnJlbnRDbGllbnQpXG4gICAgICBcbiAgICAgIC8vIE5PV0EgTE9HSUtBOiBLYcW8ZGEgb3NvYmEga3TDs3JhIGVkeXR1amUga2xpZW50YSB6b3N0YWplIGplZ28gd8WCYcWbY2ljaWVsZW1cbiAgICAgIGxldCB1cGRhdGVkRGF0YSA9IHsgLi4udXBkYXRlcyB9XG4gICAgICBcbiAgICAgIC8vIFpBQkVaUElFQ1pFTklFOiBKZcWbbGkgc3RhdHVzIGplc3QgdyBha3R1YWxpemFjamksIHVwZXduaWogc2nEmSDFvGUgbmllIGplc3QgcHVzdHlcbiAgICAgIGlmICgnc3RhdHVzJyBpbiB1cGRhdGVkRGF0YSAmJiAhdXBkYXRlZERhdGEuc3RhdHVzKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gVVdBR0E6IFB1c3R5IHN0YXR1cyB3IGFrdHVhbGl6YWNqaSAtIHVzdGF3aWFtIGRvbXnFm2xueSBcImNhbnZhc1wiJylcbiAgICAgICAgdXBkYXRlZERhdGEuc3RhdHVzID0gJ2NhbnZhcydcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogY3p5IHN0YXR1cyBzacSZIHptaWVuaWFcbiAgICAgIGNvbnN0IHN0YXR1c0NoYW5nZWQgPSB1cGRhdGVkRGF0YS5zdGF0dXMgJiYgdXBkYXRlZERhdGEuc3RhdHVzICE9PSBjdXJyZW50Q2xpZW50LnN0YXR1c1xuICAgICAgaWYgKHN0YXR1c0NoYW5nZWQpIHtcbiAgICAgICAgdXBkYXRlZERhdGEuc3RhdHVzX2NoYW5nZWRfYXQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgY29uc29sZS5sb2coYPCfk4ogU3RhdHVzIHptaWVuaW9ueSB6IFwiJHtjdXJyZW50Q2xpZW50LnN0YXR1c31cIiBuYSBcIiR7dXBkYXRlcy5zdGF0dXN9XCIgLSB1c3Rhd2lhbSBzdGF0dXNfY2hhbmdlZF9hdGApXG4gICAgICAgIFxuICAgICAgICAvLyBQb3dpYWRvbWllbmllIG8gem1pYW5pZSBuYSBjYW52YXNcbiAgICAgICAgaWYgKHVwZGF0ZXMuc3RhdHVzID09PSAnY2FudmFzJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5SUIFBPV0lBRE9NSUVOSUU6IEtsaWVudCBwcnplc3plZMWCIG5hIHN0YXR1cyBDQU5WQVMgLSBzdGFydCB0cmFja2luZ3UgY3phc3UhJylcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBaYXdzemUgcHJ6eXBpc3ogZWR5dHVqxIVjZWdvIGpha28gd8WCYcWbY2ljaWVsYVxuICAgICAgdXBkYXRlZERhdGEub3duZXJfaWQgPSB1c2VyLmlkXG4gICAgICBjb25zb2xlLmxvZyhg8J+OryBQcnp5cGlzdWrEmSBrbGllbnRhICR7aWR9IGRvIHXFvHl0a293bmlrYSAke3VzZXIuaWR9ICgke3VzZXIuZW1haWx9KSBqYWtvIHfFgmHFm2NpY2llbGFgKVxuICAgICAgXG4gICAgICAvLyBaYXBpc3ogaW5mb3JtYWNqZSBvIGVkeXRvcnplIChzemN6ZWfDs2xuaWUgd2HFvG5lIGRsYSBwcmFjb3duaWvDs3cpXG4gICAgICB1cGRhdGVkRGF0YS5sYXN0X2VkaXRlZF9ieV9uYW1lID0gdXNlci5mdWxsX25hbWVcbiAgICAgIHVwZGF0ZWREYXRhLmxhc3RfZWRpdGVkX2J5X2F2YXRhcl91cmwgPSB1c2VyLmF2YXRhcl91cmxcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFphcGlzdWrEmSBkYW5lIGVkeXRvcmE6ICR7dXNlci5mdWxsX25hbWV9IChyb2xhOiAke3VzZXIucm9sZX0pYClcbiAgICAgIFxuICAgICAgLy8gSmXFm2xpIHRvIHByYWNvd25payBpIHptaWVuaWEgc3RhdHVzIC0gZG9kYXRrb3d5IGxvZ1xuICAgICAgaWYgKHVzZXIucm9sZSA9PT0gJ3ByYWNvd25paycgJiYgc3RhdHVzQ2hhbmdlZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhg8J+RtyBQcmFjb3duaWsgJHt1c2VyLmVtYWlsfSB6bWllbmlhIHN0YXR1cyB6IFwiJHtjdXJyZW50Q2xpZW50LnN0YXR1c31cIiBuYSBcIiR7dXBkYXRlcy5zdGF0dXN9XCJgKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBEYW5lIGRvIGFrdHVhbGl6YWNqaTonLCB1cGRhdGVkRGF0YSlcbiAgICAgIFxuICAgICAgLy8gUHJ6eWdvdHVqIGZpbmFsbmUgZGFuZSBkbyBVUERBVEVcbiAgICAgIGNvbnN0IGZpbmFsRGF0YSA9IHtcbiAgICAgICAgLi4udXBkYXRlZERhdGEsXG4gICAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAvLyBLb253ZXJ0dWogdW5kZWZpbmVkIHJlbWluZGVyIG5hIG51bGwgZGxhIGJhenkgZGFueWNoXG4gICAgICAgIC4uLih1cGRhdGVkRGF0YS5yZW1pbmRlciAhPT0gdW5kZWZpbmVkICYmIHsgcmVtaW5kZXI6IHVwZGF0ZWREYXRhLnJlbWluZGVyIHx8IG51bGwgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/CflIQgRmluYWxuZSBkYW5lIGRvIFVQREFURTonLCBmaW5hbERhdGEpXG4gICAgICBcbiAgICAgIC8vIEJlenBvxZtyZWRuaWEgYWt0dWFsaXphY2phXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAgIC51cGRhdGUoZmluYWxEYXRhKVxuICAgICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgVVBEQVRFIGNsaWVudHM6JywgZXJyb3IpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBLb2QgYsWCxJlkdTonLCBlcnJvci5jb2RlKVxuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgU3pjemVnw7PFgnk6JywgZXJyb3IuZGV0YWlscylcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIEhpbnQ6JywgZXJyb3IuaGludClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCxYLEhWQgYWt0dWFsaXphY2ppOiAke2Vycm9yLm1lc3NhZ2V9IChrb2Q6ICR7ZXJyb3IuY29kZX0pYClcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSB1cGRhdGVDbGllbnQgU1VDQ0VTUzonLCBkYXRhKVxuICAgICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIHVwZGF0ZUNsaWVudCBGQUlMRUQ6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuICAvLyBBa3R1YWxpenVqIGN6YXMgb3N0YXRuaWVnbyBrbGlrbmnEmWNpYSB0ZWxlZm9udVxuICBhc3luYyB1cGRhdGVMYXN0UGhvbmVDbGljayhjbGllbnRJZDogc3RyaW5nLCB1c2VyOiBVc2VyKSB7XG4gICAgY29uc29sZS5sb2coJ/Cfk54gQWt0dWFsaXp1asSZIGN6YXMgb3N0YXRuaWVnbyBrbGlrbmnEmWNpYSB0ZWxlZm9udTonLCBjbGllbnRJZClcbiAgICBcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgLnVwZGF0ZSh7XG4gICAgICAgIGxhc3RfcGhvbmVfY2xpY2s6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIGNsaWVudElkKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdXBkYXRlTGFzdFBob25lQ2xpY2s6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cblxuICAgIC8vIFphbG9ndWogdyBhY3Rpdml0eV9sb2dzXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFjdGl2aXR5TG9nc0FwaS5jcmVhdGVMb2coe1xuICAgICAgICBjbGllbnRfaWQ6IGNsaWVudElkLFxuICAgICAgICBjaGFuZ2VkX2J5OiB1c2VyLmlkLFxuICAgICAgICBjaGFuZ2VfdHlwZTogJ3VwZGF0ZScsXG4gICAgICAgIGZpZWxkX2NoYW5nZWQ6ICdsYXN0X3Bob25lX2NsaWNrJyxcbiAgICAgICAgb2xkX3ZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIG5ld192YWx1ZTogZGF0YS5sYXN0X3Bob25lX2NsaWNrXG4gICAgICB9KVxuICAgIH0gY2F0Y2ggKGxvZ0Vycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGxvZ293YW5pYSBhY3Rpdml0eV9sb2dzICh1cGRhdGVMYXN0UGhvbmVDbGljayk6JywgbG9nRXJyb3IpXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBkYXRhIGFzIENsaWVudFxuICB9LFxuXG4gIC8vIFVzdcWEIGtsaWVudGEgeiBzcHJhd2R6ZW5pZW0gdXByYXduaWXFhFxuICBhc3luYyBkZWxldGVDbGllbnQoaWQ6IHN0cmluZywgdXNlcjogVXNlcikge1xuICAgIC8vIEJlenBvxZtyZWRuaWUgdXN1bmnEmWNpZSBiZXogc3ByYXdkemFuaWEgdXByYXduaWXFhFxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpZClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIH0sXG5cbiAgLy8gUHJ6eXBpc3oga2xpZW50YSBkbyBpbm5lZ28gdcW8eXRrb3duaWthICh0eWxrbyBtYW5hZ2VyKylcbiAgYXN5bmMgYXNzaWduQ2xpZW50KGNsaWVudElkOiBzdHJpbmcsIG5ld093bmVySWQ6IHN0cmluZywgdXNlcjogVXNlcikge1xuICAgIGlmICghcGVybWlzc2lvbnNBcGkuY2FuQXNzaWduQ2xpZW50cyh1c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gcHJ6eXBpc3l3YW5pYSBrbGllbnTDs3cnKVxuICAgIH1cblxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAudXBkYXRlKHtcbiAgICAgICAgb3duZXJfaWQ6IG5ld093bmVySWQsXG4gICAgICAgIGVkaXRlZF9ieTogdXNlci5pZCxcbiAgICAgICAgdXBkYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICB9KVxuICAgICAgLmVxKCdpZCcsIGNsaWVudElkKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgYXMgQ2xpZW50XG4gIH0sXG5cbiAgLy8gRnVua2NqYSBkbyBjenlzemN6ZW5pYSBuaWVpc3RuaWVqxIVjeWNoIG93bmVyX2lkXG4gIGFzeW5jIGNsZWFudXBJbnZhbGlkT3duZXJJZHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn6e5IFJvenBvY3p5bmFtIGN6eXN6Y3plbmllIG5pZWlzdG5pZWrEhWN5Y2ggb3duZXJfaWQuLi4nKVxuICAgICAgXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2gga2xpZW50w7N3IHogb3duZXJfaWRcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsQ2xpZW50cywgZXJyb3I6IGNsaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgb3duZXJfaWQsIGZpcnN0X25hbWUsIGxhc3RfbmFtZScpXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcbiAgICAgIFxuICAgICAgaWYgKGNsaWVudHNFcnJvcikgdGhyb3cgY2xpZW50c0Vycm9yXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFpuYWxlemlvbm8ga2xpZW50w7N3IHogb3duZXJfaWQ6JywgYWxsQ2xpZW50cz8ubGVuZ3RoIHx8IDApXG4gICAgICBcbiAgICAgIGlmICghYWxsQ2xpZW50cyB8fCBhbGxDbGllbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyBjbGVhbmVkOiAwLCBlcnJvcnM6IFtdIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUgdW5pa2FsbmUgb3duZXJfaWRcbiAgICAgIGNvbnN0IG93bmVySWRzID0gWy4uLm5ldyBTZXQoYWxsQ2xpZW50cy5tYXAoYyA9PiBjLm93bmVyX2lkKSldXG4gICAgICBjb25zb2xlLmxvZygn8J+UjSBTcHJhd2R6YW0gb3duZXJfaWQ6Jywgb3duZXJJZHMpXG4gICAgICBcbiAgICAgIC8vIFNwcmF3ZMW6IGt0w7NyZSB1xbx5dGtvd25pY3kgaXN0bmllasSFXG4gICAgICBjb25zdCB7IGRhdGE6IGV4aXN0aW5nVXNlcnMsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5pbignaWQnLCBvd25lcklkcylcbiAgICAgIFxuICAgICAgaWYgKHVzZXJzRXJyb3IpIHRocm93IHVzZXJzRXJyb3JcbiAgICAgIFxuICAgICAgY29uc3QgZXhpc3RpbmdVc2VySWRzID0gKGV4aXN0aW5nVXNlcnMgfHwgW10pLm1hcCh1ID0+IHUuaWQpXG4gICAgICBjb25zb2xlLmxvZygn4pyFIElzdG5pZWrEhWN5IHXFvHl0a293bmljeTonLCBleGlzdGluZ1VzZXJJZHMpXG4gICAgICBcbiAgICAgIC8vIFpuYWpkxboga2xpZW50w7N3IHogbmllaXN0bmllasSFY3ltaSBvd25lcl9pZFxuICAgICAgY29uc3QgY2xpZW50c1RvQ2xlYW4gPSBhbGxDbGllbnRzLmZpbHRlcihjbGllbnQgPT4gXG4gICAgICAgIGNsaWVudC5vd25lcl9pZCAmJiAhZXhpc3RpbmdVc2VySWRzLmluY2x1ZGVzKGNsaWVudC5vd25lcl9pZClcbiAgICAgIClcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ/Cfp7kgS2xpZW5jaSBkbyB3eWN6eXN6Y3plbmlhOicsIGNsaWVudHNUb0NsZWFuLmxlbmd0aClcbiAgICAgIFxuICAgICAgaWYgKGNsaWVudHNUb0NsZWFuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn4pyFIEJyYWsga2xpZW50w7N3IGRvIHd5Y3p5c3pjemVuaWEnKVxuICAgICAgICByZXR1cm4geyBjbGVhbmVkOiAwLCBlcnJvcnM6IFtdIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gV3ljennFm8SHIG93bmVyX2lkIGRsYSBwcm9ibGVtYXR5Y3pueWNoIGtsaWVudMOzd1xuICAgICAgY29uc3QgY2xlYW51cFJlc3VsdHM6IHN0cmluZ1tdID0gW11cbiAgICAgIGNvbnN0IGVycm9yczogYW55W10gPSBbXVxuICAgICAgXG4gICAgICBmb3IgKGNvbnN0IGNsaWVudCBvZiBjbGllbnRzVG9DbGVhbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn6e5IEN6eXN6Y3rEmSBvd25lcl9pZCBkbGEgJHtjbGllbnQuZmlyc3RfbmFtZX0gJHtjbGllbnQubGFzdF9uYW1lfSAoJHtjbGllbnQub3duZXJfaWR9KWApXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgICAgIC51cGRhdGUoeyBvd25lcl9pZDogbnVsbCB9KVxuICAgICAgICAgICAgLmVxKCdpZCcsIGNsaWVudC5pZClcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEhWQgY3p5c3pjemVuaWEgJHtjbGllbnQuaWR9OmAsIGVycm9yKVxuICAgICAgICAgICAgZXJyb3JzLnB1c2goeyBjbGllbnQ6IGNsaWVudC5pZCwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSlcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2xlYW51cFJlc3VsdHMucHVzaChjbGllbnQuaWQpXG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGDinYwgV3lqxIV0ZWsgcG9kY3phcyBjenlzemN6ZW5pYSAke2NsaWVudC5pZH06YCwgZXJyKVxuICAgICAgICAgIGVycm9ycy5wdXNoKHsgY2xpZW50OiBjbGllbnQuaWQsIGVycm9yOiBTdHJpbmcoZXJyKSB9KVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgV3ljenlzemN6b25vICR7Y2xlYW51cFJlc3VsdHMubGVuZ3RofSBrbGllbnTDs3dgKVxuICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYOKdjCBCxYLEmWR5IHByenkgJHtlcnJvcnMubGVuZ3RofSBrbGllbnRhY2g6YCwgZXJyb3JzKVxuICAgICAgfVxuICAgICAgXG4gICAgICByZXR1cm4geyBcbiAgICAgICAgY2xlYW5lZDogY2xlYW51cFJlc3VsdHMubGVuZ3RoLCBcbiAgICAgICAgZXJyb3JzLFxuICAgICAgICBjbGVhbmVkQ2xpZW50czogY2xpZW50c1RvQ2xlYW4uZmlsdGVyKGMgPT4gY2xlYW51cFJlc3VsdHMuaW5jbHVkZXMoYy5pZCkpXG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGNsZWFudXBJbnZhbGlkT3duZXJJZHM6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuXG5cbiAgLy8gU3Vic2tyeXBjamEgbmEgem1pYW55IHcgY3phc2llIHJ6ZWN6eXdpc3R5bVxuICBzdWJzY3JpYmVUb0NoYW5nZXMoY2FsbGJhY2s6IChwYXlsb2FkOiBhbnkpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gc3VwYWJhc2VcbiAgICAgIC5jaGFubmVsKCdjbGllbnRzX2NoYW5nZXMnKVxuICAgICAgLm9uKCdwb3N0Z3Jlc19jaGFuZ2VzJywgXG4gICAgICAgIHsgZXZlbnQ6ICcqJywgc2NoZW1hOiAncHVibGljJywgdGFibGU6ICdjbGllbnRzJyB9LCBcbiAgICAgICAgY2FsbGJhY2tcbiAgICAgIClcbiAgICAgIC5zdWJzY3JpYmUoKVxuICB9LFxuXG4gIC8vIFN1YnNrcnlwY2phIG5hIHptaWFueSBvd25lcl9pZCBkbGEgcmVhbC10aW1lIGFrdHVhbGl6YWNqaVxuICBzdWJzY3JpYmVUb093bmVyQ2hhbmdlcyhjYWxsYmFjazogKHBheWxvYWQ6IGFueSkgPT4gdm9pZCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBTcHJhd2TFuiBjenkgY2FsbGJhY2sgamVzdCBmdW5rY2rEhVxuICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQ2FsbGJhY2sgbmllIGplc3QgZnVua2NqxIUgdyBzdWJzY3JpYmVUb093bmVyQ2hhbmdlcycpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2FsbGJhY2sgbXVzaSBiecSHIGZ1bmtjasSFJylcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ/Cfk6EgVHdvcnrEmSBrYW5hxYIgU3VwYWJhc2UgZGxhIG93bmVyIGNoYW5nZXMuLi4nKVxuICAgICAgXG4gICAgICAvLyBOYWpwaWVydyBzcHJhd2TFuiBjenkgcmVhbC10aW1lIGplc3Qgd8WCxIVjem9ueSBpIGRvc3TEmXBueVxuICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSBgY2xpZW50c19vd25lcl9jaGFuZ2VzXyR7RGF0ZS5ub3coKX1gXG4gICAgICBjb25zb2xlLmxvZygn8J+ToSBOYXp3YSBrYW5hxYJ1OicsIGNoYW5uZWxOYW1lKVxuICAgICAgXG4gICAgICBjb25zdCBjaGFubmVsID0gc3VwYWJhc2VcbiAgICAgICAgLmNoYW5uZWwoY2hhbm5lbE5hbWUpXG4gICAgICAgIC5vbigncG9zdGdyZXNfY2hhbmdlcycsIFxuICAgICAgICAgIHsgXG4gICAgICAgICAgICBldmVudDogJ1VQREFURScsIFxuICAgICAgICAgICAgc2NoZW1hOiAncHVibGljJywgXG4gICAgICAgICAgICB0YWJsZTogJ2NsaWVudHMnLFxuICAgICAgICAgICAgZmlsdGVyOiAnb3duZXJfaWQ9bmVxLm51bGwnIC8vIFR5bGtvIGdkeSBvd25lcl9pZCBzacSZIHptaWVuaWFcbiAgICAgICAgICB9LCBcbiAgICAgICAgICAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ/Cfk6EgUmVhbC10aW1lIHBheWxvYWQgb3RyenltYW55OicsIHtcbiAgICAgICAgICAgICAgICBldmVudFR5cGU6IHBheWxvYWQuZXZlbnRUeXBlLFxuICAgICAgICAgICAgICAgIHRhYmxlOiBwYXlsb2FkLnRhYmxlLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IHBheWxvYWQubmV3ID8ge1xuICAgICAgICAgICAgICAgICAgaWQ6IHBheWxvYWQubmV3LmlkLFxuICAgICAgICAgICAgICAgICAgb3duZXJfaWQ6IHBheWxvYWQubmV3Lm93bmVyX2lkLFxuICAgICAgICAgICAgICAgICAgZmlyc3RfbmFtZTogcGF5bG9hZC5uZXcuZmlyc3RfbmFtZSxcbiAgICAgICAgICAgICAgICAgIGxhc3RfbmFtZTogcGF5bG9hZC5uZXcubGFzdF9uYW1lXG4gICAgICAgICAgICAgICAgfSA6ICdicmFrIGRhbnljaCdcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhwYXlsb2FkKVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBDYWxsYmFjayBuaWUgamVzdCBmdW5rY2rEhSBwb2RjemFzIHd5d2/FgmFuaWEnKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChjYWxsYmFja0Vycm9yKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBjYWxsYmFjazonLCBjYWxsYmFja0Vycm9yKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgICAuc3Vic2NyaWJlKChzdGF0dXMsIGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OhIFN1YnNrcnlwY2phIG93bmVyX2NoYW5nZXMgc3RhdHVzOicsIHN0YXR1cylcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoc3RhdHVzID09PSAnU1VCU0NSSUJFRCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfinIUgU3Vic2tyeXBjamEgb3duZXJfY2hhbmdlcyBha3R5d25hJylcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0NMT1NFRCcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFN1YnNrcnlwY2phIG93bmVyX2NoYW5nZXMgemFta25pxJl0YSAtIHByYXdkb3BvZG9ibmllIHByb2JsZW0geiBhdXRvcnl6YWNqxIUgcmVhbC10aW1lJylcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybign8J+SoSBSZWFsLXRpbWUgbW/FvGUgYnnEhyB3ecWCxIVjem9ueSB3IHVzdGF3aWVuaWFjaCBTdXBhYmFzZSBsdWIgYnJha3VqZSB1cHJhd25pZcWEJylcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cyA9PT0gJ0NIQU5ORUxfRVJST1InKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIGthbmHFgnUgcmVhbC10aW1lOicsIGVycilcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CfkqEgU3ByYXdkxbogdXN0YXdpZW5pYSByZWFsLXRpbWUgdyBTdXBhYmFzZSBEYXNoYm9hcmQnKVxuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSAnVElNRURfT1VUJykge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKCfij7AgVGltZW91dCBzdWJza3J5cGNqaSAtIHByb2JsZW15IHogcG/FgsSFY3plbmllbSBXZWJTb2NrZXQnKVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn8J+ToSBTdGF0dXMgc3Vic2tyeXBjamk6Jywgc3RhdHVzKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogc3RhbiBrYW5hxYJ1IHBvIGtyw7N0a2ltIGN6YXNpZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChjaGFubmVsLnN0YXRlID09PSAnY2xvc2VkJykge1xuICAgICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIEthbmHFgiByZWFsLXRpbWUgem9zdGHFgiB6YW1rbmnEmXR5IC0gcHJhd2RvcG9kb2JuaWUgUkxTIGJsb2t1amUgcmVhbC10aW1lIGx1YiBmZWF0dXJlIGplc3Qgd3nFgsSFY3pvbnknKVxuICAgICAgICB9XG4gICAgICB9LCAyMDAwKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIEthbmHFgiBvd25lciBjaGFuZ2VzIHV0d29yem9ueScpXG4gICAgICByZXR1cm4gY2hhbm5lbFxuICAgICAgXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyBzdWJzY3JpYmVUb093bmVyQ2hhbmdlczonLCBlcnJvcilcbiAgICAgIGNvbnNvbGUud2Fybign8J+SoSBSZWFsLXRpbWUgbmllIGLEmWR6aWUgZHppYcWCYcSHIC0gYXBsaWthY2phIGLEmWR6aWUgdcW8eXdhxIcgb2tyZXNvd2VnbyBvZMWbd2llxbxhbmlhJylcbiAgICAgIFxuICAgICAgLy8gWndyw7PEhyBtb2NrIG9iamVjdCBhYnkgbmllIHBvd29kb3dhxIcgYsWCxJlkw7N3XG4gICAgICByZXR1cm4ge1xuICAgICAgICB1bnN1YnNjcmliZTogKCkgPT4ge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn6e5IE1vY2sgdW5zdWJzY3JpYmUgZGxhIGLFgsSZZG5lZ28ga2FuYcWCdScpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gUG9iaWVyeiBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWkgbmEga29ua3JldG55IGR6aWXFhFxuICBhc3luYyBnZXRDbGllbnRzV2l0aFJlbWluZGVycyh1c2VyOiBVc2VyLCB0YXJnZXREYXRlPzogc3RyaW5nKTogUHJvbWlzZTxDbGllbnRXaXRoUmVtaW5kZXJbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB0b2RheSA9IHRhcmdldERhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gZm9ybWF0IFlZWVktTU0tRERcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYPCfk4UgUG9iaWVyYW5pZSBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWkgbmE6ICR7dG9kYXl9YClcblxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIGtsaWVudMOzdyB1xbx5dGtvd25pa2FcbiAgICAgIGNvbnN0IGFsbENsaWVudHMgPSBhd2FpdCB0aGlzLmdldENsaWVudHModXNlcilcblxuICAgICAgLy8gRmlsdHJ1aiB0eWxrbyB0eWNoIHogcHJ6eXBvbW5pZW5pYW1pIG5hIGR6acWbXG4gICAgICBjb25zdCBjbGllbnRzV2l0aFRvZGF5UmVtaW5kZXJzID0gYWxsQ2xpZW50cy5maWx0ZXIoY2xpZW50ID0+IHtcbiAgICAgICAgLy8gU3ByYXdkxbogY3p5IGtsaWVudCBtYSBha3R5d25lIHByenlwb21uaWVuaWVcbiAgICAgICAgY29uc3QgcmVtaW5kZXIgPSBjbGllbnQucmVtaW5kZXIgfHwge1xuICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgIGRhdGU6ICcnLFxuICAgICAgICAgIHRpbWU6ICcnLFxuICAgICAgICAgIG5vdGU6ICcnXG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVtaW5kZXIuZW5hYmxlZCAmJiByZW1pbmRlci5kYXRlID09PSB0b2RheVxuICAgICAgfSlcblxuICAgICAgLy8gU29ydHVqIHdlZMWCdWcgZ29kemlueSBwcnp5cG9tbmllbmlhXG4gICAgICBjb25zdCBzb3J0ZWRDbGllbnRzID0gY2xpZW50c1dpdGhUb2RheVJlbWluZGVycy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIGNvbnN0IHRpbWVBID0gYS5yZW1pbmRlcj8udGltZSB8fCAnMDA6MDAnXG4gICAgICAgIGNvbnN0IHRpbWVCID0gYi5yZW1pbmRlcj8udGltZSB8fCAnMDA6MDAnXG4gICAgICAgIHJldHVybiB0aW1lQS5sb2NhbGVDb21wYXJlKHRpbWVCKVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYOKchSBabmFsZXppb25vICR7c29ydGVkQ2xpZW50cy5sZW5ndGh9IGtsaWVudMOzdyB6IHByenlwb21uaWVuaWFtaSBuYSAke3RvZGF5fWApXG4gICAgICBcbiAgICAgIHJldHVybiBzb3J0ZWRDbGllbnRzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBwcnp5cG9tbmllbmlhbWk6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuICAvLyBQb2JpZXJ6IHByenlwb21uaWVuaWEgcG9ncnVwb3dhbmUgd2VkxYJ1ZyBzbG90w7N3IGN6YXNvd3ljaCBkbGEgZGFzaGJvYXJkdVxuICBhc3luYyBnZXREYWlseVNjaGVkdWxlV2l0aENsaWVudHModXNlcjogVXNlciwgdGFyZ2V0RGF0ZT86IHN0cmluZyk6IFByb21pc2U8RGFpbHlTY2hlZHVsZVNsb3RbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBjbGllbnRzV2l0aFJlbWluZGVycyA9IGF3YWl0IHRoaXMuZ2V0Q2xpZW50c1dpdGhSZW1pbmRlcnModXNlciwgdGFyZ2V0RGF0ZSlcbiAgICAgIFxuICAgICAgLy8gRGVmaW5pY2phIHNsb3TDs3cgY3phc293eWNoICh6Z29kbmllIHogb2JlY27EhSBzdHJ1a3R1csSFIGRhc2hib2FyZHUpXG4gICAgICBjb25zdCB0aW1lU2xvdHMgPSBbXG4gICAgICAgIHsgXG4gICAgICAgICAgdGltZTogJzg6MDAgLSAxMDowMCcsIFxuICAgICAgICAgIHR5cGU6ICdjYW52YXMnLCBcbiAgICAgICAgICBjb2xvcjogJyMwNmI2ZDQnLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzA4OjAwJyxcbiAgICAgICAgICBlbmRUaW1lOiAnMTA6MDAnLFxuICAgICAgICAgIHN0YXR1c2VzOiBbJ2NhbnZhcyddXG4gICAgICAgIH0sXG4gICAgICAgIHsgXG4gICAgICAgICAgdGltZTogJzEwOjEwIC0gMTI6MDAnLCBcbiAgICAgICAgICB0eXBlOiAnc2FsZXMnLCBcbiAgICAgICAgICBjb2xvcjogJyMxMGI5ODEnLFxuICAgICAgICAgIHN0YXJ0VGltZTogJzEwOjEwJyxcbiAgICAgICAgICBlbmRUaW1lOiAnMTI6MDAnLFxuICAgICAgICAgIHN0YXR1c2VzOiBbJ3NhbGUnXVxuICAgICAgICB9LFxuICAgICAgICB7IFxuICAgICAgICAgIHRpbWU6ICcxMjozMCAtIDE1OjAwJywgXG4gICAgICAgICAgdHlwZTogJ2FudHlzYWxlcycsIFxuICAgICAgICAgIGNvbG9yOiAnI2Y1OWUwYicsXG4gICAgICAgICAgc3RhcnRUaW1lOiAnMTI6MzAnLFxuICAgICAgICAgIGVuZFRpbWU6ICcxNTowMCcsXG4gICAgICAgICAgc3RhdHVzZXM6IFsnYW50eXNhbGUnXVxuICAgICAgICB9LFxuICAgICAgICB7IFxuICAgICAgICAgIHRpbWU6ICcxNToxMCAtIDE2OjMwJywgXG4gICAgICAgICAgdHlwZTogJ2NhbnZhcyArIHNhbGVzJywgXG4gICAgICAgICAgY29sb3I6ICcjOGI1Y2Y2JyxcbiAgICAgICAgICBzdGFydFRpbWU6ICcxNToxMCcsXG4gICAgICAgICAgZW5kVGltZTogJzE2OjMwJyxcbiAgICAgICAgICBzdGF0dXNlczogWydjYW52YXMnLCAnc2FsZSddXG4gICAgICAgIH0sXG4gICAgICBdXG5cbiAgICAgIC8vIFByenlwaXN6IGtsaWVudMOzdyBkbyBvZHBvd2llZG5pY2ggc2xvdMOzd1xuICAgICAgY29uc3Qgc2xvdHNXaXRoQ2xpZW50cyA9IHRpbWVTbG90cy5tYXAoc2xvdCA9PiB7XG4gICAgICAgIGNvbnN0IHNsb3RDbGllbnRzID0gY2xpZW50c1dpdGhSZW1pbmRlcnMuZmlsdGVyKGNsaWVudCA9PiB7XG4gICAgICAgICAgY29uc3QgcmVtaW5kZXJUaW1lID0gY2xpZW50LnJlbWluZGVyPy50aW1lIHx8ICcwMDowMCdcbiAgICAgICAgICBjb25zdCBbaG91cnMsIG1pbnV0ZXNdID0gcmVtaW5kZXJUaW1lLnNwbGl0KCc6JykubWFwKE51bWJlcilcbiAgICAgICAgICBjb25zdCByZW1pbmRlck1pbnV0ZXMgPSBob3VycyAqIDYwICsgbWludXRlc1xuXG4gICAgICAgICAgY29uc3QgW3N0YXJ0SG91cnMsIHN0YXJ0TWluc10gPSBzbG90LnN0YXJ0VGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpXG4gICAgICAgICAgY29uc3QgW2VuZEhvdXJzLCBlbmRNaW5zXSA9IHNsb3QuZW5kVGltZS5zcGxpdCgnOicpLm1hcChOdW1iZXIpXG4gICAgICAgICAgY29uc3Qgc3RhcnRNaW51dGVzID0gc3RhcnRIb3VycyAqIDYwICsgc3RhcnRNaW5zXG4gICAgICAgICAgY29uc3QgZW5kTWludXRlcyA9IGVuZEhvdXJzICogNjAgKyBlbmRNaW5zXG5cbiAgICAgICAgICAvLyBTcHJhd2TFuiBjenkgZ29kemluYSBwcnp5cG9tbmllbmlhIG1pZcWbY2kgc2nEmSB3IHNsb2NpZVxuICAgICAgICAgIGNvbnN0IHRpbWVJblNsb3QgPSByZW1pbmRlck1pbnV0ZXMgPj0gc3RhcnRNaW51dGVzICYmIHJlbWluZGVyTWludXRlcyA8PSBlbmRNaW51dGVzXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU3ByYXdkxbogY3p5IHN0YXR1cyBrbGllbnRhIHBhc3VqZSBkbyB0eXB1IHNsb3R1XG4gICAgICAgICAgY29uc3Qgc3RhdHVzTWF0Y2hlcyA9IHNsb3Quc3RhdHVzZXMuaW5jbHVkZXMoY2xpZW50LnN0YXR1cylcblxuICAgICAgICAgIHJldHVybiB0aW1lSW5TbG90ICYmIHN0YXR1c01hdGNoZXNcbiAgICAgICAgfSlcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNsb3QsXG4gICAgICAgICAgY2xpZW50czogc2xvdENsaWVudHNcbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUGxhbiBkbmlhIHogJHtzbG90c1dpdGhDbGllbnRzLnJlZHVjZSgoc3VtLCBzbG90KSA9PiBzdW0gKyBzbG90LmNsaWVudHMubGVuZ3RoLCAwKX0ga2xpZW50YW1pYClcbiAgICAgIFxuICAgICAgcmV0dXJuIHNsb3RzV2l0aENsaWVudHNcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB0d29yemVuaWEgcGxhbnUgZG5pYTonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbi8vIEZ1bmtjamUgQVBJIGRsYSBsb2fDs3cgYWt0eXdub8WbY2lcbmV4cG9ydCBjb25zdCBhY3Rpdml0eUxvZ3NBcGkgPSB7XG4gIC8vIFBvYmllcnogbG9naSBha3R5d25vxZtjaVxuICBhc3luYyBnZXRMb2dzKGNsaWVudElkPzogc3RyaW5nKSB7XG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBjbGllbnRzKGZpcnN0X25hbWUsIGxhc3RfbmFtZSlcbiAgICAgIGApXG4gICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICAgICAgLmxpbWl0KDUwKVxuXG4gICAgaWYgKGNsaWVudElkKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmVxKCdjbGllbnRfaWQnLCBjbGllbnRJZClcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBxdWVyeVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIFBvYmllcnogaGlzdG9yacSZIHptaWFuIGRsYSBrb25rcmV0bmVnbyBrbGllbnRhXG4gIGFzeW5jIGdldENsaWVudEhpc3RvcnkoY2xpZW50SWQ6IHN0cmluZyk6IFByb21pc2U8Q2xpZW50SGlzdG9yeVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCdQb2JpZXJhbmllIGhpc3RvcmlpIGRsYSBrbGllbnRhOicsIGNsaWVudElkKVxuICAgICAgXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgamVzdCB6YWxvZ293YW55XG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgICAgY29uc29sZS5sb2coJ0FrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmlkKVxuICAgICAgXG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVcW8eXRrb3duaWsgbmllIGplc3QgemFsb2dvd2FueScpXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXG4gICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgIGlkLFxuICAgICAgICAgIGNsaWVudF9pZCxcbiAgICAgICAgICBjaGFuZ2VkX2J5LFxuICAgICAgICAgIGNoYW5nZV90eXBlLFxuICAgICAgICAgIGZpZWxkX2NoYW5nZWQsXG4gICAgICAgICAgb2xkX3ZhbHVlLFxuICAgICAgICAgIG5ld192YWx1ZSxcbiAgICAgICAgICB0aW1lc3RhbXBcbiAgICAgICAgYClcbiAgICAgICAgLmVxKCdjbGllbnRfaWQnLCBjbGllbnRJZClcbiAgICAgICAgLm9yZGVyKCd0aW1lc3RhbXAnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgICAgLmxpbWl0KDIwKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHF1ZXJ5IGFjdGl2aXR5X2xvZ3M6JywgZXJyb3IpXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N6Y3plZ8OzxYJ5IGLFgsSZZHU6JywgSlNPTi5zdHJpbmdpZnkoZXJyb3IsIG51bGwsIDIpKVxuICAgICAgICBcbiAgICAgICAgLy8gU3ByYXdkxbogY3p5IHRvIHByb2JsZW0geiBSTFNcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignUHJvYmxlbSB6IFJvdyBMZXZlbCBTZWN1cml0eSAtIHXFvHl0a293bmlrIG1vxbxlIG5pZSBtaWXEhyBkb3N0xJlwdScpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFp3csOzxIcgcHVzdMSFIHRhYmxpY8SZIHphbWlhc3Qgcnp1Y2FuaWEgYsWCxJlkZW1cbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKCdQb2JyYW5vIGxvZ2k6JywgZGF0YT8ubGVuZ3RoIHx8IDApXG5cbiAgICAgIC8vIEplxZtsaSBuaWUgbWEgbG9nw7N3LCB6d3LDs8SHIHB1c3TEhSB0YWJsaWPEmVxuICAgICAgaWYgKCFkYXRhIHx8IGRhdGEubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuXG4gICAgICAvLyBQb2JpZXJ6IGluZm9ybWFjamUgbyB1xbx5dGtvd25pa2FjaCBvc29ibm8geiBhdmF0YXJhbWlcbiAgICAgIGNvbnN0IHVzZXJJZHMgPSBbLi4ubmV3IFNldChkYXRhLm1hcChsb2cgPT4gbG9nLmNoYW5nZWRfYnkpLmZpbHRlcihCb29sZWFuKSldXG4gICAgICBjb25zb2xlLmxvZygnUG9iaWVyYW5pZSB1xbx5dGtvd25pa8OzdzonLCB1c2VySWRzKVxuXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgcm9sZSwgYXZhdGFyX3VybCcpXG4gICAgICAgIC5pbignaWQnLCB1c2VySWRzKVxuXG4gICAgICBpZiAodXNlcnNFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9iaWVyYW5pYSB1xbx5dGtvd25pa8OzdzonLCB1c2Vyc0Vycm9yKVxuICAgICAgICAvLyBLb250eW51dWogYmV6IGRhbnljaCB1xbx5dGtvd25pa8Ozd1xuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygnUG9icmFubyB1xbx5dGtvd25pa8OzdzonLCB1c2Vycz8ubGVuZ3RoIHx8IDApXG5cbiAgICAgIC8vIE1hcHVqIHXFvHl0a293bmlrw7N3IGRvIHPFgm93bmlrYSBkbGEgc3p5YmtpZWdvIGRvc3TEmXB1XG4gICAgICBjb25zdCB1c2Vyc01hcCA9ICh1c2VycyB8fCBbXSkucmVkdWNlKChhY2MsIHVzZXIpID0+IHtcbiAgICAgICAgYWNjW3VzZXIuaWRdID0gdXNlclxuICAgICAgICByZXR1cm4gYWNjXG4gICAgICB9LCB7fSBhcyBSZWNvcmQ8c3RyaW5nLCBhbnk+KVxuXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIGRhbmUgeiBpbmZvcm1hY2phbWkgbyBlZHl0b3J6ZVxuICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YS5tYXAoKGxvZzogYW55KSA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXIgPSB1c2Vyc01hcFtsb2cuY2hhbmdlZF9ieV1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogbG9nLmlkLFxuICAgICAgICAgIGNsaWVudF9pZDogbG9nLmNsaWVudF9pZCxcbiAgICAgICAgICBjaGFuZ2VkX2J5OiBsb2cuY2hhbmdlZF9ieSxcbiAgICAgICAgICBjaGFuZ2VfdHlwZTogbG9nLmNoYW5nZV90eXBlLFxuICAgICAgICAgIGZpZWxkX2NoYW5nZWQ6IGxvZy5maWVsZF9jaGFuZ2VkLFxuICAgICAgICAgIG9sZF92YWx1ZTogbG9nLm9sZF92YWx1ZSxcbiAgICAgICAgICBuZXdfdmFsdWU6IGxvZy5uZXdfdmFsdWUsXG4gICAgICAgICAgdGltZXN0YW1wOiBsb2cudGltZXN0YW1wLFxuICAgICAgICAgIGVkaXRvcl9uYW1lOiB1c2VyPy5mdWxsX25hbWUgfHwgbG9nLmNoYW5nZWRfYnkgfHwgJ05pZXpuYW55IHXFvHl0a293bmlrJyxcbiAgICAgICAgICBlZGl0b3Jfcm9sZTogdXNlcj8ucm9sZSB8fCAndW5rbm93bicsXG4gICAgICAgICAgZWRpdG9yX2F2YXRhcjogdXNlcj8uYXZhdGFyX3VybCB8fCBudWxsXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKCdad3JhY2FuaWUgaGlzdG9yaWk6JywgcmVzdWx0Lmxlbmd0aCwgJ3dwaXPDs3cnKVxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0LFgsSFZCB3IGdldENsaWVudEhpc3Rvcnk6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuICAvLyBEb2RhaiBsb2cgYWt0eXdub8WbY2lcbiAgYXN5bmMgY3JlYXRlTG9nKGxvZzogT21pdDxBY3Rpdml0eUxvZywgJ2lkJyB8ICd0aW1lc3RhbXAnPikge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIC4uLmxvZyxcbiAgICAgICAgdGltZXN0YW1wOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgIH1dKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgYXMgQWN0aXZpdHlMb2dcbiAgfSxcblxuICAvLyBGdW5rY2phIHRlc3Rvd2EgZG8gc3ByYXdkemFuaWEgZG9zdMSZcHUgZG8gYWN0aXZpdHlfbG9nc1xuICBhc3luYyB0ZXN0QWN0aXZpdHlMb2dzQWNjZXNzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnVGVzdG93YW5pZSBkb3N0xJlwdSBkbyBhY3Rpdml0eV9sb2dzLi4uJylcbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogYXV0b3J5emFjasSZXG4gICAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSB1xbx5dGtvd25pazonLCB1c2VyPy5pZCwgdXNlcj8uZW1haWwpXG4gICAgICBcbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4geyBcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXG4gICAgICAgICAgZXJyb3I6ICdCcmFrIGF1dG9yeXphY2ppIC0gdcW8eXRrb3duaWsgbmllIGplc3QgemFsb2dvd2FueScgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIGlzdG5pZWplIHcgdGFiZWxpIHVzZXJzXG4gICAgICBjb25zdCB7IGRhdGE6IHVzZXJQcm9maWxlLCBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgZW1haWwsIHJvbGUnKVxuICAgICAgICAuZXEoJ2lkJywgdXNlci5pZClcbiAgICAgICAgLnNpbmdsZSgpXG4gICAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSBwcm9maWwgdcW8eXRrb3duaWthOicsIHVzZXJQcm9maWxlKVxuICAgICAgY29uc29sZS5sb2coJ1Rlc3QgLSBixYLEhWQgcHJvZmlsdTonLCB1c2VyRXJyb3IpXG4gICAgICBcbiAgICAgIGlmICh1c2VyRXJyb3IgfHwgIXVzZXJQcm9maWxlKSB7XG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcbiAgICAgICAgICBlcnJvcjogJ1XFvHl0a293bmlrIG5pZSBpc3RuaWVqZSB3IHRhYmVsaSB1c2VycycgXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVGVzdHVqIGRvc3TEmXAgZG8gYWN0aXZpdHlfbG9nc1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciwgY291bnQgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcgfSlcbiAgICAgICAgLmxpbWl0KDEpXG5cbiAgICAgIGNvbnNvbGUubG9nKCdUZXN0IGFjdGl2aXR5X2xvZ3MgLSBkYXRhOicsIGRhdGEpXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY3Rpdml0eV9sb2dzIC0gZXJyb3I6JywgZXJyb3IpXG4gICAgICBjb25zb2xlLmxvZygnVGVzdCBhY3Rpdml0eV9sb2dzIC0gY291bnQ6JywgY291bnQpXG4gICAgICBcbiAgICAgIHJldHVybiB7IFxuICAgICAgICBzdWNjZXNzOiAhZXJyb3IsIFxuICAgICAgICBkYXRhLCBcbiAgICAgICAgZXJyb3IsIFxuICAgICAgICBjb3VudCxcbiAgICAgICAgdXNlcjogdXNlclByb2ZpbGVcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignQsWCxIVkIHRlc3R1IGFjdGl2aXR5X2xvZ3M6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBUeXB5IGRsYSBzdGF0eXN0eWsgcHJhY293bmlrw7N3XG5leHBvcnQgaW50ZXJmYWNlIEVtcGxveWVlU3RhdHMge1xuICBpZDogc3RyaW5nXG4gIHVzZXJfaWQ6IHN0cmluZ1xuICBkYWlseV90YXJnZXQ6IG51bWJlclxuICBjb21taXNzaW9uX3JhdGU6IG51bWJlclxuICBtb250aGx5X2NhbnZhczogbnVtYmVyXG4gIG1vbnRobHlfYW50eXNhbGU6IG51bWJlclxuICBtb250aGx5X3NhbGU6IG51bWJlclxuICB0b3RhbF9jb21taXNzaW9uczogbnVtYmVyXG4gIHRvdGFsX3BlbmFsdGllczogbnVtYmVyXG4gIC8vIFBvbGEgZG8gZWR5Y2ppIHLEmWN6bmVqXG4gIGN1c3RvbV9jbGllbnRzX2NvdW50PzogbnVtYmVyXG4gIGN1c3RvbV90b3RhbF9wYXltZW50cz86IG51bWJlclxuICAvLyBEb2RhdGtvd2UgZGFuZSB6IEpPSU5cbiAgdXNlcj86IHtcbiAgICBpZDogc3RyaW5nXG4gICAgZnVsbF9uYW1lOiBzdHJpbmdcbiAgICBlbWFpbDogc3RyaW5nXG4gICAgYXZhdGFyX3VybD86IHN0cmluZ1xuICAgIHJvbGU6IHN0cmluZ1xuICB9XG4gIC8vIE9ibGljem9uZSBuYSBwb2RzdGF3aWUgZGFueWNoIHogY2xpZW50c1xuICBkYWlseV9hY2hpZXZlZD86IG51bWJlclxuICB5ZXN0ZXJkYXlfc2hvcnRhZ2U/OiBudW1iZXJcbiAgc3RhdHVzX2NoYW5nZXNfdG9kYXk/OiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+XG59XG5cbi8vIEZ1bmtjamUgQVBJIGRsYSByYXBvcnTDs3dcbmV4cG9ydCBjb25zdCByZXBvcnRzQXBpID0ge1xuICAvLyBQb2JpZXJ6IHN0YXR5c3R5a2kgdHlsa28gcHJhY293bmlrw7N3IHogcHJvd2l6asSFXG4gIGFzeW5jIGdldEVtcGxveWVlU3RhdHModXNlcjogVXNlcik6IFByb21pc2U8RW1wbG95ZWVTdGF0c1tdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgc3RhdHlzdHlrIHByYWNvd25pa8Ozdy4uLicpXG4gICAgICBcbiAgICAgIC8vIEtST0sgMTogUG9iaWVyeiB3c3p5c3RraWNoIHXFvHl0a293bmlrw7N3IHogcm9sxIUgJ3ByYWNvd25paydcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsRW1wbG95ZWVzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdChgXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgZnVsbF9uYW1lLFxuICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgIGF2YXRhcl91cmwsXG4gICAgICAgICAgcm9sZVxuICAgICAgICBgKVxuICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcbiAgICAgICAgLm9yZGVyKCdmdWxsX25hbWUnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgICBpZiAodXNlcnNFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3ctcHJhY293bmlrw7N3OicsIHVzZXJzRXJyb3IpXG4gICAgICAgIHRocm93IHVzZXJzRXJyb3JcbiAgICAgIH1cblxuICAgICAgaWYgKCFhbGxFbXBsb3llZXMgfHwgYWxsRW1wbG95ZWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEJyYWsgdcW8eXRrb3duaWvDs3cgeiByb2zEhSBwcmFjb3duaWsnKVxuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIHdzenlzdGtpY2ggcHJhY293bmlrw7N3OicsIGFsbEVtcGxveWVlcy5sZW5ndGgsIGFsbEVtcGxveWVlcy5tYXAoZSA9PiBlLmZ1bGxfbmFtZSkpXG5cbiAgICAgIC8vIEtST0sgMjogUG9iaWVyeiBzdGF0eXN0eWtpIHogdGFiZWxpIGVtcGxveWVlX3N0YXRzIGRsYSB0eWNoIHByYWNvd25pa8Ozd1xuICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSBhbGxFbXBsb3llZXMubWFwKGVtcCA9PiBlbXAuaWQpXG4gICAgICBsZXQgZXhpc3RpbmdTdGF0czogYW55W10gPSBbXVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBzdGF0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmluKCd1c2VyX2lkJywgZW1wbG95ZWVJZHMpXG5cbiAgICAgICAgaWYgKHN0YXRzRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCxYLEhWQgcG9iaWVyYW5pYSBlbXBsb3llZV9zdGF0czonLCBzdGF0c0Vycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGV4aXN0aW5nU3RhdHMgPSBkYXRhIHx8IFtdXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSBwb2JyYcSHIGVtcGxveWVlX3N0YXRzOicsIGVycm9yKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gc3RhdHlzdHlraSBkbGEgcHJhY293bmlrw7N3OicsIGV4aXN0aW5nU3RhdHM/Lmxlbmd0aCB8fCAwKVxuXG4gICAgICAvLyBLUk9LIDM6IFBvYmllcnogZHppc2llanN6ZSBzdGF0eXN0eWtpIHogdGFiZWxpIGNsaWVudHMgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF1cbiAgICAgIGxldCB0b2RheUNsaWVudHM6IGFueVtdID0gW11cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogY2xpZW50c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIGVkaXRlZF9ieSwgY3JlYXRlZF9hdCwgdXBkYXRlZF9hdCcpXG4gICAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIGAke3RvZGF5fVQwMDowMDowMGApXG4gICAgICAgICAgLmx0KCd1cGRhdGVkX2F0JywgYCR7dG9kYXl9VDIzOjU5OjU5YClcblxuICAgICAgICBpZiAoY2xpZW50c0Vycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHogZHppc2lhajonLCBjbGllbnRzRXJyb3IpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9kYXlDbGllbnRzID0gZGF0YSB8fCBbXVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyBkemlzaWVqc3p5Y2gga2xpZW50w7N3OicsIGVycm9yKVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFBvYnJhbm8gZHppc2llanN6eWNoIGtsaWVudMOzdzonLCB0b2RheUNsaWVudHMubGVuZ3RoKVxuXG4gICAgICAvLyBLUk9LIDQ6IFBvYmllcnogd2N6b3JhanN6ZSBzdGF0eXN0eWtpIGRsYSBrYXIgKHogb2JzxYJ1Z8SFIGLFgsSZZMOzdylcbiAgICAgIGNvbnN0IHllc3RlcmRheSA9IG5ldyBEYXRlKClcbiAgICAgIHllc3RlcmRheS5zZXREYXRlKHllc3RlcmRheS5nZXREYXRlKCkgLSAxKVxuICAgICAgY29uc3QgeWVzdGVyZGF5U3RyID0geWVzdGVyZGF5LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXVxuICAgICAgbGV0IHllc3RlcmRheUNsaWVudHM6IGFueVtdID0gW11cbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCBlcnJvcjogeWVzdGVyZGF5RXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5JylcbiAgICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0JywgYCR7eWVzdGVyZGF5U3RyfVQwMDowMDowMGApXG4gICAgICAgICAgLmx0KCd1cGRhdGVkX2F0JywgYCR7eWVzdGVyZGF5U3RyfVQyMzo1OTo1OWApXG5cbiAgICAgICAgaWYgKHllc3RlcmRheUVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEgd2N6b3JhanN6eWNoIGtsaWVudMOzdzonLCB5ZXN0ZXJkYXlFcnJvcilcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB5ZXN0ZXJkYXlDbGllbnRzID0gZGF0YSB8fCBbXVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBOaWUgdWRhxYJvIHNpxJkgcG9icmHEhyB3Y3pvcmFqc3p5Y2gga2xpZW50w7N3OicsIGVycm9yKVxuICAgICAgfVxuXG4gICAgICAvLyBLUk9LIDU6IFBvYmllcnogV1NaWVNUS0lDSCBrbGllbnTDs3cgcHJ6eXBpc2FueWNoIGRvIHByYWNvd25pa8OzdyAoeiBvYnPFgnVnxIUgYsWCxJlkw7N3KVxuICAgICAgbGV0IGFsbE93bmVkQ2xpZW50czogYW55W10gPSBbXVxuICAgICAgXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCB7IGRhdGEsIGVycm9yOiBvd25lZEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgICAuc2VsZWN0KCdzdGF0dXMsIG93bmVyX2lkJylcbiAgICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpXG4gICAgICAgICAgLmluKCdvd25lcl9pZCcsIGVtcGxveWVlSWRzKVxuXG4gICAgICAgIGlmIChvd25lZEVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3IHByenlwaXNhbnljaDonLCBvd25lZEVycm9yKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFsbE93bmVkQ2xpZW50cyA9IGRhdGEgfHwgW11cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgcHJ6eXBpc2FueWNoIGtsaWVudMOzdzonLCBlcnJvcilcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coJ+KchSBQb2JyYW5vIHdzenlzdGtpY2ggcHJ6eXBpc2FueWNoIGtsaWVudMOzdzonLCBhbGxPd25lZENsaWVudHMubGVuZ3RoKVxuXG4gICAgICAvLyBLUk9LIDY6IEFncmVndWogZHppc2llanN6ZSBzdGF0eXN0eWtpIHBlciBwcmFjb3duaWtcbiAgICAgIGNvbnN0IHRvZGF5U3RhdHMgPSB0b2RheUNsaWVudHMucmVkdWNlKChhY2M6IFJlY29yZDxzdHJpbmcsIGFueT4sIGNsaWVudCkgPT4ge1xuICAgICAgICBjb25zdCB1c2VySWQgPSBjbGllbnQuZWRpdGVkX2J5XG4gICAgICAgIGlmICghdXNlcklkKSByZXR1cm4gYWNjXG4gICAgICAgIFxuICAgICAgICBpZiAoIWFjY1t1c2VySWRdKSB7XG4gICAgICAgICAgYWNjW3VzZXJJZF0gPSB7IHRvdGFsOiAwLCBjYW52YXM6IDAsIGFudHlzYWxlOiAwLCBzYWxlOiAwLCBvdGhlcjogMCB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGFjY1t1c2VySWRdLnRvdGFsKytcbiAgICAgICAgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdjYW52YXMnKSBhY2NbdXNlcklkXS5jYW52YXMrK1xuICAgICAgICBlbHNlIGlmIChjbGllbnQuc3RhdHVzID09PSAnYW50eXNhbGUnKSBhY2NbdXNlcklkXS5hbnR5c2FsZSsrXG4gICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdzYWxlJykgYWNjW3VzZXJJZF0uc2FsZSsrXG4gICAgICAgIGVsc2UgYWNjW3VzZXJJZF0ub3RoZXIrK1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG5cbiAgICAgIC8vIEtST0sgNzogQWdyZWd1aiB3Y3pvcmFqc3plIHN0YXR5c3R5a2kgcGVyIHByYWNvd25pa1xuICAgICAgY29uc3QgeWVzdGVyZGF5U3RhdHMgPSB5ZXN0ZXJkYXlDbGllbnRzLnJlZHVjZSgoYWNjOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+LCBjbGllbnQpID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gY2xpZW50LmVkaXRlZF9ieVxuICAgICAgICBpZiAodXNlcklkKSB7XG4gICAgICAgICAgYWNjW3VzZXJJZF0gPSAoYWNjW3VzZXJJZF0gfHwgMCkgKyAxXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY1xuICAgICAgfSwge30pXG5cbiAgICAgIC8vIEtST0sgODogQWdyZWd1aiBzdGF0dXN5IFdTWllTVEtJQ0ggcHJ6eXBpc2FueWNoIGtsaWVudMOzdyBwZXIgcHJhY293bmlrXG4gICAgICBjb25zdCBvd25lZENsaWVudHNTdGF0cyA9IGFsbE93bmVkQ2xpZW50cy5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgYW55PiwgY2xpZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IG93bmVySWQgPSBjbGllbnQub3duZXJfaWRcbiAgICAgICAgaWYgKCFvd25lcklkKSByZXR1cm4gYWNjXG4gICAgICAgIFxuICAgICAgICBpZiAoIWFjY1tvd25lcklkXSkge1xuICAgICAgICAgIGFjY1tvd25lcklkXSA9IHsgdG90YWw6IDAsIGNhbnZhczogMCwgYW50eXNhbGU6IDAsIHNhbGU6IDAsIGJyYWtfa29udGFrdHU6IDAsIG5pZV96YWludGVyZXNvd2FueTogMCwgemRlbmVyd293YW55OiAwLCAnJCQnOiAwIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgYWNjW293bmVySWRdLnRvdGFsKytcbiAgICAgICAgXG4gICAgICAgIHN3aXRjaCAoY2xpZW50LnN0YXR1cykge1xuICAgICAgICAgIGNhc2UgJ2NhbnZhcyc6XG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uY2FudmFzKytcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnYW50eXNhbGUnOlxuICAgICAgICAgICAgYWNjW293bmVySWRdLmFudHlzYWxlKytcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnc2FsZSc6XG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uc2FsZSsrXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ2JyYWtfa29udGFrdHUnOlxuICAgICAgICAgICAgYWNjW293bmVySWRdLmJyYWtfa29udGFrdHUrK1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICBjYXNlICduaWVfemFpbnRlcmVzb3dhbnknOlxuICAgICAgICAgICAgYWNjW293bmVySWRdLm5pZV96YWludGVyZXNvd2FueSsrXG4gICAgICAgICAgICBicmVha1xuICAgICAgICAgIGNhc2UgJ3pkZW5lcndvd2FueSc6XG4gICAgICAgICAgICBhY2Nbb3duZXJJZF0uemRlbmVyd293YW55KytcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgICAgY2FzZSAnJCQnOlxuICAgICAgICAgICAgYWNjW293bmVySWRdWyckJCddKytcbiAgICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHJldHVybiBhY2NcbiAgICAgIH0sIHt9KVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBTdGF0eXN0eWtpIHByenlwaXNhbnljaCBrbGllbnTDs3c6Jywgb3duZWRDbGllbnRzU3RhdHMpXG5cbiAgICAgIC8vIEtST0sgOTogU3R3w7NyeiBtYXDEmSBzdGF0eXN0eWsgZW1wbG95ZWVfc3RhdHNcbiAgICAgIGNvbnN0IHN0YXRzTWFwID0gbmV3IE1hcCgpXG4gICAgICBleGlzdGluZ1N0YXRzLmZvckVhY2goc3RhdCA9PiB7XG4gICAgICAgIHN0YXRzTWFwLnNldChzdGF0LnVzZXJfaWQsIHN0YXQpXG4gICAgICB9KVxuXG4gICAgICAvLyBLUk9LIDEwOiBLb21iaW51aiBkYW5lIC0gZGxhIFdTWllTVEtJQ0ggcHJhY293bmlrw7N3ICh6YXdzemUgendyYWNhIGxpc3TEmSlcbiAgICAgIGNvbnN0IGVuaGFuY2VkU3RhdHM6IEVtcGxveWVlU3RhdHNbXSA9IGFsbEVtcGxveWVlcy5tYXAoZW1wbG95ZWUgPT4ge1xuICAgICAgICBjb25zdCB1c2VySWQgPSBlbXBsb3llZS5pZFxuICAgICAgICBcbiAgICAgICAgLy8gUG9iaWVyeiBzdGF0eXN0eWtpIHogZW1wbG95ZWVfc3RhdHMgbHViIHV0d8OzcnogZG9tecWbbG5lXG4gICAgICAgIGNvbnN0IGJhc2ljU3RhdCA9IHN0YXRzTWFwLmdldCh1c2VySWQpIHx8IHtcbiAgICAgICAgICBpZDogJ3RlbXBfJyArIHVzZXJJZCxcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcbiAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcbiAgICAgICAgICBtb250aGx5X2NhbnZhczogMCxcbiAgICAgICAgICBtb250aGx5X2FudHlzYWxlOiAwLFxuICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcbiAgICAgICAgICB0b3RhbF9jb21taXNzaW9uczogMCxcbiAgICAgICAgICB0b3RhbF9wZW5hbHRpZXM6IDAsXG4gICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IDAsXG4gICAgICAgICAgY3VzdG9tX3RvdGFsX3BheW1lbnRzOiAwLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG9kYXlGb3JVc2VyID0gdG9kYXlTdGF0c1t1c2VySWRdIHx8IHsgdG90YWw6IDAsIGNhbnZhczogMCwgYW50eXNhbGU6IDAsIHNhbGU6IDAgfVxuICAgICAgICBjb25zdCB5ZXN0ZXJkYXlGb3JVc2VyID0geWVzdGVyZGF5U3RhdHNbdXNlcklkXSB8fCAwXG4gICAgICAgIGNvbnN0IG93bmVkRm9yVXNlciA9IG93bmVkQ2xpZW50c1N0YXRzW3VzZXJJZF0gfHwgeyBcbiAgICAgICAgICB0b3RhbDogMCwgXG4gICAgICAgICAgY2FudmFzOiAwLCBcbiAgICAgICAgICBhbnR5c2FsZTogMCwgXG4gICAgICAgICAgc2FsZTogMCwgXG4gICAgICAgICAgYnJha19rb250YWt0dTogMCwgXG4gICAgICAgICAgbmllX3phaW50ZXJlc293YW55OiAwLCBcbiAgICAgICAgICB6ZGVuZXJ3b3dhbnk6IDAsIFxuICAgICAgICAgICckJCc6IDAgXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE9ibGljeiBrYXLEmSB6YSB3Y3pvcmFqXG4gICAgICAgIGNvbnN0IHllc3RlcmRheVNob3J0YWdlID0gTWF0aC5tYXgoMCwgYmFzaWNTdGF0LmRhaWx5X3RhcmdldCAtIHllc3RlcmRheUZvclVzZXIpXG4gICAgICAgIGNvbnN0IHBlbmFsdHkgPSB5ZXN0ZXJkYXlTaG9ydGFnZSAqIDE1XG5cbiAgICAgICAgLy8gT2JsaWN6IHByb3dpemrEmSBuYSBwb2RzdGF3aWUgcHJ6eXBpc2FueWNoIGtsaWVudMOzdyBTYWxlXG4gICAgICAgIGNvbnN0IGNvbW1pc3Npb24gPSAob3duZWRGb3JVc2VyLnNhbGUgKiBiYXNpY1N0YXQuY29tbWlzc2lvbl9yYXRlIC8gMTAwKSAqIDEwMFxuXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5GkIFByYWNvd25payAke2VtcGxveWVlLmZ1bGxfbmFtZX06IENhbnZhcz0ke293bmVkRm9yVXNlci5jYW52YXN9LCBBbnR5Uz0ke293bmVkRm9yVXNlci5hbnR5c2FsZX0sIFNhbGU9JHtvd25lZEZvclVzZXIuc2FsZX1gKVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgLi4uYmFzaWNTdGF0LFxuICAgICAgICAgIC8vIFdBxbtORTogRG/FgsSFY3ogZGFuZSB1xbx5dGtvd25pa2FcbiAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICBpZDogZW1wbG95ZWUuaWQsXG4gICAgICAgICAgICBmdWxsX25hbWU6IGVtcGxveWVlLmZ1bGxfbmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiBlbXBsb3llZS5lbWFpbCxcbiAgICAgICAgICAgIGF2YXRhcl91cmw6IGVtcGxveWVlLmF2YXRhcl91cmwsXG4gICAgICAgICAgICByb2xlOiBlbXBsb3llZS5yb2xlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYWlseV9hY2hpZXZlZDogdG9kYXlGb3JVc2VyLnRvdGFsLFxuICAgICAgICAgIHllc3RlcmRheV9zaG9ydGFnZTogeWVzdGVyZGF5U2hvcnRhZ2UsXG4gICAgICAgICAgc3RhdHVzX2NoYW5nZXNfdG9kYXk6IHtcbiAgICAgICAgICAgIGNhbnZhczogdG9kYXlGb3JVc2VyLmNhbnZhcyxcbiAgICAgICAgICAgIGFudHlzYWxlOiB0b2RheUZvclVzZXIuYW50eXNhbGUsXG4gICAgICAgICAgICBzYWxlOiB0b2RheUZvclVzZXIuc2FsZSxcbiAgICAgICAgICAgIG90aGVyOiB0b2RheUZvclVzZXIub3RoZXJcbiAgICAgICAgICB9LFxuICAgICAgICAgIC8vIFXFvHl3YWogc3RhdHlzdHlrIG9wYXJ0eWNoIG5hIG93bmVyX2lkIChwcnp5cGlzYW55Y2gga2xpZW50w7N3KVxuICAgICAgICAgIG1vbnRobHlfY2FudmFzOiBvd25lZEZvclVzZXIuY2FudmFzLFxuICAgICAgICAgIG1vbnRobHlfYW50eXNhbGU6IG93bmVkRm9yVXNlci5hbnR5c2FsZSxcbiAgICAgICAgICBtb250aGx5X3NhbGU6IG93bmVkRm9yVXNlci5zYWxlLFxuICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiBjb21taXNzaW9uLFxuICAgICAgICAgIHRvdGFsX3BlbmFsdGllczogcGVuYWx0eVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFByenlnb3Rvd2FubyByb3pzemVyem9uZSBzdGF0eXN0eWtpIGRsYSB3c3p5c3RraWNoIHByYWNvd25pa8OzdzonLCBlbmhhbmNlZFN0YXRzLmxlbmd0aClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIExpc3RhIHByYWNvd25pa8OzdzonLCBlbmhhbmNlZFN0YXRzLm1hcChzID0+IHMudXNlcj8uZnVsbF9uYW1lKS5qb2luKCcsICcpKVxuICAgICAgXG4gICAgICByZXR1cm4gZW5oYW5jZWRTdGF0c1xuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgcHJhY293bmlrw7N3OicsIGVycm9yKVxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSwgendyw7PEhyBwdXN0xIUgbGlzdMSZIHphbWlhc3Qgcnp1Y2HEhyBixYLEhWRcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfSxcblxuICAvLyBQb2RzdW1vd2FuaWUgZG5pYVxuICBhc3luYyBnZXREYWlseVN1bW1hcnkoZGF0ZTogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5JylcbiAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBgJHtkYXRlfVQwMDowMDowMGApXG4gICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBgJHtkYXRlfVQyMzo1OTo1OWApXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG5cbiAgICAvLyBBZ3JlZ2FjamEgZGFueWNoXG4gICAgY29uc3Qgc3RhdHVzQnJlYWtkb3duID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55LCBjbGllbnQpID0+IHtcbiAgICAgIGFjY1tjbGllbnQuc3RhdHVzXSA9IChhY2NbY2xpZW50LnN0YXR1c10gfHwgMCkgKyAxXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG5cbiAgICBjb25zdCBlbXBsb3llZVN0YXRzID0gZGF0YS5yZWR1Y2UoKGFjYzogYW55LCBjbGllbnQpID0+IHtcbiAgICAgIGFjY1tjbGllbnQuZWRpdGVkX2J5XSA9IChhY2NbY2xpZW50LmVkaXRlZF9ieV0gfHwgMCkgKyAxXG4gICAgICByZXR1cm4gYWNjXG4gICAgfSwge30pXG5cbiAgICByZXR1cm4ge1xuICAgICAgdG90YWxDbGllbnRzOiBkYXRhLmxlbmd0aCxcbiAgICAgIHN0YXR1c0JyZWFrZG93bixcbiAgICAgIGVtcGxveWVlU3RhdHNcbiAgICB9XG4gIH0sXG5cbiAgLy8gUG9kc3Vtb3dhbmllIHR5Z29kbmlvd2VcbiAgYXN5bmMgZ2V0V2Vla2x5U3VtbWFyeShzdGFydERhdGU6IHN0cmluZywgZW5kRGF0ZTogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgIC5zZWxlY3QoJ3N0YXR1cywgZWRpdGVkX2J5LCB1cGRhdGVkX2F0JylcbiAgICAgIC5ndGUoJ3VwZGF0ZWRfYXQnLCBzdGFydERhdGUpXG4gICAgICAubHQoJ3VwZGF0ZWRfYXQnLCBlbmREYXRlKVxuXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH0sXG5cbiAgLy8gQWt0dWFsaXp1aiBzdGF0eXN0eWtpIHByYWNvd25pa2EgKGRsYSBtYW5hZ2VyL3Byb2plY3RfbWFuYWdlci9qdW5pb3JfbWFuYWdlci9zemVmL2FkbWluKVxuICBhc3luYyB1cGRhdGVFbXBsb3llZVN0YXRzKHVzZXJJZDogc3RyaW5nLCB1cGRhdGVzOiBQYXJ0aWFsPEVtcGxveWVlU3RhdHM+LCBjdXJyZW50VXNlcjogVXNlcikge1xuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXG4gICAgaWYgKCFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyhjdXJyZW50VXNlci5yb2xlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gbW9keWZpa2Fjamkgc3RhdHlzdHlrJylcbiAgICB9XG5cbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcbiAgICAgIC51cGRhdGUodXBkYXRlcylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGFcbiAgfSxcblxuICAvLyBFZHl0dWogaWxvxZvEhyBrbGllbnTDs3cgaSBzdW3EmSB3cMWCYXQgcHJhY293bmlrYSAoZGxhIG1hbmFnZXIvcHJvamVjdF9tYW5hZ2VyL2p1bmlvcl9tYW5hZ2VyL3N6ZWYvYWRtaW4pXG4gIGFzeW5jIHVwZGF0ZUVtcGxveWVlQ2xpZW50U3RhdHModXNlcklkOiBzdHJpbmcsIGNsaWVudHNDb3VudDogbnVtYmVyLCB0b3RhbFBheW1lbnRzOiBudW1iZXIsIGN1cnJlbnRVc2VyOiBVc2VyKSB7XG4gICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcbiAgICBpZiAoIVsnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZicsICdhZG1pbiddLmluY2x1ZGVzKGN1cnJlbnRVc2VyLnJvbGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0JyYWsgdXByYXduaWXFhCBkbyBtb2R5ZmlrYWNqaSBzdGF0eXN0eWsnKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg8J+TnSBBa3R1YWxpenVqxJkgc3RhdHlzdHlraSBwcmFjb3duaWthICR7dXNlcklkfToga2xpZW5jaT0ke2NsaWVudHNDb3VudH0sIHdwxYJhdHk9JHt0b3RhbFBheW1lbnRzfWApXG4gICAgICBcbiAgICAgIC8vIE1FVE9EQSAxOiBTcHLDs2J1aiBwcm9zdMSFIGFrdHVhbGl6YWNqxJkgdyBlbXBsb3llZV9zdGF0c1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS5sb2coJ/Cfk50gUHLDs2JhIHByb3N0ZWogYWt0dWFsaXphY2ppIHcgZW1wbG95ZWVfc3RhdHMnKVxuICAgICAgICBcbiAgICAgICAgY29uc3QgbGVnYWN5VXBkYXRlcyA9IHtcbiAgICAgICAgICBjdXN0b21fY2xpZW50c19jb3VudDogY2xpZW50c0NvdW50LFxuICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgLmZyb20oJ2VtcGxveWVlX3N0YXRzJylcbiAgICAgICAgICAudXBkYXRlKGxlZ2FjeVVwZGF0ZXMpXG4gICAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlcklkKVxuICAgICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICAgKixcbiAgICAgICAgICAgIHVzZXI6dXNlcnMhdXNlcl9pZCAoXG4gICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICBmdWxsX25hbWUsXG4gICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICBhdmF0YXJfdXJsLFxuICAgICAgICAgICAgICByb2xlXG4gICAgICAgICAgICApXG4gICAgICAgICAgYClcbiAgICAgICAgICAuc2luZ2xlKClcblxuICAgICAgICBpZiAoIWVycm9yICYmIGRhdGEpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFpha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgdyBlbXBsb3llZV9zdGF0cyAobWV0b2RhIDEpJylcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiBLbGllbmNpOiAke2NsaWVudHNDb3VudH0sIFdwxYJhdHk6IOKCrCR7dG90YWxQYXltZW50c31gKVxuICAgICAgICAgIHJldHVybiBkYXRhXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDEgbmllIHphZHppYcWCYcWCYTonLCBlcnJvcilcbiAgICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgICB9XG5cbiAgICAgIH0gY2F0Y2ggKG1ldGhvZDFFcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMSAocHJvc3RhIGFrdHVhbGl6YWNqYSkgbmllIHphZHppYcWCYcWCYTonLCBtZXRob2QxRXJyb3IpXG4gICAgICAgIFxuICAgICAgICAvLyBNRVRPREEgMjogU3Byw7NidWogSU5TRVJUIHogT04gQ09ORkxJQ1RcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn8J+TnSBQcsOzYmEgSU5TRVJUIHogT04gQ09ORkxJQ1QgdyBlbXBsb3llZV9zdGF0cycpXG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaW5zZXJ0RGF0YSA9IHtcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIGRhaWx5X3RhcmdldDogMjAsXG4gICAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcbiAgICAgICAgICAgIG1vbnRobHlfY2FudmFzOiAwLFxuICAgICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogMCxcbiAgICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcbiAgICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiAwLFxuICAgICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiAwLFxuICAgICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IGNsaWVudHNDb3VudCxcbiAgICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdHMnKVxuICAgICAgICAgICAgLnVwc2VydChpbnNlcnREYXRhLCB7IFxuICAgICAgICAgICAgICBvbkNvbmZsaWN0OiAndXNlcl9pZCcsXG4gICAgICAgICAgICAgIGlnbm9yZUR1cGxpY2F0ZXM6IGZhbHNlIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICAgICAqLFxuICAgICAgICAgICAgICB1c2VyOnVzZXJzIXVzZXJfaWQgKFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIGZ1bGxfbmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgICAgICBhdmF0YXJfdXJsLFxuICAgICAgICAgICAgICAgIHJvbGVcbiAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgYClcbiAgICAgICAgICAgIC5zaW5nbGUoKVxuXG4gICAgICAgICAgaWYgKCFlcnJvciAmJiBkYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn4pyFIFpha3R1YWxpem93YW5vIHN0YXR5c3R5a2kgdyBlbXBsb3llZV9zdGF0cyAobWV0b2RhIDIpJylcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIEtsaWVuY2k6ICR7Y2xpZW50c0NvdW50fSwgV3DFgmF0eTog4oKsJHt0b3RhbFBheW1lbnRzfWApXG4gICAgICAgICAgICByZXR1cm4gZGF0YVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBNZXRvZGEgMiBuaWUgemFkemlhxYJhxYJhOicsIGVycm9yKVxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBjYXRjaCAobWV0aG9kMkVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gTWV0b2RhIDIgKHVwc2VydCkgbmllIHphZHppYcWCYcWCYTonLCBtZXRob2QyRXJyb3IpXG4gICAgICAgICAgXG4gICAgICAgICAgLy8gTUVUT0RBIDM6IFpha3R1YWxpenVqIHR5bGtvIHcgcGFtacSZY2kgKGZhbGxiYWNrKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5OdIEZhbGxiYWNrIC0gendyYWNhbSBzeW11bG93YW5lIGRhbmUnKVxuICAgICAgICAgIFxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogJ3RlbXBfJyArIHVzZXJJZCxcbiAgICAgICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgIGRhaWx5X3RhcmdldDogMjAsXG4gICAgICAgICAgICBjb21taXNzaW9uX3JhdGU6IDMuMCxcbiAgICAgICAgICAgIG1vbnRobHlfY2FudmFzOiAwLFxuICAgICAgICAgICAgbW9udGhseV9hbnR5c2FsZTogMCxcbiAgICAgICAgICAgIG1vbnRobHlfc2FsZTogMCxcbiAgICAgICAgICAgIHRvdGFsX2NvbW1pc3Npb25zOiAwLFxuICAgICAgICAgICAgdG90YWxfcGVuYWx0aWVzOiAwLFxuICAgICAgICAgICAgY3VzdG9tX2NsaWVudHNfY291bnQ6IGNsaWVudHNDb3VudCxcbiAgICAgICAgICAgIGN1c3RvbV90b3RhbF9wYXltZW50czogdG90YWxQYXltZW50cyxcbiAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IHVzZXJJZCxcbiAgICAgICAgICAgICAgZnVsbF9uYW1lOiAnUHJhY293bmlrJyxcbiAgICAgICAgICAgICAgZW1haWw6ICdicmFrQGVtYWlsLmNvbScsXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IG51bGwsXG4gICAgICAgICAgICAgIHJvbGU6ICdwcmFjb3duaWsnXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgdyB1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3R3w7NyeiBzdGF0eXN0eWtpIGRsYSBub3dlZ28gcHJhY293bmlrYVxuICBhc3luYyBjcmVhdGVFbXBsb3llZVN0YXRzKHVzZXJJZDogc3RyaW5nLCBjdXJyZW50VXNlcjogVXNlcikge1xuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhXG4gICAgaWYgKCFbJ21hbmFnZXInLCAncHJvamVjdF9tYW5hZ2VyJywgJ2p1bmlvcl9tYW5hZ2VyJywgJ3N6ZWYnLCAnYWRtaW4nXS5pbmNsdWRlcyhjdXJyZW50VXNlci5yb2xlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQgZG8gdHdvcnplbmlhIHN0YXR5c3R5aycpXG4gICAgfVxuXG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdlbXBsb3llZV9zdGF0cycpXG4gICAgICAuaW5zZXJ0KFt7XG4gICAgICAgIHVzZXJfaWQ6IHVzZXJJZCxcbiAgICAgICAgZGFpbHlfdGFyZ2V0OiAyMCxcbiAgICAgICAgY29tbWlzc2lvbl9yYXRlOiAzLjBcbiAgICAgIH1dKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcblxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIPCfk4ogTm93YSBmdW5rY2phOiBQb2JpZXJ6IHN0YXR5c3R5a2kgd3lrb3J6eXN0YW5pYSBiYXp5IChrbGllbmNpIHovYmV6IHfFgmHFm2NpY2llbGEpXG4gIGFzeW5jIGdldERhdGFiYXNlVXRpbGl6YXRpb24oKTogUHJvbWlzZTx7IHdpdGhPd25lcjogbnVtYmVyLCB3aXRob3V0T3duZXI6IG51bWJlciwgdG90YWw6IG51bWJlciwgdXRpbGl6YXRpb25QZXJjZW50YWdlOiBudW1iZXIgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBQb2JpZXJhbmllIHN0YXR5c3R5ayB3eWtvcnp5c3RhbmlhIGJhenkuLi4nKVxuICAgICAgXG4gICAgICAvLyBabGljeiB3c3p5c3RraWNoIGtsaWVudMOzd1xuICAgICAgY29uc3QgeyBjb3VudDogdG90YWxDb3VudCwgZXJyb3I6IHRvdGFsRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcblxuICAgICAgaWYgKHRvdGFsRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIMWCxIVjem5laiBsaWN6Ynkga2xpZW50w7N3OicsIHRvdGFsRXJyb3IpXG4gICAgICAgIHRocm93IHRvdGFsRXJyb3JcbiAgICAgIH1cblxuICAgICAgLy8gWmxpY3oga2xpZW50w7N3IHogd8WCYcWbY2ljaWVsZW0gKG93bmVyX2lkICE9IG51bGwpXG4gICAgICBjb25zdCB7IGNvdW50OiB3aXRoT3duZXJDb3VudCwgZXJyb3I6IHdpdGhPd25lckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICAgIC5ub3QoJ293bmVyX2lkJywgJ2lzJywgbnVsbClcblxuICAgICAgaWYgKHdpdGhPd25lckVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgeiB3xYJhxZtjaWNpZWxlbTonLCB3aXRoT3duZXJFcnJvcilcbiAgICAgICAgdGhyb3cgd2l0aE93bmVyRXJyb3JcbiAgICAgIH1cblxuICAgICAgLy8gT2JsaWN6IGtsaWVudMOzdyBiZXogd8WCYcWbY2ljaWVsYVxuICAgICAgY29uc3Qgd2l0aG91dE93bmVyQ291bnQgPSAodG90YWxDb3VudCB8fCAwKSAtICh3aXRoT3duZXJDb3VudCB8fCAwKVxuICAgICAgXG4gICAgICAvLyBPYmxpY3ogcHJvY2VudCB3eWtvcnp5c3RhbmlhXG4gICAgICBjb25zdCB1dGlsaXphdGlvblBlcmNlbnRhZ2UgPSB0b3RhbENvdW50ID8gTWF0aC5yb3VuZCgod2l0aE93bmVyQ291bnQgfHwgMCkgLyB0b3RhbENvdW50ICogMTAwKSA6IDBcblxuICAgICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgICB3aXRoT3duZXI6IHdpdGhPd25lckNvdW50IHx8IDAsXG4gICAgICAgIHdpdGhvdXRPd25lcjogd2l0aG91dE93bmVyQ291bnQsXG4gICAgICAgIHRvdGFsOiB0b3RhbENvdW50IHx8IDAsXG4gICAgICAgIHV0aWxpemF0aW9uUGVyY2VudGFnZVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBTdGF0eXN0eWtpIHd5a29yenlzdGFuaWEgYmF6eTonLCByZXN1bHQpXG4gICAgICByZXR1cm4gcmVzdWx0XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayB3eWtvcnp5c3RhbmlhIGJhenk6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuICAvLyDwn5SEIEFETUlOOiBSZXNldHVqIHfFgmHFm2NpY2llbGkgd3N6eXN0a2ljaCBrbGllbnTDs3dcbiAgYXN5bmMgcmVzZXRBbGxDbGllbnRPd25lcnMoY3VycmVudFVzZXI6IFVzZXIpOiBQcm9taXNlPHsgc3VjY2VzczogbnVtYmVyLCBtZXNzYWdlOiBzdHJpbmcgfT4ge1xuICAgIC8vIFNwcmF3ZMW6IHVwcmF3bmllbmlhIC0gdHlsa28gYWRtaW5cbiAgICBpZiAoY3VycmVudFVzZXIucm9sZSAhPT0gJ2FkbWluJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFrIHVwcmF3bmllxYQhIFR5bGtvIGFkbWluaXN0cmF0b3IgbW/FvGUgcmVzZXRvd2HEhyB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdy4nKVxuICAgIH1cblxuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBSb3pwb2N6eW5hbSByZXNldG93YW5pZSB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdy4uLicpXG4gICAgICBcbiAgICAgIC8vIFBvYmllcnogbGljemLEmSBrbGllbnTDs3cgeiB3xYJhxZtjaWNpZWxlbSBwcnplZCByZXNldG93YW5pZW1cbiAgICAgIGNvbnN0IHsgY291bnQ6IGJlZm9yZUNvdW50LCBlcnJvcjogYmVmb3JlRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgLnNlbGVjdCgnKicsIHsgY291bnQ6ICdleGFjdCcsIGhlYWQ6IHRydWUgfSlcbiAgICAgICAgLm5vdCgnb3duZXJfaWQnLCAnaXMnLCBudWxsKVxuXG4gICAgICBpZiAoYmVmb3JlRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBzcHJhd2R6YW5pYSBzdGFudSBwcnplZCByZXNldG93YW5pZW06JywgYmVmb3JlRXJyb3IpXG4gICAgICAgIHRocm93IGJlZm9yZUVycm9yXG4gICAgICB9XG5cbiAgICAgIC8vIFJlc2V0dWogb3duZXJfaWQgZGxhIHdzenlzdGtpY2gga2xpZW50w7N3XG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAgIC51cGRhdGUoeyBvd25lcl9pZDogbnVsbCB9KVxuICAgICAgICAubm90KCdvd25lcl9pZCcsICdpcycsIG51bGwpIC8vIFR5bGtvIHRlIGt0w7NyZSBtYWrEhSB3xYJhxZtjaWNpZWxhXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmaXJzdF9uYW1lLCBsYXN0X25hbWUnKVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCByZXNldG93YW5pYSB3xYJhxZtjaWNpZWxpOicsIGVycm9yKVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zdCByZXNldENvdW50ID0gZGF0YT8ubGVuZ3RoIHx8IDBcbiAgICAgIFxuICAgICAgLy8gTG9ndWogYWtjasSZIGRvIGFjdGl2aXR5X2xvZ3NcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFjdGl2aXR5TG9nc0FwaS5jcmVhdGVMb2coe1xuICAgICAgICAgIGNsaWVudF9pZDogJ2J1bGtfYWN0aW9uJyxcbiAgICAgICAgICBjaGFuZ2VkX2J5OiBjdXJyZW50VXNlci5pZCxcbiAgICAgICAgICBjaGFuZ2VfdHlwZTogJ3VwZGF0ZScsXG4gICAgICAgICAgZmllbGRfY2hhbmdlZDogJ293bmVyX2lkJyxcbiAgICAgICAgICBvbGRfdmFsdWU6ICd2YXJpb3VzJyxcbiAgICAgICAgICBuZXdfdmFsdWU6ICdudWxsIChyZXNldCBieSBhZG1pbiknLFxuICAgICAgICB9KVxuICAgICAgfSBjYXRjaCAobG9nRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4pqg77iPIE5pZSB1ZGHFgm8gc2nEmSB6YWxvZ293YcSHIGFrY2ppOicsIGxvZ0Vycm9yKVxuICAgICAgICAvLyBOaWUgcHJ6ZXJ5d2FteSBwcm9jZXN1IHogcG93b2R1IGLFgsSZZHUgbG9nb3dhbmlhXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWnJlc2V0b3dhbm8gd8WCYcWbY2ljaWVsaSBkbGEgJHtyZXNldENvdW50fSBrbGllbnTDs3dgKVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiByZXNldENvdW50LFxuICAgICAgICBtZXNzYWdlOiBgUG9tecWbbG5pZSB6cmVzZXRvd2FubyB3xYJhxZtjaWNpZWxpIGRsYSAke3Jlc2V0Q291bnR9IGtsaWVudMOzdy4gV3N6eXNjeSBrbGllbmNpIHPEhSB0ZXJheiBiZXogcHJ6eXBpc2FuZWdvIHfFgmHFm2NpY2llbGEuYFxuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCByZXNldG93YW5pYSB3xYJhxZtjaWNpZWxpIGtsaWVudMOzdzonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9LFxuXG4gIC8vIFBvYmllcnogc3RhdHlzdHlraSBha3R5d25vxZtjaSBwcmFjb3duaWvDs3cgeiB0YWJlbGkgZW1wbG95ZWVfc3RhdGlzdGljc1xuICBhc3luYyBnZXRFbXBsb3llZUFjdGl2aXR5U3RhdHModXNlcjogVXNlcik6IFByb21pc2U8RW1wbG95ZWVBY3Rpdml0eVN0YXRzW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBzdGF0eXN0eWsgYWt0eXdub8WbY2kgcHJhY293bmlrw7N3Li4uJylcbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogdXByYXduaWVuaWFcbiAgICAgIGlmICghdXNlciB8fCAhWydtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJywgJ2FkbWluJ10uaW5jbHVkZXModXNlci5yb2xlKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ+KaoO+4jyBCcmFrIHVwcmF3bmllxYQgZG8gcG9kZ2zEhWR1IHN0YXR5c3R5ayBha3R5d25vxZtjaScpXG4gICAgICAgIHJldHVybiBbXVxuICAgICAgfVxuXG4gICAgICAvLyBLUk9LIDE6IFBvYmllcnogd3N6eXN0a2ljaCB1xbx5dGtvd25pa8OzdyB6IHJvbMSFICdwcmFjb3duaWsnXG4gICAgICBsZXQgYWxsRW1wbG95ZWVzID0gW11cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogdXNlcnNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAgIC5zZWxlY3QoYFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBmdWxsX25hbWUsXG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIGF2YXRhcl91cmwsXG4gICAgICAgICAgICByb2xlXG4gICAgICAgICAgYClcbiAgICAgICAgICAuZXEoJ3JvbGUnLCAncHJhY293bmlrJylcbiAgICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgICAgICAgaWYgKHVzZXJzRXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdcW8eXRrb3duaWvDs3ctcHJhY293bmlrw7N3OicsIHVzZXJzRXJyb3IpXG4gICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgIH1cblxuICAgICAgICBhbGxFbXBsb3llZXMgPSBlbXBsb3llZXMgfHwgW11cbiAgICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyBwcmFjb3duaWvDs3c6ICR7YWxsRW1wbG95ZWVzLmxlbmd0aH1gKVxuICAgICAgICBcbiAgICAgICAgaWYgKGFsbEVtcGxveWVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn4pqg77iPIEJyYWsgdcW8eXRrb3duaWvDs3cgeiByb2zEhSBwcmFjb3duaWsnKVxuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVycm9yKVxuICAgICAgICByZXR1cm4gW11cbiAgICAgIH1cblxuICAgICAgLy8gS1JPSyAyOiBQb2JpZXJ6IHN0YXR5c3R5a2kgYWt0eXdub8WbY2kgLSB6IG9ic8WCdWfEhSBixYLEmWTDs3cgUkxTXG4gICAgICBsZXQgYWN0aXZpdHlTdGF0cyA9IFtdXG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBlbXBsb3llZUlkcyA9IGFsbEVtcGxveWVlcy5tYXAoZW1wID0+IGVtcC5pZClcbiAgICAgICAgY29uc29sZS5sb2coYPCflI0gUG9iaWVyYW5pZSBzdGF0eXN0eWsgZGxhIElEOiAke2VtcGxveWVlSWRzLnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9Li4uICgke2VtcGxveWVlSWRzLmxlbmd0aH0gdG90YWwpYClcblxuICAgICAgICBjb25zdCB7IGRhdGE6IHN0YXRzLCBlcnJvcjogc3RhdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgICAuZnJvbSgnZW1wbG95ZWVfc3RhdGlzdGljcycpXG4gICAgICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAgICAgLmVxKCdwZXJpb2RfdHlwZScsICdtb250aGx5JylcbiAgICAgICAgICAuaW4oJ3VzZXJfaWQnLCBlbXBsb3llZUlkcylcbiAgICAgICAgICAub3JkZXIoJ3BlcmlvZF9lbmQnLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcblxuICAgICAgICBpZiAoc3RhdHNFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgYWt0eXdub8WbY2k6Jywgc3RhdHNFcnJvcilcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBKZcWbbGkgdG8gYsWCxIVkIFJMUyAoNDAzKSwgbmllIHByemVyeXdhaiAtIHXFvHlqIGRvbXnFm2xueWNoIGRhbnljaFxuICAgICAgICAgIGlmIChzdGF0c0Vycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgc3RhdHNFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygnUkxTJykgfHwgc3RhdHNFcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ/CflJIgUHJvYmxlbSB6IFJMUyAtIHXFvHl3YW0gZG9tecWbbG55Y2ggZGFueWNoIGFrdHl3bm/Fm2NpJylcbiAgICAgICAgICAgIGFjdGl2aXR5U3RhdHMgPSBbXVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5KlIEtyeXR5Y3pueSBixYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgLSBwcnplcnl3YW0nKVxuICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFjdGl2aXR5U3RhdHMgPSBzdGF0cyB8fCBbXVxuICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIFpuYWxlemlvbm8gcmVrb3Jkw7N3IGFrdHl3bm/Fm2NpOiAke2FjdGl2aXR5U3RhdHMubGVuZ3RofWApXG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgemFweXRhbmlhIG8gc3RhdHlzdHlraSBha3R5d25vxZtjaTonLCBlcnJvcilcbiAgICAgICAgYWN0aXZpdHlTdGF0cyA9IFtdXG4gICAgICB9XG5cbiAgICAgIC8vIEtST0sgMzogU3R3w7NyeiBtYXDEmSBuYWpub3dzenljaCBzdGF0eXN0eWsgZGxhIGthxbxkZWdvIHByYWNvd25pa2FcbiAgICAgIGNvbnN0IGxhdGVzdFN0YXRzTWFwID0gbmV3IE1hcCgpXG4gICAgICBpZiAoYWN0aXZpdHlTdGF0cyAmJiBhY3Rpdml0eVN0YXRzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgYWN0aXZpdHlTdGF0cy5mb3JFYWNoKHN0YXQgPT4ge1xuICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IHN0YXQudXNlcl9pZFxuICAgICAgICAgIGlmICghbGF0ZXN0U3RhdHNNYXAuaGFzKHVzZXJJZCkpIHtcbiAgICAgICAgICAgIGxhdGVzdFN0YXRzTWFwLnNldCh1c2VySWQsIHN0YXQpXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBjb25zb2xlLmxvZyhg8J+Xuu+4jyBabWFwb3dhbm8gc3RhdHlzdHlraSBkbGEgJHtsYXRlc3RTdGF0c01hcC5zaXplfSBwcmFjb3duaWvDs3dgKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+KaoO+4jyBCcmFrIGRhbnljaCBha3R5d25vxZtjaSAtIHXFvHlqxJkgZG9tecWbbG55Y2ggd2FydG/Fm2NpJylcbiAgICAgIH1cblxuICAgICAgLy8gS1JPSyA0OiBLb21iaW51aiBkYW5lIHByYWNvd25pa8OzdyB6ZSBzdGF0eXN0eWthbWkgYWt0eXdub8WbY2lcbiAgICAgIGNvbnN0IHJlc3VsdDogRW1wbG95ZWVBY3Rpdml0eVN0YXRzW10gPSBhbGxFbXBsb3llZXMubWFwKGVtcGxveWVlID0+IHtcbiAgICAgICAgY29uc3QgdXNlcklkID0gZW1wbG95ZWUuaWRcbiAgICAgICAgY29uc3QgYWN0aXZpdHlTdGF0ID0gbGF0ZXN0U3RhdHNNYXAuZ2V0KHVzZXJJZClcblxuICAgICAgICBpZiAoYWN0aXZpdHlTdGF0KSB7XG4gICAgICAgICAgLy8gTWFteSBzdGF0eXN0eWtpIC0gdcW8eWogcHJhd2R6aXd5Y2ggZGFueWNoXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmFjdGl2aXR5U3RhdCxcbiAgICAgICAgICAgIHVzZXI6IHtcbiAgICAgICAgICAgICAgaWQ6IGVtcGxveWVlLmlkLFxuICAgICAgICAgICAgICBmdWxsX25hbWU6IGVtcGxveWVlLmZ1bGxfbmFtZSxcbiAgICAgICAgICAgICAgZW1haWw6IGVtcGxveWVlLmVtYWlsLFxuICAgICAgICAgICAgICBhdmF0YXJfdXJsOiBlbXBsb3llZS5hdmF0YXJfdXJsLFxuICAgICAgICAgICAgICByb2xlOiBlbXBsb3llZS5yb2xlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIEJyYWsgc3RhdHlzdHlrIC0gc3R3w7NyeiBkb215xZtsbmUgZGFuZVxuICAgICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRNb250aCA9IGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxXG4gICAgICAgICAgY29uc3QgY3VycmVudFllYXIgPSBjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICAgICAgY29uc3QgbW9udGhTdGFydCA9IGAke2N1cnJlbnRZZWFyfS0ke2N1cnJlbnRNb250aC50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9LTAxYFxuICAgICAgICAgIGNvbnN0IG1vbnRoRW5kID0gbmV3IERhdGUoY3VycmVudFllYXIsIGN1cnJlbnRNb250aCwgMCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXG5cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6ICd0ZW1wXycgKyB1c2VySWQsXG4gICAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgICBwZXJpb2RfdHlwZTogJ21vbnRobHknLFxuICAgICAgICAgICAgcGVyaW9kX3N0YXJ0OiBtb250aFN0YXJ0LFxuICAgICAgICAgICAgcGVyaW9kX2VuZDogbW9udGhFbmQsXG4gICAgICAgICAgICB0b3RhbF93b3JrX21pbnV0ZXM6IDAsXG4gICAgICAgICAgICBhdmVyYWdlX2RhaWx5X21pbnV0ZXM6IDAsXG4gICAgICAgICAgICBleHBlY3RlZF93b3JrX21pbnV0ZXM6IDE3NiAqIDYwLCAvLyAxNzZoICogNjBtaW4gPSAxMDU2MCBtaW5cbiAgICAgICAgICAgIGVmZmljaWVuY3lfcGVyY2VudGFnZTogMCxcbiAgICAgICAgICAgIHRvdGFsX2FjdGl2aXRpZXM6IDAsXG4gICAgICAgICAgICBhdmVyYWdlX2RhaWx5X2FjdGl2aXRpZXM6IDAsXG4gICAgICAgICAgICBkYXlzX3dvcmtlZDogMCxcbiAgICAgICAgICAgIGRheXNfYWJzZW50OiAwLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICBpZDogZW1wbG95ZWUuaWQsXG4gICAgICAgICAgICAgIGZ1bGxfbmFtZTogZW1wbG95ZWUuZnVsbF9uYW1lLFxuICAgICAgICAgICAgICBlbWFpbDogZW1wbG95ZWUuZW1haWwsXG4gICAgICAgICAgICAgIGF2YXRhcl91cmw6IGVtcGxveWVlLmF2YXRhcl91cmwsXG4gICAgICAgICAgICAgIHJvbGU6IGVtcGxveWVlLnJvbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUHJ6eWdvdG93YW5vIHN0YXR5c3R5a2kgYWt0eXdub8WbY2kgZGxhIHdzenlzdGtpY2ggcHJhY293bmlrw7N3OiAke3Jlc3VsdC5sZW5ndGh9YClcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GlIExpc3RhIHByYWNvd25pa8OzdzogJHtyZXN1bHQubWFwKHMgPT4gcy51c2VyPy5mdWxsX25hbWUpLmpvaW4oJywgJyl9YClcbiAgICAgIFxuICAgICAgLy8gUG9rYcW8IHN0YXR5c3R5a2kgcG9kc3Vtb3d1asSFY2VcbiAgICAgIGNvbnN0IHdpdGhEYXRhID0gcmVzdWx0LmZpbHRlcihyID0+IHIudG90YWxfd29ya19taW51dGVzID4gMCkubGVuZ3RoXG4gICAgICBjb25zdCB3aXRob3V0RGF0YSA9IHJlc3VsdC5sZW5ndGggLSB3aXRoRGF0YVxuICAgICAgY29uc29sZS5sb2coYPCfk4ogUHJhY293bmljeSB6IGRhbnltaTogJHt3aXRoRGF0YX0sIGJleiBkYW55Y2g6ICR7d2l0aG91dERhdGF9YClcbiAgICAgIFxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBzdGF0eXN0eWsgYWt0eXdub8WbY2k6JywgZXJyb3IpXG4gICAgICBcbiAgICAgIC8vIEdyYWNlZnVsIGZhbGxiYWNrIC0gendyw7PEhyBwdXN0xIUgdGFibGljxJkgemFtaWFzdCBjcmFzaG93YcSHXG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBHcmFjZWZ1bCBmYWxsYmFjayAtIHp3cmFjYW0gcHVzdMSFIHRhYmxpY8SZJylcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfSxcblxuICAvLyBQb2JpZXJ6IHRyZW5keSBzcHJ6ZWRhxbxvd2UgeiBvc3RhdG5pY2ggNyBkbmlcbiAgYXN5bmMgZ2V0U2FsZXNUcmVuZHModXNlcjogVXNlcik6IFByb21pc2U8QXJyYXk8eyBkYXk6IHN0cmluZywgY2FudmFzOiBudW1iZXIsIHNhbGU6IG51bWJlciwgYW50eXNhbGU6IG51bWJlciB9Pj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TiCBQb2JpZXJhbmllIHRyZW5kw7N3IHNwcnplZGHFvG93eWNoIHogb3N0YXRuaWNoIDcgZG5pLi4uJylcbiAgICAgIFxuICAgICAgLy8gUG9iaWVyeiBkYW5lIHogb3N0YXRuaWNoIDcgZG5pXG4gICAgICBjb25zdCBlbmREYXRlID0gbmV3IERhdGUoKVxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoKVxuICAgICAgc3RhcnREYXRlLnNldERhdGUoZW5kRGF0ZS5nZXREYXRlKCkgLSA2KSAvLyA3IGRuaSB3c3RlY3ogKHfFgsSFY3puaWUgeiBkemlzaWFqKVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAgIC5zZWxlY3QoJ3N0YXR1cywgdXBkYXRlZF9hdCwgc3RhdHVzX2NoYW5nZWRfYXQsIG93bmVyX2lkLCBlZGl0ZWRfYnknKVxuICAgICAgICAuZ3RlKCd1cGRhdGVkX2F0Jywgc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgLmx0ZSgndXBkYXRlZF9hdCcsIGVuZERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdICsgJ1QyMzo1OTo1OScpXG4gICAgICAgIC5pbignc3RhdHVzJywgWydjYW52YXMnLCAnc2FsZScsICdhbnR5c2FsZSddKVxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHRyZW5kw7N3IHNwcnplZGHFvG93eWNoOicsIGVycm9yKVxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gJHtkYXRhPy5sZW5ndGggfHwgMH0gcmVrb3Jkw7N3IHogb3N0YXRuaWNoIDcgZG5pYClcblxuICAgICAgLy8gRmlsdHJ1aiBrbGllbnTDs3cgd2VkxYJ1ZyB1cHJhd25pZcWEIHXFvHl0a293bmlrYVxuICAgICAgbGV0IGZpbHRlcmVkRGF0YSA9IGRhdGEgfHwgW11cbiAgICAgIGlmICh1c2VyLnJvbGUgPT09ICdwcmFjb3duaWsnKSB7XG4gICAgICAgIGZpbHRlcmVkRGF0YSA9IGZpbHRlcmVkRGF0YS5maWx0ZXIoY2xpZW50ID0+IFxuICAgICAgICAgIGNsaWVudC5vd25lcl9pZCA9PT0gdXNlci5pZCB8fCBcbiAgICAgICAgICBjbGllbnQub3duZXJfaWQgPT09IG51bGwgfHwgXG4gICAgICAgICAgY2xpZW50LmVkaXRlZF9ieSA9PT0gdXNlci5pZFxuICAgICAgICApXG4gICAgICB9XG5cbiAgICAgIC8vIFN0d8OzcnogbWFwxJkgZGxhIGRuaSB0eWdvZG5pYVxuICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxuICAgICAgY29uc3QgdHJlbmRzOiBSZWNvcmQ8c3RyaW5nLCB7IGNhbnZhczogbnVtYmVyLCBzYWxlOiBudW1iZXIsIGFudHlzYWxlOiBudW1iZXIgfT4gPSB7fVxuXG4gICAgICAvLyBJbmljamFsaXp1aiBvc3RhdG5pZSA3IGRuaVxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxuICAgICAgICB0cmVuZHNbZGF5TmFtZV0gPSB7IGNhbnZhczogMCwgc2FsZTogMCwgYW50eXNhbGU6IDAgfVxuICAgICAgfVxuXG4gICAgICAvLyBHcnVwdWogZGFuZSB3ZWTFgnVnIGRuaVxuICAgICAgZmlsdGVyZWREYXRhLmZvckVhY2goY2xpZW50ID0+IHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNsaWVudC51cGRhdGVkX2F0KVxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cbiAgICAgICAgXG4gICAgICAgIGlmICh0cmVuZHNbZGF5TmFtZV0pIHtcbiAgICAgICAgICBpZiAoY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpIHRyZW5kc1tkYXlOYW1lXS5jYW52YXMrK1xuICAgICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdzYWxlJykgdHJlbmRzW2RheU5hbWVdLnNhbGUrK1xuICAgICAgICAgIGVsc2UgaWYgKGNsaWVudC5zdGF0dXMgPT09ICdhbnR5c2FsZScpIHRyZW5kc1tkYXlOYW1lXS5hbnR5c2FsZSsrXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIC8vIFByemVrc3p0YcWCxIcgbmEgZm9ybWF0IGRsYSB3eWtyZXN1IChvc3RhdG5pZSA3IGRuaSB3IGtvbGVqbm/Fm2NpKVxuICAgICAgY29uc3QgcmVzdWx0ID0gW11cbiAgICAgIGZvciAobGV0IGkgPSA2OyBpID49IDA7IGktLSkge1xuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxuICAgICAgICBkYXRlLnNldERhdGUoZGF0ZS5nZXREYXRlKCkgLSBpKVxuICAgICAgICBjb25zdCBkYXlOYW1lID0gZGF5TmFtZXNbZGF0ZS5nZXREYXkoKV1cbiAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgIGRheTogZGF5TmFtZSxcbiAgICAgICAgICBjYW52YXM6IHRyZW5kc1tkYXlOYW1lXS5jYW52YXMsXG4gICAgICAgICAgc2FsZTogdHJlbmRzW2RheU5hbWVdLnNhbGUsXG4gICAgICAgICAgYW50eXNhbGU6IHRyZW5kc1tkYXlOYW1lXS5hbnR5c2FsZVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRyZW5keSBzcHJ6ZWRhxbxvd2UgcHJ6eWdvdG93YW5lOicsIHJlc3VsdClcbiAgICAgIHJldHVybiByZXN1bHRcblxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgdHJlbmTDs3cgc3ByemVkYcW8b3d5Y2g6JywgZXJyb3IpXG4gICAgICAvLyBXIHByenlwYWRrdSBixYLEmWR1IHp3csOzxIcgcHVzdGUgZGFuZSBkbGEgb3N0YXRuaWNoIDcgZG5pXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXG4gICAgICBjb25zdCByZXN1bHQgPSBbXVxuICAgICAgZm9yIChsZXQgaSA9IDY7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpXG4gICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXG4gICAgICAgIGNvbnN0IGRheU5hbWUgPSBkYXlOYW1lc1tkYXRlLmdldERheSgpXVxuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxuICAgICAgICAgIGNhbnZhczogMCxcbiAgICAgICAgICBzYWxlOiAwLFxuICAgICAgICAgIGFudHlzYWxlOiAwXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0XG4gICAgfVxuICB9LFxuXG4gIC8vIFBvYmllcnogc3RhdHlzdHlraSBrbGlrbmnEmcSHIHRlbGVmb251IHR5bGtvIGRsYSBwcmFjb3duaWvDs3dcbiAgYXN5bmMgZ2V0UGhvbmVDbGlja3NTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTx7IHRvdGFsUGhvbmVDYWxsczogbnVtYmVyLCB0b3RhbFBob25lQ2FsbHNUb2RheTogbnVtYmVyIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk54gUG9iaWVyYW5pZSBzdGF0eXN0eWsga2xpa25pxJnEhyB0ZWxlZm9udS4uLicpXG4gICAgICBcbiAgICAgIC8vIFBvYmllcnogd3N6eXN0a2ljaCBwcmFjb3duaWvDs3dcbiAgICAgIGNvbnN0IHsgZGF0YTogZW1wbG95ZWVzLCBlcnJvcjogZW1wbG95ZWVzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5zZWxlY3QoJ2lkJylcbiAgICAgICAgLmVxKCdyb2xlJywgJ3ByYWNvd25paycpXG5cbiAgICAgIGlmIChlbXBsb3llZXNFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgcHJhY293bmlrw7N3OicsIGVtcGxveWVlc0Vycm9yKVxuICAgICAgICB0aHJvdyBlbXBsb3llZXNFcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zdCBlbXBsb3llZUlkcyA9IChlbXBsb3llZXMgfHwgW10pLm1hcChlbXAgPT4gZW1wLmlkKVxuICAgICAgY29uc29sZS5sb2coYPCfkaUgWm5hbGV6aW9ubyAke2VtcGxveWVlSWRzLmxlbmd0aH0gcHJhY293bmlrw7N3YClcblxuICAgICAgaWYgKGVtcGxveWVlSWRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4geyB0b3RhbFBob25lQ2FsbHM6IDAsIHRvdGFsUGhvbmVDYWxsc1RvZGF5OiAwIH1cbiAgICAgIH1cblxuICAgICAgLy8gUG9iaWVyeiB3c3p5c3RraWUga2xpa25pxJljaWEgdGVsZWZvbnUgeiBhY3Rpdml0eV9sb2dzIHR5bGtvIGRsYSBwcmFjb3duaWvDs3dcbiAgICAgIGNvbnN0IHsgZGF0YTogYWxsUGhvbmVDbGlja3MsIGVycm9yOiBhbGxDbGlja3NFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxuICAgICAgICAuc2VsZWN0KCdpZCwgY2hhbmdlZF9ieSwgdGltZXN0YW1wJylcbiAgICAgICAgLmVxKCdmaWVsZF9jaGFuZ2VkJywgJ2xhc3RfcGhvbmVfY2xpY2snKVxuICAgICAgICAuaW4oJ2NoYW5nZWRfYnknLCBlbXBsb3llZUlkcylcblxuICAgICAgaWYgKGFsbENsaWNrc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBrbGlrbmnEmcSHIHRlbGVmb251OicsIGFsbENsaWNrc0Vycm9yKVxuICAgICAgICB0aHJvdyBhbGxDbGlja3NFcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zdCB0b3RhbFBob25lQ2FsbHMgPSBhbGxQaG9uZUNsaWNrcz8ubGVuZ3RoIHx8IDBcblxuICAgICAgLy8gUG9iaWVyeiBkemlzaWVqc3plIGtsaWtuacSZY2lhIHRlbGVmb251XG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIC8vIFlZWVktTU0tRERcbiAgICAgIGNvbnN0IHsgZGF0YTogdG9kYXlQaG9uZUNsaWNrcywgZXJyb3I6IHRvZGF5Q2xpY2tzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIGNoYW5nZWRfYnksIHRpbWVzdGFtcCcpXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcbiAgICAgICAgLmluKCdjaGFuZ2VkX2J5JywgZW1wbG95ZWVJZHMpXG4gICAgICAgIC5ndGUoJ3RpbWVzdGFtcCcsIGAke3RvZGF5fVQwMDowMDowMGApXG4gICAgICAgIC5sdCgndGltZXN0YW1wJywgYCR7dG9kYXl9VDIzOjU5OjU5YClcblxuICAgICAgaWYgKHRvZGF5Q2xpY2tzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGR6aXNpZWpzenljaCBrbGlrbmnEmcSHIHRlbGVmb251OicsIHRvZGF5Q2xpY2tzRXJyb3IpXG4gICAgICAgIHRocm93IHRvZGF5Q2xpY2tzRXJyb3JcbiAgICAgIH1cblxuICAgICAgY29uc3QgdG90YWxQaG9uZUNhbGxzVG9kYXkgPSB0b2RheVBob25lQ2xpY2tzPy5sZW5ndGggfHwgMFxuXG4gICAgICBjb25zb2xlLmxvZyhg4pyFIFN0YXR5c3R5a2kga2xpa25pxJnEhyB0ZWxlZm9udTogxYLEhWN6bmllICR7dG90YWxQaG9uZUNhbGxzfSwgZHppxZsgJHt0b3RhbFBob25lQ2FsbHNUb2RheX1gKVxuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbFBob25lQ2FsbHMsXG4gICAgICAgIHRvdGFsUGhvbmVDYWxsc1RvZGF5XG4gICAgICB9XG5cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHN0YXR5c3R5ayBrbGlrbmnEmcSHIHRlbGVmb251OicsIGVycm9yKVxuICAgICAgLy8gVyBwcnp5cGFka3UgYsWCxJlkdSB6d3LDs8SHIHplcm93ZSBzdGF0eXN0eWtpXG4gICAgICByZXR1cm4geyB0b3RhbFBob25lQ2FsbHM6IDAsIHRvdGFsUGhvbmVDYWxsc1RvZGF5OiAwIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8gUG9iaWVyeiBkYW5lIHRyZW5kw7N3IHd5ZGFqbm/Fm2NpIHplc3BvxYJ1IHogb3N0YXRuaWNoIDcgZG5pXG4gIGFzeW5jIGdldFRlYW1QZXJmb3JtYW5jZVRyZW5kcyh1c2VyOiBVc2VyKTogUHJvbWlzZTxBcnJheTx7IGRheTogc3RyaW5nLCB0ZWxlZm9ueTogbnVtYmVyLCBrb253ZXJzamE6IG51bWJlciwga2xpZW5jaTogbnVtYmVyIH0+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKCfwn5OKIFBvYmllcmFuaWUgdHJlbmTDs3cgd3lkYWpub8WbY2kgemVzcG/FgnUgeiBvc3RhdG5pY2ggNyBkbmkuLi4nKVxuICAgICAgXG4gICAgICAvLyBQb2JpZXJ6IHdzenlzdGtpY2ggcHJhY293bmlrw7N3XG4gICAgICBjb25zdCB7IGRhdGE6IGVtcGxveWVlcywgZXJyb3I6IGVtcGxveWVlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCdpZCcpXG4gICAgICAgIC5lcSgncm9sZScsICdwcmFjb3duaWsnKVxuXG4gICAgICBpZiAoZW1wbG95ZWVzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIHByYWNvd25pa8OzdzonLCBlbXBsb3llZXNFcnJvcilcbiAgICAgICAgdGhyb3cgZW1wbG95ZWVzRXJyb3JcbiAgICAgIH1cblxuICAgICAgY29uc3QgZW1wbG95ZWVJZHMgPSAoZW1wbG95ZWVzIHx8IFtdKS5tYXAoZW1wID0+IGVtcC5pZClcbiAgICAgIGNvbnNvbGUubG9nKGDwn5GlIFpuYWxlemlvbm8gJHtlbXBsb3llZUlkcy5sZW5ndGh9IHByYWNvd25pa8Ozd2ApXG5cbiAgICAgIGlmIChlbXBsb3llZUlkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gWndyw7PEhyBwdXN0ZSBkYW5lIGRsYSBvc3RhdG5pY2ggNyBkbmlcbiAgICAgICAgY29uc3QgZGF5TmFtZXMgPSBbJ05keicsICdQb24nLCAnV3QnLCAnxZpyJywgJ0N6dycsICdQdCcsICdTb2InXVxuICAgICAgICBjb25zdCByZXN1bHQgPSBbXVxuICAgICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKVxuICAgICAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSAtIGkpXG4gICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgICAgcmVzdWx0LnB1c2goe1xuICAgICAgICAgICAgZGF5OiBkYXlOYW1lLFxuICAgICAgICAgICAgdGVsZWZvbnk6IDAsXG4gICAgICAgICAgICBrb253ZXJzamE6IDAsXG4gICAgICAgICAgICBrbGllbmNpOiAwXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9XG5cbiAgICAgIC8vIFBvYmllcnogZGFuZSB6IG9zdGF0bmljaCA3IGRuaVxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgIHN0YXJ0RGF0ZS5zZXREYXRlKGVuZERhdGUuZ2V0RGF0ZSgpIC0gNikgLy8gNyBkbmkgd3N0ZWN6ICh3xYLEhWN6bmllIHogZHppc2lhailcbiAgICAgIFxuICAgICAgLy8gMS4gUG9iaWVyeiBrbGlrbmnEmWNpYSB0ZWxlZm9udSB6IGFjdGl2aXR5X2xvZ3MgKHR5bGtvIHByYWNvd25pY3kpXG4gICAgICBjb25zdCB7IGRhdGE6IHBob25lQ2xpY2tzLCBlcnJvcjogcGhvbmVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxuICAgICAgICAuc2VsZWN0KCdjaGFuZ2VkX2J5LCB0aW1lc3RhbXAnKVxuICAgICAgICAuZXEoJ2ZpZWxkX2NoYW5nZWQnLCAnbGFzdF9waG9uZV9jbGljaycpXG4gICAgICAgIC5pbignY2hhbmdlZF9ieScsIGVtcGxveWVlSWRzKVxuICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBzdGFydERhdGUudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdKVxuICAgICAgICAubHRlKCd0aW1lc3RhbXAnLCBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSArICdUMjM6NTk6NTknKVxuXG4gICAgICBpZiAocGhvbmVFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpa25pxJnEhyB0ZWxlZm9udTonLCBwaG9uZUVycm9yKVxuICAgICAgICB0aHJvdyBwaG9uZUVycm9yXG4gICAgICB9XG5cbiAgICAgIC8vIDIuIFBvYmllcnogem1pYW55IGtsaWVudMOzdyB6IG9zdGF0bmljaCA3IGRuaSAodHlsa28gcHJ6ZXogcHJhY293bmlrw7N3KVxuICAgICAgY29uc3QgeyBkYXRhOiBjbGllbnRDaGFuZ2VzLCBlcnJvcjogY2hhbmdlc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnY2xpZW50cycpXG4gICAgICAgIC5zZWxlY3QoJ3VwZGF0ZWRfYXQsIHN0YXR1cywgZWRpdGVkX2J5JylcbiAgICAgICAgLmluKCdlZGl0ZWRfYnknLCBlbXBsb3llZUlkcylcbiAgICAgICAgLmd0ZSgndXBkYXRlZF9hdCcsIHN0YXJ0RGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXG4gICAgICAgIC5sdGUoJ3VwZGF0ZWRfYXQnLCBlbmREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSArICdUMjM6NTk6NTknKVxuICAgICAgICAub3JkZXIoJ3VwZGF0ZWRfYXQnLCB7IGFzY2VuZGluZzogdHJ1ZSB9KVxuXG4gICAgICBpZiAoY2hhbmdlc0Vycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB6bWlhbiBrbGllbnTDs3c6JywgY2hhbmdlc0Vycm9yKVxuICAgICAgICB0aHJvdyBjaGFuZ2VzRXJyb3JcbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vICR7cGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwfSBrbGlrbmnEmcSHIHRlbGVmb251IGkgJHtjbGllbnRDaGFuZ2VzPy5sZW5ndGggfHwgMH0gem1pYW4ga2xpZW50w7N3YClcblxuICAgICAgLy8gU3R3w7NyeiBtYXDEmSBkbGEgZG5pIHR5Z29kbmlhXG4gICAgICBjb25zdCBkYXlOYW1lcyA9IFsnTmR6JywgJ1BvbicsICdXdCcsICfFmnInLCAnQ3p3JywgJ1B0JywgJ1NvYiddXG4gICAgICBjb25zdCB0cmVuZHNEYXRhOiBSZWNvcmQ8c3RyaW5nLCB7IHRlbGVmb255OiBudW1iZXIsIGtsaWVuY2k6IG51bWJlciwgc2FsZXM6IG51bWJlciB9PiA9IHt9XG5cbiAgICAgIC8vIEluaWNqYWxpenVqIG9zdGF0bmllIDcgZG5pXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgIHRyZW5kc0RhdGFbZGF5TmFtZV0gPSB7IHRlbGVmb255OiAwLCBrbGllbmNpOiAwLCBzYWxlczogMCB9XG4gICAgICB9XG5cbiAgICAgICAgICAgICAvLyBHcnVwdWoga2xpa25pxJljaWEgdGVsZWZvbnUgd2VkxYJ1ZyBkbmlcbiAgICAgICBpZiAocGhvbmVDbGlja3MgJiYgQXJyYXkuaXNBcnJheShwaG9uZUNsaWNrcykpIHtcbiAgICAgICAgIHBob25lQ2xpY2tzLmZvckVhY2goKGNsaWNrOiBhbnkpID0+IHtcbiAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGNsaWNrLnRpbWVzdGFtcClcbiAgICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgICAgIGlmICh0cmVuZHNEYXRhW2RheU5hbWVdKSB7XG4gICAgICAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXS50ZWxlZm9ueSsrXG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pXG4gICAgICAgfVxuXG4gICAgICAgLy8gR3J1cHVqIHptaWFueSBrbGllbnTDs3cgd2VkxYJ1ZyBkbmlcbiAgICAgICBpZiAoY2xpZW50Q2hhbmdlcyAmJiBBcnJheS5pc0FycmF5KGNsaWVudENoYW5nZXMpKSB7XG4gICAgICAgICBjbGllbnRDaGFuZ2VzLmZvckVhY2goKGNoYW5nZTogYW55KSA9PiB7XG4gICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShjaGFuZ2UudXBkYXRlZF9hdClcbiAgICAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgICAgIGlmICh0cmVuZHNEYXRhW2RheU5hbWVdKSB7XG4gICAgICAgICAgICAgdHJlbmRzRGF0YVtkYXlOYW1lXS5rbGllbmNpKytcbiAgICAgICAgICAgICBpZiAoY2hhbmdlLnN0YXR1cyA9PT0gJ3NhbGUnKSB7XG4gICAgICAgICAgICAgICB0cmVuZHNEYXRhW2RheU5hbWVdLnNhbGVzKytcbiAgICAgICAgICAgICB9XG4gICAgICAgICAgIH1cbiAgICAgICAgIH0pXG4gICAgICAgfVxuXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdSAob3N0YXRuaWUgNyBkbmkgdyBrb2xlam5vxZtjaSlcbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgIGNvbnN0IGRheURhdGEgPSB0cmVuZHNEYXRhW2RheU5hbWVdXG4gICAgICAgIFxuICAgICAgICAvLyBPYmxpY3oga29ud2Vyc2rEmSAocHJvY2VudCBzYWxlcyB3emdsxJlkZW0gd3N6eXN0a2ljaCBrbGllbnTDs3cpXG4gICAgICAgIGNvbnN0IGtvbndlcnNqYSA9IGRheURhdGEua2xpZW5jaSA+IDAgPyBNYXRoLnJvdW5kKChkYXlEYXRhLnNhbGVzIC8gZGF5RGF0YS5rbGllbmNpKSAqIDEwMCkgOiAwXG4gICAgICAgIFxuICAgICAgICByZXN1bHQucHVzaCh7XG4gICAgICAgICAgZGF5OiBkYXlOYW1lLFxuICAgICAgICAgIHRlbGVmb255OiBkYXlEYXRhLnRlbGVmb255LFxuICAgICAgICAgIGtvbndlcnNqYToga29ud2Vyc2phLFxuICAgICAgICAgIGtsaWVuY2k6IGRheURhdGEua2xpZW5jaVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFRyZW5keSB3eWRham5vxZtjaSB6ZXNwb8WCdSBwcnp5Z290b3dhbmU6JywgcmVzdWx0KVxuICAgICAgcmV0dXJuIHJlc3VsdFxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB0cmVuZMOzdyB3eWRham5vxZtjaSB6ZXNwb8WCdTonLCBlcnJvcilcbiAgICAgIC8vIFcgcHJ6eXBhZGt1IGLFgsSZZHUgendyw7PEhyBwdXN0ZSBkYW5lIGRsYSBvc3RhdG5pY2ggNyBkbmlcbiAgICAgIGNvbnN0IGRheU5hbWVzID0gWydOZHonLCAnUG9uJywgJ1d0JywgJ8WacicsICdDencnLCAnUHQnLCAnU29iJ11cbiAgICAgIGNvbnN0IHJlc3VsdCA9IFtdXG4gICAgICBmb3IgKGxldCBpID0gNjsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKClcbiAgICAgICAgZGF0ZS5zZXREYXRlKGRhdGUuZ2V0RGF0ZSgpIC0gaSlcbiAgICAgICAgY29uc3QgZGF5TmFtZSA9IGRheU5hbWVzW2RhdGUuZ2V0RGF5KCldXG4gICAgICAgIHJlc3VsdC5wdXNoKHtcbiAgICAgICAgICBkYXk6IGRheU5hbWUsXG4gICAgICAgICAgdGVsZWZvbnk6IDAsXG4gICAgICAgICAga29ud2Vyc2phOiAwLFxuICAgICAgICAgIGtsaWVuY2k6IDBcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG4gIH0sXG5cbiAgLy8gQVBJIGRsYSBzdGF0eXN0eWsgb3NvYmlzdHljaCBwcmFjb3duaWthXG4gIGFzeW5jIGdldE15UGVyc29uYWxTdGF0cyh1c2VyOiBVc2VyKTogUHJvbWlzZTx7XG4gICAgcGhvbmVDYWxsc1RoaXNNb250aDogbnVtYmVyLFxuICAgIGNsaWVudFN0YXRzOiB7IHN0YXR1czogc3RyaW5nLCBjb3VudDogbnVtYmVyLCBjb2xvcjogc3RyaW5nIH1bXSxcbiAgICB0b3RhbENsaWVudHM6IG51bWJlcixcbiAgICBjb21taXNzaW9uVG90YWw6IG51bWJlcixcbiAgICB3b3JraW5nSG91cnNUaGlzTW9udGg6IHsgZGF5OiBzdHJpbmcsIGhvdXJzOiBudW1iZXIgfVtdLFxuICAgIHRvdGFsV29ya2luZ0hvdXJzOiBudW1iZXIsXG4gICAgdG90YWxXb3JraW5nRGF5czogbnVtYmVyXG4gIH0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/Cfk4ogUG9iaWVyYW5pZSBvc29iaXN0eWNoIHN0YXR5c3R5ayBwcmFjb3duaWthOicsIHVzZXIuaWQsIHVzZXIucm9sZSlcbiAgICAgIFxuICAgICAgLy8gU3ByYXdkxbogY3p5IHXFvHl0a293bmlrIHRvIHByYWNvd25pa1xuICAgICAgaWYgKHVzZXIucm9sZSAhPT0gJ3ByYWNvd25paycpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIE5pZWF1dG9yeXpvd2FuYSByb2xhOicsIHVzZXIucm9sZSlcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdEb3N0xJlwIHR5bGtvIGRsYSBwcmFjb3duaWvDs3cnKVxuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFXFvHl0a293bmlrIGF1dG9yeXpvd2FueSBqYWtvIHByYWNvd25paycpXG5cbiAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKVxuICAgICAgY29uc3QgY3VycmVudE1vbnRoID0gY3VycmVudERhdGUudG9JU09TdHJpbmcoKS5zbGljZSgwLCA3KSAvLyBZWVlZLU1NXG4gICAgICBcbiAgICAgIC8vIFVzdGF3IHBpZXJ3c3p5IGkgb3N0YXRuaSBkemllxYQgbWllc2nEhWNhIHByYXdpZMWCb3dvXG4gICAgICBjb25zdCBzdGFydE9mTW9udGggPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpLCBjdXJyZW50RGF0ZS5nZXRNb250aCgpLCAxKVxuICAgICAgY29uc3QgZW5kT2ZNb250aCA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldEZ1bGxZZWFyKCksIGN1cnJlbnREYXRlLmdldE1vbnRoKCkgKyAxLCAwLCAyMywgNTksIDU5KVxuICAgICAgXG4gICAgICAvLyAxLiBQb2JpZXJ6IGxpY3pixJkgdGVsZWZvbsOzdyB3IHR5bSBtaWVzacSFY3UgKGtsaWtuacSZY2lhIHRlbGVmb251KVxuICAgICAgY29uc3QgeyBkYXRhOiBwaG9uZUNsaWNrcywgZXJyb3I6IHBob25lRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdhY3Rpdml0eV9sb2dzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIHRpbWVzdGFtcCcpXG4gICAgICAgIC5lcSgnY2hhbmdlZF9ieScsIHVzZXIuaWQpXG4gICAgICAgIC5lcSgnZmllbGRfY2hhbmdlZCcsICdsYXN0X3Bob25lX2NsaWNrJylcbiAgICAgICAgLmd0ZSgndGltZXN0YW1wJywgc3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCkpXG4gICAgICAgIC5sdGUoJ3RpbWVzdGFtcCcsIGVuZE9mTW9udGgudG9JU09TdHJpbmcoKSlcblxuICAgICAgaWYgKHBob25lRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGtsaWtuacSZxIcgdGVsZWZvbnU6JywgcGhvbmVFcnJvcilcbiAgICAgICAgdGhyb3cgcGhvbmVFcnJvclxuICAgICAgfVxuXG4gICAgICBjb25zdCBwaG9uZUNhbGxzVGhpc01vbnRoID0gcGhvbmVDbGlja3M/Lmxlbmd0aCB8fCAwXG4gICAgICBjb25zb2xlLmxvZyhg8J+TniBabmFsZXppb25vICR7cGhvbmVDYWxsc1RoaXNNb250aH0ga2xpa25pxJnEhyB0ZWxlZm9udSB3IHR5bSBtaWVzacSFY3VgKVxuXG4gICAgICAvLyAyLiBQb2JpZXJ6IGtsaWVudMOzdyBwcnp5cGlzYW55Y2ggZG8gcHJhY293bmlrYVxuICAgICAgY29uc29sZS5sb2coJ/CfkaUgUG9iaWVyYW5pZSBrbGllbnTDs3cgcHJ6eXBpc2FueWNoIGRvIHByYWNvd25pa2EuLi4nKVxuICAgICAgY29uc3QgeyBkYXRhOiBteUNsaWVudHMsIGVycm9yOiBjbGllbnRzRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdjbGllbnRzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIHN0YXR1cywgZmlyc3RfbmFtZSwgbGFzdF9uYW1lLCBjb21wYW55X25hbWUnKVxuICAgICAgICAuZXEoJ293bmVyX2lkJywgdXNlci5pZClcblxuICAgICAgaWYgKGNsaWVudHNFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEga2xpZW50w7N3OicsIGNsaWVudHNFcnJvcilcbiAgICAgICAgdGhyb3cgY2xpZW50c0Vycm9yXG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGNsaWVudHMgPSBteUNsaWVudHMgfHwgW11cbiAgICAgIGNvbnN0IHRvdGFsQ2xpZW50cyA9IGNsaWVudHMubGVuZ3RoXG4gICAgICBjb25zb2xlLmxvZyhg8J+RpCBQcmFjb3duaWsgbWEgJHt0b3RhbENsaWVudHN9IHByenlwaXNhbnljaCBrbGllbnTDs3dgKVxuXG4gICAgICAvLyAzLiBBZ3JlZ3VqIHN0YXR1c3kga2xpZW50w7N3XG4gICAgICBjb25zb2xlLmxvZygn8J+TiiBBZ3JlZ293YW5pZSBzdGF0dXPDs3cga2xpZW50w7N3Li4uJylcbiAgICAgIGNvbnN0IHN0YXR1c01hcCA9IG5ldyBNYXA8c3RyaW5nLCBudW1iZXI+KClcbiAgICAgIGNsaWVudHMuZm9yRWFjaChjbGllbnQgPT4ge1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBjbGllbnQuc3RhdHVzXG4gICAgICAgIHN0YXR1c01hcC5zZXQoc3RhdHVzLCAoc3RhdHVzTWFwLmdldChzdGF0dXMpIHx8IDApICsgMSlcbiAgICAgIH0pXG4gICAgICBjb25zb2xlLmxvZygn8J+TiCBTdGF0dXN5IGtsaWVudMOzdzonLCBPYmplY3QuZnJvbUVudHJpZXMoc3RhdHVzTWFwKSlcblxuICAgICAgLy8gTWFwdWogc3RhdHVzeSBuYSBrb2xvcnlcbiAgICAgIGNvbnN0IHN0YXR1c0NvbG9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICAgICAgY2FudmFzOiAnIzA2YjZkNCcsXG4gICAgICAgIHNhbGU6ICcjMTBiOTgxJyxcbiAgICAgICAgYW50eXNhbGU6ICcjZjU5ZTBiJyxcbiAgICAgICAgYnJha19rb250YWt0dTogJyM2YjcyODAnLFxuICAgICAgICBuaWVfemFpbnRlcmVzb3dhbnk6ICcjZWY0NDQ0JyxcbiAgICAgICAgemRlbmVyd293YW55OiAnI2RjMjYyNicsXG4gICAgICAgICckJCc6ICcjZmJiZjI0J1xuICAgICAgfVxuXG4gICAgICBjb25zdCBjbGllbnRTdGF0cyA9IEFycmF5LmZyb20oc3RhdHVzTWFwLmVudHJpZXMoKSkubWFwKChbc3RhdHVzLCBjb3VudF0pID0+ICh7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgY291bnQsXG4gICAgICAgIGNvbG9yOiBzdGF0dXNDb2xvcnNbc3RhdHVzXSB8fCAnIzY0NzQ4YidcbiAgICAgIH0pKVxuXG4gICAgICAvLyA0LiBPYmxpY3ogcHJvd2l6asSZICh0eWxrbyB6YSBrbGllbnTDs3cgemUgc3RhdHVzZW0gJ3NhbGUnKVxuICAgICAgY29uc3Qgc2FsZUNsaWVudHMgPSBzdGF0dXNNYXAuZ2V0KCdzYWxlJykgfHwgMFxuICAgICAgY29uc3QgY29tbWlzc2lvblBlclNhbGUgPSAyMDAgLy8gMjAwIHrFgiB6YSBrYcW8ZGVnbyBrbGllbnRhIHNhbGVcbiAgICAgIGNvbnN0IGNvbW1pc3Npb25Ub3RhbCA9IHNhbGVDbGllbnRzICogY29tbWlzc2lvblBlclNhbGVcblxuICAgICAgLy8gNS4gUG9iaWVyeiBnb2R6aW55IHByYWN5IHogdGVnbyBtaWVzacSFY2EgbmEgcG9kc3Rhd2llIGFjdGl2aXR5X2xvZ3NcbiAgICAgIGNvbnNvbGUubG9nKCfij7AgUG9iaWVyYW5pZSBha3R5d25vxZtjaSB6IHRlZ28gbWllc2nEhWNhLi4uJylcbiAgICAgIGNvbnNvbGUubG9nKGDwn5OFIFpha3JlcyBkYXQ6ICR7c3RhcnRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9IC0gJHtlbmRPZk1vbnRoLnRvSVNPU3RyaW5nKCl9YClcbiAgICAgIGNvbnN0IHsgZGF0YTogYWN0aXZpdGllcywgZXJyb3I6IGFjdGl2aXRpZXNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3MnKVxuICAgICAgICAuc2VsZWN0KCd0aW1lc3RhbXAnKVxuICAgICAgICAuZXEoJ2NoYW5nZWRfYnknLCB1c2VyLmlkKVxuICAgICAgICAuZ3RlKCd0aW1lc3RhbXAnLCBzdGFydE9mTW9udGgudG9JU09TdHJpbmcoKSlcbiAgICAgICAgLmx0ZSgndGltZXN0YW1wJywgZW5kT2ZNb250aC50b0lTT1N0cmluZygpKVxuICAgICAgICAub3JkZXIoJ3RpbWVzdGFtcCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pXG5cbiAgICAgIGlmIChhY3Rpdml0aWVzRXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIGFrdHl3bm/Fm2NpOicsIGFjdGl2aXRpZXNFcnJvcilcbiAgICAgICAgdGhyb3cgYWN0aXZpdGllc0Vycm9yXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGDij7AgWm5hbGV6aW9ubyAke2FjdGl2aXRpZXM/Lmxlbmd0aCB8fCAwfSBha3R5d25vxZtjaSB3IHR5bSBtaWVzacSFY3VgKVxuXG4gICAgICAvLyBHcnVwdWogYWt0eXdub8WbY2kgd2VkxYJ1ZyBkbmkgaSBvYmxpY3ogZ29kemlueSBwcmFjeVxuICAgICAgY29uc29sZS5sb2coJ/Cfk4UgR3J1cG93YW5pZSBha3R5d25vxZtjaSB3ZWTFgnVnIGRuaS4uLicpXG4gICAgICBjb25zdCBkYWlseUFjdGl2aXRpZXMgPSBuZXcgTWFwPHN0cmluZywgU2V0PG51bWJlcj4+KClcbiAgICAgIFxuICAgICAgaWYgKGFjdGl2aXRpZXMgJiYgYWN0aXZpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIGFjdGl2aXRpZXMuZm9yRWFjaChhY3Rpdml0eSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGFjdGl2aXR5LnRpbWVzdGFtcClcbiAgICAgICAgICBjb25zdCBkYXkgPSBkYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSAvLyBZWVlZLU1NLUREXG4gICAgICAgICAgY29uc3QgaG91ciA9IGRhdGUuZ2V0SG91cnMoKVxuICAgICAgICAgIFxuICAgICAgICAgIGlmICghZGFpbHlBY3Rpdml0aWVzLmhhcyhkYXkpKSB7XG4gICAgICAgICAgICBkYWlseUFjdGl2aXRpZXMuc2V0KGRheSwgbmV3IFNldCgpKVxuICAgICAgICAgIH1cbiAgICAgICAgICBkYWlseUFjdGl2aXRpZXMuZ2V0KGRheSkhLmFkZChob3VyKVxuICAgICAgICB9KVxuICAgICAgfVxuXG4gICAgICAvLyBQcnpla3N6dGHFgsSHIG5hIGZvcm1hdCBkbGEgd3lrcmVzdVxuICAgICAgY29uc3Qgd29ya2luZ0hvdXJzVGhpc01vbnRoID0gQXJyYXkuZnJvbShkYWlseUFjdGl2aXRpZXMuZW50cmllcygpKVxuICAgICAgICAubWFwKChbZGF5LCBob3Vyc10pID0+ICh7XG4gICAgICAgICAgZGF5OiBuZXcgRGF0ZShkYXkpLnRvTG9jYWxlRGF0ZVN0cmluZygncGwtUEwnLCB7IHdlZWtkYXk6ICdzaG9ydCcsIGRheTogJ251bWVyaWMnIH0pLFxuICAgICAgICAgIGhvdXJzOiBob3Vycy5zaXplLFxuICAgICAgICAgIHNvcnREYXRlOiBuZXcgRGF0ZShkYXkpIC8vIERvZGFqIHBvbGUgZG8gc29ydG93YW5pYVxuICAgICAgICB9KSlcbiAgICAgICAgLnNvcnQoKGEsIGIpID0+IGEuc29ydERhdGUuZ2V0VGltZSgpIC0gYi5zb3J0RGF0ZS5nZXRUaW1lKCkpXG4gICAgICAgIC5tYXAoKHsgZGF5LCBob3VycyB9KSA9PiAoeyBkYXksIGhvdXJzIH0pKSAvLyBVc3XFhCBwb2xlIHNvcnREYXRlIHogd3luaWtvd3ljaCBkYW55Y2hcblxuICAgICAgY29uc3QgdG90YWxXb3JraW5nSG91cnMgPSBBcnJheS5mcm9tKGRhaWx5QWN0aXZpdGllcy52YWx1ZXMoKSlcbiAgICAgICAgLnJlZHVjZSgoc3VtLCBob3VycykgPT4gc3VtICsgaG91cnMuc2l6ZSwgMClcbiAgICAgIFxuICAgICAgY29uc3QgdG90YWxXb3JraW5nRGF5cyA9IGRhaWx5QWN0aXZpdGllcy5zaXplXG5cbiAgICAgIGNvbnNvbGUubG9nKCfinIUgU3RhdHlzdHlraSBvc29iaXN0ZSBwcnp5Z290b3dhbmU6Jywge1xuICAgICAgICBwaG9uZUNhbGxzVGhpc01vbnRoLFxuICAgICAgICB0b3RhbENsaWVudHMsXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcbiAgICAgICAgdG90YWxXb3JraW5nSG91cnMsXG4gICAgICAgIHRvdGFsV29ya2luZ0RheXNcbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHBob25lQ2FsbHNUaGlzTW9udGgsXG4gICAgICAgIGNsaWVudFN0YXRzLFxuICAgICAgICB0b3RhbENsaWVudHMsXG4gICAgICAgIGNvbW1pc3Npb25Ub3RhbCxcbiAgICAgICAgd29ya2luZ0hvdXJzVGhpc01vbnRoLFxuICAgICAgICB0b3RhbFdvcmtpbmdIb3VycyxcbiAgICAgICAgdG90YWxXb3JraW5nRGF5c1xuICAgICAgfVxuXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSBvc29iaXN0eWNoIHN0YXR5c3R5azonLCBlcnJvcilcbiAgICAgIFxuICAgICAgLy8gU3pjemVnw7PFgm93ZSBpbmZvcm1hY2plIG8gYsWCxJlkemllXG4gICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0Jykge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfwn5OLIFN6Y3plZ8OzxYJ5IGLFgsSZZHU6Jywge1xuICAgICAgICAgIG1lc3NhZ2U6IChlcnJvciBhcyBhbnkpLm1lc3NhZ2UsXG4gICAgICAgICAgY29kZTogKGVycm9yIGFzIGFueSkuY29kZSxcbiAgICAgICAgICBkZXRhaWxzOiAoZXJyb3IgYXMgYW55KS5kZXRhaWxzLFxuICAgICAgICAgIGhpbnQ6IChlcnJvciBhcyBhbnkpLmhpbnQsXG4gICAgICAgICAgc3RhY2s6IChlcnJvciBhcyBhbnkpLnN0YWNrXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEplxZtsaSB0byBixYLEhWQgUkxTIGx1YiB1cHJhd25pZcWELCB6d3LDs8SHIHB1c3TEhSBzdHJ1a3R1csSZIHphbWlhc3QgY3Jhc2hvd2HEh1xuICAgICAgaWYgKGVycm9yICYmIHR5cGVvZiBlcnJvciA9PT0gJ29iamVjdCcgJiYgXG4gICAgICAgICAgKChlcnJvciBhcyBhbnkpLmNvZGUgPT09ICdQR1JTVDExNicgfHwgXG4gICAgICAgICAgIChlcnJvciBhcyBhbnkpLm1lc3NhZ2U/LmluY2x1ZGVzKCdSTFMnKSB8fCBcbiAgICAgICAgICAgKGVycm9yIGFzIGFueSkubWVzc2FnZT8uaW5jbHVkZXMoJ3Blcm1pc3Npb24nKSkpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCfwn5SSIFByb2JsZW0geiB1cHJhd25pZW5pYW1pIC0gendyYWNhbSBkb215xZtsbmUgZGFuZScpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgcGhvbmVDYWxsc1RoaXNNb250aDogMCxcbiAgICAgICAgICBjbGllbnRTdGF0czogW10sXG4gICAgICAgICAgdG90YWxDbGllbnRzOiAwLFxuICAgICAgICAgIGNvbW1pc3Npb25Ub3RhbDogMCxcbiAgICAgICAgICB3b3JraW5nSG91cnNUaGlzTW9udGg6IFtdLFxuICAgICAgICAgIHRvdGFsV29ya2luZ0hvdXJzOiAwLFxuICAgICAgICAgIHRvdGFsV29ya2luZ0RheXM6IDBcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfSxcblxuICAvLyBGdW5rY2plIGRvIHphcnrEhWR6YW5pYSBnb2R6aW5hbWkgcHJhY3kgcHJhY293bmlrYVxuICBhc3luYyBzYXZlV29ya2luZ0hvdXJzKHVzZXI6IFVzZXIsIGRhdGU6IHN0cmluZywgaG91cnM6IG51bWJlcik6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZyhg4o+wIFphcGlzeXdhbmllIGdvZHppbiBwcmFjeTogJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX1gKVxuICAgICAgXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgdG8gcHJhY293bmlrXG4gICAgICBpZiAodXNlci5yb2xlICE9PSAncHJhY293bmlrJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXG4gICAgICB9XG5cbiAgICAgIC8vIFNwcmF3ZMW6IGN6eSB0byBkemllxYQgcm9ib2N6eSAocG9uLXB0KVxuICAgICAgY29uc3QgZGF5T2ZXZWVrID0gbmV3IERhdGUoZGF0ZSkuZ2V0RGF5KClcbiAgICAgIGlmIChkYXlPZldlZWsgPT09IDAgfHwgZGF5T2ZXZWVrID09PSA2KSB7IC8vIDAgPSBuaWVkemllbGEsIDYgPSBzb2JvdGFcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdNb8W8bmEgd3Bpc3l3YcSHIGdvZHppbnkgdHlsa28gZGxhIGRuaSByb2JvY3p5Y2ggKHBvbi1wdCknKVxuICAgICAgfVxuXG4gICAgICAvLyBXYWxpZGFjamEgZ29kemluICgwLTEyKVxuICAgICAgaWYgKGhvdXJzIDwgMCB8fCBob3VycyA+IDEyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTGljemJhIGdvZHppbiBtdXNpIGJ5xIcgbWnEmWR6eSAwIGEgMTInKVxuICAgICAgfVxuXG4gICAgICAvLyBVcHNlcnQgZ29kemluIHByYWN5IHcgYmF6aWUgZGFueWNoICh0YWJlbGEganXFvCBpc3RuaWVqZSlcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd3b3JraW5nX2hvdXJzJylcbiAgICAgICAgLnVwc2VydCh7XG4gICAgICAgICAgdXNlcl9pZDogdXNlci5pZCxcbiAgICAgICAgICB3b3JrX2RhdGU6IGRhdGUsXG4gICAgICAgICAgaG91cnNfd29ya2VkOiBob3VycyxcbiAgICAgICAgICB1cGRhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSwge1xuICAgICAgICAgIG9uQ29uZmxpY3Q6ICd1c2VyX2lkLHdvcmtfZGF0ZSdcbiAgICAgICAgfSlcblxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgemFwaXN5d2FuaWEgZ29kemluIHByYWN5IGRvIGJhenk6JywgZXJyb3IpXG4gICAgICAgIFxuICAgICAgICAvLyBGYWxsYmFjayBkbyBsb2NhbFN0b3JhZ2UgdHlsa28gcHJ6eSBixYLEmWR6aWUgYmF6eSBkYW55Y2hcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIGJhenkgZGFueWNoIC0gdcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBmYWxsYmFjaycpXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxuICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXG4gICAgICAgIGV4aXN0aW5nRGF0YVtkYXRlXSA9IGhvdXJzXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nRGF0YSkpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFwaXNhbm8gJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX0gKGxvY2FsU3RvcmFnZSBmYWxsYmFjaylgKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cblxuICAgICAgY29uc29sZS5sb2coYOKchSBaYXBpc2FubyAke2hvdXJzfWggZGxhIGRuaWEgJHtkYXRlfSAoYmF6YSBkYW55Y2ggd29ya2luZ19ob3VycylgKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHcgc2F2ZVdvcmtpbmdIb3VyczonLCBlcnJvcilcbiAgICAgIFxuICAgICAgLy8gVWx0aW1hdGUgZmFsbGJhY2sgLSBsb2NhbFN0b3JhZ2VcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnNvbGUud2Fybign4pqg77iPIFXFvHl3YW0gbG9jYWxTdG9yYWdlIGpha28gb3N0YXRlY3pueSBmYWxsYmFjaycpXG4gICAgICAgIGNvbnN0IHN0b3JhZ2VLZXkgPSBgd29ya2luZ19ob3Vyc18ke3VzZXIuaWR9YFxuICAgICAgICBjb25zdCBleGlzdGluZ0RhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXG4gICAgICAgIGV4aXN0aW5nRGF0YVtkYXRlXSA9IGhvdXJzXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JhZ2VLZXksIEpTT04uc3RyaW5naWZ5KGV4aXN0aW5nRGF0YSkpXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFwaXNhbm8gJHtob3Vyc31oIGRsYSBkbmlhICR7ZGF0ZX0gKGxvY2FsU3RvcmFnZSB1bHRpbWF0ZSBmYWxsYmFjaylgKVxuICAgICAgfSBjYXRjaCAoc3RvcmFnZUVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgdWRhxYJvIHNpxJkgemFwaXNhxIcgbmF3ZXQgZG8gbG9jYWxTdG9yYWdlOicsIHN0b3JhZ2VFcnJvcilcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgYXN5bmMgZ2V0V29ya2luZ0hvdXJzRm9yTW9udGgodXNlcjogVXNlciwgeWVhcjogbnVtYmVyLCBtb250aDogbnVtYmVyKTogUHJvbWlzZTxSZWNvcmQ8c3RyaW5nLCBudW1iZXI+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKGDij7AgUG9iaWVyYW5pZSBnb2R6aW4gcHJhY3kgZGxhICR7eWVhcn0tJHttb250aH1gKVxuICAgICAgXG4gICAgICAvLyBTcHJhd2TFuiBjenkgdcW8eXRrb3duaWsgdG8gcHJhY293bmlrXG4gICAgICBpZiAodXNlci5yb2xlICE9PSAncHJhY293bmlrJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Rvc3TEmXAgdHlsa28gZGxhIHByYWNvd25pa8OzdycpXG4gICAgICB9XG5cbiAgICAgIC8vIE9ibGljeiBwaWVyd3N6eSBpIG9zdGF0bmkgZHppZcWEIG1pZXNpxIVjYVxuICAgICAgY29uc3Qgc3RhcnREYXRlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCAxKVxuICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKVxuXG4gICAgICAvLyBQb2JpZXJ6IGdvZHppbnkgcHJhY3kgeiB0YWJlbGkgd29ya2luZ19ob3VycyAodGFiZWxhIGp1xbwgaXN0bmllamUpXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnd29ya2luZ19ob3VycycpXG4gICAgICAgIC5zZWxlY3QoJ3dvcmtfZGF0ZSwgaG91cnNfd29ya2VkJylcbiAgICAgICAgLmVxKCd1c2VyX2lkJywgdXNlci5pZClcbiAgICAgICAgLmd0ZSgnd29ya19kYXRlJywgc3RhcnREYXRlLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSlcbiAgICAgICAgLmx0ZSgnd29ya19kYXRlJywgZW5kRGF0ZS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0pXG5cbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgZ29kemluIHByYWN5IHogYmF6eTonLCBlcnJvcilcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gQsWCxIVkIGJhenkgZGFueWNoIC0gdcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBmYWxsYmFjaycpXG4gICAgICAgIFxuICAgICAgICAvLyBGYWxsYmFjayBkbyBsb2NhbFN0b3JhZ2UgdHlsa28gcHJ6eSBixYLEmWR6aWUgYmF6eSBkYW55Y2hcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXG4gICAgICAgIFxuICAgICAgICAvLyBGaWx0cnVqIGRhbmUgZGxhIG9kcG93aWVkbmllZ28gbWllc2nEhWNhXG4gICAgICAgIGNvbnN0IGhvdXJzTWFwOiBSZWNvcmQ8c3RyaW5nLCBudW1iZXI+ID0ge31cbiAgICAgICAgT2JqZWN0LmVudHJpZXMoc3RvcmVkRGF0YSkuZm9yRWFjaCgoW2RhdGUsIGhvdXJzXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGVPYmogPSBuZXcgRGF0ZShkYXRlKVxuICAgICAgICAgIGlmIChkYXRlT2JqID49IHN0YXJ0RGF0ZSAmJiBkYXRlT2JqIDw9IGVuZERhdGUpIHtcbiAgICAgICAgICAgIGhvdXJzTWFwW2RhdGVdID0gaG91cnMgYXMgbnVtYmVyXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYOKchSBQb2JyYW5vIGdvZHppbnkgcHJhY3kgeiBsb2NhbFN0b3JhZ2UgZmFsbGJhY2sgZGxhICR7T2JqZWN0LmtleXMoaG91cnNNYXApLmxlbmd0aH0gZG5pYClcbiAgICAgICAgcmV0dXJuIGhvdXJzTWFwXG4gICAgICB9XG5cbiAgICAgIC8vIEtvbndlcnR1aiBuYSBvYmlla3QgZGF0ZSAtPiBob3Vyc1xuICAgICAgY29uc3QgaG91cnNNYXA6IFJlY29yZDxzdHJpbmcsIG51bWJlcj4gPSB7fVxuICAgICAgaWYgKGRhdGEpIHtcbiAgICAgICAgZGF0YS5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgICAgICBob3Vyc01hcFtlbnRyeS53b3JrX2RhdGVdID0gZW50cnkuaG91cnNfd29ya2VkXG4gICAgICAgIH0pXG4gICAgICB9XG5cbiAgICAgIGNvbnNvbGUubG9nKGDinIUgUG9icmFubyBnb2R6aW55IHByYWN5IHogdGFiZWxpIHdvcmtpbmdfaG91cnMgZGxhICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IGRuaWApXG4gICAgICByZXR1cm4gaG91cnNNYXBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCB3IGdldFdvcmtpbmdIb3Vyc0Zvck1vbnRoOicsIGVycm9yKVxuICAgICAgXG4gICAgICAvLyBVbHRpbWF0ZSBmYWxsYmFjayAtIGxvY2FsU3RvcmFnZVxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc29sZS53YXJuKCfimqDvuI8gVcW8eXdhbSBsb2NhbFN0b3JhZ2UgamFrbyBvc3RhdGVjem55IGZhbGxiYWNrJylcbiAgICAgICAgY29uc3Qgc3RvcmFnZUtleSA9IGB3b3JraW5nX2hvdXJzXyR7dXNlci5pZH1gXG4gICAgICAgIGNvbnN0IHN0b3JlZERhdGEgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JhZ2VLZXkpIHx8ICd7fScpXG4gICAgICAgIFxuICAgICAgICAvLyBGaWx0cnVqIGRhbmUgZGxhIG9kcG93aWVkbmllZ28gbWllc2nEhWNhXG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgMSlcbiAgICAgICAgY29uc3QgZW5kRGF0ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAwKVxuICAgICAgICBjb25zdCBob3Vyc01hcDogUmVjb3JkPHN0cmluZywgbnVtYmVyPiA9IHt9XG4gICAgICAgIFxuICAgICAgICBPYmplY3QuZW50cmllcyhzdG9yZWREYXRhKS5mb3JFYWNoKChbZGF0ZSwgaG91cnNdKSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0ZU9iaiA9IG5ldyBEYXRlKGRhdGUpXG4gICAgICAgICAgaWYgKGRhdGVPYmogPj0gc3RhcnREYXRlICYmIGRhdGVPYmogPD0gZW5kRGF0ZSkge1xuICAgICAgICAgICAgaG91cnNNYXBbZGF0ZV0gPSBob3VycyBhcyBudW1iZXJcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhg4pyFIFBvYnJhbm8gZ29kemlueSBwcmFjeSB6IGxvY2FsU3RvcmFnZSB1bHRpbWF0ZSBmYWxsYmFjayBkbGEgJHtPYmplY3Qua2V5cyhob3Vyc01hcCkubGVuZ3RofSBkbmlgKVxuICAgICAgICByZXR1cm4gaG91cnNNYXBcbiAgICAgIH0gY2F0Y2ggKHN0b3JhZ2VFcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgTmllIHVkYcWCbyBzacSZIHBvYnJhxIcgbmF3ZXQgeiBsb2NhbFN0b3JhZ2U6Jywgc3RvcmFnZUVycm9yKVxuICAgICAgICByZXR1cm4ge31cbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgLy8g8J+agCBOT1dFIEZVTktDSkUgUEVSRk9STUFOQ0UgLSBNYXRlcmlhbGl6b3dhbmUgV2lkb2tpXG5cbiAgLy8gWmFzdMSZcHVqZSBjacSZxbxraWUgSk9JTid5IC0gdGVyYXogbmF0eWNobWlhc3Rvd2UgxYJhZG93YW5pZVxuICBhc3luYyBnZXRNb250aGx5RW1wbG95ZWVQZXJmb3JtYW5jZSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coYPCfk4ogUG9iaWVyYW5pZSB3eWRham5vxZtjaSBwcmFjb3duaWvDs3cgZGxhICR7eWVhcn0tJHttb250aH0gKHpvcHR5bWFsaXpvd2FuZSkuLi5gKVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9tb250aGx5X2VtcGxveWVlX3BlcmZvcm1hbmNlJywge1xuICAgICAgICB0YXJnZXRfeWVhcjogeWVhcixcbiAgICAgICAgdGFyZ2V0X21vbnRoOiBtb250aFxuICAgICAgfSlcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBCxYLEhWQgcG9iaWVyYW5pYSB3eWRham5vxZtjaSBwcmFjb3duaWvDs3c6JywgZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgV3lkYWpub8WbxIcgcHJhY293bmlrw7N3IHBvYnJhbmE6ICR7ZGF0YT8ubGVuZ3RoIHx8IDB9IHJla29yZMOzd2ApXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0TW9udGhseUVtcGxveWVlUGVyZm9ybWFuY2UgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3p5YmtpZSBzdGF0eXN0eWtpIHplc3BvxYJ1IG5hIHBvZHN0YXdpZSBtYXRlcmlhbGl6b3dhbnljaCB3aWRva8Ozd1xuICBhc3luYyBnZXRUZWFtU3VtbWFyeSh5ZWFyOiBudW1iZXIsIG1vbnRoOiBudW1iZXIpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ212X21vbnRobHlfZW1wbG95ZWVfc3RhdHMnKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmVxKCd5ZWFyJywgeWVhcilcbiAgICAgICAgLmVxKCdtb250aCcsIG1vbnRoKVxuICAgICAgICAub3JkZXIoJ293bmVkX3NhbGVzJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICBcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRlYW1TdW1tYXJ5IGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9LFxuXG4gIC8vIFBlcmZvcm1hbmNlIGFuYWx5dGljcyAtIHRvcCBwZXJmb3JtZXJzXG4gIGFzeW5jIGdldFRvcFBlcmZvcm1lcnMobGltaXQ6IG51bWJlciA9IDEwKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygnZ2V0X3RvcF9wZXJmb3JtZXJzJywge1xuICAgICAgICBsaW1pdF9jb3VudDogbGltaXRcbiAgICAgIH0pXG4gICAgICBcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRvcFBlcmZvcm1lcnMgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH1cbn1cblxuLy8gRnVua2NqZSBhdXRvcnl6YWNqaVxuZXhwb3J0IGNvbnN0IGF1dGhBcGkgPSB7XG4gIC8vIFphbG9ndWogdcW8eXRrb3duaWthXG4gIGFzeW5jIHNpZ25JbihlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgICAgZW1haWwsXG4gICAgICBwYXNzd29yZFxuICAgIH0pXG4gICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgIHJldHVybiBkYXRhXG4gIH0sXG5cbiAgLy8gWmFyZWplc3RydWogbm93ZWdvIHXFvHl0a293bmlrYVxuICBhc3luYyBzaWduVXAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZywgZnVsbE5hbWU6IHN0cmluZykge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgIGVtYWlsLFxuICAgICAgcGFzc3dvcmQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBmdWxsX25hbWU6IGZ1bGxOYW1lXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YVxuICB9LFxuXG4gIC8vIFd5bG9ndWogdcW8eXRrb3duaWthXG4gIGFzeW5jIHNpZ25PdXQoKSB7XG4gICAgY29uc3QgeyBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduT3V0KClcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gIH0sXG5cbiAgLy8gUG9iaWVyeiBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxuICBhc3luYyBnZXRDdXJyZW50VXNlcigpIHtcbiAgICBjb25zdCB7IGRhdGE6IHsgdXNlciB9IH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFVzZXIoKVxuICAgIHJldHVybiB1c2VyXG4gIH0sXG5cbiAgLy8gUG9iaWVyeiBwcm9maWwgdcW8eXRrb3duaWthIHogcm9sxIVcbiAgYXN5bmMgZ2V0VXNlclByb2ZpbGUodXNlcklkOiBzdHJpbmcpIHtcbiAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgIC5zZWxlY3QoJyonKVxuICAgICAgLmVxKCdpZCcsIHVzZXJJZClcbiAgICAgIC5zaW5nbGUoKVxuICAgIFxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4gZGF0YSBhcyBVc2VyXG4gIH0sXG5cbiAgLy8gUG9iaWVyeiB3c3p5c3RraWNoIHXFvHl0a293bmlrw7N3IChkbGEgb3BjamkgZmlsdHJvd2FuaWEpXG4gIGFzeW5jIGdldEFsbFVzZXJzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2VycyBTVEFSVCAtIHNwcmF3ZHphbSBSTFMuLi4nKVxuICAgICAgXG4gICAgICAvLyBTcHJhd2TFuiBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEFrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmVtYWlsLCB1c2VyPy5pZClcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ3VzZXJzJylcbiAgICAgICAgLnNlbGVjdCgnaWQsIGZ1bGxfbmFtZSwgZW1haWwsIHJvbGUsIGF2YXRhcl91cmwnKVxuICAgICAgICAub3JkZXIoJ2Z1bGxfbmFtZScpXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzIC0gem5hbGV6aW9ubyB1xbx5dGtvd25pa8OzdzonLCBkYXRhPy5sZW5ndGggfHwgMClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GlIGdldEFsbFVzZXJzIC0gYsWCxIVkOicsIGVycm9yKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFJMUyBFcnJvciBpbiBnZXRBbGxVc2VyczonLCBlcnJvcilcbiAgICAgICAgXG4gICAgICAgIC8vIFNwcmF3ZMW6IGN6eSB0byBwcm9ibGVtIHogUkxTXG4gICAgICAgIGlmIChlcnJvci5jb2RlID09PSAnUEdSU1QxMTYnIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdSTFMnKSB8fCBlcnJvci5tZXNzYWdlPy5pbmNsdWRlcygncGVybWlzc2lvbicpKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcign8J+UkiBQcm9ibGVtIHogUm93IExldmVsIFNlY3VyaXR5IC0gcHJhY293bmlrIG5pZSBtb8W8ZSB3aWR6aWXEhyBpbm55Y2ggdcW8eXRrb3duaWvDs3cnKVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aHJvdyBlcnJvclxuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoZGF0YSAmJiBkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgUHJ6eWvFgmFkIHXFvHl0a293bmlrw7N3OicsIGRhdGEuc2xpY2UoMCwgMykubWFwKHUgPT4gKHtcbiAgICAgICAgICBpZDogdS5pZCxcbiAgICAgICAgICBuYW1lOiB1LmZ1bGxfbmFtZSxcbiAgICAgICAgICByb2xlOiB1LnJvbGVcbiAgICAgICAgfSkpKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgVVdBR0E6IEJyYWsgZGFueWNoIHXFvHl0a293bmlrw7N3IC0gbW/FvGUgUkxTIGJsb2t1amUgZG9zdMSZcCcpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBkYXRhIGFzIFVzZXJbXVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWxsVXNlcnMgRkFJTEVEOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3ByYXdkxbogc2VzasSZIHXFvHl0a293bmlrYVxuICBhc3luYyBnZXRTZXNzaW9uKCkge1xuICAgIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0U2Vzc2lvbigpXG4gICAgcmV0dXJuIHNlc3Npb25cbiAgfSxcblxuICAvLyBOYXPFgnVjaHVqIHptaWFuIHcgYXV0b3J5emFjamlcbiAgb25BdXRoU3RhdGVDaGFuZ2UoY2FsbGJhY2s6IChldmVudDogc3RyaW5nLCBzZXNzaW9uOiBhbnkpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShjYWxsYmFjaylcbiAgfSxcblxuICAvLyBaYWt0dWFsaXp1aiBqxJl6eWsgdcW8eXRrb3duaWthXG4gIGFzeW5jIHVwZGF0ZVVzZXJMYW5ndWFnZSh1c2VySWQ6IHN0cmluZywgbGFuZ3VhZ2U6ICdwbCcgfCAnZW4nIHwgJ3NrJykge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgLnVwZGF0ZSh7IGxhbmd1YWdlIH0pXG4gICAgICAuZXEoJ2lkJywgdXNlcklkKVxuICAgICAgLnNlbGVjdCgpXG4gICAgICAuc2luZ2xlKClcbiAgICBcbiAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgcmV0dXJuIGRhdGEgYXMgVXNlclxuICB9LFxuXG4gIC8vIEJlenBpZWN6bmUgcG9iaWVyYW5pZSB1xbx5dGtvd25pa8OzdyBkbyB3ecWbd2lldGxhbmlhIChvZHBvcm5lIG5hIFJMUylcbiAgYXN5bmMgZ2V0QWxsVXNlcnNGb3JEaXNwbGF5KCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkgU1RBUlQgLSBiZXpwaWVjem5lIHBvYmllcmFuaWUuLi4nKVxuICAgICAgXG4gICAgICAvLyBTcHJhd2TFuiBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxuICAgICAgY29uc3QgeyBkYXRhOiB7IHVzZXIgfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcbiAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEFrdHVhbG55IHXFvHl0a293bmlrOicsIHVzZXI/LmVtYWlsLCB1c2VyPy5pZClcbiAgICAgIFxuICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfinYwgQnJhayB6YWxvZ293YW5lZ28gdcW8eXRrb3duaWthJylcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCd1c2VycycpXG4gICAgICAgIC5zZWxlY3QoJ2lkLCBmdWxsX25hbWUsIGVtYWlsLCByb2xlLCBhdmF0YXJfdXJsJylcbiAgICAgICAgLm9yZGVyKCdmdWxsX25hbWUnKVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn8J+RpSBnZXRBbGxVc2Vyc0ZvckRpc3BsYXkgLSB6bmFsZXppb25vIHXFvHl0a293bmlrw7N3OicsIGRhdGE/Lmxlbmd0aCB8fCAwKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIFJMUyBFcnJvciBpbiBnZXRBbGxVc2Vyc0ZvckRpc3BsYXk6JywgZXJyb3IpXG4gICAgICAgIFxuICAgICAgICAvLyBKZcWbbGkgdG8gcHJvYmxlbSB6IFJMUywgendyw7PEhyBwcnp5bmFqbW5pZWogYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09ICdQR1JTVDExNicgfHwgZXJyb3IubWVzc2FnZT8uaW5jbHVkZXMoJ1JMUycpIHx8IGVycm9yLm1lc3NhZ2U/LmluY2x1ZGVzKCdwZXJtaXNzaW9uJykpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfwn5SSIFJMUyBibG9rdWplIGRvc3TEmXAgLSB6d3JhY2FtIHR5bGtvIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthJylcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQb2JpZXJ6IHByb2ZpbCBha3R1YWxuZWdvIHXFvHl0a293bmlrYVxuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB1c2VyUHJvZmlsZSA9IGF3YWl0IHRoaXMuZ2V0VXNlclByb2ZpbGUodXNlci5pZClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEZhbGxiYWNrOiB1xbx5d2FtIHByb2ZpbHUgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUuZnVsbF9uYW1lKVxuICAgICAgICAgICAgcmV0dXJuIFt1c2VyUHJvZmlsZV1cbiAgICAgICAgICB9IGNhdGNoIChwcm9maWxlRXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgcHJvZmlsdSB1xbx5dGtvd25pa2E6JywgcHJvZmlsZUVycm9yKVxuICAgICAgICAgICAgcmV0dXJuIFtdXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBJbm55IGLFgsSFZCAtIHp3csOzxIcgcHVzdMSFIHRhYmxpY8SZXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBJbm55IGLFgsSFZCAtIHp3cmFjYW0gcHVzdMSFIHRhYmxpY8SZJylcbiAgICAgICAgcmV0dXJuIFtdXG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICBjb25zb2xlLmxvZygn8J+RpSBVZGFuZSBwb2JyYW5pZSB1xbx5dGtvd25pa8OzdzonLCBkYXRhLmxlbmd0aClcbiAgICAgICAgY29uc29sZS5sb2coJ/CfkaUgUHJ6eWvFgmFkIHXFvHl0a293bmlrw7N3OicsIGRhdGEuc2xpY2UoMCwgMykubWFwKHUgPT4gKHtcbiAgICAgICAgICBpZDogdS5pZCxcbiAgICAgICAgICBuYW1lOiB1LmZ1bGxfbmFtZSxcbiAgICAgICAgICByb2xlOiB1LnJvbGVcbiAgICAgICAgfSkpKVxuICAgICAgICByZXR1cm4gZGF0YSBhcyBVc2VyW11cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfwn5GlIFVXQUdBOiBCcmFrIGRhbnljaCB1xbx5dGtvd25pa8OzdycpXG4gICAgICAgIFxuICAgICAgICAvLyBGYWxsYmFjayAtIHByenluYWptbmllaiBha3R1YWxueSB1xbx5dGtvd25pa1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHVzZXJQcm9maWxlID0gYXdhaXQgdGhpcy5nZXRVc2VyUHJvZmlsZSh1c2VyLmlkKVxuICAgICAgICAgIGNvbnNvbGUubG9nKCfwn5GkIEZhbGxiYWNrOiB1xbx5d2FtIHByb2ZpbHUgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2E6JywgdXNlclByb2ZpbGUuZnVsbF9uYW1lKVxuICAgICAgICAgIHJldHVybiBbdXNlclByb2ZpbGVdXG4gICAgICAgIH0gY2F0Y2ggKHByb2ZpbGVFcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBOaWUgbW/FvG5hIHBvYnJhxIcgcHJvZmlsdSB1xbx5dGtvd25pa2E6JywgcHJvZmlsZUVycm9yKVxuICAgICAgICAgIHJldHVybiBbXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldEFsbFVzZXJzRm9yRGlzcGxheSBDUklUSUNBTCBFUlJPUjonLCBlcnJvcilcbiAgICAgIFxuICAgICAgLy8gS3J5dHljem55IGZhbGxiYWNrIC0gc3Byw7NidWogcHJ6eW5ham1uaWVqIHBvYnJhxIcgYWt0dWFsbmVnbyB1xbx5dGtvd25pa2FcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgZGF0YTogeyB1c2VyIH0gfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguZ2V0VXNlcigpXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgY29uc3QgdXNlclByb2ZpbGUgPSBhd2FpdCB0aGlzLmdldFVzZXJQcm9maWxlKHVzZXIuaWQpXG4gICAgICAgICAgY29uc29sZS5sb2coJ/CfkaQgS3J5dHljem55IGZhbGxiYWNrOiB6d3JhY2FtIGFrdHVhbG5lZ28gdcW8eXRrb3duaWthOicsIHVzZXJQcm9maWxlLmZ1bGxfbmFtZSlcbiAgICAgICAgICByZXR1cm4gW3VzZXJQcm9maWxlXVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChjcml0aWNhbEVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBLcnl0eWN6bnkgYsWCxIVkIGZhbGxiYWNrOicsIGNyaXRpY2FsRXJyb3IpXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBbXVxuICAgIH1cbiAgfVxufVxuXG4vLyBGdW5rY2phIGRvIG9rcmXFm2xhbmlhIGtvbG9ydSBzdGF0dXN1IFwiY2FudmFzXCIgbmEgcG9kc3Rhd2llIGN6YXN1XG5leHBvcnQgY29uc3QgZ2V0Q2FudmFzU3RhdHVzQ29sb3IgPSAoc3RhdHVzQ2hhbmdlZEF0Pzogc3RyaW5nKTogeyBjb2xvcjogc3RyaW5nLCBkZXNjcmlwdGlvbjogc3RyaW5nLCBwcmlvcml0eTogJ2xvdycgfCAnbWVkaXVtJyB8ICdoaWdoJyB9ID0+IHtcbiAgaWYgKCFzdGF0dXNDaGFuZ2VkQXQpIHtcbiAgICByZXR1cm4geyBjb2xvcjogJ2JnLWJsdWUtNTAwLzIwIHRleHQtYmx1ZS00MDAgYm9yZGVyLWJsdWUtNTAwLzMwJywgZGVzY3JpcHRpb246ICdOb3d5JywgcHJpb3JpdHk6ICdsb3cnIH1cbiAgfVxuXG4gIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgY29uc3Qgc3RhdHVzRGF0ZSA9IG5ldyBEYXRlKHN0YXR1c0NoYW5nZWRBdClcbiAgY29uc3QgZGF5c0RpZmYgPSBNYXRoLmZsb29yKChub3cuZ2V0VGltZSgpIC0gc3RhdHVzRGF0ZS5nZXRUaW1lKCkpIC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKVxuXG4gIGlmIChkYXlzRGlmZiA8PSAyKSB7XG4gICAgLy8gMC0yIGRuaSAtIHppZWxvbnkgKMWbd2llxbx5KVxuICAgIHJldHVybiB7IFxuICAgICAgY29sb3I6ICdiZy1ncmVlbi01MDAvMjAgdGV4dC1ncmVlbi00MDAgYm9yZGVyLWdyZWVuLTUwMC8zMCcsIFxuICAgICAgZGVzY3JpcHRpb246IGDFmndpZcW8eSAoJHtkYXlzRGlmZn1kKWAsXG4gICAgICBwcmlvcml0eTogJ2xvdydcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGF5c0RpZmYgPD0gNCkge1xuICAgIC8vIDItNCBkbmkgLSDFvMOzxYJ0eSAodXdhZ2EpXG4gICAgcmV0dXJuIHsgXG4gICAgICBjb2xvcjogJ2JnLXllbGxvdy01MDAvMjAgdGV4dC15ZWxsb3ctNDAwIGJvcmRlci15ZWxsb3ctNTAwLzMwJywgXG4gICAgICBkZXNjcmlwdGlvbjogYFd5bWFnYSB1d2FnaSAoJHtkYXlzRGlmZn1kKWAsXG4gICAgICBwcmlvcml0eTogJ21lZGl1bSdcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gNSsgZG5pIC0gY3plcndvbnkgKHBpbG55KVxuICAgIHJldHVybiB7IFxuICAgICAgY29sb3I6ICdiZy1yZWQtNTAwLzIwIHRleHQtcmVkLTQwMCBib3JkZXItcmVkLTUwMC8zMCcsIFxuICAgICAgZGVzY3JpcHRpb246IGBQaWxueSAoJHtkYXlzRGlmZn1kKWAsXG4gICAgICBwcmlvcml0eTogJ2hpZ2gnXG4gICAgfVxuICB9XG59XG5cbi8vIEZ1bmtjamEgZG8gcG9iaWVyYW5pYSBrbGllbnTDs3cgeiBvem5hY3plbmlhbWkgcHJpb3J5dGV0w7N3XG5leHBvcnQgY29uc3QgZ2V0Q2FudmFzQ2xpZW50c1dpdGhQcmlvcml0eSA9IGFzeW5jICh1c2VyOiBVc2VyKSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgY2xpZW50cyA9IGF3YWl0IGNsaWVudHNBcGkuZ2V0Q2xpZW50cyh1c2VyKVxuICAgIGNvbnN0IGNhbnZhc0NsaWVudHMgPSBjbGllbnRzLmZpbHRlcihjbGllbnQgPT4gY2xpZW50LnN0YXR1cyA9PT0gJ2NhbnZhcycpXG4gICAgXG4gICAgY29uc3QgcHJpb3JpdHlTdGF0cyA9IHtcbiAgICAgIGhpZ2g6IDAsXG4gICAgICBtZWRpdW06IDAsXG4gICAgICBsb3c6IDAsXG4gICAgICB0b3RhbDogY2FudmFzQ2xpZW50cy5sZW5ndGhcbiAgICB9XG5cbiAgICBjYW52YXNDbGllbnRzLmZvckVhY2goY2xpZW50ID0+IHtcbiAgICAgIGNvbnN0IHsgcHJpb3JpdHkgfSA9IGdldENhbnZhc1N0YXR1c0NvbG9yKGNsaWVudC5zdGF0dXNfY2hhbmdlZF9hdClcbiAgICAgIHByaW9yaXR5U3RhdHNbcHJpb3JpdHldKytcbiAgICB9KVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudHM6IGNhbnZhc0NsaWVudHMsXG4gICAgICBzdGF0czogcHJpb3JpdHlTdGF0c1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdCxYLEhWQgcG9iaWVyYW5pYSBrbGllbnTDs3cgY2FudmFzOicsIGVycm9yKVxuICAgIHJldHVybiB7IGNsaWVudHM6IFtdLCBzdGF0czogeyBoaWdoOiAwLCBtZWRpdW06IDAsIGxvdzogMCwgdG90YWw6IDAgfSB9XG4gIH1cbn0gXG5cbi8vIPCfmoAgTk9XRSBBUEkgUEVSRk9STUFOQ0UgLSBNYXRlcmlhbGl6b3dhbmUgV2lkb2tpIGkgT3B0eW1hbGl6YWNqZVxuLy8gRG9kYW5lIHpnb2RuaWUgeiBJTlNUUlVLQ0pFX1BFUkZPUk1BTkNFX09QVElNSVpBVElPTlMubWRcblxuZXhwb3J0IGNvbnN0IGRhc2hib2FyZEFwaSA9IHtcbiAgLy8gWmFzdMSZcHVqZSB3b2xuZSB6YXB5dGFuaWEgZGFzaGJvYXJkIC0gdGVyYXogfjEwbXMgemFtaWFzdCB+MjAwbXNcbiAgYXN5bmMgZ2V0RGFzaGJvYXJkTWV0cmljcygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ+KaoSBQb2JpZXJhbmllIHN6eWJraWNoIG1ldHJ5ayBkYXNoYm9hcmQgeiBtYXRlcmlhbGl6b3dhbmVnbyB3aWRva3UuLi4nKVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2dldF9kYXNoYm9hcmRfbWV0cmljcycpO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBwb2JpZXJhbmlhIG1ldHJ5ayBkYXNoYm9hcmQ6JywgZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKCfinIUgRGFzaGJvYXJkIG1ldHJpY3MgcG9icmFuZSB3IHRyeWJpZSBleHByZXNzOicsIGRhdGE/Lmxlbmd0aCB8fCAwLCAnbWV0cnlrJylcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXREYXNoYm9hcmRNZXRyaWNzIGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9LFxuXG4gIC8vIFNwcmF3ZHplbmllIGN6eSBtYXRlcmlhbGl6b3dhbmUgd2lkb2tpIHPEhSDFm3dpZcW8ZVxuICBhc3luYyBjaGVja1ZpZXdGcmVzaG5lc3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdtdl9kYXNoYm9hcmRfc3VtbWFyeScpXG4gICAgICAgIC5zZWxlY3QoJ2xhc3RfdXBkYXRlZCcpXG4gICAgICAgIC5zaW5nbGUoKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgICBcbiAgICAgIGNvbnN0IGxhc3RVcGRhdGUgPSBuZXcgRGF0ZShkYXRhLmxhc3RfdXBkYXRlZClcbiAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKClcbiAgICAgIGNvbnN0IG1pbnV0ZXNTaW5jZVVwZGF0ZSA9IE1hdGguZmxvb3IoKG5vdy5nZXRUaW1lKCkgLSBsYXN0VXBkYXRlLmdldFRpbWUoKSkgLyAoMTAwMCAqIDYwKSlcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgbGFzdFVwZGF0ZTogZGF0YS5sYXN0X3VwZGF0ZWQsXG4gICAgICAgIG1pbnV0ZXNTaW5jZVVwZGF0ZSxcbiAgICAgICAgaXNTdGFsZTogbWludXRlc1NpbmNlVXBkYXRlID4gMzAgLy8gVXpuYWogemEgbmllYWt0dWFsbmUgcG8gMzAgbWludXRhY2hcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIELFgsSFZCBzcHJhd2R6YW5pYSDFm3dpZcW8b8WbY2kgd2lkb2vDs3c6JywgZXJyb3IpXG4gICAgICByZXR1cm4geyBsYXN0VXBkYXRlOiBudWxsLCBtaW51dGVzU2luY2VVcGRhdGU6IEluZmluaXR5LCBpc1N0YWxlOiB0cnVlIH1cbiAgICB9XG4gIH1cbn1cblxuLy8g8J+agCBOT1dFIEZVTktDSkUgUEVSRk9STUFOQ0UgZG9kYW5lIGRvIGlzdG5pZWrEhWNlZ28gcmVwb3J0c0FwaVxuXG5leHBvcnQgY29uc3QgdGVhbUFwaSA9IHtcbiAgLy8gU3p5YmtpIHByemVnbMSFZCBha3R5d25vxZtjaSB6ZXNwb8WCdVxuICBhc3luYyBnZXRUZWFtQWN0aXZpdHlPdmVydmlldygpIHtcbiAgICB0cnkge1xuICAgICAgY29uc29sZS5sb2coJ/CfkaUgUG9iaWVyYW5pZSBwcnplZ2zEhWR1IGFrdHl3bm/Fm2NpIHplc3BvxYJ1ICh6b3B0eW1hbGl6b3dhbmUpLi4uJylcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ212X2FjdGl2aXR5X3N1bW1hcnknKVxuICAgICAgICAuc2VsZWN0KCcqJylcbiAgICAgICAgLmluKCdyb2xlJywgWydwcmFjb3duaWsnLCAnbWFuYWdlcicsICdwcm9qZWN0X21hbmFnZXInLCAnanVuaW9yX21hbmFnZXInLCAnc3plZiddKVxuICAgICAgICAub3JkZXIoJ2FjdGl2aXRpZXNfMjRoJywgeyBhc2NlbmRpbmc6IGZhbHNlIH0pXG4gICAgICBcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCfinYwgQsWCxIVkIHBvYmllcmFuaWEgYWt0eXdub8WbY2kgemVzcG/FgnU6JywgZXJyb3IpXG4gICAgICAgIHRocm93IGVycm9yXG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgQWt0eXdub8WbxIcgemVzcG/FgnUgcG9icmFuYTogJHtkYXRhPy5sZW5ndGggfHwgMH0gdcW8eXRrb3duaWvDs3dgKVxuICAgICAgcmV0dXJuIGRhdGFcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcign4p2MIGdldFRlYW1BY3Rpdml0eU92ZXJ2aWV3IGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9LFxuXG4gIC8vIFNwcmF3ZHplbmllIGFrdHl3bnljaCB1xbx5dGtvd25pa8OzdyB3IGN6YXNpZSByemVjenl3aXN0eW1cbiAgYXN5bmMgZ2V0QWN0aXZlVXNlcnNOb3coKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdtdl9hY3Rpdml0eV9zdW1tYXJ5JylcbiAgICAgICAgLnNlbGVjdCgndXNlcl9pZCwgZnVsbF9uYW1lLCBhY3Rpdml0eV9zdGF0dXMsIGxhc3RfYWN0aXZpdHknKVxuICAgICAgICAuZXEoJ2FjdGl2aXR5X3N0YXR1cycsICdhY3RpdmUnKVxuICAgICAgICAub3JkZXIoJ2xhc3RfYWN0aXZpdHknLCB7IGFzY2VuZGluZzogZmFsc2UgfSlcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgICAgXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgZ2V0QWN0aXZlVXNlcnNOb3cgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gU3RhdHlzdHlraSBwcm9kdWt0eXdub8WbY2kgemVzcG/FgnVcbiAgYXN5bmMgZ2V0UHJvZHVjdGl2aXR5U3RhdHMoKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAgIC5mcm9tKCdtdl9hY3Rpdml0eV9zdW1tYXJ5JylcbiAgICAgICAgLnNlbGVjdCgnYWN0aXZpdGllc18yNGgsIGFjdGl2aXRpZXNfN2QsIHBob25lX2NsaWNrcywgc3RhdHVzX2NoYW5nZXMnKVxuICAgICAgICAuaW4oJ3JvbGUnLCBbJ3ByYWNvd25paycsICdtYW5hZ2VyJywgJ3Byb2plY3RfbWFuYWdlcicsICdqdW5pb3JfbWFuYWdlcicsICdzemVmJ10pXG4gICAgICBcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgLy8gT2JsaWN6IMWbcmVkbmllXG4gICAgICBjb25zdCB0b3RhbFVzZXJzID0gZGF0YS5sZW5ndGhcbiAgICAgIGNvbnN0IGF2Z0RhaWx5ID0gZGF0YS5yZWR1Y2UoKHN1bSwgdXNlcikgPT4gc3VtICsgdXNlci5hY3Rpdml0aWVzXzI0aCwgMCkgLyB0b3RhbFVzZXJzXG4gICAgICBjb25zdCBhdmdXZWVrbHkgPSBkYXRhLnJlZHVjZSgoc3VtLCB1c2VyKSA9PiBzdW0gKyB1c2VyLmFjdGl2aXRpZXNfN2QsIDApIC8gdG90YWxVc2Vyc1xuICAgICAgXG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b3RhbFVzZXJzLFxuICAgICAgICBhdmdEYWlseUFjdGl2aXRpZXM6IE1hdGgucm91bmQoYXZnRGFpbHkpLFxuICAgICAgICBhdmdXZWVrbHlBY3Rpdml0aWVzOiBNYXRoLnJvdW5kKGF2Z1dlZWtseSksXG4gICAgICAgIHRvdGFsRGFpbHlBY3Rpdml0aWVzOiBkYXRhLnJlZHVjZSgoc3VtLCB1c2VyKSA9PiBzdW0gKyB1c2VyLmFjdGl2aXRpZXNfMjRoLCAwKSxcbiAgICAgICAgdG90YWxXZWVrbHlBY3Rpdml0aWVzOiBkYXRhLnJlZHVjZSgoc3VtLCB1c2VyKSA9PiBzdW0gKyB1c2VyLmFjdGl2aXRpZXNfN2QsIDApXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRQcm9kdWN0aXZpdHlTdGF0cyBmYWlsZWQ6JywgZXJyb3IpXG4gICAgICB0aHJvdyBlcnJvclxuICAgIH1cbiAgfVxufVxuXG4vLyDwn5SnIFBFUkZPUk1BTkNFIE1PTklUT1JJTkcgQVBJXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2VBcGkgPSB7XG4gIC8vIFNwcmF3ZHplbmllIG1ldHJ5ayB3eWRham5vxZtjaSBzeXN0ZW11XG4gIGFzeW5jIGdldFN5c3RlbU1ldHJpY3MoKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFBvYmllcnogc3RhdHlzdHlraSB0YWJlbCBiZXpwb8WbcmVkbmlvIHphbWlhc3QgdcW8eXdhxIcgZnVua2NqaSB6IGLFgsSZZGVtIHRpbWVzdGFtcFxuICAgICAgY29uc3QgdGFibGVTdGF0cyA9IFtdXG4gICAgICBcbiAgICAgIC8vIFN0YXR5c3R5a2kgYWN0aXZpdHlfbG9nc1xuICAgICAgY29uc3QgeyBjb3VudDogbG9nc0NvdW50LCBlcnJvcjogbG9nc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgnYWN0aXZpdHlfbG9ncycpXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICBcbiAgICAgIGlmICghbG9nc0Vycm9yKSB7XG4gICAgICAgIHRhYmxlU3RhdHMucHVzaCh7XG4gICAgICAgICAgdGFibGVfbmFtZTogJ2FjdGl2aXR5X2xvZ3MnLFxuICAgICAgICAgIHJlY29yZF9jb3VudDogbG9nc0NvdW50IHx8IDAsXG4gICAgICAgICAgdGFibGVfc2l6ZTogJ04vQScsXG4gICAgICAgICAgbGFzdF91cGRhdGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU3RhdHlzdHlraSBhY3Rpdml0eV9sb2dzX2FyY2hpdmVcbiAgICAgIGNvbnN0IHsgY291bnQ6IGFyY2hpdmVDb3VudCwgZXJyb3I6IGFyY2hpdmVFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2FjdGl2aXR5X2xvZ3NfYXJjaGl2ZScpXG4gICAgICAgIC5zZWxlY3QoJyonLCB7IGNvdW50OiAnZXhhY3QnLCBoZWFkOiB0cnVlIH0pXG4gICAgICBcbiAgICAgIGlmICghYXJjaGl2ZUVycm9yKSB7XG4gICAgICAgIHRhYmxlU3RhdHMucHVzaCh7XG4gICAgICAgICAgdGFibGVfbmFtZTogJ2FjdGl2aXR5X2xvZ3NfYXJjaGl2ZScsXG4gICAgICAgICAgcmVjb3JkX2NvdW50OiBhcmNoaXZlQ291bnQgfHwgMCxcbiAgICAgICAgICB0YWJsZV9zaXplOiAnTi9BJyxcbiAgICAgICAgICBsYXN0X3VwZGF0ZWQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTdGF0eXN0eWtpIGNsaWVudHNcbiAgICAgIGNvbnN0IHsgY291bnQ6IGNsaWVudHNDb3VudCwgZXJyb3I6IGNsaWVudHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NsaWVudHMnKVxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgXG4gICAgICBpZiAoIWNsaWVudHNFcnJvcikge1xuICAgICAgICB0YWJsZVN0YXRzLnB1c2goe1xuICAgICAgICAgIHRhYmxlX25hbWU6ICdjbGllbnRzJyxcbiAgICAgICAgICByZWNvcmRfY291bnQ6IGNsaWVudHNDb3VudCB8fCAwLFxuICAgICAgICAgIHRhYmxlX3NpemU6ICdOL0EnLFxuICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFN0YXR5c3R5a2kgdXNlcnNcbiAgICAgIGNvbnN0IHsgY291bnQ6IHVzZXJzQ291bnQsIGVycm9yOiB1c2Vyc0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbSgndXNlcnMnKVxuICAgICAgICAuc2VsZWN0KCcqJywgeyBjb3VudDogJ2V4YWN0JywgaGVhZDogdHJ1ZSB9KVxuICAgICAgXG4gICAgICBpZiAoIXVzZXJzRXJyb3IpIHtcbiAgICAgICAgdGFibGVTdGF0cy5wdXNoKHtcbiAgICAgICAgICB0YWJsZV9uYW1lOiAndXNlcnMnLFxuICAgICAgICAgIHJlY29yZF9jb3VudDogdXNlcnNDb3VudCB8fCAwLFxuICAgICAgICAgIHRhYmxlX3NpemU6ICdOL0EnLFxuICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiB0YWJsZVN0YXRzXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBnZXRTeXN0ZW1NZXRyaWNzIGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9LFxuXG4gIC8vIE1hbnVhbG5lIG9kxZt3aWXFvGVuaWUgbWF0ZXJpYWxpem93YW55Y2ggd2lkb2vDs3dcbiAgYXN5bmMgcmVmcmVzaE1hdGVyaWFsaXplZFZpZXdzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+UhCBNYW51YWxuaWUgb2TFm3dpZcW8YW0gbWF0ZXJpYWxpem93YW5lIHdpZG9raS4uLicpXG4gICAgICBcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLnJwYygncmVmcmVzaF9hbGxfbWF0ZXJpYWxpemVkX3ZpZXdzJylcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvclxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygn4pyFIFdpZG9raSBvZMWbd2llxbxvbmU6JywgZGF0YSlcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCByZWZyZXNoTWF0ZXJpYWxpemVkVmlld3MgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gQXJjaGl3aXphY2phIHN0YXJ5Y2ggbG9nw7N3XG4gIGFzeW5jIGFyY2hpdmVPbGRMb2dzKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+TpiBVcnVjaGFtaWFtIGFyY2hpd2l6YWNqxJkgc3RhcnljaCBsb2fDs3cuLi4nKVxuICAgICAgXG4gICAgICBjb25zdCB7IGRhdGEsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5ycGMoJ2FyY2hpdmVfb2xkX2FjdGl2aXR5X2xvZ3MnKVxuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHRocm93IGVycm9yXG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGDinIUgWmFyY2hpd2l6b3dhbm8gJHtkYXRhfSBzdGFyeWNoIGxvZ8Ozd2ApXG4gICAgICByZXR1cm4gZGF0YVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCfinYwgYXJjaGl2ZU9sZExvZ3MgZmFpbGVkOicsIGVycm9yKVxuICAgICAgdGhyb3cgZXJyb3JcbiAgICB9XG4gIH0sXG5cbiAgLy8gT3B0eW1hbGl6YWNqYSBiYXp5IGRhbnljaFxuICBhc3luYyBvcHRpbWl6ZURhdGFiYXNlKCkge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygn8J+agCBVcnVjaGFtaWFtIG9wdHltYWxpemFjasSZIGJhenkgZGFueWNoLi4uJylcbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UucnBjKCdvcHRpbWl6ZV9kYXRhYmFzZV9wZXJmb3JtYW5jZScpXG4gICAgICBcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coJ+KchSBCYXphIGRhbnljaCB6b3B0eW1hbGl6b3dhbmE6JywgZGF0YSlcbiAgICAgIHJldHVybiBkYXRhXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBvcHRpbWl6ZURhdGFiYXNlIGZhaWxlZDonLCBlcnJvcilcbiAgICAgIHRocm93IGVycm9yXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRW1wbG95ZWVBY3Rpdml0eVN0YXRzIHtcbiAgaWQ6IHN0cmluZ1xuICB1c2VyX2lkOiBzdHJpbmdcbiAgcGVyaW9kX3R5cGU6IHN0cmluZ1xuICBwZXJpb2Rfc3RhcnQ6IHN0cmluZ1xuICBwZXJpb2RfZW5kOiBzdHJpbmdcbiAgdG90YWxfd29ya19taW51dGVzOiBudW1iZXJcbiAgYXZlcmFnZV9kYWlseV9taW51dGVzOiBudW1iZXJcbiAgZXhwZWN0ZWRfd29ya19taW51dGVzOiBudW1iZXJcbiAgZWZmaWNpZW5jeV9wZXJjZW50YWdlOiBudW1iZXJcbiAgdG90YWxfYWN0aXZpdGllczogbnVtYmVyXG4gIGF2ZXJhZ2VfZGFpbHlfYWN0aXZpdGllczogbnVtYmVyXG4gIGRheXNfd29ya2VkOiBudW1iZXJcbiAgZGF5c19hYnNlbnQ6IG51bWJlclxuICB1c2VyPzoge1xuICAgIGlkOiBzdHJpbmdcbiAgICBmdWxsX25hbWU6IHN0cmluZ1xuICAgIGVtYWlsOiBzdHJpbmdcbiAgICBhdmF0YXJfdXJsPzogc3RyaW5nXG4gICAgcm9sZTogc3RyaW5nXG4gIH1cbn0gIl0sIm5hbWVzIjpbImNyZWF0ZUNsaWVudCIsInN1cGFiYXNlVXJsIiwicHJvY2VzcyIsImVudiIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCIsInN1cGFiYXNlQW5vbktleSIsIk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZIiwic3VwYWJhc2UiLCJnZXRBdmF0YXJVcmwiLCJhdmF0YXJVcmwiLCJzdGFydHNXaXRoIiwiaW5jbHVkZXMiLCJkYXRhIiwic3RvcmFnZSIsImZyb20iLCJnZXRQdWJsaWNVcmwiLCJwdWJsaWNVcmwiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIiwic3RvcmFnZUFwaSIsInVwbG9hZENTViIsImZpbGUiLCJ1c2VyIiwiZmlsZU5hbWUiLCJpZCIsIkRhdGUiLCJub3ciLCJuYW1lIiwiZmlsZVBhdGgiLCJsb2ciLCJ1cGxvYWQiLCJjYWNoZUNvbnRyb2wiLCJ1cHNlcnQiLCJFcnJvciIsIm1lc3NhZ2UiLCJwYXRoIiwiZGVsZXRlRmlsZSIsInJlbW92ZSIsImNzdkltcG9ydEFwaSIsInBhcnNlQ1NWIiwiY3N2VGV4dCIsImxpbmVzIiwic3BsaXQiLCJmaWx0ZXIiLCJsaW5lIiwidHJpbSIsImxlbmd0aCIsInBhcnNlQ1NWTGluZSIsInJlc3VsdCIsImN1cnJlbnQiLCJpblF1b3RlcyIsImkiLCJjaGFyIiwicHVzaCIsIm1hcCIsImNlbGwiLCJyZXBsYWNlIiwiaGVhZGVycyIsInJvd3MiLCJzbGljZSIsIm1hcEhlYWRlcnMiLCJtYXBwaW5nIiwiZmllbGRNYXBwaW5ncyIsImZpZWxkcyIsImRiRmllbGQiLCJmaWVsZE1hcHBpbmciLCJoZWFkZXIiLCJ0b0xvd2VyQ2FzZSIsInNvbWUiLCJmaWVsZCIsInZhbGlkYXRlUmVxdWlyZWRGaWVsZHMiLCJyZXF1aXJlZEZpZWxkcyIsIm1pc3NpbmdGaWVsZHMiLCJqb2luIiwiYW5hbHl6ZUNvbHVtbnMiLCJhbGxQb3NzaWJsZUZpZWxkcyIsImRpc3BsYXlOYW1lIiwicmVxdWlyZWQiLCJmb3VuZCIsIm1pc3NpbmciLCJvcHRpb25hbCIsImZvckVhY2giLCJyb3dUb0NsaWVudCIsInJvdyIsImdldEZpZWxkIiwiZGVmYXVsdFZhbHVlIiwiaW5kZXgiLCJ1bmRlZmluZWQiLCJ2YWx1ZSIsInJhd1N0YXR1cyIsInZhbGlkU3RhdHVzZXMiLCJzdGF0dXMiLCJmaXJzdF9uYW1lIiwibGFzdF9uYW1lIiwiY29tcGFueV9uYW1lIiwibmlwIiwicGhvbmUiLCJlbWFpbCIsIndlYnNpdGUiLCJub3RlcyIsImVkaXRlZF9ieSIsImVkaXRlZF9hdCIsInRvSVNPU3RyaW5nIiwib3duZXJfaWQiLCJsYXN0X2VkaXRlZF9ieV9uYW1lIiwiZnVsbF9uYW1lIiwibGFzdF9lZGl0ZWRfYnlfYXZhdGFyX3VybCIsImF2YXRhcl91cmwiLCJpbXBvcnRDU1YiLCJvblByb2dyZXNzIiwidG90YWwiLCJ0ZXh0IiwiY29sdW1uQW5hbHlzaXMiLCJyZXN1bHRzIiwic3VjY2VzcyIsImVycm9ycyIsImV2ZXJ5IiwiY2xpZW50RGF0YSIsImNsaWVudHNBcGkiLCJwcm9ncmVzcyIsIk1hdGgiLCJmbG9vciIsInBlcm1pc3Npb25zQXBpIiwiY2FuRWRpdCIsImNsaWVudCIsImNhbkRlbGV0ZSIsImNhblZpZXciLCJyb2xlIiwiY2FuQXNzaWduQ2xpZW50cyIsImNhbkNoYW5nZVJvbGVzIiwiY2FuQWNjZXNzQWR2YW5jZWRSZXBvcnRzIiwidGVzdEJhc2ljUXVlcnkiLCJzZWxlY3QiLCJsaW1pdCIsImdldENsaWVudHMiLCJmaWx0ZXJzIiwicXVlcnkiLCJvcmRlciIsImFzY2VuZGluZyIsImRhdGUiLCJndGUiLCJlcSIsImVtcGxveWVlIiwiY2xpZW50cyIsInRyYW5zZm9ybWVkQ2xpZW50cyIsIm93bmVyIiwiQXJyYXkiLCJpc0FycmF5IiwiY2xpZW50c1dpdGhPd25lcnMiLCJjbGllbnRzV2l0aG91dE93bmVycyIsIm93bmVyX25hbWUiLCJvd25lcl9lbWFpbCIsInNhZmVTdGF0dXMiLCJjbGllbnRUb0NyZWF0ZSIsInN0YXR1c19jaGFuZ2VkX2F0IiwicmVtaW5kZXIiLCJpbnNlcnQiLCJzaW5nbGUiLCJ1cGRhdGVDbGllbnQiLCJ1cGRhdGVzIiwiY3VycmVudENsaWVudCIsImZldGNoRXJyb3IiLCJ1cGRhdGVkRGF0YSIsInN0YXR1c0NoYW5nZWQiLCJmaW5hbERhdGEiLCJ1cGRhdGVkX2F0IiwidXBkYXRlIiwiY29kZSIsImRldGFpbHMiLCJoaW50IiwidXBkYXRlTGFzdFBob25lQ2xpY2siLCJjbGllbnRJZCIsImxhc3RfcGhvbmVfY2xpY2siLCJhY3Rpdml0eUxvZ3NBcGkiLCJjcmVhdGVMb2ciLCJjbGllbnRfaWQiLCJjaGFuZ2VkX2J5IiwiY2hhbmdlX3R5cGUiLCJmaWVsZF9jaGFuZ2VkIiwib2xkX3ZhbHVlIiwibmV3X3ZhbHVlIiwibG9nRXJyb3IiLCJkZWxldGVDbGllbnQiLCJkZWxldGUiLCJhc3NpZ25DbGllbnQiLCJuZXdPd25lcklkIiwiY2xlYW51cEludmFsaWRPd25lcklkcyIsImFsbENsaWVudHMiLCJjbGllbnRzRXJyb3IiLCJub3QiLCJjbGVhbmVkIiwib3duZXJJZHMiLCJTZXQiLCJjIiwiZXhpc3RpbmdVc2VycyIsInVzZXJzRXJyb3IiLCJpbiIsImV4aXN0aW5nVXNlcklkcyIsInUiLCJjbGllbnRzVG9DbGVhbiIsImNsZWFudXBSZXN1bHRzIiwiZXJyIiwiU3RyaW5nIiwiY2xlYW5lZENsaWVudHMiLCJzdWJzY3JpYmVUb0NoYW5nZXMiLCJjYWxsYmFjayIsImNoYW5uZWwiLCJvbiIsImV2ZW50Iiwic2NoZW1hIiwidGFibGUiLCJzdWJzY3JpYmUiLCJzdWJzY3JpYmVUb093bmVyQ2hhbmdlcyIsImNoYW5uZWxOYW1lIiwicGF5bG9hZCIsImV2ZW50VHlwZSIsImNoYW5nZXMiLCJuZXciLCJjYWxsYmFja0Vycm9yIiwic2V0VGltZW91dCIsInN0YXRlIiwidW5zdWJzY3JpYmUiLCJnZXRDbGllbnRzV2l0aFJlbWluZGVycyIsInRhcmdldERhdGUiLCJ0b2RheSIsImNsaWVudHNXaXRoVG9kYXlSZW1pbmRlcnMiLCJlbmFibGVkIiwidGltZSIsIm5vdGUiLCJzb3J0ZWRDbGllbnRzIiwic29ydCIsImEiLCJiIiwidGltZUEiLCJ0aW1lQiIsImxvY2FsZUNvbXBhcmUiLCJnZXREYWlseVNjaGVkdWxlV2l0aENsaWVudHMiLCJjbGllbnRzV2l0aFJlbWluZGVycyIsInRpbWVTbG90cyIsInR5cGUiLCJjb2xvciIsInN0YXJ0VGltZSIsImVuZFRpbWUiLCJzdGF0dXNlcyIsInNsb3RzV2l0aENsaWVudHMiLCJzbG90Iiwic2xvdENsaWVudHMiLCJyZW1pbmRlclRpbWUiLCJob3VycyIsIm1pbnV0ZXMiLCJOdW1iZXIiLCJyZW1pbmRlck1pbnV0ZXMiLCJzdGFydEhvdXJzIiwic3RhcnRNaW5zIiwiZW5kSG91cnMiLCJlbmRNaW5zIiwic3RhcnRNaW51dGVzIiwiZW5kTWludXRlcyIsInRpbWVJblNsb3QiLCJzdGF0dXNNYXRjaGVzIiwicmVkdWNlIiwic3VtIiwiZ2V0TG9ncyIsImdldENsaWVudEhpc3RvcnkiLCJhdXRoIiwiZ2V0VXNlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VySWRzIiwiQm9vbGVhbiIsInVzZXJzIiwidXNlcnNNYXAiLCJhY2MiLCJ0aW1lc3RhbXAiLCJlZGl0b3JfbmFtZSIsImVkaXRvcl9yb2xlIiwiZWRpdG9yX2F2YXRhciIsInRlc3RBY3Rpdml0eUxvZ3NBY2Nlc3MiLCJ1c2VyUHJvZmlsZSIsInVzZXJFcnJvciIsImNvdW50IiwicmVwb3J0c0FwaSIsImdldEVtcGxveWVlU3RhdHMiLCJhbGxFbXBsb3llZXMiLCJlIiwiZW1wbG95ZWVJZHMiLCJlbXAiLCJleGlzdGluZ1N0YXRzIiwic3RhdHNFcnJvciIsInRvZGF5Q2xpZW50cyIsImx0IiwieWVzdGVyZGF5Iiwic2V0RGF0ZSIsImdldERhdGUiLCJ5ZXN0ZXJkYXlTdHIiLCJ5ZXN0ZXJkYXlDbGllbnRzIiwieWVzdGVyZGF5RXJyb3IiLCJhbGxPd25lZENsaWVudHMiLCJvd25lZEVycm9yIiwidG9kYXlTdGF0cyIsInVzZXJJZCIsImNhbnZhcyIsImFudHlzYWxlIiwic2FsZSIsIm90aGVyIiwieWVzdGVyZGF5U3RhdHMiLCJvd25lZENsaWVudHNTdGF0cyIsIm93bmVySWQiLCJicmFrX2tvbnRha3R1IiwibmllX3phaW50ZXJlc293YW55IiwiemRlbmVyd293YW55Iiwic3RhdHNNYXAiLCJNYXAiLCJzdGF0Iiwic2V0IiwidXNlcl9pZCIsImVuaGFuY2VkU3RhdHMiLCJiYXNpY1N0YXQiLCJnZXQiLCJkYWlseV90YXJnZXQiLCJjb21taXNzaW9uX3JhdGUiLCJtb250aGx5X2NhbnZhcyIsIm1vbnRobHlfYW50eXNhbGUiLCJtb250aGx5X3NhbGUiLCJ0b3RhbF9jb21taXNzaW9ucyIsInRvdGFsX3BlbmFsdGllcyIsImN1c3RvbV9jbGllbnRzX2NvdW50IiwiY3VzdG9tX3RvdGFsX3BheW1lbnRzIiwiY3JlYXRlZF9hdCIsInRvZGF5Rm9yVXNlciIsInllc3RlcmRheUZvclVzZXIiLCJvd25lZEZvclVzZXIiLCJ5ZXN0ZXJkYXlTaG9ydGFnZSIsIm1heCIsInBlbmFsdHkiLCJjb21taXNzaW9uIiwiZGFpbHlfYWNoaWV2ZWQiLCJ5ZXN0ZXJkYXlfc2hvcnRhZ2UiLCJzdGF0dXNfY2hhbmdlc190b2RheSIsInMiLCJnZXREYWlseVN1bW1hcnkiLCJzdGF0dXNCcmVha2Rvd24iLCJlbXBsb3llZVN0YXRzIiwidG90YWxDbGllbnRzIiwiZ2V0V2Vla2x5U3VtbWFyeSIsInN0YXJ0RGF0ZSIsImVuZERhdGUiLCJ1cGRhdGVFbXBsb3llZVN0YXRzIiwiY3VycmVudFVzZXIiLCJ1cGRhdGVFbXBsb3llZUNsaWVudFN0YXRzIiwiY2xpZW50c0NvdW50IiwidG90YWxQYXltZW50cyIsImxlZ2FjeVVwZGF0ZXMiLCJtZXRob2QxRXJyb3IiLCJpbnNlcnREYXRhIiwib25Db25mbGljdCIsImlnbm9yZUR1cGxpY2F0ZXMiLCJtZXRob2QyRXJyb3IiLCJjcmVhdGVFbXBsb3llZVN0YXRzIiwiZ2V0RGF0YWJhc2VVdGlsaXphdGlvbiIsInRvdGFsQ291bnQiLCJ0b3RhbEVycm9yIiwiaGVhZCIsIndpdGhPd25lckNvdW50Iiwid2l0aE93bmVyRXJyb3IiLCJ3aXRob3V0T3duZXJDb3VudCIsInV0aWxpemF0aW9uUGVyY2VudGFnZSIsInJvdW5kIiwid2l0aE93bmVyIiwid2l0aG91dE93bmVyIiwicmVzZXRBbGxDbGllbnRPd25lcnMiLCJiZWZvcmVDb3VudCIsImJlZm9yZUVycm9yIiwicmVzZXRDb3VudCIsImdldEVtcGxveWVlQWN0aXZpdHlTdGF0cyIsImVtcGxveWVlcyIsImFjdGl2aXR5U3RhdHMiLCJzdGF0cyIsImxhdGVzdFN0YXRzTWFwIiwiaGFzIiwic2l6ZSIsImFjdGl2aXR5U3RhdCIsImN1cnJlbnREYXRlIiwiY3VycmVudE1vbnRoIiwiZ2V0TW9udGgiLCJjdXJyZW50WWVhciIsImdldEZ1bGxZZWFyIiwibW9udGhTdGFydCIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJtb250aEVuZCIsInBlcmlvZF90eXBlIiwicGVyaW9kX3N0YXJ0IiwicGVyaW9kX2VuZCIsInRvdGFsX3dvcmtfbWludXRlcyIsImF2ZXJhZ2VfZGFpbHlfbWludXRlcyIsImV4cGVjdGVkX3dvcmtfbWludXRlcyIsImVmZmljaWVuY3lfcGVyY2VudGFnZSIsInRvdGFsX2FjdGl2aXRpZXMiLCJhdmVyYWdlX2RhaWx5X2FjdGl2aXRpZXMiLCJkYXlzX3dvcmtlZCIsImRheXNfYWJzZW50Iiwid2l0aERhdGEiLCJyIiwid2l0aG91dERhdGEiLCJnZXRTYWxlc1RyZW5kcyIsImx0ZSIsImZpbHRlcmVkRGF0YSIsImRheU5hbWVzIiwidHJlbmRzIiwiZGF5TmFtZSIsImdldERheSIsImRheSIsImdldFBob25lQ2xpY2tzU3RhdHMiLCJlbXBsb3llZXNFcnJvciIsInRvdGFsUGhvbmVDYWxscyIsInRvdGFsUGhvbmVDYWxsc1RvZGF5IiwiYWxsUGhvbmVDbGlja3MiLCJhbGxDbGlja3NFcnJvciIsInRvZGF5UGhvbmVDbGlja3MiLCJ0b2RheUNsaWNrc0Vycm9yIiwiZ2V0VGVhbVBlcmZvcm1hbmNlVHJlbmRzIiwidGVsZWZvbnkiLCJrb253ZXJzamEiLCJrbGllbmNpIiwicGhvbmVDbGlja3MiLCJwaG9uZUVycm9yIiwiY2xpZW50Q2hhbmdlcyIsImNoYW5nZXNFcnJvciIsInRyZW5kc0RhdGEiLCJzYWxlcyIsImNsaWNrIiwiY2hhbmdlIiwiZGF5RGF0YSIsImdldE15UGVyc29uYWxTdGF0cyIsInN0YXJ0T2ZNb250aCIsImVuZE9mTW9udGgiLCJwaG9uZUNhbGxzVGhpc01vbnRoIiwibXlDbGllbnRzIiwic3RhdHVzTWFwIiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJzdGF0dXNDb2xvcnMiLCJjbGllbnRTdGF0cyIsImVudHJpZXMiLCJzYWxlQ2xpZW50cyIsImNvbW1pc3Npb25QZXJTYWxlIiwiY29tbWlzc2lvblRvdGFsIiwiYWN0aXZpdGllcyIsImFjdGl2aXRpZXNFcnJvciIsImRhaWx5QWN0aXZpdGllcyIsImFjdGl2aXR5IiwiaG91ciIsImdldEhvdXJzIiwiYWRkIiwid29ya2luZ0hvdXJzVGhpc01vbnRoIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInNvcnREYXRlIiwiZ2V0VGltZSIsInRvdGFsV29ya2luZ0hvdXJzIiwidmFsdWVzIiwidG90YWxXb3JraW5nRGF5cyIsInN0YWNrIiwic2F2ZVdvcmtpbmdIb3VycyIsImRheU9mV2VlayIsIndvcmtfZGF0ZSIsImhvdXJzX3dvcmtlZCIsInN0b3JhZ2VLZXkiLCJleGlzdGluZ0RhdGEiLCJwYXJzZSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXRJdGVtIiwic3RvcmFnZUVycm9yIiwiZ2V0V29ya2luZ0hvdXJzRm9yTW9udGgiLCJ5ZWFyIiwibW9udGgiLCJzdG9yZWREYXRhIiwiaG91cnNNYXAiLCJkYXRlT2JqIiwia2V5cyIsImVudHJ5IiwiZ2V0TW9udGhseUVtcGxveWVlUGVyZm9ybWFuY2UiLCJycGMiLCJ0YXJnZXRfeWVhciIsInRhcmdldF9tb250aCIsImdldFRlYW1TdW1tYXJ5IiwiZ2V0VG9wUGVyZm9ybWVycyIsImxpbWl0X2NvdW50IiwiYXV0aEFwaSIsInNpZ25JbiIsInBhc3N3b3JkIiwic2lnbkluV2l0aFBhc3N3b3JkIiwic2lnblVwIiwiZnVsbE5hbWUiLCJvcHRpb25zIiwic2lnbk91dCIsImdldEN1cnJlbnRVc2VyIiwiZ2V0VXNlclByb2ZpbGUiLCJnZXRBbGxVc2VycyIsImdldFNlc3Npb24iLCJzZXNzaW9uIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJ1cGRhdGVVc2VyTGFuZ3VhZ2UiLCJsYW5ndWFnZSIsImdldEFsbFVzZXJzRm9yRGlzcGxheSIsInByb2ZpbGVFcnJvciIsImNyaXRpY2FsRXJyb3IiLCJnZXRDYW52YXNTdGF0dXNDb2xvciIsInN0YXR1c0NoYW5nZWRBdCIsImRlc2NyaXB0aW9uIiwicHJpb3JpdHkiLCJzdGF0dXNEYXRlIiwiZGF5c0RpZmYiLCJnZXRDYW52YXNDbGllbnRzV2l0aFByaW9yaXR5IiwiY2FudmFzQ2xpZW50cyIsInByaW9yaXR5U3RhdHMiLCJoaWdoIiwibWVkaXVtIiwibG93IiwiZGFzaGJvYXJkQXBpIiwiZ2V0RGFzaGJvYXJkTWV0cmljcyIsImNoZWNrVmlld0ZyZXNobmVzcyIsImxhc3RVcGRhdGUiLCJsYXN0X3VwZGF0ZWQiLCJtaW51dGVzU2luY2VVcGRhdGUiLCJpc1N0YWxlIiwiSW5maW5pdHkiLCJ0ZWFtQXBpIiwiZ2V0VGVhbUFjdGl2aXR5T3ZlcnZpZXciLCJnZXRBY3RpdmVVc2Vyc05vdyIsImdldFByb2R1Y3Rpdml0eVN0YXRzIiwidG90YWxVc2VycyIsImF2Z0RhaWx5IiwiYWN0aXZpdGllc18yNGgiLCJhdmdXZWVrbHkiLCJhY3Rpdml0aWVzXzdkIiwiYXZnRGFpbHlBY3Rpdml0aWVzIiwiYXZnV2Vla2x5QWN0aXZpdGllcyIsInRvdGFsRGFpbHlBY3Rpdml0aWVzIiwidG90YWxXZWVrbHlBY3Rpdml0aWVzIiwicGVyZm9ybWFuY2VBcGkiLCJnZXRTeXN0ZW1NZXRyaWNzIiwidGFibGVTdGF0cyIsImxvZ3NDb3VudCIsImxvZ3NFcnJvciIsInRhYmxlX25hbWUiLCJyZWNvcmRfY291bnQiLCJ0YWJsZV9zaXplIiwiYXJjaGl2ZUNvdW50IiwiYXJjaGl2ZUVycm9yIiwidXNlcnNDb3VudCIsInJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3cyIsImFyY2hpdmVPbGRMb2dzIiwib3B0aW1pemVEYXRhYmFzZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive":
/*!************************************************************!*\
  !*** ./node_modules/@supabase/realtime-js/dist/main/ sync ***!
  \************************************************************/
/***/ ((module) => {

function webpackEmptyContext(req) {
	var e = new Error("Cannot find module '" + req + "'");
	e.code = 'MODULE_NOT_FOUND';
	throw e;
}
webpackEmptyContext.keys = () => ([]);
webpackEmptyContext.resolve = webpackEmptyContext;
webpackEmptyContext.id = "(rsc)/./node_modules/@supabase/realtime-js/dist/main sync recursive";
module.exports = webpackEmptyContext;

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/admin/performance-check/route.ts */ \"(rsc)/./app/api/admin/performance-check/route.ts\");\n\r\n\r\n\r\n\r\n// We inject the nextConfigOutput here so that we can use them in the route\r\n// module.\r\nconst nextConfigOutput = \"standalone\"\r\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\r\n    definition: {\r\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\r\n        page: \"/api/admin/performance-check/route\",\r\n        pathname: \"/api/admin/performance-check\",\r\n        filename: \"route\",\r\n        bundlePath: \"app/api/admin/performance-check/route\"\r\n    },\r\n    resolvedPagePath: \"C:\\\\Users\\\\kkacp\\\\Desktop\\\\SpectresGroupCRM\\\\dashboard\\\\app\\\\api\\\\admin\\\\performance-check\\\\route.ts\",\r\n    nextConfigOutput,\r\n    userland: C_Users_kkacp_Desktop_SpectresGroupCRM_dashboard_app_api_admin_performance_check_route_ts__WEBPACK_IMPORTED_MODULE_3__\r\n});\r\n// Pull out the exports that we need to expose from the module. This should\r\n// be eliminated when we've moved the other routes to the new format. These\r\n// are used to hook into the route.\r\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\r\nfunction patchFetch() {\r\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\r\n        workAsyncStorage,\r\n        workUnitAsyncStorage\r\n    });\r\n}\r\n\r\n\r\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnBlcmZvcm1hbmNlLWNoZWNrJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZwZXJmb3JtYW5jZS1jaGVjayUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNra2FjcCU1Q0Rlc2t0b3AlNUNTcGVjdHJlc0dyb3VwQ1JNJTVDZGFzaGJvYXJkJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PXN0YW5kYWxvbmUmcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBK0Y7QUFDdkM7QUFDcUI7QUFDb0Q7QUFDakk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlHQUFtQjtBQUMzQztBQUNBLGNBQWMsa0VBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7QUFDOUQ7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDMEY7QUFDMUY7QUFDQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcclxuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xyXG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XHJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCJDOlxcXFxVc2Vyc1xcXFxra2FjcFxcXFxEZXNrdG9wXFxcXFNwZWN0cmVzR3JvdXBDUk1cXFxcZGFzaGJvYXJkXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxccGVyZm9ybWFuY2UtY2hlY2tcXFxccm91dGUudHNcIjtcclxuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXHJcbi8vIG1vZHVsZS5cclxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXHJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xyXG4gICAgZGVmaW5pdGlvbjoge1xyXG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXHJcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCIsXHJcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hZG1pbi9wZXJmb3JtYW5jZS1jaGVja1wiLFxyXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXHJcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3BlcmZvcm1hbmNlLWNoZWNrL3JvdXRlXCJcclxuICAgIH0sXHJcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXGtrYWNwXFxcXERlc2t0b3BcXFxcU3BlY3RyZXNHcm91cENSTVxcXFxkYXNoYm9hcmRcXFxcYXBwXFxcXGFwaVxcXFxhZG1pblxcXFxwZXJmb3JtYW5jZS1jaGVja1xcXFxyb3V0ZS50c1wiLFxyXG4gICAgbmV4dENvbmZpZ091dHB1dCxcclxuICAgIHVzZXJsYW5kXHJcbn0pO1xyXG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcclxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXHJcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXHJcbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcclxuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcclxuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XHJcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcclxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XHJcblxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@supabase","vendor-chunks/tr46","vendor-chunks/ws","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fperformance-check%2Froute&page=%2Fapi%2Fadmin%2Fperformance-check%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fperformance-check%2Froute.ts&appDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Ckkacp%5CDesktop%5CSpectresGroupCRM%5Cdashboard&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();